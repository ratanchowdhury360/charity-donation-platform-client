(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gg={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function Vj(){if(b1)return Kc;b1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:t,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Kc.Fragment=e,Kc.jsx=n,Kc.jsxs=n,Kc}var w1;function Uj(){return w1||(w1=1,gg.exports=Vj()),gg.exports}var i=Uj(),yg={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function zj(){if(_1)return rt;_1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,A={};function V($,ce,xe){this.props=$,this.context=ce,this.refs=A,this.updater=xe||D}V.prototype.isReactComponent={},V.prototype.setState=function($,ce){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ce,"setState")},V.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function B(){}B.prototype=V.prototype;function M($,ce,xe){this.props=$,this.context=ce,this.refs=A,this.updater=xe||D}var k=M.prototype=new B;k.constructor=M,L(k,V.prototype),k.isPureReactComponent=!0;var q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function R($,ce,xe,ye,Ae,Ge){return xe=Ge.ref,{$$typeof:t,type:$,key:ce,ref:xe!==void 0?xe:null,props:Ge}}function E($,ce){return R($.type,ce,void 0,void 0,void 0,$.props)}function S($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function P($){var ce={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(xe){return ce[xe]})}var C=/\/+/g;function N($,ce){return typeof $=="object"&&$!==null&&$.key!=null?P(""+$.key):ce.toString(36)}function T(){}function J($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(T,T):($.status="pending",$.then(function(ce){$.status==="pending"&&($.status="fulfilled",$.value=ce)},function(ce){$.status==="pending"&&($.status="rejected",$.reason=ce)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,ce,xe,ye,Ae){var Ge=typeof $;(Ge==="undefined"||Ge==="boolean")&&($=null);var Be=!1;if($===null)Be=!0;else switch(Ge){case"bigint":case"string":case"number":Be=!0;break;case"object":switch($.$$typeof){case t:case e:Be=!0;break;case x:return Be=$._init,H(Be($._payload),ce,xe,ye,Ae)}}if(Be)return Ae=Ae($),Be=ye===""?"."+N($,0):ye,q(Ae)?(xe="",Be!=null&&(xe=Be.replace(C,"$&/")+"/"),H(Ae,ce,xe,"",function(kn){return kn})):Ae!=null&&(S(Ae)&&(Ae=E(Ae,xe+(Ae.key==null||$&&$.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+Be)),ce.push(Ae)),1;Be=0;var Vt=ye===""?".":ye+":";if(q($))for(var gt=0;gt<$.length;gt++)ye=$[gt],Ge=Vt+N(ye,gt),Be+=H(ye,ce,xe,Ge,Ae);else if(gt=w($),typeof gt=="function")for($=gt.call($),gt=0;!(ye=$.next()).done;)ye=ye.value,Ge=Vt+N(ye,gt++),Be+=H(ye,ce,xe,Ge,Ae);else if(Ge==="object"){if(typeof $.then=="function")return H(J($),ce,xe,ye,Ae);throw ce=String($),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Be}function G($,ce,xe){if($==null)return $;var ye=[],Ae=0;return H($,ye,"","",function(Ge){return ce.call(xe,Ge,Ae++)}),ye}function X($){if($._status===-1){var ce=$._result;ce=ce(),ce.then(function(xe){($._status===0||$._status===-1)&&($._status=1,$._result=xe)},function(xe){($._status===0||$._status===-1)&&($._status=2,$._result=xe)}),$._status===-1&&($._status=0,$._result=ce)}if($._status===1)return $._result.default;throw $._result}var ie=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function be(){}return rt.Children={map:G,forEach:function($,ce,xe){G($,function(){ce.apply(this,arguments)},xe)},count:function($){var ce=0;return G($,function(){ce++}),ce},toArray:function($){return G($,function(ce){return ce})||[]},only:function($){if(!S($))throw Error("React.Children.only expected to receive a single React element child.");return $}},rt.Component=V,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=M,rt.StrictMode=s,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,rt.__COMPILER_RUNTIME={__proto__:null,c:function($){return F.H.useMemoCache($)}},rt.cache=function($){return function(){return $.apply(null,arguments)}},rt.cloneElement=function($,ce,xe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ye=L({},$.props),Ae=$.key,Ge=void 0;if(ce!=null)for(Be in ce.ref!==void 0&&(Ge=void 0),ce.key!==void 0&&(Ae=""+ce.key),ce)!I.call(ce,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&ce.ref===void 0||(ye[Be]=ce[Be]);var Be=arguments.length-2;if(Be===1)ye.children=xe;else if(1<Be){for(var Vt=Array(Be),gt=0;gt<Be;gt++)Vt[gt]=arguments[gt+2];ye.children=Vt}return R($.type,Ae,void 0,void 0,Ge,ye)},rt.createContext=function($){return $={$$typeof:d,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},rt.createElement=function($,ce,xe){var ye,Ae={},Ge=null;if(ce!=null)for(ye in ce.key!==void 0&&(Ge=""+ce.key),ce)I.call(ce,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ae[ye]=ce[ye]);var Be=arguments.length-2;if(Be===1)Ae.children=xe;else if(1<Be){for(var Vt=Array(Be),gt=0;gt<Be;gt++)Vt[gt]=arguments[gt+2];Ae.children=Vt}if($&&$.defaultProps)for(ye in Be=$.defaultProps,Be)Ae[ye]===void 0&&(Ae[ye]=Be[ye]);return R($,Ge,void 0,void 0,null,Ae)},rt.createRef=function(){return{current:null}},rt.forwardRef=function($){return{$$typeof:f,render:$}},rt.isValidElement=S,rt.lazy=function($){return{$$typeof:x,_payload:{_status:-1,_result:$},_init:X}},rt.memo=function($,ce){return{$$typeof:g,type:$,compare:ce===void 0?null:ce}},rt.startTransition=function($){var ce=F.T,xe={};F.T=xe;try{var ye=$(),Ae=F.S;Ae!==null&&Ae(xe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(be,ie)}catch(Ge){ie(Ge)}finally{F.T=ce}},rt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},rt.use=function($){return F.H.use($)},rt.useActionState=function($,ce,xe){return F.H.useActionState($,ce,xe)},rt.useCallback=function($,ce){return F.H.useCallback($,ce)},rt.useContext=function($){return F.H.useContext($)},rt.useDebugValue=function(){},rt.useDeferredValue=function($,ce){return F.H.useDeferredValue($,ce)},rt.useEffect=function($,ce,xe){var ye=F.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect($,ce)},rt.useId=function(){return F.H.useId()},rt.useImperativeHandle=function($,ce,xe){return F.H.useImperativeHandle($,ce,xe)},rt.useInsertionEffect=function($,ce){return F.H.useInsertionEffect($,ce)},rt.useLayoutEffect=function($,ce){return F.H.useLayoutEffect($,ce)},rt.useMemo=function($,ce){return F.H.useMemo($,ce)},rt.useOptimistic=function($,ce){return F.H.useOptimistic($,ce)},rt.useReducer=function($,ce,xe){return F.H.useReducer($,ce,xe)},rt.useRef=function($){return F.H.useRef($)},rt.useState=function($){return F.H.useState($)},rt.useSyncExternalStore=function($,ce,xe){return F.H.useSyncExternalStore($,ce,xe)},rt.useTransition=function(){return F.H.useTransition()},rt.version="19.1.1",rt}var N1;function Di(){return N1||(N1=1,yg.exports=zj()),yg.exports}var z=Di();const Ot=Ff(z);var xg={exports:{}},Yc={},vg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function Fj(){return E1||(E1=1,(function(t){function e(G,X){var ie=G.length;G.push(X);e:for(;0<ie;){var be=ie-1>>>1,$=G[be];if(0<o($,X))G[be]=X,G[ie]=$,ie=be;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var X=G[0],ie=G.pop();if(ie!==X){G[0]=ie;e:for(var be=0,$=G.length,ce=$>>>1;be<ce;){var xe=2*(be+1)-1,ye=G[xe],Ae=xe+1,Ge=G[Ae];if(0>o(ye,ie))Ae<$&&0>o(Ge,ye)?(G[be]=Ge,G[Ae]=ie,be=Ae):(G[be]=ye,G[xe]=ie,be=xe);else if(Ae<$&&0>o(Ge,ie))G[be]=Ge,G[Ae]=ie,be=Ae;else break e}}return X}function o(G,X){var ie=G.sortIndex-X.sortIndex;return ie!==0?ie:G.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],g=[],x=1,b=null,w=3,D=!1,L=!1,A=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function q(G){for(var X=n(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=G)s(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(g)}}function F(G){if(A=!1,q(G),!L)if(n(p)!==null)L=!0,I||(I=!0,N());else{var X=n(g);X!==null&&H(F,X.startTime-G)}}var I=!1,R=-1,E=5,S=-1;function P(){return V?!0:!(t.unstable_now()-S<E)}function C(){if(V=!1,I){var G=t.unstable_now();S=G;var X=!0;try{e:{L=!1,A&&(A=!1,M(R),R=-1),D=!0;var ie=w;try{t:{for(q(G),b=n(p);b!==null&&!(b.expirationTime>G&&P());){var be=b.callback;if(typeof be=="function"){b.callback=null,w=b.priorityLevel;var $=be(b.expirationTime<=G);if(G=t.unstable_now(),typeof $=="function"){b.callback=$,q(G),X=!0;break t}b===n(p)&&s(p),q(G)}else s(p);b=n(p)}if(b!==null)X=!0;else{var ce=n(g);ce!==null&&H(F,ce.startTime-G),X=!1}}break e}finally{b=null,w=ie,D=!1}X=void 0}}finally{X?N():I=!1}}}var N;if(typeof k=="function")N=function(){k(C)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,J=T.port2;T.port1.onmessage=C,N=function(){J.postMessage(null)}}else N=function(){B(C,0)};function H(G,X){R=B(function(){G(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(G){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ie=w;w=X;try{return G()}finally{w=ie}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=w;w=G;try{return X()}finally{w=ie}},t.unstable_scheduleCallback=function(G,X,ie){var be=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?be+ie:be):ie=be,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,G={id:x++,callback:X,priorityLevel:G,startTime:ie,expirationTime:$,sortIndex:-1},ie>be?(G.sortIndex=ie,e(g,G),n(p)===null&&G===n(g)&&(A?(M(R),R=-1):A=!0,H(F,ie-be))):(G.sortIndex=$,e(p,G),L||D||(L=!0,I||(I=!0,N()))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var X=w;return function(){var ie=w;w=X;try{return G.apply(this,arguments)}finally{w=ie}}}})(bg)),bg}var j1;function Bj(){return j1||(j1=1,vg.exports=Fj()),vg.exports}var wg={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function Hj(){if(S1)return Vn;S1=1;var t=Di();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,x)},Vn.flushSync=function(p){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=x,s.d.f()}},Vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):x==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin);s.d.L(p,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Vn.requestFormReset=function(p){s.d.r(p)},Vn.unstable_batchedUpdates=function(p,g){return p(g)},Vn.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},Vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Vn.version="19.1.1",Vn}var T1;function D_(){if(T1)return wg.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wg.exports=Hj(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function qj(){if(A1)return Yc;A1=1;var t=Bj(),e=Di(),n=D_();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function d(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(c(r)!==r)throw Error(s(188))}function p(r){var a=r.alternate;if(!a){if(a=c(r),a===null)throw Error(s(188));return a!==r?null:r}for(var l=r,u=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return f(m),r;if(y===u)return f(m),a;y=y.sibling}throw Error(s(188))}if(l.return!==u.return)l=m,u=y;else{for(var j=!1,O=m.child;O;){if(O===l){j=!0,l=m,u=y;break}if(O===u){j=!0,u=m,l=y;break}O=O.sibling}if(!j){for(O=y.child;O;){if(O===l){j=!0,l=y,u=m;break}if(O===u){j=!0,u=y,l=m;break}O=O.sibling}if(!j)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=C&&r[C]||r["@@iterator"],typeof r=="function"?r:null)}var T=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===T?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case V:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case k:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return a=r.displayName||null,a!==null?a:J(r.type)||"Memo";case E:a=r._payload,r=r._init;try{return J(r(a))}catch{}}return null}var H=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},be=[],$=-1;function ce(r){return{current:r}}function xe(r){0>$||(r.current=be[$],be[$]=null,$--)}function ye(r,a){$++,be[$]=r.current,r.current=a}var Ae=ce(null),Ge=ce(null),Be=ce(null),Vt=ce(null);function gt(r,a){switch(ye(Be,a),ye(Ge,r),ye(Ae,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Yb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Yb(a),r=Qb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(Ae),ye(Ae,r)}function kn(){xe(Ae),xe(Ge),xe(Be)}function St(r){r.memoizedState!==null&&ye(Vt,r);var a=Ae.current,l=Qb(a,r.type);a!==l&&(ye(Ge,r),ye(Ae,l))}function yn(r){Ge.current===r&&(xe(Ae),xe(Ge)),Vt.current===r&&(xe(Vt),Bc._currentValue=ie)}var pr=Object.prototype.hasOwnProperty,Xr=t.unstable_scheduleCallback,xn=t.unstable_cancelCallback,xs=t.unstable_shouldYield,Ca=t.unstable_requestPaint,Tn=t.unstable_now,Po=t.unstable_getCurrentPriorityLevel,vs=t.unstable_ImmediatePriority,Q=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,de=t.unstable_LowPriority,Se=t.unstable_IdlePriority,Ee=t.log,_e=t.unstable_setDisableYieldValue,Ne=null,Re=null;function tt(r){if(typeof Ee=="function"&&_e(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Ne,r)}catch{}}var yt=Math.clz32?Math.clz32:Ar,Zr=Math.log,Xt=Math.LN2;function Ar(r){return r>>>=0,r===0?32:31-(Zr(r)/Xt|0)|0}var rr=256,sr=4194304;function qn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Rr(r,a,l){var u=r.pendingLanes;if(u===0)return 0;var m=0,y=r.suspendedLanes,j=r.pingedLanes;r=r.warmLanes;var O=u&134217727;return O!==0?(u=O&~y,u!==0?m=qn(u):(j&=O,j!==0?m=qn(j):l||(l=O&~r,l!==0&&(m=qn(l))))):(O=u&~y,O!==0?m=qn(O):j!==0?m=qn(j):l||(l=u&~r,l!==0&&(m=qn(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function ar(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Jr(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(){var r=rr;return rr<<=1,(rr&4194048)===0&&(rr=256),r}function Li(){var r=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),r}function Cr(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function es(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Da(r,a,l,u,m,y){var j=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var O=r.entanglements,K=r.expirationTimes,se=r.hiddenUpdates;for(l=j&~l;0<l;){var he=31-yt(l),me=1<<he;O[he]=0,K[he]=-1;var oe=se[he];if(oe!==null)for(se[he]=null,he=0;he<oe.length;he++){var le=oe[he];le!==null&&(le.lane&=-536870913)}l&=~me}u!==0&&$n(r,u,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(j&~a))}function $n(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function bs(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var u=31-yt(l),m=1<<u;m&a|r[u]&a&&(r[u]|=a),l&=~m}}function ws(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ia(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Y(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:m1(r.type))}function ee(r,a){var l=X.p;try{return X.p=r,a()}finally{X.p=l}}var ae=Math.random().toString(36).slice(2),pe="__reactFiber$"+ae,we="__reactProps$"+ae,Ce="__reactContainer$"+ae,Ve="__reactEvents$"+ae,Me="__reactListeners$"+ae,Pe="__reactHandles$"+ae,He="__reactResources$"+ae,ke="__reactMarker$"+ae;function Le(r){delete r[pe],delete r[we],delete r[Ve],delete r[Me],delete r[Pe]}function nt(r){var a=r[pe];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Ce]||l[pe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=Jb(r);r!==null;){if(l=r[pe])return l;r=Jb(r)}return a}r=l,l=r.parentNode}return null}function xt(r){if(r=r[pe]||r[Ce]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Mt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function bt(r){var a=r[He];return a||(a=r[He]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Je(r){r[ke]=!0}var wt=new Set,ir={};function An(r,a){vn(r,a),vn(r+"Capture",a)}function vn(r,a){for(ir[r]=a,r=0;r<a.length;r++)wt.add(a[r])}var Gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oa={},gr={};function Dr(r){return pr.call(gr,r)?!0:pr.call(Oa,r)?!1:Gn.test(r)?gr[r]=!0:(Oa[r]=!0,!1)}function yr(r,a,l){if(Dr(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Kn(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function We(r,a,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+u)}}var Ft,Xs;function Yn(r){if(Ft===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ft=a&&a[1]||"",Xs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+r+Xs}var kt=!1;function ts(r,a){if(!r||kt)return"";kt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var oe=le}Reflect.construct(r,[],me)}else{try{me.call()}catch(le){oe=le}r.call(me.prototype)}}else{try{throw Error()}catch(le){oe=le}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),j=y[0],O=y[1];if(j&&O){var K=j.split(`
`),se=O.split(`
`);for(m=u=0;u<K.length&&!K[u].includes("DetermineComponentFrameRoot");)u++;for(;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;if(u===K.length||m===se.length)for(u=K.length-1,m=se.length-1;1<=u&&0<=m&&K[u]!==se[m];)m--;for(;1<=u&&0<=m;u--,m--)if(K[u]!==se[m]){if(u!==1||m!==1)do if(u--,m--,0>m||K[u]!==se[m]){var he=`
`+K[u].replace(" at new "," at ");return r.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",r.displayName)),he}while(1<=u&&0<=m);break}}}finally{kt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Yn(l):""}function Ma(r){switch(r.tag){case 26:case 27:case 5:return Yn(r.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ts(r.type,!1);case 11:return ts(r.type.render,!1);case 1:return ts(r.type,!0);case 31:return Yn("Activity");default:return""}}function Pa(r){try{var a="";do a+=Ma(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Qn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bm(r){var a=Wl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(j){u=""+j,y.call(this,j)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ko(r){r._valueTracker||(r._valueTracker=bm(r))}function Xl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return r&&(u=Wl(r)?r.checked?"true":"false":r.value),r=u,r!==l?(a.setValue(r),!0):!1}function Vi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var wm=/[\n"\\]/g;function nn(r){return r.replace(wm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xr(r,a,l,u,m,y,j,O){r.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.type=j:r.removeAttribute("type"),a!=null?j==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Qn(a)):r.value!==""+Qn(a)&&(r.value=""+Qn(a)):j!=="submit"&&j!=="reset"||r.removeAttribute("value"),a!=null?ka(r,j,Qn(a)):l!=null?ka(r,j,Qn(l)):u!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+Qn(O):r.removeAttribute("name")}function Ui(r,a,l,u,m,y,j,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Qn(l):"",a=a!=null?""+Qn(a):l,O||a===r.value||(r.value=a),r.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=O?r.checked:!!u,r.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.name=j)}function ka(r,a,l){a==="number"&&Vi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Zs(r,a,l,u){if(r=r.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=a.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Qn(l),a=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Rt(r,a,l){if(a!=null&&(a=""+Qn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Qn(l):""}function zi(r,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(s(92));if(H(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Qn(a),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Ir(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(r,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,l):typeof l!="number"||l===0||Fi.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Zl(r,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&md(r,m,u)}else for(var y in a)a.hasOwnProperty(y)&&md(r,y,a[y])}function Jl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(r){return Nm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Js=null;function Or(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ea=null,ta=null;function ec(r){var a=xt(r);if(a&&(r=a.stateNode)){var l=r[we]||null;e:switch(r=a.stateNode,a.type){case"input":if(xr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==r&&u.form===r.form){var m=u[we]||null;if(!m)throw Error(s(90));xr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===r.form&&Xl(u)}break e;case"textarea":Rt(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Zs(r,!!l.multiple,a,!1)}}}var _s=!1;function pd(r,a,l){if(_s)return r(a,l);_s=!0;try{var u=r(a);return u}finally{if(_s=!1,(ea!==null||ta!==null)&&(lh(),ea&&(a=ea,r=ta,ta=ea=null,ec(a),r)))for(a=0;a<r.length;a++)ec(r[a])}}function Bi(r,a){var l=r.stateNode;if(l===null)return null;var u=l[we]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(ns)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{Mr=!1}var Ns=null,La=null,na=null;function tc(){if(na)return na;var r,a=La,l=a.length,u,m="value"in Ns?Ns.value:Ns.textContent,y=m.length;for(r=0;r<l&&a[r]===m[r];r++);var j=l-r;for(u=1;u<=j&&a[l-u]===m[y-u];u++);return na=m.slice(r,1<u?1-u:void 0)}function Es(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function js(){return!0}function nc(){return!1}function bn(r){function a(l,u,m,y,j){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?js:nc,this.isPropagationStopped=nc,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),a}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=bn(Et),qi=x({},Et,{view:0,detail:0}),gd=bn(qi),Uo,zo,Ss,$i=x({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ss&&(Ss&&r.type==="mousemove"?(Uo=r.screenX-Ss.screenX,zo=r.screenY-Ss.screenY):zo=Uo=0,Ss=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:zo}}),Pr=bn($i),yd=x({},$i,{dataTransfer:0}),Em=bn(yd),Gi=x({},qi,{relatedTarget:0}),Fo=bn(Gi),rc=x({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=bn(rc),xd=x({},Et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ho=bn(xd),jm=x({},Et,{data:0}),sc=bn(jm),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=bd[r])?!!a[r]:!1}function Yi(){return ac}var wd=x({},qi,{key:function(r){if(r.key){var a=Ki[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Es(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(r){return r.type==="keypress"?Es(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Es(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qo=bn(wd),_d=x({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=bn(_d),ra=x({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),Nd=bn(ra),Ed=x({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),jd=bn(Ed),Sd=x({},$i,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=bn(Sd),Wn=x({},Et,{newState:0,oldState:0}),Td=bn(Wn),Ad=[9,13,27,32],Ts=ns&&"CompositionEvent"in window,h=null;ns&&"documentMode"in document&&(h=document.documentMode);var v=ns&&"TextEvent"in window&&!h,_=ns&&(!Ts||h&&8<h&&11>=h),U=" ",te=!1;function ue(r,a){switch(r){case"keyup":return Ad.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function je(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ht=!1;function un(r,a){switch(r){case"compositionend":return je(a);case"keypress":return a.which!==32?null:(te=!0,U);case"textInput":return r=a.data,r===U&&te?null:r;default:return null}}function ft(r,a){if(ht)return r==="compositionend"||!Ts&&ue(r,a)?(r=tc(),na=La=Ns=null,ht=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!wn[r.type]:a==="textarea"}function sa(r,a,l,u){ea?ta?ta.push(u):ta=[u]:ea=u,a=mh(a,"onChange"),0<a.length&&(l=new Vo("onChange","change",null,l,u),r.push({event:l,listeners:a}))}var Rn=null,As=null;function oc(r){Hb(r,0)}function Rd(r){var a=Mt(r);if(Xl(a))return r}function ux(r,a){if(r==="change")return a}var dx=!1;if(ns){var Sm;if(ns){var Tm="oninput"in document;if(!Tm){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),Tm=typeof hx.oninput=="function"}Sm=Tm}else Sm=!1;dx=Sm&&(!document.documentMode||9<document.documentMode)}function fx(){Rn&&(Rn.detachEvent("onpropertychange",mx),As=Rn=null)}function mx(r){if(r.propertyName==="value"&&Rd(As)){var a=[];sa(a,As,r,Or(r)),pd(oc,a)}}function mE(r,a,l){r==="focusin"?(fx(),Rn=a,As=l,Rn.attachEvent("onpropertychange",mx)):r==="focusout"&&fx()}function pE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rd(As)}function gE(r,a){if(r==="click")return Rd(a)}function yE(r,a){if(r==="input"||r==="change")return Rd(a)}function xE(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var vr=typeof Object.is=="function"?Object.is:xE;function lc(r,a){if(vr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!pr.call(a,m)||!vr(r[m],a[m]))return!1}return!0}function px(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gx(r,a){var l=px(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=a&&u>=a)return{node:l,offset:a-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=px(l)}}function yx(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?yx(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function xx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Vi(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Vi(r.document)}return a}function Am(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var vE=ns&&"documentMode"in document&&11>=document.documentMode,Go=null,Rm=null,cc=null,Cm=!1;function vx(r,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cm||Go==null||Go!==Vi(u)||(u=Go,"selectionStart"in u&&Am(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cc&&lc(cc,u)||(cc=u,u=mh(Rm,"onSelect"),0<u.length&&(a=new Vo("onSelect","select",null,a,l),r.push({event:a,listeners:u}),a.target=Go)))}function Qi(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Ko={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},Dm={},bx={};ns&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Wi(r){if(Dm[r])return Dm[r];if(!Ko[r])return r;var a=Ko[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in bx)return Dm[r]=a[l];return r}var wx=Wi("animationend"),_x=Wi("animationiteration"),Nx=Wi("animationstart"),bE=Wi("transitionrun"),wE=Wi("transitionstart"),_E=Wi("transitioncancel"),Ex=Wi("transitionend"),jx=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function rs(r,a){jx.set(r,a),An(a,[r])}var Sx=new WeakMap;function kr(r,a){if(typeof r=="object"&&r!==null){var l=Sx.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Pa(a)},Sx.set(r,a),a)}return{value:r,source:a,stack:Pa(a)}}var Lr=[],Yo=0,Om=0;function Cd(){for(var r=Yo,a=Om=Yo=0;a<r;){var l=Lr[a];Lr[a++]=null;var u=Lr[a];Lr[a++]=null;var m=Lr[a];Lr[a++]=null;var y=Lr[a];if(Lr[a++]=null,u!==null&&m!==null){var j=u.pending;j===null?m.next=m:(m.next=j.next,j.next=m),u.pending=m}y!==0&&Tx(l,m,y)}}function Dd(r,a,l,u){Lr[Yo++]=r,Lr[Yo++]=a,Lr[Yo++]=l,Lr[Yo++]=u,Om|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Mm(r,a,l,u){return Dd(r,a,l,u),Id(r)}function Qo(r,a){return Dd(r,null,null,a),Id(r)}function Tx(r,a,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&a!==null&&(m=31-yt(l),r=y.hiddenUpdates,u=r[m],u===null?r[m]=[a]:u.push(a),a.lane=l|536870912),y):null}function Id(r){if(50<Mc)throw Mc=0,zp=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Wo={};function NE(r,a,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(r,a,l,u){return new NE(r,a,l,u)}function Pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function aa(r,a){var l=r.alternate;return l===null?(l=br(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ax(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Od(r,a,l,u,m,y){var j=0;if(u=r,typeof r=="function")Pm(r)&&(j=1);else if(typeof r=="string")j=jj(r,l,Ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=br(31,l,a,m),r.elementType=S,r.lanes=y,r;case L:return Xi(l.children,m,y,a);case A:j=8,m|=24;break;case V:return r=br(12,l,a,m|2),r.elementType=V,r.lanes=y,r;case F:return r=br(13,l,a,m),r.elementType=F,r.lanes=y,r;case I:return r=br(19,l,a,m),r.elementType=I,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case k:j=10;break e;case M:j=9;break e;case q:j=11;break e;case R:j=14;break e;case E:j=16,u=null;break e}j=29,l=Error(s(130,r===null?"null":typeof r,"")),u=null}return a=br(j,l,a,m),a.elementType=r,a.type=u,a.lanes=y,a}function Xi(r,a,l,u){return r=br(7,r,u,a),r.lanes=l,r}function km(r,a,l){return r=br(6,r,null,a),r.lanes=l,r}function Lm(r,a,l){return a=br(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Xo=[],Zo=0,Md=null,Pd=0,Vr=[],Ur=0,Zi=null,ia=1,oa="";function Ji(r,a){Xo[Zo++]=Pd,Xo[Zo++]=Md,Md=r,Pd=a}function Rx(r,a,l){Vr[Ur++]=ia,Vr[Ur++]=oa,Vr[Ur++]=Zi,Zi=r;var u=ia;r=oa;var m=32-yt(u)-1;u&=~(1<<m),l+=1;var y=32-yt(a)+m;if(30<y){var j=m-m%5;y=(u&(1<<j)-1).toString(32),u>>=j,m-=j,ia=1<<32-yt(a)+m|l<<m|u,oa=y+r}else ia=1<<y|l<<m|u,oa=r}function Vm(r){r.return!==null&&(Ji(r,1),Rx(r,1,0))}function Um(r){for(;r===Md;)Md=Xo[--Zo],Xo[Zo]=null,Pd=Xo[--Zo],Xo[Zo]=null;for(;r===Zi;)Zi=Vr[--Ur],Vr[Ur]=null,oa=Vr[--Ur],Vr[Ur]=null,ia=Vr[--Ur],Vr[Ur]=null}var Xn=null,Kt=null,_t=!1,eo=null,Rs=!1,zm=Error(s(519));function to(r){var a=Error(s(418,""));throw hc(kr(a,r)),zm}function Cx(r){var a=r.stateNode,l=r.type,u=r.memoizedProps;switch(a[pe]=r,a[we]=u,l){case"dialog":lt("cancel",a),lt("close",a);break;case"iframe":case"object":case"embed":lt("load",a);break;case"video":case"audio":for(l=0;l<kc.length;l++)lt(kc[l],a);break;case"source":lt("error",a);break;case"img":case"image":case"link":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"input":lt("invalid",a),Ui(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ko(a);break;case"select":lt("invalid",a);break;case"textarea":lt("invalid",a),zi(a,u.value,u.defaultValue,u.children),ko(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Kb(a.textContent,l)?(u.popover!=null&&(lt("beforetoggle",a),lt("toggle",a)),u.onScroll!=null&&lt("scroll",a),u.onScrollEnd!=null&&lt("scrollend",a),u.onClick!=null&&(a.onclick=ph),a=!0):a=!1,a||to(r)}function Dx(r){for(Xn=r.return;Xn;)switch(Xn.tag){case 5:case 13:Rs=!1;return;case 27:case 3:Rs=!0;return;default:Xn=Xn.return}}function uc(r){if(r!==Xn)return!1;if(!_t)return Dx(r),_t=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||ng(r.type,r.memoizedProps)),l=!l),l&&Kt&&to(r),Dx(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Kt=as(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Kt=null}}else a===27?(a=Kt,Ja(r.type)?(r=ig,ig=null,Kt=r):Kt=a):Kt=Xn?as(r.stateNode.nextSibling):null;return!0}function dc(){Kt=Xn=null,_t=!1}function Ix(){var r=eo;return r!==null&&(cr===null?cr=r:cr.push.apply(cr,r),eo=null),r}function hc(r){eo===null?eo=[r]:eo.push(r)}var Fm=ce(null),no=null,la=null;function Va(r,a,l){ye(Fm,a._currentValue),a._currentValue=l}function ca(r){r._currentValue=Fm.current,xe(Fm)}function Bm(r,a,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===l)break;r=r.return}}function Hm(r,a,l,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var j=m.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=m;for(var K=0;K<a.length;K++)if(O.context===a[K]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Bm(y.return,l,r),u||(j=null);break e}y=O.next}}else if(m.tag===18){if(j=m.return,j===null)throw Error(s(341));j.lanes|=l,y=j.alternate,y!==null&&(y.lanes|=l),Bm(j,l,r),j=null}else j=m.child;if(j!==null)j.return=m;else for(j=m;j!==null;){if(j===r){j=null;break}if(m=j.sibling,m!==null){m.return=j.return,j=m;break}j=j.return}m=j}}function fc(r,a,l,u){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var j=m.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var O=m.type;vr(m.pendingProps.value,j.value)||(r!==null?r.push(O):r=[O])}}else if(m===Vt.current){if(j=m.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Bc):r=[Bc])}m=m.return}r!==null&&Hm(a,r,l,u),a.flags|=262144}function kd(r){for(r=r.firstContext;r!==null;){if(!vr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ro(r){no=r,la=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Ox(no,r)}function Ld(r,a){return no===null&&ro(r),Ox(r,a)}function Ox(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},la===null){if(r===null)throw Error(s(308));la=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else la=la.next=a;return l}var EE=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},jE=t.unstable_scheduleCallback,SE=t.unstable_NormalPriority,hn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new EE,data:new Map,refCount:0}}function mc(r){r.refCount--,r.refCount===0&&jE(SE,function(){r.controller.abort()})}var pc=null,$m=0,Jo=0,el=null;function TE(r,a){if(pc===null){var l=pc=[];$m=0,Jo=Kp(),el={status:"pending",value:void 0,then:function(u){l.push(u)}}}return $m++,a.then(Mx,Mx),a}function Mx(){if(--$m===0&&pc!==null){el!==null&&(el.status="fulfilled");var r=pc;pc=null,Jo=0,el=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function AE(r,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Px=G.S;G.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&TE(r,a),Px!==null&&Px(r,a)};var so=ce(null);function Gm(){var r=so.current;return r!==null?r:Lt.pooledCache}function Vd(r,a){a===null?ye(so,so.current):ye(so,a.pool)}function kx(){var r=Gm();return r===null?null:{parent:hn._currentValue,pool:r}}var gc=Error(s(460)),Lx=Error(s(474)),Ud=Error(s(542)),Km={then:function(){}};function Vx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function zd(){}function Ux(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(zd,zd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Fx(r),r;default:if(typeof a.status=="string")a.then(zd,zd);else{if(r=Lt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Fx(r),r}throw yc=a,gc}}var yc=null;function zx(){if(yc===null)throw Error(s(459));var r=yc;return yc=null,r}function Fx(r){if(r===gc||r===Ud)throw Error(s(483))}var Ua=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function za(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fa(r,a,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Tt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Id(r),Tx(r,null,l),a}return Dd(r,u,a,l),Id(r)}function xc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,bs(r,l)}}function Wm(r,a){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=j:y=y.next=j,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Xm=!1;function vc(){if(Xm){var r=el;if(r!==null)throw r}}function bc(r,a,l,u){Xm=!1;var m=r.updateQueue;Ua=!1;var y=m.firstBaseUpdate,j=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var K=O,se=K.next;K.next=null,j===null?y=se:j.next=se,j=K;var he=r.alternate;he!==null&&(he=he.updateQueue,O=he.lastBaseUpdate,O!==j&&(O===null?he.firstBaseUpdate=se:O.next=se,he.lastBaseUpdate=K))}if(y!==null){var me=m.baseState;j=0,he=se=K=null,O=y;do{var oe=O.lane&-536870913,le=oe!==O.lane;if(le?(mt&oe)===oe:(u&oe)===oe){oe!==0&&oe===Jo&&(Xm=!0),he!==null&&(he=he.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Xe=r,$e=O;oe=a;var It=l;switch($e.tag){case 1:if(Xe=$e.payload,typeof Xe=="function"){me=Xe.call(It,me,oe);break e}me=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=$e.payload,oe=typeof Xe=="function"?Xe.call(It,me,oe):Xe,oe==null)break e;me=x({},me,oe);break e;case 2:Ua=!0}}oe=O.callback,oe!==null&&(r.flags|=64,le&&(r.flags|=8192),le=m.callbacks,le===null?m.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},he===null?(se=he=le,K=me):he=he.next=le,j|=oe;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;le=O,O=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);he===null&&(K=me),m.baseState=K,m.firstBaseUpdate=se,m.lastBaseUpdate=he,y===null&&(m.shared.lanes=0),Qa|=j,r.lanes=j,r.memoizedState=me}}function Bx(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function Hx(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Bx(l[r],a)}var tl=ce(null),Fd=ce(0);function qx(r,a){r=ga,ye(Fd,r),ye(tl,a),ga=r|a.baseLanes}function Zm(){ye(Fd,ga),ye(tl,tl.current)}function Jm(){ga=Fd.current,xe(tl),xe(Fd)}var Ba=0,st=null,Ct=null,rn=null,Bd=!1,nl=!1,ao=!1,Hd=0,wc=0,rl=null,RE=0;function Zt(){throw Error(s(321))}function ep(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!vr(r[l],a[l]))return!1;return!0}function tp(r,a,l,u,m,y){return Ba=y,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=r===null||r.memoizedState===null?Tv:Av,ao=!1,y=l(u,m),ao=!1,nl&&(y=Gx(a,l,u,m)),$x(r),y}function $x(r){G.H=Qd;var a=Ct!==null&&Ct.next!==null;if(Ba=0,rn=Ct=st=null,Bd=!1,wc=0,rl=null,a)throw Error(s(300));r===null||_n||(r=r.dependencies,r!==null&&kd(r)&&(_n=!0))}function Gx(r,a,l,u){st=r;var m=0;do{if(nl&&(rl=null),wc=0,nl=!1,25<=m)throw Error(s(301));if(m+=1,rn=Ct=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=kE,y=a(l,u)}while(nl);return y}function CE(){var r=G.H,a=r.useState()[0];return a=typeof a.then=="function"?_c(a):a,r=r.useState()[0],(Ct!==null?Ct.memoizedState:null)!==r&&(st.flags|=1024),a}function np(){var r=Hd!==0;return Hd=0,r}function rp(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function sp(r){if(Bd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Bd=!1}Ba=0,rn=Ct=st=null,nl=!1,wc=Hd=0,rl=null}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?st.memoizedState=rn=r:rn=rn.next=r,rn}function sn(){if(Ct===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var a=rn===null?st.memoizedState:rn.next;if(a!==null)rn=a,Ct=r;else{if(r===null)throw st.alternate===null?Error(s(467)):Error(s(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},rn===null?st.memoizedState=rn=r:rn=rn.next=r}return rn}function ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(r){var a=wc;return wc+=1,rl===null&&(rl=[]),r=Ux(rl,r,a),a=st,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Tv:Av),r}function qd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _c(r);if(r.$$typeof===k)return Ln(r)}throw Error(s(438,String(r)))}function ip(r){var a=null,l=st.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ap(),st.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),u=0;u<r;u++)l[u]=P;return a.index++,l}function ua(r,a){return typeof a=="function"?a(r):a}function $d(r){var a=sn();return op(a,Ct,r)}function op(r,a,l){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var m=r.baseQueue,y=u.pending;if(y!==null){if(m!==null){var j=m.next;m.next=y.next,y.next=j}a.baseQueue=m=y,u.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var O=j=null,K=null,se=a,he=!1;do{var me=se.lane&-536870913;if(me!==se.lane?(mt&me)===me:(Ba&me)===me){var oe=se.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),me===Jo&&(he=!0);else if((Ba&oe)===oe){se=se.next,oe===Jo&&(he=!0);continue}else me={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(O=K=me,j=y):K=K.next=me,st.lanes|=oe,Qa|=oe;me=se.action,ao&&l(y,me),y=se.hasEagerState?se.eagerState:l(y,me)}else oe={lane:me,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(O=K=oe,j=y):K=K.next=oe,st.lanes|=me,Qa|=me;se=se.next}while(se!==null&&se!==a);if(K===null?j=y:K.next=O,!vr(y,r.memoizedState)&&(_n=!0,he&&(l=el,l!==null)))throw l;r.memoizedState=y,r.baseState=j,r.baseQueue=K,u.lastRenderedState=y}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function lp(r){var a=sn(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var j=m=m.next;do y=r(y,j.action),j=j.next;while(j!==m);vr(y,a.memoizedState)||(_n=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function Kx(r,a,l){var u=st,m=sn(),y=_t;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=a();var j=!vr((Ct||m).memoizedState,l);j&&(m.memoizedState=l,_n=!0),m=m.queue;var O=Wx.bind(null,u,m,r);if(Nc(2048,8,O,[r]),m.getSnapshot!==a||j||rn!==null&&rn.memoizedState.tag&1){if(u.flags|=2048,sl(9,Gd(),Qx.bind(null,u,m,l,a),null),Lt===null)throw Error(s(349));y||(Ba&124)!==0||Yx(u,a,l)}return l}function Yx(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=st.updateQueue,a===null?(a=ap(),st.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Qx(r,a,l,u){a.value=l,a.getSnapshot=u,Xx(a)&&Zx(r)}function Wx(r,a,l){return l(function(){Xx(a)&&Zx(r)})}function Xx(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!vr(r,l)}catch{return!0}}function Zx(r){var a=Qo(r,2);a!==null&&jr(a,r,2)}function cp(r){var a=or();if(typeof r=="function"){var l=r;if(r=l(),ao){tt(!0);try{l()}finally{tt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:r},a}function Jx(r,a,l,u){return r.baseState=l,op(r,Ct,typeof u=="function"?u:ua)}function DE(r,a,l,u,m){if(Yd(r))throw Error(s(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};G.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,ev(a,y)):(y.next=l.next,a.pending=l.next=y)}}function ev(r,a){var l=a.action,u=a.payload,m=r.state;if(a.isTransition){var y=G.T,j={};G.T=j;try{var O=l(m,u),K=G.S;K!==null&&K(j,O),tv(r,a,O)}catch(se){up(r,a,se)}finally{G.T=y}}else try{y=l(m,u),tv(r,a,y)}catch(se){up(r,a,se)}}function tv(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){nv(r,a,u)},function(u){return up(r,a,u)}):nv(r,a,l)}function nv(r,a,l){a.status="fulfilled",a.value=l,rv(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,ev(r,l)))}function up(r,a,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,rv(a),a=a.next;while(a!==u)}r.action=null}function rv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function sv(r,a){return a}function av(r,a){if(_t){var l=Lt.formState;if(l!==null){e:{var u=st;if(_t){if(Kt){t:{for(var m=Kt,y=Rs;m.nodeType!==8;){if(!y){m=null;break t}if(m=as(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Kt=as(m.nextSibling),u=m.data==="F!";break e}}to(u)}u=!1}u&&(a=l[0])}}return l=or(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:a},l.queue=u,l=Ev.bind(null,st,u),u.dispatch=l,u=cp(!1),y=pp.bind(null,st,!1,u.queue),u=or(),m={state:a,dispatch:null,action:r,pending:null},u.queue=m,l=DE.bind(null,st,m,y,l),m.dispatch=l,u.memoizedState=r,[a,l,!1]}function iv(r){var a=sn();return ov(a,Ct,r)}function ov(r,a,l){if(a=op(r,a,sv)[0],r=$d(ua)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=_c(a)}catch(j){throw j===gc?Ud:j}else u=a;a=sn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(st.flags|=2048,sl(9,Gd(),IE.bind(null,m,l),null)),[u,y,r]}function IE(r,a){r.action=a}function lv(r){var a=sn(),l=Ct;if(l!==null)return ov(a,l,r);sn(),a=a.memoizedState,l=sn();var u=l.queue.dispatch;return l.memoizedState=r,[a,u,!1]}function sl(r,a,l,u){return r={tag:r,create:l,deps:u,inst:a,next:null},a=st.updateQueue,a===null&&(a=ap(),st.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,a.lastEffect=r),r}function Gd(){return{destroy:void 0,resource:void 0}}function cv(){return sn().memoizedState}function Kd(r,a,l,u){var m=or();u=u===void 0?null:u,st.flags|=r,m.memoizedState=sl(1|a,Gd(),l,u)}function Nc(r,a,l,u){var m=sn();u=u===void 0?null:u;var y=m.memoizedState.inst;Ct!==null&&u!==null&&ep(u,Ct.memoizedState.deps)?m.memoizedState=sl(a,y,l,u):(st.flags|=r,m.memoizedState=sl(1|a,y,l,u))}function uv(r,a){Kd(8390656,8,r,a)}function dv(r,a){Nc(2048,8,r,a)}function hv(r,a){return Nc(4,2,r,a)}function fv(r,a){return Nc(4,4,r,a)}function mv(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function pv(r,a,l){l=l!=null?l.concat([r]):null,Nc(4,4,mv.bind(null,a,r),l)}function dp(){}function gv(r,a){var l=sn();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&ep(a,u[1])?u[0]:(l.memoizedState=[r,a],r)}function yv(r,a){var l=sn();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&ep(a,u[1]))return u[0];if(u=r(),ao){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[u,a],u}function hp(r,a,l){return l===void 0||(Ba&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=bb(),st.lanes|=r,Qa|=r,l)}function xv(r,a,l,u){return vr(l,a)?l:tl.current!==null?(r=hp(r,l,u),vr(r,a)||(_n=!0),r):(Ba&42)===0?(_n=!0,r.memoizedState=l):(r=bb(),st.lanes|=r,Qa|=r,a)}function vv(r,a,l,u,m){var y=X.p;X.p=y!==0&&8>y?y:8;var j=G.T,O={};G.T=O,pp(r,!1,a,l);try{var K=m(),se=G.S;if(se!==null&&se(O,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=AE(K,u);Ec(r,a,he,Er(r))}else Ec(r,a,u,Er(r))}catch(me){Ec(r,a,{then:function(){},status:"rejected",reason:me},Er())}finally{X.p=y,G.T=j}}function OE(){}function fp(r,a,l,u){if(r.tag!==5)throw Error(s(476));var m=bv(r).queue;vv(r,m,a,ie,l===null?OE:function(){return wv(r),l(u)})}function bv(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function wv(r){var a=bv(r).next.queue;Ec(r,a,{},Er())}function mp(){return Ln(Bc)}function _v(){return sn().memoizedState}function Nv(){return sn().memoizedState}function ME(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Er();r=za(l);var u=Fa(a,r,l);u!==null&&(jr(u,a,l),xc(u,a,l)),a={cache:qm()},r.payload=a;return}a=a.return}}function PE(r,a,l){var u=Er();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yd(r)?jv(a,l):(l=Mm(r,a,l,u),l!==null&&(jr(l,r,u),Sv(l,a,u)))}function Ev(r,a,l){var u=Er();Ec(r,a,l,u)}function Ec(r,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yd(r))jv(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var j=a.lastRenderedState,O=y(j,l);if(m.hasEagerState=!0,m.eagerState=O,vr(O,j))return Dd(r,a,m,0),Lt===null&&Cd(),!1}catch{}finally{}if(l=Mm(r,a,m,u),l!==null)return jr(l,r,u),Sv(l,a,u),!0}return!1}function pp(r,a,l,u){if(u={lane:2,revertLane:Kp(),action:u,hasEagerState:!1,eagerState:null,next:null},Yd(r)){if(a)throw Error(s(479))}else a=Mm(r,l,u,2),a!==null&&jr(a,r,2)}function Yd(r){var a=r.alternate;return r===st||a!==null&&a===st}function jv(r,a){nl=Bd=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Sv(r,a,l){if((l&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,bs(r,l)}}var Qd={readContext:Ln,use:qd,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},Tv={readContext:Ln,use:qd,useCallback:function(r,a){return or().memoizedState=[r,a===void 0?null:a],r},useContext:Ln,useEffect:uv,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Kd(4194308,4,mv.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Kd(4194308,4,r,a)},useInsertionEffect:function(r,a){Kd(4,2,r,a)},useMemo:function(r,a){var l=or();a=a===void 0?null:a;var u=r();if(ao){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(r,a,l){var u=or();if(l!==void 0){var m=l(a);if(ao){tt(!0);try{l(a)}finally{tt(!1)}}}else m=a;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=PE.bind(null,st,r),[u.memoizedState,r]},useRef:function(r){var a=or();return r={current:r},a.memoizedState=r},useState:function(r){r=cp(r);var a=r.queue,l=Ev.bind(null,st,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:dp,useDeferredValue:function(r,a){var l=or();return hp(l,r,a)},useTransition:function(){var r=cp(!1);return r=vv.bind(null,st,r.queue,!0,!1),or().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var u=st,m=or();if(_t){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Lt===null)throw Error(s(349));(mt&124)!==0||Yx(u,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,uv(Wx.bind(null,u,y,r),[r]),u.flags|=2048,sl(9,Gd(),Qx.bind(null,u,y,l,a),null),l},useId:function(){var r=or(),a=Lt.identifierPrefix;if(_t){var l=oa,u=ia;l=(u&~(1<<32-yt(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Hd++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=RE++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:mp,useFormState:av,useActionState:av,useOptimistic:function(r){var a=or();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=pp.bind(null,st,!0,l),l.dispatch=a,[r,a]},useMemoCache:ip,useCacheRefresh:function(){return or().memoizedState=ME.bind(null,st)}},Av={readContext:Ln,use:qd,useCallback:gv,useContext:Ln,useEffect:dv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:$d,useRef:cv,useState:function(){return $d(ua)},useDebugValue:dp,useDeferredValue:function(r,a){var l=sn();return xv(l,Ct.memoizedState,r,a)},useTransition:function(){var r=$d(ua)[0],a=sn().memoizedState;return[typeof r=="boolean"?r:_c(r),a]},useSyncExternalStore:Kx,useId:_v,useHostTransitionStatus:mp,useFormState:iv,useActionState:iv,useOptimistic:function(r,a){var l=sn();return Jx(l,Ct,r,a)},useMemoCache:ip,useCacheRefresh:Nv},kE={readContext:Ln,use:qd,useCallback:gv,useContext:Ln,useEffect:dv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:lp,useRef:cv,useState:function(){return lp(ua)},useDebugValue:dp,useDeferredValue:function(r,a){var l=sn();return Ct===null?hp(l,r,a):xv(l,Ct.memoizedState,r,a)},useTransition:function(){var r=lp(ua)[0],a=sn().memoizedState;return[typeof r=="boolean"?r:_c(r),a]},useSyncExternalStore:Kx,useId:_v,useHostTransitionStatus:mp,useFormState:lv,useActionState:lv,useOptimistic:function(r,a){var l=sn();return Ct!==null?Jx(l,Ct,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:ip,useCacheRefresh:Nv},al=null,jc=0;function Wd(r){var a=jc;return jc+=1,al===null&&(al=[]),Ux(al,r,a)}function Sc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Xd(r,a){throw a.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Rv(r){var a=r._init;return a(r._payload)}function Cv(r){function a(Z,W){if(r){var ne=Z.deletions;ne===null?(Z.deletions=[W],Z.flags|=16):ne.push(W)}}function l(Z,W){if(!r)return null;for(;W!==null;)a(Z,W),W=W.sibling;return null}function u(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function m(Z,W){return Z=aa(Z,W),Z.index=0,Z.sibling=null,Z}function y(Z,W,ne){return Z.index=ne,r?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<W?(Z.flags|=67108866,W):ne):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function j(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,W,ne,fe){return W===null||W.tag!==6?(W=km(ne,Z.mode,fe),W.return=Z,W):(W=m(W,ne),W.return=Z,W)}function K(Z,W,ne,fe){var Oe=ne.type;return Oe===L?he(Z,W,ne.props.children,fe,ne.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===E&&Rv(Oe)===W.type)?(W=m(W,ne.props),Sc(W,ne),W.return=Z,W):(W=Od(ne.type,ne.key,ne.props,null,Z.mode,fe),Sc(W,ne),W.return=Z,W)}function se(Z,W,ne,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=Lm(ne,Z.mode,fe),W.return=Z,W):(W=m(W,ne.children||[]),W.return=Z,W)}function he(Z,W,ne,fe,Oe){return W===null||W.tag!==7?(W=Xi(ne,Z.mode,fe,Oe),W.return=Z,W):(W=m(W,ne),W.return=Z,W)}function me(Z,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=km(""+W,Z.mode,ne),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ne=Od(W.type,W.key,W.props,null,Z.mode,ne),Sc(ne,W),ne.return=Z,ne;case D:return W=Lm(W,Z.mode,ne),W.return=Z,W;case E:var fe=W._init;return W=fe(W._payload),me(Z,W,ne)}if(H(W)||N(W))return W=Xi(W,Z.mode,ne,null),W.return=Z,W;if(typeof W.then=="function")return me(Z,Wd(W),ne);if(W.$$typeof===k)return me(Z,Ld(Z,W),ne);Xd(Z,W)}return null}function oe(Z,W,ne,fe){var Oe=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Oe!==null?null:O(Z,W,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===Oe?K(Z,W,ne,fe):null;case D:return ne.key===Oe?se(Z,W,ne,fe):null;case E:return Oe=ne._init,ne=Oe(ne._payload),oe(Z,W,ne,fe)}if(H(ne)||N(ne))return Oe!==null?null:he(Z,W,ne,fe,null);if(typeof ne.then=="function")return oe(Z,W,Wd(ne),fe);if(ne.$$typeof===k)return oe(Z,W,Ld(Z,ne),fe);Xd(Z,ne)}return null}function le(Z,W,ne,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(ne)||null,O(W,Z,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return Z=Z.get(fe.key===null?ne:fe.key)||null,K(W,Z,fe,Oe);case D:return Z=Z.get(fe.key===null?ne:fe.key)||null,se(W,Z,fe,Oe);case E:var at=fe._init;return fe=at(fe._payload),le(Z,W,ne,fe,Oe)}if(H(fe)||N(fe))return Z=Z.get(ne)||null,he(W,Z,fe,Oe,null);if(typeof fe.then=="function")return le(Z,W,ne,Wd(fe),Oe);if(fe.$$typeof===k)return le(Z,W,ne,Ld(W,fe),Oe);Xd(W,fe)}return null}function Xe(Z,W,ne,fe){for(var Oe=null,at=null,Fe=W,Ke=W=0,En=null;Fe!==null&&Ke<ne.length;Ke++){Fe.index>Ke?(En=Fe,Fe=null):En=Fe.sibling;var vt=oe(Z,Fe,ne[Ke],fe);if(vt===null){Fe===null&&(Fe=En);break}r&&Fe&&vt.alternate===null&&a(Z,Fe),W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt,Fe=En}if(Ke===ne.length)return l(Z,Fe),_t&&Ji(Z,Ke),Oe;if(Fe===null){for(;Ke<ne.length;Ke++)Fe=me(Z,ne[Ke],fe),Fe!==null&&(W=y(Fe,W,Ke),at===null?Oe=Fe:at.sibling=Fe,at=Fe);return _t&&Ji(Z,Ke),Oe}for(Fe=u(Fe);Ke<ne.length;Ke++)En=le(Fe,Z,Ke,ne[Ke],fe),En!==null&&(r&&En.alternate!==null&&Fe.delete(En.key===null?Ke:En.key),W=y(En,W,Ke),at===null?Oe=En:at.sibling=En,at=En);return r&&Fe.forEach(function(si){return a(Z,si)}),_t&&Ji(Z,Ke),Oe}function $e(Z,W,ne,fe){if(ne==null)throw Error(s(151));for(var Oe=null,at=null,Fe=W,Ke=W=0,En=null,vt=ne.next();Fe!==null&&!vt.done;Ke++,vt=ne.next()){Fe.index>Ke?(En=Fe,Fe=null):En=Fe.sibling;var si=oe(Z,Fe,vt.value,fe);if(si===null){Fe===null&&(Fe=En);break}r&&Fe&&si.alternate===null&&a(Z,Fe),W=y(si,W,Ke),at===null?Oe=si:at.sibling=si,at=si,Fe=En}if(vt.done)return l(Z,Fe),_t&&Ji(Z,Ke),Oe;if(Fe===null){for(;!vt.done;Ke++,vt=ne.next())vt=me(Z,vt.value,fe),vt!==null&&(W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt);return _t&&Ji(Z,Ke),Oe}for(Fe=u(Fe);!vt.done;Ke++,vt=ne.next())vt=le(Fe,Z,Ke,vt.value,fe),vt!==null&&(r&&vt.alternate!==null&&Fe.delete(vt.key===null?Ke:vt.key),W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt);return r&&Fe.forEach(function(Lj){return a(Z,Lj)}),_t&&Ji(Z,Ke),Oe}function It(Z,W,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===L&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var Oe=ne.key;W!==null;){if(W.key===Oe){if(Oe=ne.type,Oe===L){if(W.tag===7){l(Z,W.sibling),fe=m(W,ne.props.children),fe.return=Z,Z=fe;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===E&&Rv(Oe)===W.type){l(Z,W.sibling),fe=m(W,ne.props),Sc(fe,ne),fe.return=Z,Z=fe;break e}l(Z,W);break}else a(Z,W);W=W.sibling}ne.type===L?(fe=Xi(ne.props.children,Z.mode,fe,ne.key),fe.return=Z,Z=fe):(fe=Od(ne.type,ne.key,ne.props,null,Z.mode,fe),Sc(fe,ne),fe.return=Z,Z=fe)}return j(Z);case D:e:{for(Oe=ne.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){l(Z,W.sibling),fe=m(W,ne.children||[]),fe.return=Z,Z=fe;break e}else{l(Z,W);break}else a(Z,W);W=W.sibling}fe=Lm(ne,Z.mode,fe),fe.return=Z,Z=fe}return j(Z);case E:return Oe=ne._init,ne=Oe(ne._payload),It(Z,W,ne,fe)}if(H(ne))return Xe(Z,W,ne,fe);if(N(ne)){if(Oe=N(ne),typeof Oe!="function")throw Error(s(150));return ne=Oe.call(ne),$e(Z,W,ne,fe)}if(typeof ne.then=="function")return It(Z,W,Wd(ne),fe);if(ne.$$typeof===k)return It(Z,W,Ld(Z,ne),fe);Xd(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(l(Z,W.sibling),fe=m(W,ne),fe.return=Z,Z=fe):(l(Z,W),fe=km(ne,Z.mode,fe),fe.return=Z,Z=fe),j(Z)):l(Z,W)}return function(Z,W,ne,fe){try{jc=0;var Oe=It(Z,W,ne,fe);return al=null,Oe}catch(Fe){if(Fe===gc||Fe===Ud)throw Fe;var at=br(29,Fe,null,Z.mode);return at.lanes=fe,at.return=Z,at}finally{}}}var il=Cv(!0),Dv=Cv(!1),zr=ce(null),Cs=null;function Ha(r){var a=r.alternate;ye(fn,fn.current&1),ye(zr,r),Cs===null&&(a===null||tl.current!==null||a.memoizedState!==null)&&(Cs=r)}function Iv(r){if(r.tag===22){if(ye(fn,fn.current),ye(zr,r),Cs===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Cs=r)}}else qa()}function qa(){ye(fn,fn.current),ye(zr,zr.current)}function da(r){xe(zr),Cs===r&&(Cs=null),xe(fn)}var fn=ce(0);function Zd(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ag(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function gp(r,a,l,u){a=r.memoizedState,l=l(u,a),l=l==null?a:x({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var yp={enqueueSetState:function(r,a,l){r=r._reactInternals;var u=Er(),m=za(u);m.payload=a,l!=null&&(m.callback=l),a=Fa(r,m,u),a!==null&&(jr(a,r,u),xc(a,r,u))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var u=Er(),m=za(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Fa(r,m,u),a!==null&&(jr(a,r,u),xc(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Er(),u=za(l);u.tag=2,a!=null&&(u.callback=a),a=Fa(r,u,l),a!==null&&(jr(a,r,l),xc(a,r,l))}};function Ov(r,a,l,u,m,y,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,j):a.prototype&&a.prototype.isPureReactComponent?!lc(l,u)||!lc(m,y):!0}function Mv(r,a,l,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==r&&yp.enqueueReplaceState(a,a.state,null)}function io(r,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(r=r.defaultProps){l===a&&(l=x({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}var Jd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Pv(r){Jd(r)}function kv(r){console.error(r)}function Lv(r){Jd(r)}function eh(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Vv(r,a,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function xp(r,a,l){return l=za(l),l.tag=3,l.payload={element:null},l.callback=function(){eh(r,a)},l}function Uv(r){return r=za(r),r.tag=3,r}function zv(r,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;r.payload=function(){return m(y)},r.callback=function(){Vv(a,l,u)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(r.callback=function(){Vv(a,l,u),typeof m!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function LE(r,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&fc(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Cs===null?Bp():l.alternate===null&&Yt===0&&(Yt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Km?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),qp(r,u,m)),!1;case 22:return l.flags|=65536,u===Km?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),qp(r,u,m)),!1}throw Error(s(435,l.tag))}return qp(r,u,m),Bp(),!1}if(_t)return a=zr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==zm&&(r=Error(s(422),{cause:u}),hc(kr(r,l)))):(u!==zm&&(a=Error(s(423),{cause:u}),hc(kr(a,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=kr(u,l),m=xp(r.stateNode,u,m),Wm(r,m),Yt!==4&&(Yt=2)),!1;var y=Error(s(520),{cause:u});if(y=kr(y,l),Oc===null?Oc=[y]:Oc.push(y),Yt!==4&&(Yt=2),a===null)return!0;u=kr(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=xp(l.stateNode,u,r),Wm(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wa===null||!Wa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Uv(m),zv(m,r,l,u),Wm(l,m),!1}l=l.return}while(l!==null);return!1}var Fv=Error(s(461)),_n=!1;function Cn(r,a,l,u){a.child=r===null?Dv(a,null,l,u):il(a,r.child,l,u)}function Bv(r,a,l,u,m){l=l.render;var y=a.ref;if("ref"in u){var j={};for(var O in u)O!=="ref"&&(j[O]=u[O])}else j=u;return ro(a),u=tp(r,a,l,j,y,m),O=np(),r!==null&&!_n?(rp(r,a,m),ha(r,a,m)):(_t&&O&&Vm(a),a.flags|=1,Cn(r,a,u,m),a.child)}function Hv(r,a,l,u,m){if(r===null){var y=l.type;return typeof y=="function"&&!Pm(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,qv(r,a,y,u,m)):(r=Od(l.type,null,u,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Sp(r,m)){var j=y.memoizedProps;if(l=l.compare,l=l!==null?l:lc,l(j,u)&&r.ref===a.ref)return ha(r,a,m)}return a.flags|=1,r=aa(y,u),r.ref=a.ref,r.return=a,a.child=r}function qv(r,a,l,u,m){if(r!==null){var y=r.memoizedProps;if(lc(y,u)&&r.ref===a.ref)if(_n=!1,a.pendingProps=u=y,Sp(r,m))(r.flags&131072)!==0&&(_n=!0);else return a.lanes=r.lanes,ha(r,a,m)}return vp(r,a,l,u,m)}function $v(r,a,l){var u=a.pendingProps,m=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return Gv(r,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vd(a,y!==null?y.cachePool:null),y!==null?qx(a,y):Zm(),Iv(a);else return a.lanes=a.childLanes=536870912,Gv(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Vd(a,y.cachePool),qx(a,y),qa(),a.memoizedState=null):(r!==null&&Vd(a,null),Zm(),qa());return Cn(r,a,m,l),a.child}function Gv(r,a,l,u){var m=Gm();return m=m===null?null:{parent:hn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},r!==null&&Vd(a,null),Zm(),Iv(a),r!==null&&fc(r,a,u,!0),null}function th(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function vp(r,a,l,u,m){return ro(a),l=tp(r,a,l,u,void 0,m),u=np(),r!==null&&!_n?(rp(r,a,m),ha(r,a,m)):(_t&&u&&Vm(a),a.flags|=1,Cn(r,a,l,m),a.child)}function Kv(r,a,l,u,m,y){return ro(a),a.updateQueue=null,l=Gx(a,u,l,m),$x(r),u=np(),r!==null&&!_n?(rp(r,a,y),ha(r,a,y)):(_t&&u&&Vm(a),a.flags|=1,Cn(r,a,l,y),a.child)}function Yv(r,a,l,u,m){if(ro(a),a.stateNode===null){var y=Wo,j=l.contextType;typeof j=="object"&&j!==null&&(y=Ln(j)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Ym(a),j=l.contextType,y.context=typeof j=="object"&&j!==null?Ln(j):Wo,y.state=a.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(gp(a,l,j,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&yp.enqueueReplaceState(y,y.state,null),bc(a,u,y,m),vc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){y=a.stateNode;var O=a.memoizedProps,K=io(l,O);y.props=K;var se=y.context,he=l.contextType;j=Wo,typeof he=="object"&&he!==null&&(j=Ln(he));var me=l.getDerivedStateFromProps;he=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||se!==j)&&Mv(a,y,u,j),Ua=!1;var oe=a.memoizedState;y.state=oe,bc(a,u,y,m),vc(),se=a.memoizedState,O||oe!==se||Ua?(typeof me=="function"&&(gp(a,l,me,u),se=a.memoizedState),(K=Ua||Ov(a,l,K,u,oe,se,j))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=se),y.props=u,y.state=se,y.context=j,u=K):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Qm(r,a),j=a.memoizedProps,he=io(l,j),y.props=he,me=a.pendingProps,oe=y.context,se=l.contextType,K=Wo,typeof se=="object"&&se!==null&&(K=Ln(se)),O=l.getDerivedStateFromProps,(se=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==me||oe!==K)&&Mv(a,y,u,K),Ua=!1,oe=a.memoizedState,y.state=oe,bc(a,u,y,m),vc();var le=a.memoizedState;j!==me||oe!==le||Ua||r!==null&&r.dependencies!==null&&kd(r.dependencies)?(typeof O=="function"&&(gp(a,l,O,u),le=a.memoizedState),(he=Ua||Ov(a,l,he,u,oe,le,K)||r!==null&&r.dependencies!==null&&kd(r.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,K),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,K)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=le),y.props=u,y.state=le,y.context=K,u=he):(typeof y.componentDidUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&oe===r.memoizedState||(a.flags|=1024),u=!1)}return y=u,th(r,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&u?(a.child=il(a,r.child,null,m),a.child=il(a,null,l,m)):Cn(r,a,l,m),a.memoizedState=y.state,r=a.child):r=ha(r,a,m),r}function Qv(r,a,l,u){return dc(),a.flags|=256,Cn(r,a,l,u),a.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(r){return{baseLanes:r,cachePool:kx()}}function _p(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Fr),r}function Wv(r,a,l){var u=a.pendingProps,m=!1,y=(a.flags&128)!==0,j;if((j=y)||(j=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),j&&(m=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,r===null){if(_t){if(m?Ha(a):qa(),_t){var O=Kt,K;if(K=O){e:{for(K=O,O=Rs;K.nodeType!==8;){if(!O){O=null;break e}if(K=as(K.nextSibling),K===null){O=null;break e}}O=K}O!==null?(a.memoizedState={dehydrated:O,treeContext:Zi!==null?{id:ia,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},K=br(18,null,null,0),K.stateNode=O,K.return=a,a.child=K,Xn=a,Kt=null,K=!0):K=!1}K||to(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return ag(O)?a.lanes=32:a.lanes=536870912,null;da(a)}return O=u.children,u=u.fallback,m?(qa(),m=a.mode,O=nh({mode:"hidden",children:O},m),u=Xi(u,m,l,null),O.return=a,u.return=a,O.sibling=u,a.child=O,m=a.child,m.memoizedState=wp(l),m.childLanes=_p(r,j,l),a.memoizedState=bp,u):(Ha(a),Np(a,O))}if(K=r.memoizedState,K!==null&&(O=K.dehydrated,O!==null)){if(y)a.flags&256?(Ha(a),a.flags&=-257,a=Ep(r,a,l)):a.memoizedState!==null?(qa(),a.child=r.child,a.flags|=128,a=null):(qa(),m=u.fallback,O=a.mode,u=nh({mode:"visible",children:u.children},O),m=Xi(m,O,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,il(a,r.child,null,l),u=a.child,u.memoizedState=wp(l),u.childLanes=_p(r,j,l),a.memoizedState=bp,a=m);else if(Ha(a),ag(O)){if(j=O.nextSibling&&O.nextSibling.dataset,j)var se=j.dgst;j=se,u=Error(s(419)),u.stack="",u.digest=j,hc({value:u,source:null,stack:null}),a=Ep(r,a,l)}else if(_n||fc(r,a,l,!1),j=(l&r.childLanes)!==0,_n||j){if(j=Lt,j!==null&&(u=l&-l,u=(u&42)!==0?1:ws(u),u=(u&(j.suspendedLanes|l))!==0?0:u,u!==0&&u!==K.retryLane))throw K.retryLane=u,Qo(r,u),jr(j,r,u),Fv;O.data==="$?"||Bp(),a=Ep(r,a,l)}else O.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=K.treeContext,Kt=as(O.nextSibling),Xn=a,_t=!0,eo=null,Rs=!1,r!==null&&(Vr[Ur++]=ia,Vr[Ur++]=oa,Vr[Ur++]=Zi,ia=r.id,oa=r.overflow,Zi=a),a=Np(a,u.children),a.flags|=4096);return a}return m?(qa(),m=u.fallback,O=a.mode,K=r.child,se=K.sibling,u=aa(K,{mode:"hidden",children:u.children}),u.subtreeFlags=K.subtreeFlags&65011712,se!==null?m=aa(se,m):(m=Xi(m,O,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,O=r.child.memoizedState,O===null?O=wp(l):(K=O.cachePool,K!==null?(se=hn._currentValue,K=K.parent!==se?{parent:se,pool:se}:K):K=kx(),O={baseLanes:O.baseLanes|l,cachePool:K}),m.memoizedState=O,m.childLanes=_p(r,j,l),a.memoizedState=bp,u):(Ha(a),l=r.child,r=l.sibling,l=aa(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,r!==null&&(j=a.deletions,j===null?(a.deletions=[r],a.flags|=16):j.push(r)),a.child=l,a.memoizedState=null,l)}function Np(r,a){return a=nh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function nh(r,a){return r=br(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ep(r,a,l){return il(a,r.child,null,l),r=Np(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Xv(r,a,l){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Bm(r.return,a,l)}function jp(r,a,l,u,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=m)}function Zv(r,a,l){var u=a.pendingProps,m=u.revealOrder,y=u.tail;if(Cn(r,a,u.children,l),u=fn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xv(r,l,a);else if(r.tag===19)Xv(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ye(fn,u),m){case"forwards":for(l=a.child,m=null;l!==null;)r=l.alternate,r!==null&&Zd(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),jp(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Zd(r)===null){a.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}jp(a,!0,l,null,y);break;case"together":jp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ha(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Qa|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(fc(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,l=aa(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=aa(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Sp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&kd(r)))}function VE(r,a,l){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),Va(a,hn,r.memoizedState.cache),dc();break;case 27:case 5:St(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:Va(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ha(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Wv(r,a,l):(Ha(a),r=ha(r,a,l),r!==null?r.sibling:null);Ha(a);break;case 19:var m=(r.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(fc(r,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Zv(r,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ye(fn,fn.current),u)break;return null;case 22:case 23:return a.lanes=0,$v(r,a,l);case 24:Va(a,hn,r.memoizedState.cache)}return ha(r,a,l)}function Jv(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)_n=!0;else{if(!Sp(r,l)&&(a.flags&128)===0)return _n=!1,VE(r,a,l);_n=(r.flags&131072)!==0}else _n=!1,_t&&(a.flags&1048576)!==0&&Rx(a,Pd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")Pm(u)?(r=io(u,r),a.tag=1,a=Yv(null,a,u,r,l)):(a.tag=0,a=vp(null,a,u,r,l));else{if(u!=null){if(m=u.$$typeof,m===q){a.tag=11,a=Bv(null,a,u,r,l);break e}else if(m===R){a.tag=14,a=Hv(null,a,u,r,l);break e}}throw a=J(u)||u,Error(s(306,a,""))}}return a;case 0:return vp(r,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=io(u,a.pendingProps),Yv(r,a,u,m,l);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(s(387));u=a.pendingProps;var y=a.memoizedState;m=y.element,Qm(r,a),bc(a,u,null,l);var j=a.memoizedState;if(u=j.cache,Va(a,hn,u),u!==y.cache&&Hm(a,[hn],l,!0),vc(),u=j.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Qv(r,a,u,l);break e}else if(u!==m){m=kr(Error(s(424)),a),hc(m),a=Qv(r,a,u,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Kt=as(r.firstChild),Xn=a,_t=!0,eo=null,Rs=!0,l=Dv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dc(),u===m){a=ha(r,a,l);break e}Cn(r,a,u,l)}a=a.child}return a;case 26:return th(r,a),r===null?(l=r1(a.type,null,a.pendingProps,null))?a.memoizedState=l:_t||(l=a.type,r=a.pendingProps,u=gh(Be.current).createElement(l),u[pe]=a,u[we]=r,In(u,l,r),Je(u),a.stateNode=u):a.memoizedState=r1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return St(a),r===null&&_t&&(u=a.stateNode=e1(a.type,a.pendingProps,Be.current),Xn=a,Rs=!0,m=Kt,Ja(a.type)?(ig=m,Kt=as(u.firstChild)):Kt=m),Cn(r,a,a.pendingProps.children,l),th(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&_t&&((m=u=Kt)&&(u=hj(u,a.type,a.pendingProps,Rs),u!==null?(a.stateNode=u,Xn=a,Kt=as(u.firstChild),Rs=!1,m=!0):m=!1),m||to(a)),St(a),m=a.type,y=a.pendingProps,j=r!==null?r.memoizedProps:null,u=y.children,ng(m,y)?u=null:j!==null&&ng(m,j)&&(a.flags|=32),a.memoizedState!==null&&(m=tp(r,a,CE,null,null,l),Bc._currentValue=m),th(r,a),Cn(r,a,u,l),a.child;case 6:return r===null&&_t&&((r=l=Kt)&&(l=fj(l,a.pendingProps,Rs),l!==null?(a.stateNode=l,Xn=a,Kt=null,r=!0):r=!1),r||to(a)),null;case 13:return Wv(r,a,l);case 4:return gt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=il(a,null,u,l):Cn(r,a,u,l),a.child;case 11:return Bv(r,a,a.type,a.pendingProps,l);case 7:return Cn(r,a,a.pendingProps,l),a.child;case 8:return Cn(r,a,a.pendingProps.children,l),a.child;case 12:return Cn(r,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Va(a,a.type,u.value),Cn(r,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,ro(a),m=Ln(m),u=u(m),a.flags|=1,Cn(r,a,u,l),a.child;case 14:return Hv(r,a,a.type,a.pendingProps,l);case 15:return qv(r,a,a.type,a.pendingProps,l);case 19:return Zv(r,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},r===null?(l=nh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=aa(r.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return $v(r,a,l);case 24:return ro(a),u=Ln(hn),r===null?(m=Gm(),m===null&&(m=Lt,y=qm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:u,cache:m},Ym(a),Va(a,hn,m)):((r.lanes&l)!==0&&(Qm(r,a),bc(a,null,null,l),vc()),m=r.memoizedState,y=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Va(a,hn,u)):(u=y.cache,Va(a,hn,u),u!==m.cache&&Hm(a,[hn],l,!0))),Cn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function fa(r){r.flags|=4}function eb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!l1(a)){if(a=zr.current,a!==null&&((mt&4194048)===mt?Cs!==null:(mt&62914560)!==mt&&(mt&536870912)===0||a!==Cs))throw yc=Km,Lx;r.flags|=8192}}function rh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Li():536870912,r.lanes|=a,ul|=a)}function Tc(r,a){if(!_t)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function qt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(a)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=l,a}function UE(r,a,l){var u=a.pendingProps;switch(Um(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(a),null;case 1:return qt(a),null;case 3:return l=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ca(hn),kn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(uc(a)?fa(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ix())),qt(a),null;case 26:return l=a.memoizedState,r===null?(fa(a),l!==null?(qt(a),eb(a,l)):(qt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(fa(a),qt(a),eb(a,l)):(qt(a),a.flags&=-16777217):(r.memoizedProps!==u&&fa(a),qt(a),a.flags&=-16777217),null;case 27:yn(a),l=Be.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&fa(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return qt(a),null}r=Ae.current,uc(a)?Cx(a):(r=e1(m,u,l),a.stateNode=r,fa(a))}return qt(a),null;case 5:if(yn(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&fa(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return qt(a),null}if(r=Ae.current,uc(a))Cx(a);else{switch(m=gh(Be.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}r[pe]=a,r[we]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(In(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fa(a)}}return qt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&fa(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(r=Be.current,uc(a)){if(r=a.stateNode,l=a.memoizedProps,u=null,m=Xn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[pe]=a,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Kb(r.nodeValue,l)),r||to(a)}else r=gh(r).createTextNode(u),r[pe]=a,a.stateNode=r}return qt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=uc(a),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[pe]=a}else dc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qt(a),m=!1}else m=Ix(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(da(a),a):(da(a),null)}if(da(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),rh(a,a.updateQueue),qt(a),null;case 4:return kn(),r===null&&Xp(a.stateNode.containerInfo),qt(a),null;case 10:return ca(a.type),qt(a),null;case 19:if(xe(fn),m=a.memoizedState,m===null)return qt(a),null;if(u=(a.flags&128)!==0,y=m.rendering,y===null)if(u)Tc(m,!1);else{if(Yt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Zd(r),y!==null){for(a.flags|=128,Tc(m,!1),r=y.updateQueue,a.updateQueue=r,rh(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Ax(l,r),l=l.sibling;return ye(fn,fn.current&1|2),a.child}r=r.sibling}m.tail!==null&&Tn()>ih&&(a.flags|=128,u=!0,Tc(m,!1),a.lanes=4194304)}else{if(!u)if(r=Zd(y),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,rh(a,r),Tc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!_t)return qt(a),null}else 2*Tn()-m.renderingStartTime>ih&&l!==536870912&&(a.flags|=128,u=!0,Tc(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Tn(),a.sibling=null,r=fn.current,ye(fn,u?r&1|2:r&1),a):(qt(a),null);case 22:case 23:return da(a),Jm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(qt(a),a.subtreeFlags&6&&(a.flags|=8192)):qt(a),l=a.updateQueue,l!==null&&rh(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),r!==null&&xe(so),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ca(hn),qt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function zE(r,a){switch(Um(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ca(hn),kn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return yn(a),null;case 13:if(da(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));dc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(fn),null;case 4:return kn(),null;case 10:return ca(a.type),null;case 22:case 23:return da(a),Jm(),r!==null&&xe(so),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ca(hn),null;case 25:return null;default:return null}}function tb(r,a){switch(Um(a),a.tag){case 3:ca(hn),kn();break;case 26:case 27:case 5:yn(a);break;case 4:kn();break;case 13:da(a);break;case 19:xe(fn);break;case 10:ca(a.type);break;case 22:case 23:da(a),Jm(),r!==null&&xe(so);break;case 24:ca(hn)}}function Ac(r,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&r)===r){u=void 0;var y=l.create,j=l.inst;u=y(),j.destroy=u}l=l.next}while(l!==m)}}catch(O){Pt(a,a.return,O)}}function $a(r,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){var j=u.inst,O=j.destroy;if(O!==void 0){j.destroy=void 0,m=a;var K=l,se=O;try{se()}catch(he){Pt(m,K,he)}}}u=u.next}while(u!==y)}}catch(he){Pt(a,a.return,he)}}function nb(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Hx(a,l)}catch(u){Pt(r,r.return,u)}}}function rb(r,a,l){l.props=io(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Pt(r,a,u)}}function Rc(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(m){Pt(r,a,m)}}function Ds(r,a){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Pt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Pt(r,a,m)}else l.current=null}function sb(r){var a=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Pt(r,r.return,m)}}function Tp(r,a,l){try{var u=r.stateNode;oj(u,r.type,l,a),u[we]=a}catch(m){Pt(r,r.return,m)}}function ab(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ja(r.type)||r.tag===4}function Ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ab(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ja(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ph));else if(u!==4&&(u===27&&Ja(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Rp(r,a,l),r=r.sibling;r!==null;)Rp(r,a,l),r=r.sibling}function sh(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(u!==4&&(u===27&&Ja(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(sh(r,a,l),r=r.sibling;r!==null;)sh(r,a,l),r=r.sibling}function ib(r){var a=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);In(a,u,l),a[pe]=r,a[we]=l}catch(y){Pt(r,r.return,y)}}var ma=!1,Jt=!1,Cp=!1,ob=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function FE(r,a){if(r=r.containerInfo,eg=_h,r=xx(r),Am(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var j=0,O=-1,K=-1,se=0,he=0,me=r,oe=null;t:for(;;){for(var le;me!==l||m!==0&&me.nodeType!==3||(O=j+m),me!==y||u!==0&&me.nodeType!==3||(K=j+u),me.nodeType===3&&(j+=me.nodeValue.length),(le=me.firstChild)!==null;)oe=me,me=le;for(;;){if(me===r)break t;if(oe===l&&++se===m&&(O=j),oe===y&&++he===u&&(K=j),(le=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=le}l=O===-1||K===-1?null:{start:O,end:K}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:r,selectionRange:l},_h=!1,Nn=a;Nn!==null;)if(a=Nn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Nn=r;else for(;Nn!==null;){switch(a=Nn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Xe=io(l.type,m,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Xe,y),u.__reactInternalSnapshotBeforeUpdate=r}catch($e){Pt(l,l.return,$e)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)sg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,Nn=r;break}Nn=a.return}}function lb(r,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ga(r,l),u&4&&Ac(5,l);break;case 1:if(Ga(r,l),u&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(j){Pt(l,l.return,j)}else{var m=io(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(j){Pt(l,l.return,j)}}u&64&&nb(l),u&512&&Rc(l,l.return);break;case 3:if(Ga(r,l),u&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hx(r,a)}catch(j){Pt(l,l.return,j)}}break;case 27:a===null&&u&4&&ib(l);case 26:case 5:Ga(r,l),a===null&&u&4&&sb(l),u&512&&Rc(l,l.return);break;case 12:Ga(r,l);break;case 13:Ga(r,l),u&4&&db(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=WE.bind(null,l),mj(r,l))));break;case 22:if(u=l.memoizedState!==null||ma,!u){a=a!==null&&a.memoizedState!==null||Jt,m=ma;var y=Jt;ma=u,(Jt=a)&&!y?Ka(r,l,(l.subtreeFlags&8772)!==0):Ga(r,l),ma=m,Jt=y}break;case 30:break;default:Ga(r,l)}}function cb(r){var a=r.alternate;a!==null&&(r.alternate=null,cb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Le(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,lr=!1;function pa(r,a,l){for(l=l.child;l!==null;)ub(r,a,l),l=l.sibling}function ub(r,a,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Ne,l)}catch{}switch(l.tag){case 26:Jt||Ds(l,a),pa(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||Ds(l,a);var u=Bt,m=lr;Ja(l.type)&&(Bt=l.stateNode,lr=!1),pa(r,a,l),Vc(l.stateNode),Bt=u,lr=m;break;case 5:Jt||Ds(l,a);case 6:if(u=Bt,m=lr,Bt=null,pa(r,a,l),Bt=u,lr=m,Bt!==null)if(lr)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(y){Pt(l,a,y)}else try{Bt.removeChild(l.stateNode)}catch(y){Pt(l,a,y)}break;case 18:Bt!==null&&(lr?(r=Bt,Zb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Gc(r)):Zb(Bt,l.stateNode));break;case 4:u=Bt,m=lr,Bt=l.stateNode.containerInfo,lr=!0,pa(r,a,l),Bt=u,lr=m;break;case 0:case 11:case 14:case 15:Jt||$a(2,l,a),Jt||$a(4,l,a),pa(r,a,l);break;case 1:Jt||(Ds(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&rb(l,a,u)),pa(r,a,l);break;case 21:pa(r,a,l);break;case 22:Jt=(u=Jt)||l.memoizedState!==null,pa(r,a,l),Jt=u;break;default:pa(r,a,l)}}function db(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gc(r)}catch(l){Pt(a,a.return,l)}}function BE(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new ob),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new ob),a;default:throw Error(s(435,r.tag))}}function Dp(r,a){var l=BE(r);a.forEach(function(u){var m=XE.bind(null,r,u);l.has(u)||(l.add(u),u.then(m,m))})}function wr(r,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=r,j=a,O=j;e:for(;O!==null;){switch(O.tag){case 27:if(Ja(O.type)){Bt=O.stateNode,lr=!1;break e}break;case 5:Bt=O.stateNode,lr=!1;break e;case 3:case 4:Bt=O.stateNode.containerInfo,lr=!0;break e}O=O.return}if(Bt===null)throw Error(s(160));ub(y,j,m),Bt=null,lr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)hb(a,r),a=a.sibling}var ss=null;function hb(r,a){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:wr(a,r),_r(r),u&4&&($a(3,r,r.return),Ac(3,r),$a(5,r,r.return));break;case 1:wr(a,r),_r(r),u&512&&(Jt||l===null||Ds(l,l.return)),u&64&&ma&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=ss;if(wr(a,r),_r(r),u&512&&(Jt||l===null||Ds(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ke]||y[pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),In(y,u,l),y[pe]=r,Je(y),u=y;break e;case"link":var j=i1("link","href",m).get(u+(l.href||""));if(j){for(var O=0;O<j.length;O++)if(y=j[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(O,1);break t}}y=m.createElement(u),In(y,u,l),m.head.appendChild(y);break;case"meta":if(j=i1("meta","content",m).get(u+(l.content||""))){for(O=0;O<j.length;O++)if(y=j[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(O,1);break t}}y=m.createElement(u),In(y,u,l),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[pe]=r,Je(y),u=y}r.stateNode=u}else o1(m,r.type,r.stateNode);else r.stateNode=a1(m,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?o1(m,r.type,r.stateNode):a1(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Tp(r,r.memoizedProps,l.memoizedProps)}break;case 27:wr(a,r),_r(r),u&512&&(Jt||l===null||Ds(l,l.return)),l!==null&&u&4&&Tp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(wr(a,r),_r(r),u&512&&(Jt||l===null||Ds(l,l.return)),r.flags&32){m=r.stateNode;try{Ir(m,"")}catch(le){Pt(r,r.return,le)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,Tp(r,m,l!==null?l.memoizedProps:m)),u&1024&&(Cp=!0);break;case 6:if(wr(a,r),_r(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(le){Pt(r,r.return,le)}}break;case 3:if(vh=null,m=ss,ss=yh(a.containerInfo),wr(a,r),ss=m,_r(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Gc(a.containerInfo)}catch(le){Pt(r,r.return,le)}Cp&&(Cp=!1,fb(r));break;case 4:u=ss,ss=yh(r.stateNode.containerInfo),wr(a,r),_r(r),ss=u;break;case 12:wr(a,r),_r(r);break;case 13:wr(a,r),_r(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lp=Tn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Dp(r,u)));break;case 22:m=r.memoizedState!==null;var K=l!==null&&l.memoizedState!==null,se=ma,he=Jt;if(ma=se||m,Jt=he||K,wr(a,r),Jt=he,ma=se,_r(r),u&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||K||ma||Jt||oo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){K=l=a;try{if(y=K.stateNode,m)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{O=K.stateNode;var me=K.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Pt(K,K.return,le)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=m?"":K.memoizedProps}catch(le){Pt(K,K.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Dp(r,l))));break;case 19:wr(a,r),_r(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Dp(r,u)));break;case 30:break;case 21:break;default:wr(a,r),_r(r)}}function _r(r){var a=r.flags;if(a&2){try{for(var l,u=r.return;u!==null;){if(ab(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,y=Ap(r);sh(r,y,m);break;case 5:var j=l.stateNode;l.flags&32&&(Ir(j,""),l.flags&=-33);var O=Ap(r);sh(r,O,j);break;case 3:case 4:var K=l.stateNode.containerInfo,se=Ap(r);Rp(r,se,K);break;default:throw Error(s(161))}}catch(he){Pt(r,r.return,he)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function fb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;fb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ga(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lb(r,a.alternate,a),a=a.sibling}function oo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:$a(4,a,a.return),oo(a);break;case 1:Ds(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&rb(a,a.return,l),oo(a);break;case 27:Vc(a.stateNode);case 26:case 5:Ds(a,a.return),oo(a);break;case 22:a.memoizedState===null&&oo(a);break;case 30:oo(a);break;default:oo(a)}r=r.sibling}}function Ka(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=r,y=a,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(m,y,l),Ac(4,y);break;case 1:if(Ka(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(se){Pt(u,u.return,se)}if(u=y,m=u.updateQueue,m!==null){var O=u.stateNode;try{var K=m.shared.hiddenCallbacks;if(K!==null)for(m.shared.hiddenCallbacks=null,m=0;m<K.length;m++)Bx(K[m],O)}catch(se){Pt(u,u.return,se)}}l&&j&64&&nb(y),Rc(y,y.return);break;case 27:ib(y);case 26:case 5:Ka(m,y,l),l&&u===null&&j&4&&sb(y),Rc(y,y.return);break;case 12:Ka(m,y,l);break;case 13:Ka(m,y,l),l&&j&4&&db(m,y);break;case 22:y.memoizedState===null&&Ka(m,y,l),Rc(y,y.return);break;case 30:break;default:Ka(m,y,l)}a=a.sibling}}function Ip(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&mc(l))}function Op(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&mc(r))}function Is(r,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mb(r,a,l,u),a=a.sibling}function mb(r,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Is(r,a,l,u),m&2048&&Ac(9,a);break;case 1:Is(r,a,l,u);break;case 3:Is(r,a,l,u),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&mc(r)));break;case 12:if(m&2048){Is(r,a,l,u),r=a.stateNode;try{var y=a.memoizedProps,j=y.id,O=y.onPostCommit;typeof O=="function"&&O(j,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(K){Pt(a,a.return,K)}}else Is(r,a,l,u);break;case 13:Is(r,a,l,u);break;case 23:break;case 22:y=a.stateNode,j=a.alternate,a.memoizedState!==null?y._visibility&2?Is(r,a,l,u):Cc(r,a):y._visibility&2?Is(r,a,l,u):(y._visibility|=2,ol(r,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&Ip(j,a);break;case 24:Is(r,a,l,u),m&2048&&Op(a.alternate,a);break;default:Is(r,a,l,u)}}function ol(r,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,j=a,O=l,K=u,se=j.flags;switch(j.tag){case 0:case 11:case 15:ol(y,j,O,K,m),Ac(8,j);break;case 23:break;case 22:var he=j.stateNode;j.memoizedState!==null?he._visibility&2?ol(y,j,O,K,m):Cc(y,j):(he._visibility|=2,ol(y,j,O,K,m)),m&&se&2048&&Ip(j.alternate,j);break;case 24:ol(y,j,O,K,m),m&&se&2048&&Op(j.alternate,j);break;default:ol(y,j,O,K,m)}a=a.sibling}}function Cc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,u=a,m=u.flags;switch(u.tag){case 22:Cc(l,u),m&2048&&Ip(u.alternate,u);break;case 24:Cc(l,u),m&2048&&Op(u.alternate,u);break;default:Cc(l,u)}a=a.sibling}}var Dc=8192;function ll(r){if(r.subtreeFlags&Dc)for(r=r.child;r!==null;)pb(r),r=r.sibling}function pb(r){switch(r.tag){case 26:ll(r),r.flags&Dc&&r.memoizedState!==null&&Tj(ss,r.memoizedState,r.memoizedProps);break;case 5:ll(r);break;case 3:case 4:var a=ss;ss=yh(r.stateNode.containerInfo),ll(r),ss=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Dc,Dc=16777216,ll(r),Dc=a):ll(r));break;default:ll(r)}}function gb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ic(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Nn=u,xb(u,r)}gb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yb(r),r=r.sibling}function yb(r){switch(r.tag){case 0:case 11:case 15:Ic(r),r.flags&2048&&$a(9,r,r.return);break;case 3:Ic(r);break;case 12:Ic(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,ah(r)):Ic(r);break;default:Ic(r)}}function ah(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Nn=u,xb(u,r)}gb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:$a(8,a,a.return),ah(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ah(a));break;default:ah(a)}r=r.sibling}}function xb(r,a){for(;Nn!==null;){var l=Nn;switch(l.tag){case 0:case 11:case 15:$a(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Nn=u;else e:for(l=r;Nn!==null;){u=Nn;var m=u.sibling,y=u.return;if(cb(u),u===l){Nn=null;break e}if(m!==null){m.return=y,Nn=m;break e}Nn=y}}}var HE={getCacheForType:function(r){var a=Ln(hn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},qE=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Lt=null,ot=null,mt=0,At=0,Nr=null,Ya=!1,cl=!1,Mp=!1,ga=0,Yt=0,Qa=0,lo=0,Pp=0,Fr=0,ul=0,Oc=null,cr=null,kp=!1,Lp=0,ih=1/0,oh=null,Wa=null,Dn=0,Xa=null,dl=null,hl=0,Vp=0,Up=null,vb=null,Mc=0,zp=null;function Er(){if((Tt&2)!==0&&mt!==0)return mt&-mt;if(G.T!==null){var r=Jo;return r!==0?r:Kp()}return Y()}function bb(){Fr===0&&(Fr=(mt&536870912)===0||_t?Ws():536870912);var r=zr.current;return r!==null&&(r.flags|=32),Fr}function jr(r,a,l){(r===Lt&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(fl(r,0),Za(r,mt,Fr,!1)),es(r,l),((Tt&2)===0||r!==Lt)&&(r===Lt&&((Tt&2)===0&&(lo|=l),Yt===4&&Za(r,mt,Fr,!1)),Os(r))}function wb(r,a,l){if((Tt&6)!==0)throw Error(s(327));var u=!l&&(a&124)===0&&(a&r.expiredLanes)===0||ar(r,a),m=u?KE(r,a):Hp(r,a,!0),y=u;do{if(m===0){cl&&!u&&Za(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!$E(l)){m=Hp(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var j=0;else j=r.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var O=r;m=Oc;var K=O.current.memoizedState.isDehydrated;if(K&&(fl(O,j).flags|=256),j=Hp(O,j,!1),j!==2){if(Mp&&!K){O.errorRecoveryDisabledLanes|=y,lo|=y,m=4;break e}y=cr,cr=m,y!==null&&(cr===null?cr=y:cr.push.apply(cr,y))}m=j}if(y=!1,m!==2)continue}}if(m===1){fl(r,0),Za(r,a,0,!0);break}e:{switch(u=r,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Za(u,a,Fr,!Ya);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=Lp+300-Tn(),10<m)){if(Za(u,a,Fr,!Ya),Rr(u,0,!0)!==0)break e;u.timeoutHandle=Wb(_b.bind(null,u,l,cr,oh,kp,a,Fr,lo,ul,Ya,y,2,-0,0),m);break e}_b(u,l,cr,oh,kp,a,Fr,lo,ul,Ya,y,0,-0,0)}}break}while(!0);Os(r)}function _b(r,a,l,u,m,y,j,O,K,se,he,me,oe,le){if(r.timeoutHandle=-1,me=a.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:Sj},pb(a),me=Aj(),me!==null)){r.cancelPendingCommit=me(Rb.bind(null,r,a,y,l,u,m,j,O,K,he,1,oe,le)),Za(r,y,j,!se);return}Rb(r,a,y,l,u,m,j,O,K)}function $E(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!vr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Za(r,a,l,u){a&=~Pp,a&=~lo,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var m=a;0<m;){var y=31-yt(m),j=1<<y;u[y]=-1,m&=~j}l!==0&&$n(r,l,a)}function lh(){return(Tt&6)===0?(Pc(0),!1):!0}function Fp(){if(ot!==null){if(At===0)var r=ot.return;else r=ot,la=no=null,sp(r),al=null,jc=0,r=ot;for(;r!==null;)tb(r.alternate,r),r=r.return;ot=null}}function fl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,cj(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Fp(),Lt=r,ot=l=aa(r.current,null),mt=a,At=0,Nr=null,Ya=!1,cl=ar(r,a),Mp=!1,ul=Fr=Pp=lo=Qa=Yt=0,cr=Oc=null,kp=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var m=31-yt(u),y=1<<m;a|=r[m],u&=~y}return ga=a,Cd(),l}function Nb(r,a){st=null,G.H=Qd,a===gc||a===Ud?(a=zx(),At=3):a===Lx?(a=zx(),At=4):At=a===Fv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nr=a,ot===null&&(Yt=1,eh(r,kr(a,r.current)))}function Eb(){var r=G.H;return G.H=Qd,r===null?Qd:r}function jb(){var r=G.A;return G.A=HE,r}function Bp(){Yt=4,Ya||(mt&4194048)!==mt&&zr.current!==null||(cl=!0),(Qa&134217727)===0&&(lo&134217727)===0||Lt===null||Za(Lt,mt,Fr,!1)}function Hp(r,a,l){var u=Tt;Tt|=2;var m=Eb(),y=jb();(Lt!==r||mt!==a)&&(oh=null,fl(r,a)),a=!1;var j=Yt;e:do try{if(At!==0&&ot!==null){var O=ot,K=Nr;switch(At){case 8:Fp(),j=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(a=!0);var se=At;if(At=0,Nr=null,ml(r,O,K,se),l&&cl){j=0;break e}break;default:se=At,At=0,Nr=null,ml(r,O,K,se)}}GE(),j=Yt;break}catch(he){Nb(r,he)}while(!0);return a&&r.shellSuspendCounter++,la=no=null,Tt=u,G.H=m,G.A=y,ot===null&&(Lt=null,mt=0,Cd()),j}function GE(){for(;ot!==null;)Sb(ot)}function KE(r,a){var l=Tt;Tt|=2;var u=Eb(),m=jb();Lt!==r||mt!==a?(oh=null,ih=Tn()+500,fl(r,a)):cl=ar(r,a);e:do try{if(At!==0&&ot!==null){a=ot;var y=Nr;t:switch(At){case 1:At=0,Nr=null,ml(r,a,y,1);break;case 2:case 9:if(Vx(y)){At=0,Nr=null,Tb(a);break}a=function(){At!==2&&At!==9||Lt!==r||(At=7),Os(r)},y.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Vx(y)?(At=0,Nr=null,Tb(a)):(At=0,Nr=null,ml(r,a,y,7));break;case 5:var j=null;switch(ot.tag){case 26:j=ot.memoizedState;case 5:case 27:var O=ot;if(!j||l1(j)){At=0,Nr=null;var K=O.sibling;if(K!==null)ot=K;else{var se=O.return;se!==null?(ot=se,ch(se)):ot=null}break t}}At=0,Nr=null,ml(r,a,y,5);break;case 6:At=0,Nr=null,ml(r,a,y,6);break;case 8:Fp(),Yt=6;break e;default:throw Error(s(462))}}YE();break}catch(he){Nb(r,he)}while(!0);return la=no=null,G.H=u,G.A=m,Tt=l,ot!==null?0:(Lt=null,mt=0,Cd(),Yt)}function YE(){for(;ot!==null&&!xs();)Sb(ot)}function Sb(r){var a=Jv(r.alternate,r,ga);r.memoizedProps=r.pendingProps,a===null?ch(r):ot=a}function Tb(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Kv(l,a,a.pendingProps,a.type,void 0,mt);break;case 11:a=Kv(l,a,a.pendingProps,a.type.render,a.ref,mt);break;case 5:sp(a);default:tb(l,a),a=ot=Ax(a,ga),a=Jv(l,a,ga)}r.memoizedProps=r.pendingProps,a===null?ch(r):ot=a}function ml(r,a,l,u){la=no=null,sp(a),al=null,jc=0;var m=a.return;try{if(LE(r,m,a,l,mt)){Yt=1,eh(r,kr(l,r.current)),ot=null;return}}catch(y){if(m!==null)throw ot=m,y;Yt=1,eh(r,kr(l,r.current)),ot=null;return}a.flags&32768?(_t||u===1?r=!0:cl||(mt&536870912)!==0?r=!1:(Ya=r=!0,(u===2||u===9||u===3||u===6)&&(u=zr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ab(a,r)):ch(a)}function ch(r){var a=r;do{if((a.flags&32768)!==0){Ab(a,Ya);return}r=a.return;var l=UE(a.alternate,a,ga);if(l!==null){ot=l;return}if(a=a.sibling,a!==null){ot=a;return}ot=a=r}while(a!==null);Yt===0&&(Yt=5)}function Ab(r,a){do{var l=zE(r.alternate,r);if(l!==null){l.flags&=32767,ot=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){ot=r;return}ot=r=l}while(r!==null);Yt=6,ot=null}function Rb(r,a,l,u,m,y,j,O,K){r.cancelPendingCommit=null;do uh();while(Dn!==0);if((Tt&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=Om,Da(r,l,y,j,O,K),r===Lt&&(ot=Lt=null,mt=0),dl=a,Xa=r,hl=l,Vp=y,Up=m,vb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ZE(re,function(){return Mb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,m=X.p,X.p=2,j=Tt,Tt|=4;try{FE(r,a,l)}finally{Tt=j,X.p=m,G.T=u}}Dn=1,Cb(),Db(),Ib()}}function Cb(){if(Dn===1){Dn=0;var r=Xa,a=dl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var u=X.p;X.p=2;var m=Tt;Tt|=4;try{hb(a,r);var y=tg,j=xx(r.containerInfo),O=y.focusedElem,K=y.selectionRange;if(j!==O&&O&&O.ownerDocument&&yx(O.ownerDocument.documentElement,O)){if(K!==null&&Am(O)){var se=K.start,he=K.end;if(he===void 0&&(he=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(he,O.value.length);else{var me=O.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),Xe=O.textContent.length,$e=Math.min(K.start,Xe),It=K.end===void 0?$e:Math.min(K.end,Xe);!le.extend&&$e>It&&(j=It,It=$e,$e=j);var Z=gx(O,$e),W=gx(O,It);if(Z&&W&&(le.rangeCount!==1||le.anchorNode!==Z.node||le.anchorOffset!==Z.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var ne=me.createRange();ne.setStart(Z.node,Z.offset),le.removeAllRanges(),$e>It?(le.addRange(ne),le.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),le.addRange(ne))}}}}for(me=[],le=O;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var fe=me[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}_h=!!eg,tg=eg=null}finally{Tt=m,X.p=u,G.T=l}}r.current=a,Dn=2}}function Db(){if(Dn===2){Dn=0;var r=Xa,a=dl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var u=X.p;X.p=2;var m=Tt;Tt|=4;try{lb(r,a.alternate,a)}finally{Tt=m,X.p=u,G.T=l}}Dn=3}}function Ib(){if(Dn===4||Dn===3){Dn=0,Ca();var r=Xa,a=dl,l=hl,u=vb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Dn=5:(Dn=0,dl=Xa=null,Ob(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Wa=null),Ia(l),a=a.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Ne,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=G.T,m=X.p,X.p=2,G.T=null;try{for(var y=r.onRecoverableError,j=0;j<u.length;j++){var O=u[j];y(O.value,{componentStack:O.stack})}}finally{G.T=a,X.p=m}}(hl&3)!==0&&uh(),Os(r),m=r.pendingLanes,(l&4194090)!==0&&(m&42)!==0?r===zp?Mc++:(Mc=0,zp=r):Mc=0,Pc(0)}}function Ob(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,mc(a)))}function uh(r){return Cb(),Db(),Ib(),Mb()}function Mb(){if(Dn!==5)return!1;var r=Xa,a=Vp;Vp=0;var l=Ia(hl),u=G.T,m=X.p;try{X.p=32>l?32:l,G.T=null,l=Up,Up=null;var y=Xa,j=hl;if(Dn=0,dl=Xa=null,hl=0,(Tt&6)!==0)throw Error(s(331));var O=Tt;if(Tt|=4,yb(y.current),mb(y,y.current,j,l),Tt=O,Pc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Ne,y)}catch{}return!0}finally{X.p=m,G.T=u,Ob(r,a)}}function Pb(r,a,l){a=kr(l,a),a=xp(r.stateNode,a,2),r=Fa(r,a,2),r!==null&&(es(r,2),Os(r))}function Pt(r,a,l){if(r.tag===3)Pb(r,r,l);else for(;a!==null;){if(a.tag===3){Pb(a,r,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wa===null||!Wa.has(u))){r=kr(l,r),l=Uv(2),u=Fa(a,l,2),u!==null&&(zv(l,u,a,r),es(u,2),Os(u));break}}a=a.return}}function qp(r,a,l){var u=r.pingCache;if(u===null){u=r.pingCache=new qE;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Mp=!0,m.add(l),r=QE.bind(null,r,a,l),a.then(r,r))}function QE(r,a,l){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Lt===r&&(mt&l)===l&&(Yt===4||Yt===3&&(mt&62914560)===mt&&300>Tn()-Lp?(Tt&2)===0&&fl(r,0):Pp|=l,ul===mt&&(ul=0)),Os(r)}function kb(r,a){a===0&&(a=Li()),r=Qo(r,a),r!==null&&(es(r,a),Os(r))}function WE(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),kb(r,l)}function XE(r,a){var l=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),kb(r,l)}function ZE(r,a){return Xr(r,a)}var dh=null,pl=null,$p=!1,hh=!1,Gp=!1,co=0;function Os(r){r!==pl&&r.next===null&&(pl===null?dh=pl=r:pl=pl.next=r),hh=!0,$p||($p=!0,ej())}function Pc(r,a){if(!Gp&&hh){Gp=!0;do for(var l=!1,u=dh;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var j=u.suspendedLanes,O=u.pingedLanes;y=(1<<31-yt(42|r)+1)-1,y&=m&~(j&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,zb(u,y))}else y=mt,y=Rr(u,u===Lt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ar(u,y)||(l=!0,zb(u,y));u=u.next}while(l);Gp=!1}}function JE(){Lb()}function Lb(){hh=$p=!1;var r=0;co!==0&&(lj()&&(r=co),co=0);for(var a=Tn(),l=null,u=dh;u!==null;){var m=u.next,y=Vb(u,a);y===0?(u.next=null,l===null?dh=m:l.next=m,m===null&&(pl=l)):(l=u,(r!==0||(y&3)!==0)&&(hh=!0)),u=m}Pc(r)}function Vb(r,a){for(var l=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var j=31-yt(y),O=1<<j,K=m[j];K===-1?((O&l)===0||(O&u)!==0)&&(m[j]=Jr(O,a)):K<=a&&(r.expiredLanes|=O),y&=~O}if(a=Lt,l=mt,l=Rr(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===a&&(At===2||At===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&xn(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ar(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(u!==null&&xn(u),Ia(l)){case 2:case 8:l=Q;break;case 32:l=re;break;case 268435456:l=Se;break;default:l=re}return u=Ub.bind(null,r),l=Xr(l,u),r.callbackPriority=a,r.callbackNode=l,a}return u!==null&&u!==null&&xn(u),r.callbackPriority=2,r.callbackNode=null,2}function Ub(r,a){if(Dn!==0&&Dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(uh()&&r.callbackNode!==l)return null;var u=mt;return u=Rr(r,r===Lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(wb(r,u,a),Vb(r,Tn()),r.callbackNode!=null&&r.callbackNode===l?Ub.bind(null,r):null)}function zb(r,a){if(uh())return null;wb(r,a,!0)}function ej(){uj(function(){(Tt&6)!==0?Xr(vs,JE):Lb()})}function Kp(){return co===0&&(co=Ws()),co}function Fb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Lo(""+r)}function Bb(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function tj(r,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var y=Fb((m[we]||null).action),j=u.submitter;j&&(a=(a=j[we]||null)?Fb(a.formAction):j.getAttribute("formAction"),a!==null&&(y=a,j=null));var O=new Vo("action","action",null,u,m);r.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(co!==0){var K=j?Bb(m,j):new FormData(m);fp(l,{pending:!0,data:K,method:m.method,action:y},null,K)}}else typeof y=="function"&&(O.preventDefault(),K=j?Bb(m,j):new FormData(m),fp(l,{pending:!0,data:K,method:m.method,action:y},y,K))},currentTarget:m}]})}}for(var Yp=0;Yp<Im.length;Yp++){var Qp=Im[Yp],nj=Qp.toLowerCase(),rj=Qp[0].toUpperCase()+Qp.slice(1);rs(nj,"on"+rj)}rs(wx,"onAnimationEnd"),rs(_x,"onAnimationIteration"),rs(Nx,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(bE,"onTransitionRun"),rs(wE,"onTransitionStart"),rs(_E,"onTransitionCancel"),rs(Ex,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function Hb(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],m=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var j=u.length-1;0<=j;j--){var O=u[j],K=O.instance,se=O.currentTarget;if(O=O.listener,K!==y&&m.isPropagationStopped())break e;y=O,m.currentTarget=se;try{y(m)}catch(he){Jd(he)}m.currentTarget=null,y=K}else for(j=0;j<u.length;j++){if(O=u[j],K=O.instance,se=O.currentTarget,O=O.listener,K!==y&&m.isPropagationStopped())break e;y=O,m.currentTarget=se;try{y(m)}catch(he){Jd(he)}m.currentTarget=null,y=K}}}}function lt(r,a){var l=a[Ve];l===void 0&&(l=a[Ve]=new Set);var u=r+"__bubble";l.has(u)||(qb(a,r,2,!1),l.add(u))}function Wp(r,a,l){var u=0;a&&(u|=4),qb(l,r,u,a)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Xp(r){if(!r[fh]){r[fh]=!0,wt.forEach(function(l){l!=="selectionchange"&&(sj.has(l)||Wp(l,!1,r),Wp(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[fh]||(a[fh]=!0,Wp("selectionchange",!1,a))}}function qb(r,a,l,u){switch(m1(a)){case 2:var m=Dj;break;case 8:m=Ij;break;default:m=dg}l=m.bind(null,a,l,r),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(a,l,{capture:!0,passive:m}):r.addEventListener(a,l,!0):m!==void 0?r.addEventListener(a,l,{passive:m}):r.addEventListener(a,l,!1)}function Zp(r,a,l,u,m){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var O=u.stateNode.containerInfo;if(O===m)break;if(j===4)for(j=u.return;j!==null;){var K=j.tag;if((K===3||K===4)&&j.stateNode.containerInfo===m)return;j=j.return}for(;O!==null;){if(j=nt(O),j===null)return;if(K=j.tag,K===5||K===6||K===26||K===27){u=y=j;continue e}O=O.parentNode}}u=u.return}pd(function(){var se=y,he=Or(l),me=[];e:{var oe=jx.get(r);if(oe!==void 0){var le=Vo,Xe=r;switch(r){case"keypress":if(Es(l)===0)break e;case"keydown":case"keyup":le=qo;break;case"focusin":Xe="focus",le=Fo;break;case"focusout":Xe="blur",le=Fo;break;case"beforeblur":case"afterblur":le=Fo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Nd;break;case wx:case _x:case Nx:le=Bo;break;case Ex:le=jd;break;case"scroll":case"scrollend":le=gd;break;case"wheel":le=$o;break;case"copy":case"cut":case"paste":le=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ic;break;case"toggle":case"beforetoggle":le=Td}var $e=(a&4)!==0,It=!$e&&(r==="scroll"||r==="scrollend"),Z=$e?oe!==null?oe+"Capture":null:oe;$e=[];for(var W=se,ne;W!==null;){var fe=W;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||Z===null||(fe=Bi(W,Z),fe!=null&&$e.push(Lc(W,fe,ne))),It)break;W=W.return}0<$e.length&&(oe=new le(oe,Xe,null,l,he),me.push({event:oe,listeners:$e}))}}if((a&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",oe&&l!==Js&&(Xe=l.relatedTarget||l.fromElement)&&(nt(Xe)||Xe[Ce]))break e;if((le||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(Xe=l.relatedTarget||l.toElement,le=se,Xe=Xe?nt(Xe):null,Xe!==null&&(It=c(Xe),$e=Xe.tag,Xe!==It||$e!==5&&$e!==27&&$e!==6)&&(Xe=null)):(le=null,Xe=se),le!==Xe)){if($e=Pr,fe="onMouseLeave",Z="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&($e=ic,fe="onPointerLeave",Z="onPointerEnter",W="pointer"),It=le==null?oe:Mt(le),ne=Xe==null?oe:Mt(Xe),oe=new $e(fe,W+"leave",le,l,he),oe.target=It,oe.relatedTarget=ne,fe=null,nt(he)===se&&($e=new $e(Z,W+"enter",Xe,l,he),$e.target=ne,$e.relatedTarget=It,fe=$e),It=fe,le&&Xe)t:{for($e=le,Z=Xe,W=0,ne=$e;ne;ne=gl(ne))W++;for(ne=0,fe=Z;fe;fe=gl(fe))ne++;for(;0<W-ne;)$e=gl($e),W--;for(;0<ne-W;)Z=gl(Z),ne--;for(;W--;){if($e===Z||Z!==null&&$e===Z.alternate)break t;$e=gl($e),Z=gl(Z)}$e=null}else $e=null;le!==null&&$b(me,oe,le,$e,!1),Xe!==null&&It!==null&&$b(me,It,Xe,$e,!0)}}e:{if(oe=se?Mt(se):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Oe=ux;else if(dn(oe))if(dx)Oe=yE;else{Oe=pE;var at=mE}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Jl(se.elementType)&&(Oe=ux):Oe=gE;if(Oe&&(Oe=Oe(r,se))){sa(me,Oe,l,he);break e}at&&at(r,oe,se),r==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&ka(oe,"number",oe.value)}switch(at=se?Mt(se):window,r){case"focusin":(dn(at)||at.contentEditable==="true")&&(Go=at,Rm=se,cc=null);break;case"focusout":cc=Rm=Go=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,vx(me,l,he);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":vx(me,l,he)}var Fe;if(Ts)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else ht?ue(r,l)&&(Ke="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(_&&l.locale!=="ko"&&(ht||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&ht&&(Fe=tc()):(Ns=he,La="value"in Ns?Ns.value:Ns.textContent,ht=!0)),at=mh(se,Ke),0<at.length&&(Ke=new sc(Ke,r,null,l,he),me.push({event:Ke,listeners:at}),Fe?Ke.data=Fe:(Fe=je(l),Fe!==null&&(Ke.data=Fe)))),(Fe=v?un(r,l):ft(r,l))&&(Ke=mh(se,"onBeforeInput"),0<Ke.length&&(at=new sc("onBeforeInput","beforeinput",null,l,he),me.push({event:at,listeners:Ke}),at.data=Fe)),tj(me,r,se,l,he)}Hb(me,a)})}function Lc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function mh(r,a){for(var l=a+"Capture",u=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Bi(r,l),m!=null&&u.unshift(Lc(r,m,y)),m=Bi(r,a),m!=null&&u.push(Lc(r,m,y))),r.tag===3)return u;r=r.return}return[]}function gl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $b(r,a,l,u,m){for(var y=a._reactName,j=[];l!==null&&l!==u;){var O=l,K=O.alternate,se=O.stateNode;if(O=O.tag,K!==null&&K===u)break;O!==5&&O!==26&&O!==27||se===null||(K=se,m?(se=Bi(l,y),se!=null&&j.unshift(Lc(l,se,K))):m||(se=Bi(l,y),se!=null&&j.push(Lc(l,se,K)))),l=l.return}j.length!==0&&r.push({event:a,listeners:j})}var aj=/\r\n?/g,ij=/\u0000|\uFFFD/g;function Gb(r){return(typeof r=="string"?r:""+r).replace(aj,`
`).replace(ij,"")}function Kb(r,a){return a=Gb(a),Gb(r)===a}function ph(){}function Dt(r,a,l,u,m,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ir(r,""+u);break;case"className":Kn(r,"class",u);break;case"tabIndex":Kn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(r,l,u);break;case"style":Zl(r,u,y);break;case"data":if(a!=="object"){Kn(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Lo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Dt(r,a,"name",m.name,m,null),Dt(r,a,"formEncType",m.formEncType,m,null),Dt(r,a,"formMethod",m.formMethod,m,null),Dt(r,a,"formTarget",m.formTarget,m,null)):(Dt(r,a,"encType",m.encType,m,null),Dt(r,a,"method",m.method,m,null),Dt(r,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Lo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=ph);break;case"onScroll":u!=null&&lt("scroll",r);break;case"onScrollEnd":u!=null&&lt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Lo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":lt("beforetoggle",r),lt("toggle",r),yr(r,"popover",u);break;case"xlinkActuate":We(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_m.get(l)||l,yr(r,l,u))}}function Jp(r,a,l,u,m,y){switch(l){case"style":Zl(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&Ir(r,""+u);break;case"onScroll":u!=null&&lt("scroll",r);break;case"onScrollEnd":u!=null&&lt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=r[we]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,u,m);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):yr(r,l,u)}}}function In(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",r),lt("load",r);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var j=l[y];if(j!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Dt(r,a,y,j,l,null)}}m&&Dt(r,a,"srcSet",l.srcSet,l,null),u&&Dt(r,a,"src",l.src,l,null);return;case"input":lt("invalid",r);var O=y=j=m=null,K=null,se=null;for(u in l)if(l.hasOwnProperty(u)){var he=l[u];if(he!=null)switch(u){case"name":m=he;break;case"type":j=he;break;case"checked":K=he;break;case"defaultChecked":se=he;break;case"value":y=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,a));break;default:Dt(r,a,u,he,l,null)}}Ui(r,y,O,K,se,j,m,!1),ko(r);return;case"select":lt("invalid",r),u=j=y=null;for(m in l)if(l.hasOwnProperty(m)&&(O=l[m],O!=null))switch(m){case"value":y=O;break;case"defaultValue":j=O;break;case"multiple":u=O;default:Dt(r,a,m,O,l,null)}a=y,l=j,r.multiple=!!u,a!=null?Zs(r,!!u,a,!1):l!=null&&Zs(r,!!u,l,!0);return;case"textarea":lt("invalid",r),y=m=u=null;for(j in l)if(l.hasOwnProperty(j)&&(O=l[j],O!=null))switch(j){case"value":u=O;break;case"defaultValue":m=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Dt(r,a,j,O,l,null)}zi(r,u,m,y),ko(r);return;case"option":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dt(r,a,K,u,l,null)}return;case"dialog":lt("beforetoggle",r),lt("toggle",r),lt("cancel",r),lt("close",r);break;case"iframe":case"object":lt("load",r);break;case"video":case"audio":for(u=0;u<kc.length;u++)lt(kc[u],r);break;case"image":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"embed":case"source":case"link":lt("error",r),lt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(u=l[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Dt(r,a,se,u,l,null)}return;default:if(Jl(a)){for(he in l)l.hasOwnProperty(he)&&(u=l[he],u!==void 0&&Jp(r,a,he,u,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null&&Dt(r,a,O,u,l,null))}function oj(r,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,j=null,O=null,K=null,se=null,he=null;for(le in l){var me=l[le];if(l.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=me;default:u.hasOwnProperty(le)||Dt(r,a,le,null,u,me)}}for(var oe in u){var le=u[oe];if(me=l[oe],u.hasOwnProperty(oe)&&(le!=null||me!=null))switch(oe){case"type":y=le;break;case"name":m=le;break;case"checked":se=le;break;case"defaultChecked":he=le;break;case"value":j=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,a));break;default:le!==me&&Dt(r,a,oe,le,u,me)}}xr(r,j,O,K,se,he,y,m);return;case"select":le=j=O=oe=null;for(y in l)if(K=l[y],l.hasOwnProperty(y)&&K!=null)switch(y){case"value":break;case"multiple":le=K;default:u.hasOwnProperty(y)||Dt(r,a,y,null,u,K)}for(m in u)if(y=u[m],K=l[m],u.hasOwnProperty(m)&&(y!=null||K!=null))switch(m){case"value":oe=y;break;case"defaultValue":O=y;break;case"multiple":j=y;default:y!==K&&Dt(r,a,m,y,u,K)}a=O,l=j,u=le,oe!=null?Zs(r,!!l,oe,!1):!!u!=!!l&&(a!=null?Zs(r,!!l,a,!0):Zs(r,!!l,l?[]:"",!1));return;case"textarea":le=oe=null;for(O in l)if(m=l[O],l.hasOwnProperty(O)&&m!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Dt(r,a,O,null,u,m)}for(j in u)if(m=u[j],y=l[j],u.hasOwnProperty(j)&&(m!=null||y!=null))switch(j){case"value":oe=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Dt(r,a,j,m,u,y)}Rt(r,oe,le);return;case"option":for(var Xe in l)if(oe=l[Xe],l.hasOwnProperty(Xe)&&oe!=null&&!u.hasOwnProperty(Xe))switch(Xe){case"selected":r.selected=!1;break;default:Dt(r,a,Xe,null,u,oe)}for(K in u)if(oe=u[K],le=l[K],u.hasOwnProperty(K)&&oe!==le&&(oe!=null||le!=null))switch(K){case"selected":r.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Dt(r,a,K,oe,u,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)oe=l[$e],l.hasOwnProperty($e)&&oe!=null&&!u.hasOwnProperty($e)&&Dt(r,a,$e,null,u,oe);for(se in u)if(oe=u[se],le=l[se],u.hasOwnProperty(se)&&oe!==le&&(oe!=null||le!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,a));break;default:Dt(r,a,se,oe,u,le)}return;default:if(Jl(a)){for(var It in l)oe=l[It],l.hasOwnProperty(It)&&oe!==void 0&&!u.hasOwnProperty(It)&&Jp(r,a,It,void 0,u,oe);for(he in u)oe=u[he],le=l[he],!u.hasOwnProperty(he)||oe===le||oe===void 0&&le===void 0||Jp(r,a,he,oe,u,le);return}}for(var Z in l)oe=l[Z],l.hasOwnProperty(Z)&&oe!=null&&!u.hasOwnProperty(Z)&&Dt(r,a,Z,null,u,oe);for(me in u)oe=u[me],le=l[me],!u.hasOwnProperty(me)||oe===le||oe==null&&le==null||Dt(r,a,me,oe,u,le)}var eg=null,tg=null;function gh(r){return r.nodeType===9?r:r.ownerDocument}function Yb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ng(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rg=null;function lj(){var r=window.event;return r&&r.type==="popstate"?r===rg?!1:(rg=r,!0):(rg=null,!1)}var Wb=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0,Xb=typeof Promise=="function"?Promise:void 0,uj=typeof queueMicrotask=="function"?queueMicrotask:typeof Xb<"u"?function(r){return Xb.resolve(null).then(r).catch(dj)}:Wb;function dj(r){setTimeout(function(){throw r})}function Ja(r){return r==="head"}function Zb(r,a){var l=a,u=0,m=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var j=r.ownerDocument;if(l&1&&Vc(j.documentElement),l&2&&Vc(j.body),l&4)for(l=j.head,Vc(l),j=l.firstChild;j;){var O=j.nextSibling,K=j.nodeName;j[ke]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&j.rel.toLowerCase()==="stylesheet"||l.removeChild(j),j=O}}if(m===0){r.removeChild(y),Gc(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Gc(a)}function sg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sg(l),Le(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function hj(r,a,l,u){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ke])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=as(r.nextSibling),r===null)break}return null}function fj(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=as(r.nextSibling),r===null))return null;return r}function ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function mj(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function as(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var ig=null;function Jb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function e1(r,a,l){switch(a=gh(l),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Vc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Le(r)}var Br=new Map,t1=new Set;function yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ya=X.d;X.d={f:pj,r:gj,D:yj,C:xj,L:vj,m:bj,X:_j,S:wj,M:Nj};function pj(){var r=ya.f(),a=lh();return r||a}function gj(r){var a=xt(r);a!==null&&a.tag===5&&a.type==="form"?wv(a):ya.r(r)}var yl=typeof document>"u"?null:document;function n1(r,a,l){var u=yl;if(u&&typeof a=="string"&&a){var m=nn(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),t1.has(m)||(t1.add(m),r={rel:r,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),In(a,"link",r),Je(a),u.head.appendChild(a)))}}function yj(r){ya.D(r),n1("dns-prefetch",r,null)}function xj(r,a){ya.C(r,a),n1("preconnect",r,a)}function vj(r,a,l){ya.L(r,a,l);var u=yl;if(u&&r&&a){var m='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+nn(l.imageSizes)+'"]')):m+='[href="'+nn(r)+'"]';var y=m;switch(a){case"style":y=xl(r);break;case"script":y=vl(r)}Br.has(y)||(r=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Br.set(y,r),u.querySelector(m)!==null||a==="style"&&u.querySelector(Uc(y))||a==="script"&&u.querySelector(zc(y))||(a=u.createElement("link"),In(a,"link",r),Je(a),u.head.appendChild(a)))}}function bj(r,a){ya.m(r,a);var l=yl;if(l&&r){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+nn(u)+'"][href="'+nn(r)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vl(r)}if(!Br.has(y)&&(r=x({rel:"modulepreload",href:r},a),Br.set(y,r),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zc(y)))return}u=l.createElement("link"),In(u,"link",r),Je(u),l.head.appendChild(u)}}}function wj(r,a,l){ya.S(r,a,l);var u=yl;if(u&&r){var m=bt(u).hoistableStyles,y=xl(r);a=a||"default";var j=m.get(y);if(!j){var O={loading:0,preload:null};if(j=u.querySelector(Uc(y)))O.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Br.get(y))&&og(r,l);var K=j=u.createElement("link");Je(K),In(K,"link",r),K._p=new Promise(function(se,he){K.onload=se,K.onerror=he}),K.addEventListener("load",function(){O.loading|=1}),K.addEventListener("error",function(){O.loading|=2}),O.loading|=4,xh(j,a,u)}j={type:"stylesheet",instance:j,count:1,state:O},m.set(y,j)}}}function _j(r,a){ya.X(r,a);var l=yl;if(l&&r){var u=bt(l).hoistableScripts,m=vl(r),y=u.get(m);y||(y=l.querySelector(zc(m)),y||(r=x({src:r,async:!0},a),(a=Br.get(m))&&lg(r,a),y=l.createElement("script"),Je(y),In(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function Nj(r,a){ya.M(r,a);var l=yl;if(l&&r){var u=bt(l).hoistableScripts,m=vl(r),y=u.get(m);y||(y=l.querySelector(zc(m)),y||(r=x({src:r,async:!0,type:"module"},a),(a=Br.get(m))&&lg(r,a),y=l.createElement("script"),Je(y),In(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function r1(r,a,l,u){var m=(m=Be.current)?yh(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=xl(l.href),l=bt(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=xl(l.href);var y=bt(m).hoistableStyles,j=y.get(r);if(j||(m=m.ownerDocument||m,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,j),(y=m.querySelector(Uc(r)))&&!y._p&&(j.instance=y,j.state.loading=5),Br.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Br.set(r,l),y||Ej(m,r,l,j.state))),a&&u===null)throw Error(s(528,""));return j}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vl(l),l=bt(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function xl(r){return'href="'+nn(r)+'"'}function Uc(r){return'link[rel="stylesheet"]['+r+"]"}function s1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function Ej(r,a,l,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),In(a,"link",l),Je(a),r.head.appendChild(a))}function vl(r){return'[src="'+nn(r)+'"]'}function zc(r){return"script[async]"+r}function a1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+nn(l.href)+'"]');if(u)return a.instance=u,Je(u),u;var m=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Je(u),In(u,"style",m),xh(u,l.precedence,r),a.instance=u;case"stylesheet":m=xl(l.href);var y=r.querySelector(Uc(m));if(y)return a.state.loading|=4,a.instance=y,Je(y),y;u=s1(l),(m=Br.get(m))&&og(u,m),y=(r.ownerDocument||r).createElement("link"),Je(y);var j=y;return j._p=new Promise(function(O,K){j.onload=O,j.onerror=K}),In(y,"link",u),a.state.loading|=4,xh(y,l.precedence,r),a.instance=y;case"script":return y=vl(l.src),(m=r.querySelector(zc(y)))?(a.instance=m,Je(m),m):(u=l,(m=Br.get(y))&&(u=x({},l),lg(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),Je(m),In(m,"link",u),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,xh(u,l.precedence,r));return a.instance}function xh(r,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,j=0;j<u.length;j++){var O=u[j];if(O.dataset.precedence===a)y=O;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function og(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function lg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var vh=null;function i1(r,a,l){if(vh===null){var u=new Map,m=vh=new Map;m.set(l,u)}else m=vh,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var y=l[m];if(!(y[ke]||y[pe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(a)||"";j=r+j;var O=u.get(j);O?O.push(y):u.set(j,[y])}}return u}function o1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function jj(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function l1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Fc=null;function Sj(){}function Tj(r,a,l){if(Fc===null)throw Error(s(475));var u=Fc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=xl(l.href),y=r.querySelector(Uc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=bh.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=y,Je(y);return}y=r.ownerDocument||r,l=s1(l),(m=Br.get(m))&&og(l,m),y=y.createElement("link"),Je(y);var j=y;j._p=new Promise(function(O,K){j.onload=O,j.onerror=K}),In(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=bh.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function Aj(){if(Fc===null)throw Error(s(475));var r=Fc;return r.stylesheets&&r.count===0&&cg(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&cg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)cg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wh=null;function cg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wh=new Map,a.forEach(Rj,r),wh=null,bh.call(r))}function Rj(r,a){if(!(a.state.loading&4)){var l=wh.get(r);if(l)var u=l.get(null);else{l=new Map,wh.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var j=m[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),u=j)}u&&l.set(null,u)}m=a.instance,j=m.getAttribute("data-precedence"),y=l.get(j)||u,y===u&&l.set(null,m),l.set(j,m),this.count++,u=bh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Bc={$$typeof:k,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Cj(r,a,l,u,m,y,j,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function c1(r,a,l,u,m,y,j,O,K,se,he,me){return r=new Cj(r,a,l,j,O,K,se,me),a=1,y===!0&&(a|=24),y=br(3,null,null,a),r.current=y,y.stateNode=r,a=qm(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Ym(y),r}function u1(r){return r?(r=Wo,r):Wo}function d1(r,a,l,u,m,y){m=u1(m),u.context===null?u.context=m:u.pendingContext=m,u=za(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Fa(r,u,a),l!==null&&(jr(l,r,a),xc(l,r,a))}function h1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function ug(r,a){h1(r,a),(r=r.alternate)&&h1(r,a)}function f1(r){if(r.tag===13){var a=Qo(r,67108864);a!==null&&jr(a,r,67108864),ug(r,67108864)}}var _h=!0;function Dj(r,a,l,u){var m=G.T;G.T=null;var y=X.p;try{X.p=2,dg(r,a,l,u)}finally{X.p=y,G.T=m}}function Ij(r,a,l,u){var m=G.T;G.T=null;var y=X.p;try{X.p=8,dg(r,a,l,u)}finally{X.p=y,G.T=m}}function dg(r,a,l,u){if(_h){var m=hg(u);if(m===null)Zp(r,a,u,Nh,l),p1(r,u);else if(Mj(m,r,a,l,u))u.stopPropagation();else if(p1(r,u),a&4&&-1<Oj.indexOf(r)){for(;m!==null;){var y=xt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=qn(y.pendingLanes);if(j!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;j;){var K=1<<31-yt(j);O.entanglements[1]|=K,j&=~K}Os(y),(Tt&6)===0&&(ih=Tn()+500,Pc(0))}}break;case 13:O=Qo(y,2),O!==null&&jr(O,y,2),lh(),ug(y,2)}if(y=hg(u),y===null&&Zp(r,a,u,Nh,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else Zp(r,a,u,null,l)}}function hg(r){return r=Or(r),fg(r)}var Nh=null;function fg(r){if(Nh=null,r=nt(r),r!==null){var a=c(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=d(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Nh=r,null}function m1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case vs:return 2;case Q:return 8;case re:case de:return 32;case Se:return 268435456;default:return 32}default:return 32}}var mg=!1,ei=null,ti=null,ni=null,Hc=new Map,qc=new Map,ri=[],Oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p1(r,a){switch(r){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Hc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(a.pointerId)}}function $c(r,a,l,u,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},a!==null&&(a=xt(a),a!==null&&f1(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function Mj(r,a,l,u,m){switch(a){case"focusin":return ei=$c(ei,r,a,l,u,m),!0;case"dragenter":return ti=$c(ti,r,a,l,u,m),!0;case"mouseover":return ni=$c(ni,r,a,l,u,m),!0;case"pointerover":var y=m.pointerId;return Hc.set(y,$c(Hc.get(y)||null,r,a,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,qc.set(y,$c(qc.get(y)||null,r,a,l,u,m)),!0}return!1}function g1(r){var a=nt(r.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=d(l),a!==null){r.blockedOn=a,ee(r.priority,function(){if(l.tag===13){var u=Er();u=ws(u);var m=Qo(l,u);m!==null&&jr(m,l,u),ug(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=hg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Js=u,l.target.dispatchEvent(u),Js=null}else return a=xt(l),a!==null&&f1(a),r.blockedOn=l,!1;a.shift()}return!0}function y1(r,a,l){Eh(r)&&l.delete(a)}function Pj(){mg=!1,ei!==null&&Eh(ei)&&(ei=null),ti!==null&&Eh(ti)&&(ti=null),ni!==null&&Eh(ni)&&(ni=null),Hc.forEach(y1),qc.forEach(y1)}function jh(r,a){r.blockedOn===a&&(r.blockedOn=null,mg||(mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pj)))}var Sh=null;function x1(r){Sh!==r&&(Sh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1],m=r[a+2];if(typeof u!="function"){if(fg(u||l)===null)continue;break}var y=xt(l);y!==null&&(r.splice(a,3),a-=3,fp(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Gc(r){function a(K){return jh(K,r)}ei!==null&&jh(ei,r),ti!==null&&jh(ti,r),ni!==null&&jh(ni,r),Hc.forEach(a),qc.forEach(a);for(var l=0;l<ri.length;l++){var u=ri[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ri.length&&(l=ri[0],l.blockedOn===null);)g1(l),l.blockedOn===null&&ri.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],j=m[we]||null;if(typeof y=="function")j||x1(l);else if(j){var O=null;if(y&&y.hasAttribute("formAction")){if(m=y,j=y[we]||null)O=j.formAction;else if(fg(m)!==null)continue}else O=j.action;typeof O=="function"?l[u+1]=O:(l.splice(u,3),u-=3),x1(l)}}}function pg(r){this._internalRoot=r}Th.prototype.render=pg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,u=Er();d1(l,u,r,a,null,null)},Th.prototype.unmount=pg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;d1(r.current,2,null,r,null,null),lh(),a[Ce]=null}};function Th(r){this._internalRoot=r}Th.prototype.unstable_scheduleHydration=function(r){if(r){var a=Y();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ri.length&&a!==0&&a<ri[l].priority;l++);ri.splice(l,0,r),l===0&&g1(r)}};var v1=e.version;if(v1!=="19.1.1")throw Error(s(527,v1,"19.1.1"));X.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var kj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Ne=Ah.inject(kj),Re=Ah}catch{}}return Yc.createRoot=function(r,a){if(!o(r))throw Error(s(299));var l=!1,u="",m=Pv,y=kv,j=Lv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=c1(r,1,!1,null,null,l,u,m,y,j,O,null),r[Ce]=a.current,Xp(r),new pg(a)},Yc.hydrateRoot=function(r,a,l){if(!o(r))throw Error(s(299));var u=!1,m="",y=Pv,j=kv,O=Lv,K=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(K=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),a=c1(r,1,!0,a,l??null,u,m,y,j,O,K,se),a.context=u1(null),l=a.current,u=Er(),u=ws(u),m=za(u),m.callback=null,Fa(l,m,u),l=u,a.current.lanes=l,es(a,l),Os(a),r[Ce]=a.current,Xp(r),new Th(a)},Yc.version="19.1.1",Yc}var R1;function $j(){if(R1)return xg.exports;R1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xg.exports=qj(),xg.exports}var Gj=$j();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var I_=t=>{throw TypeError(t)},Kj=(t,e,n)=>e.has(t)||I_("Cannot "+n),_g=(t,e,n)=>(Kj(t,e,"read from private field"),n?n.call(t):e.get(t)),Yj=(t,e,n)=>e.has(t)?I_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),C1="popstate";function Qj(t={}){function e(s,o){let{pathname:c,search:d,hash:f}=s.location;return Du("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:_i(o)}return Xj(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wj(){return Math.random().toString(36).substring(2,10)}function D1(t,e){return{usr:t.state,key:t.key,idx:e}}function Du(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ii(e):e,state:n,key:e&&e.key||s||Wj()}}function _i({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Xj(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,f="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function b(){f="POP";let V=x(),B=V==null?null:V-g;g=V,p&&p({action:f,location:A.location,delta:B})}function w(V,B){f="PUSH";let M=Du(A.location,V,B);g=x()+1;let k=D1(M,g),q=A.createHref(M);try{d.pushState(k,"",q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(q)}c&&p&&p({action:f,location:A.location,delta:1})}function D(V,B){f="REPLACE";let M=Du(A.location,V,B);g=x();let k=D1(M,g),q=A.createHref(M);d.replaceState(k,"",q),c&&p&&p({action:f,location:A.location,delta:0})}function L(V){return O_(V)}let A={get action(){return f},get location(){return t(o,d)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(C1,b),p=V,()=>{o.removeEventListener(C1,b),p=null}},createHref(V){return e(o,V)},createURL:L,encodeLocation(V){let B=L(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:D,go(V){return d.go(V)}};return A}function O_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:_i(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var hu,I1=class{constructor(t){if(Yj(this,hu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(_g(this,hu).has(t))return _g(this,hu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){_g(this,hu).set(t,e)}};hu=new WeakMap;var Zj=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jj(t){return Zj.has(t)}var eS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tS(t){return eS.has(t)}function nS(t){return t.index===!0}function Iu(t,e,n=[],s={},o=!1){return t.map((c,d)=>{let f=[...n,String(d)],p=typeof c.id=="string"?c.id:f.join("-");if(it(c.index!==!0||!c.children,"Cannot specify children on an index route"),it(o||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),nS(c)){let g={...c,...e(c),id:p};return s[p]=g,g}else{let g={...c,...e(c),id:p,children:void 0};return s[p]=g,c.children&&(g.children=Iu(c.children,e,f,s,o)),g}})}function li(t,e,n="/"){return qh(t,e,n,!1)}function qh(t,e,n,s){let o=typeof e=="string"?Ii(e):e,c=Kr(o.pathname||"/",n);if(c==null)return null;let d=M_(t);sS(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=pS(c);f=fS(d[p],g,s)}return f}function rS(t,e){let{route:n,pathname:s,params:o}=t;return{id:n.id,pathname:s,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function M_(t,e=[],n=[],s="",o=!1){let c=(d,f,p=o,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;it(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let b=Ls([s,x.relativePath]),w=n.concat(x);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),M_(d.children,e,w,b,p)),!(d.path==null&&!d.index)&&e.push({path:b,score:dS(b,d.index),routesMeta:w})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let p of P_(d.path))c(d,f,!0,p)}),e}function P_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=P_(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function sS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aS=/^:[\w-]+$/,iS=3,oS=2,lS=1,cS=10,uS=-2,O1=t=>t==="*";function dS(t,e){let n=t.split("/"),s=n.length;return n.some(O1)&&(s+=uS),e&&(s+=oS),n.filter(o=>!O1(o)).reduce((o,c)=>o+(aS.test(c)?iS:c===""?lS:cS),s)}function hS(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function fS(t,e,n=!1){let{routesMeta:s}=t,o={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",b=lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),w=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Ls([c,b.pathname]),pathnameBase:vS(Ls([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Ls([c,b.pathnameBase]))}return d}function lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=mS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:b},w)=>{if(x==="*"){let L=f[w]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const D=f[w];return b&&!D?g[x]=void 0:g[x]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function mS(t,e=!1,n=!0){Wt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function gS({basename:t,pathname:e}){return e==="/"?t:Ls([t,e])}function yS(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:xS(n,e):e,search:bS(s),hash:wS(o)}}function xS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ng(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bf(t){let e=k_(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Hf(t,e,n,s=!1){let o;typeof t=="string"?o=Ii(t):(o={...t},it(!o.pathname||!o.pathname.includes("?"),Ng("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Ng("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Ng("#","search","hash",o)));let c=t===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=yS(o,f),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Ls=t=>t.join("/").replace(/\/\/+/g,"/"),vS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cf=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ou(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var L_=["POST","PUT","PATCH","DELETE"],_S=new Set(L_),NS=["GET",...L_],ES=new Set(NS),jS=new Set([301,302,303,307,308]),SS=new Set([307,308]),Eg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qy=t=>AS.test(t),RS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),V_="remix-router-transitions",U_=Symbol("ResetLoaderData");function CS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||RS,c={},d=Iu(t.routes,o,void 0,c),f,p=t.basename||"/",g=t.dataStrategy||PS,x={unstable_middleware:!1,...t.future},b=null,w=new Set,D=null,L=null,A=null,V=t.hydrationData!=null,B=li(d,t.history.location,p),M=!1,k=null,q;if(B==null&&!t.patchRoutesOnNavigation){let Y=qr(404,{pathname:t.history.location.pathname}),{matches:ee,route:ae}=$1(d);q=!0,B=ee,k={[ae.id]:Y}}else if(B&&!t.hydrationData&&$n(B,d,t.history.location.pathname).active&&(B=null),B)if(B.some(Y=>Y.route.lazy))q=!1;else if(!B.some(Y=>Y.route.loader))q=!0;else{let Y=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let ae=B.findIndex(pe=>ee[pe.route.id]!==void 0);q=B.slice(0,ae+1).every(pe=>!ty(pe.route,Y,ee))}else q=B.every(ae=>!ty(ae.route,Y,ee))}else{q=!1,B=[];let Y=$n(null,d,t.history.location.pathname);Y.active&&Y.matches&&(M=!0,B=Y.matches)}let F,I={historyAction:t.history.action,location:t.history.location,matches:B,initialized:q,navigation:Eg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},R="POP",E=!1,S,P=!1,C=new Map,N=null,T=!1,J=!1,H=new Set,G=new Map,X=0,ie=-1,be=new Map,$=new Set,ce=new Map,xe=new Map,ye=new Set,Ae=new Map,Ge,Be=null;function Vt(){if(b=t.history.listen(({action:Y,location:ee,delta:ae})=>{if(Ge){Ge(),Ge=void 0;return}Wt(Ae.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=Jr({currentLocation:I.location,nextLocation:ee,historyAction:Y});if(pe&&ae!=null){let we=new Promise(Ce=>{Ge=Ce});t.history.go(ae*-1),ar(pe,{state:"blocked",location:ee,proceed(){ar(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),we.then(()=>t.history.go(ae))},reset(){let Ce=new Map(I.blockers);Ce.set(pe,Qc),St({blockers:Ce})}});return}return xn(Y,ee)}),n){KS(e,C);let Y=()=>YS(e,C);e.addEventListener("pagehide",Y),N=()=>e.removeEventListener("pagehide",Y)}return I.initialized||xn("POP",I.location,{initialHydration:!0}),F}function gt(){b&&b(),N&&N(),w.clear(),S&&S.abort(),I.fetchers.forEach((Y,ee)=>yt(ee)),I.blockers.forEach((Y,ee)=>Rr(ee))}function kn(Y){return w.add(Y),()=>w.delete(Y)}function St(Y,ee={}){Y.matches&&(Y.matches=Y.matches.map(we=>{let Ce=c[we.route.id],Ve=we.route;return Ve.element!==Ce.element||Ve.errorElement!==Ce.errorElement||Ve.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...we,route:Ce}:we})),I={...I,...Y};let ae=[],pe=[];I.fetchers.forEach((we,Ce)=>{we.state==="idle"&&(ye.has(Ce)?ae.push(Ce):pe.push(Ce))}),ye.forEach(we=>{!I.fetchers.has(we)&&!G.has(we)&&ae.push(we)}),[...w].forEach(we=>we(I,{deletedFetchers:ae,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),ae.forEach(we=>yt(we)),pe.forEach(we=>I.fetchers.delete(we))}function yn(Y,ee,{flushSync:ae}={}){let pe=I.actionData!=null&&I.navigation.formMethod!=null&&hr(I.navigation.formMethod)&&I.navigation.state==="loading"&&Y.state?._isRedirect!==!0,we;ee.actionData?Object.keys(ee.actionData).length>0?we=ee.actionData:we=null:pe?we=I.actionData:we=null;let Ce=ee.loaderData?H1(I.loaderData,ee.loaderData,ee.matches||[],ee.errors):I.loaderData,Ve=I.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((ke,Le)=>Ve.set(Le,Qc)));let Me=T?!1:Da(Y,ee.matches||I.matches),Pe=E===!0||I.navigation.formMethod!=null&&hr(I.navigation.formMethod)&&Y.state?._isRedirect!==!0;f&&(d=f,f=void 0),T||R==="POP"||(R==="PUSH"?t.history.push(Y,Y.state):R==="REPLACE"&&t.history.replace(Y,Y.state));let He;if(R==="POP"){let ke=C.get(I.location.pathname);ke&&ke.has(Y.pathname)?He={currentLocation:I.location,nextLocation:Y}:C.has(Y.pathname)&&(He={currentLocation:Y,nextLocation:I.location})}else if(P){let ke=C.get(I.location.pathname);ke?ke.add(Y.pathname):(ke=new Set([Y.pathname]),C.set(I.location.pathname,ke)),He={currentLocation:I.location,nextLocation:Y}}St({...ee,actionData:we,loaderData:Ce,historyAction:R,location:Y,initialized:!0,navigation:Eg,revalidation:"idle",restoreScrollPosition:Me,preventScrollReset:Pe,blockers:Ve},{viewTransitionOpts:He,flushSync:ae===!0}),R="POP",E=!1,P=!1,T=!1,J=!1,Be?.resolve(),Be=null}async function pr(Y,ee){if(typeof Y=="number"){t.history.go(Y);return}let ae=ey(I.location,I.matches,p,Y,ee?.fromRouteId,ee?.relative),{path:pe,submission:we,error:Ce}=M1(!1,ae,ee),Ve=I.location,Me=Du(I.location,pe,ee&&ee.state);Me={...Me,...t.history.encodeLocation(Me)};let Pe=ee&&ee.replace!=null?ee.replace:void 0,He="PUSH";Pe===!0?He="REPLACE":Pe===!1||we!=null&&hr(we.formMethod)&&we.formAction===I.location.pathname+I.location.search&&(He="REPLACE");let ke=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Le=(ee&&ee.flushSync)===!0,nt=Jr({currentLocation:Ve,nextLocation:Me,historyAction:He});if(nt){ar(nt,{state:"blocked",location:Me,proceed(){ar(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),pr(Y,ee)},reset(){let xt=new Map(I.blockers);xt.set(nt,Qc),St({blockers:xt})}});return}await xn(He,Me,{submission:we,pendingError:Ce,preventScrollReset:ke,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Le})}function Xr(){Be||(Be=QS()),_e(),St({revalidation:"loading"});let Y=Be.promise;return I.navigation.state==="submitting"?Y:I.navigation.state==="idle"?(xn(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),Y):(xn(R||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:P===!0}),Y)}async function xn(Y,ee,ae){S&&S.abort(),S=null,R=Y,T=(ae&&ae.startUninterruptedRevalidation)===!0,es(I.location,I.matches),E=(ae&&ae.preventScrollReset)===!0,P=(ae&&ae.enableViewTransition)===!0;let pe=f||d,we=ae&&ae.overrideNavigation,Ce=ae?.initialHydration&&I.matches&&I.matches.length>0&&!M?I.matches:li(pe,ee,p),Ve=(ae&&ae.flushSync)===!0;if(Ce&&I.initialized&&!J&&BS(I.location,ee)&&!(ae&&ae.submission&&hr(ae.submission.formMethod))){yn(ee,{matches:Ce},{flushSync:Ve});return}let Me=$n(Ce,pe,ee.pathname);if(Me.active&&Me.matches&&(Ce=Me.matches),!Ce){let{error:bt,notFoundMatches:Je,route:wt}=Ws(ee.pathname);yn(ee,{matches:Je,loaderData:{},errors:{[wt.id]:bt}},{flushSync:Ve});return}S=new AbortController;let Pe=_l(t.history,ee,S.signal,ae&&ae.submission),He=t.unstable_getContext?await t.unstable_getContext():new I1,ke;if(ae&&ae.pendingError)ke=[ci(Ce).route.id,{type:"error",error:ae.pendingError}];else if(ae&&ae.submission&&hr(ae.submission.formMethod)){let bt=await xs(Pe,ee,ae.submission,Ce,He,Me.active,ae&&ae.initialHydration===!0,{replace:ae.replace,flushSync:Ve});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[Je,wt]=bt.pendingActionResult;if(Tr(wt)&&Ou(wt.error)&&wt.error.status===404){S=null,yn(ee,{matches:bt.matches,loaderData:{},errors:{[Je]:wt.error}});return}}Ce=bt.matches||Ce,ke=bt.pendingActionResult,we=jg(ee,ae.submission),Ve=!1,Me.active=!1,Pe=_l(t.history,Pe.url,Pe.signal)}let{shortCircuited:Le,matches:nt,loaderData:xt,errors:Mt}=await Ca(Pe,ee,Ce,He,Me.active,we,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,Ve,ke);Le||(S=null,yn(ee,{matches:nt||Ce,...q1(ke),loaderData:xt,errors:Mt}))}async function xs(Y,ee,ae,pe,we,Ce,Ve,Me={}){_e();let Pe=$S(ee,ae);if(St({navigation:Pe},{flushSync:Me.flushSync===!0}),Ce){let Le=await bs(pe,ee.pathname,Y.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let nt=ci(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[nt,{type:"error",error:Le.error}]}}else if(Le.matches)pe=Le.matches;else{let{notFoundMatches:nt,error:xt,route:Mt}=Ws(ee.pathname);return{matches:nt,pendingActionResult:[Mt.id,{type:"error",error:xt}]}}}let He,ke=$h(pe,ee);if(!ke.route.action&&!ke.route.lazy)He={type:"error",error:qr(405,{method:Y.method,pathname:ee.pathname,routeId:ke.route.id})};else{let Le=Sl(o,c,Y,pe,ke,Ve?[]:s,we),nt=await Se(Y,Le,we,null);if(He=nt[ke.route.id],!He){for(let xt of pe)if(nt[xt.route.id]){He=nt[xt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(ho(He)){let Le;return Me&&Me.replace!=null?Le=Me.replace:Le=z1(He.response.headers.get("Location"),new URL(Y.url),p)===I.location.pathname+I.location.search,await de(Y,He,!0,{submission:ae,replace:Le}),{shortCircuited:!0}}if(Tr(He)){let Le=ci(pe,ke.route.id);return(Me&&Me.replace)!==!0&&(R="PUSH"),{matches:pe,pendingActionResult:[Le.route.id,He,ke.route.id]}}return{matches:pe,pendingActionResult:[ke.route.id,He]}}async function Ca(Y,ee,ae,pe,we,Ce,Ve,Me,Pe,He,ke,Le){let nt=Ce||jg(ee,Ve),xt=Ve||Me||K1(nt),Mt=!T&&!He;if(we){if(Mt){let Ft=Tn(Le);St({navigation:nt,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:ke})}let We=await bs(ae,ee.pathname,Y.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Ft=ci(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Ft]:We.error}}}else if(We.matches)ae=We.matches;else{let{error:Ft,notFoundMatches:Xs,route:Yn}=Ws(ee.pathname);return{matches:Xs,loaderData:{},errors:{[Yn.id]:Ft}}}}let bt=f||d,{dsMatches:Je,revalidatingFetchers:wt}=P1(Y,pe,o,c,t.history,I,ae,xt,ee,He?[]:s,He===!0,J,H,ye,ce,$,bt,p,t.patchRoutesOnNavigation!=null,Le);if(ie=++X,!t.dataStrategy&&!Je.some(We=>We.shouldLoad)&&!Je.some(We=>We.route.unstable_middleware)&&wt.length===0){let We=rr();return yn(ee,{matches:ae,loaderData:{},errors:Le&&Tr(Le[1])?{[Le[0]]:Le[1].error}:null,...q1(Le),...We?{fetchers:new Map(I.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(Mt){let We={};if(!we){We.navigation=nt;let Ft=Tn(Le);Ft!==void 0&&(We.actionData=Ft)}wt.length>0&&(We.fetchers=Po(wt)),St(We,{flushSync:ke})}wt.forEach(We=>{Xt(We.key),We.controller&&G.set(We.key,We.controller)});let ir=()=>wt.forEach(We=>Xt(We.key));S&&S.signal.addEventListener("abort",ir);let{loaderResults:An,fetcherResults:vn}=await Ee(Je,wt,Y,pe);if(Y.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",ir),wt.forEach(We=>G.delete(We.key));let Gn=Rh(An);if(Gn)return await de(Y,Gn.result,!0,{replace:Pe}),{shortCircuited:!0};if(Gn=Rh(vn),Gn)return $.add(Gn.key),await de(Y,Gn.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Oa,errors:gr}=B1(I,ae,An,Le,wt,vn);He&&I.errors&&(gr={...I.errors,...gr});let Dr=rr(),yr=sr(ie),Kn=Dr||yr||wt.length>0;return{matches:ae,loaderData:Oa,errors:gr,...Kn?{fetchers:new Map(I.fetchers)}:{}}}function Tn(Y){if(Y&&!Tr(Y[1]))return{[Y[0]]:Y[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Po(Y){return Y.forEach(ee=>{let ae=I.fetchers.get(ee.key),pe=Wc(void 0,ae?ae.data:void 0);I.fetchers.set(ee.key,pe)}),new Map(I.fetchers)}async function vs(Y,ee,ae,pe){Xt(Y);let we=(pe&&pe.flushSync)===!0,Ce=f||d,Ve=ey(I.location,I.matches,p,ae,ee,pe?.relative),Me=li(Ce,Ve,p),Pe=$n(Me,Ce,Ve);if(Pe.active&&Pe.matches&&(Me=Pe.matches),!Me){Re(Y,ee,qr(404,{pathname:Ve}),{flushSync:we});return}let{path:He,submission:ke,error:Le}=M1(!0,Ve,pe);if(Le){Re(Y,ee,Le,{flushSync:we});return}let nt=t.unstable_getContext?await t.unstable_getContext():new I1,xt=(pe&&pe.preventScrollReset)===!0;if(ke&&hr(ke.formMethod)){await Q(Y,ee,He,Me,nt,Pe.active,we,xt,ke);return}ce.set(Y,{routeId:ee,path:He}),await re(Y,ee,He,Me,nt,Pe.active,we,xt,ke)}async function Q(Y,ee,ae,pe,we,Ce,Ve,Me,Pe){_e(),ce.delete(Y);let He=I.fetchers.get(Y);Ne(Y,GS(Pe,He),{flushSync:Ve});let ke=new AbortController,Le=_l(t.history,ae,ke.signal,Pe);if(Ce){let kt=await bs(pe,new URL(Le.url).pathname,Le.signal,Y);if(kt.type==="aborted")return;if(kt.type==="error"){Re(Y,ee,kt.error,{flushSync:Ve});return}else if(kt.matches)pe=kt.matches;else{Re(Y,ee,qr(404,{pathname:ae}),{flushSync:Ve});return}}let nt=$h(pe,ae);if(!nt.route.action&&!nt.route.lazy){let kt=qr(405,{method:Pe.formMethod,pathname:ae,routeId:ee});Re(Y,ee,kt,{flushSync:Ve});return}G.set(Y,ke);let xt=X,Mt=Sl(o,c,Le,pe,nt,s,we),Je=(await Se(Le,Mt,we,Y))[nt.route.id];if(Le.signal.aborted){G.get(Y)===ke&&G.delete(Y);return}if(ye.has(Y)){if(ho(Je)||Tr(Je)){Ne(Y,oi(void 0));return}}else{if(ho(Je))if(G.delete(Y),ie>xt){Ne(Y,oi(void 0));return}else return $.add(Y),Ne(Y,Wc(Pe)),de(Le,Je,!1,{fetcherSubmission:Pe,preventScrollReset:Me});if(Tr(Je)){Re(Y,ee,Je.error);return}}let wt=I.navigation.location||I.location,ir=_l(t.history,wt,ke.signal),An=f||d,vn=I.navigation.state!=="idle"?li(An,I.navigation.location,p):I.matches;it(vn,"Didn't find any matches after fetcher action");let Gn=++X;be.set(Y,Gn);let Oa=Wc(Pe,Je.data);I.fetchers.set(Y,Oa);let{dsMatches:gr,revalidatingFetchers:Dr}=P1(ir,we,o,c,t.history,I,vn,Pe,wt,s,!1,J,H,ye,ce,$,An,p,t.patchRoutesOnNavigation!=null,[nt.route.id,Je]);Dr.filter(kt=>kt.key!==Y).forEach(kt=>{let ts=kt.key,Ma=I.fetchers.get(ts),Pa=Wc(void 0,Ma?Ma.data:void 0);I.fetchers.set(ts,Pa),Xt(ts),kt.controller&&G.set(ts,kt.controller)}),St({fetchers:new Map(I.fetchers)});let yr=()=>Dr.forEach(kt=>Xt(kt.key));ke.signal.addEventListener("abort",yr);let{loaderResults:Kn,fetcherResults:We}=await Ee(gr,Dr,ir,we);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",yr),be.delete(Y),G.delete(Y),Dr.forEach(kt=>G.delete(kt.key)),I.fetchers.has(Y)){let kt=oi(Je.data);I.fetchers.set(Y,kt)}let Ft=Rh(Kn);if(Ft)return de(ir,Ft.result,!1,{preventScrollReset:Me});if(Ft=Rh(We),Ft)return $.add(Ft.key),de(ir,Ft.result,!1,{preventScrollReset:Me});let{loaderData:Xs,errors:Yn}=B1(I,vn,Kn,void 0,Dr,We);sr(Gn),I.navigation.state==="loading"&&Gn>ie?(it(R,"Expected pending action"),S&&S.abort(),yn(I.navigation.location,{matches:vn,loaderData:Xs,errors:Yn,fetchers:new Map(I.fetchers)})):(St({errors:Yn,loaderData:H1(I.loaderData,Xs,vn,Yn),fetchers:new Map(I.fetchers)}),J=!1)}async function re(Y,ee,ae,pe,we,Ce,Ve,Me,Pe){let He=I.fetchers.get(Y);Ne(Y,Wc(Pe,He?He.data:void 0),{flushSync:Ve});let ke=new AbortController,Le=_l(t.history,ae,ke.signal);if(Ce){let wt=await bs(pe,new URL(Le.url).pathname,Le.signal,Y);if(wt.type==="aborted")return;if(wt.type==="error"){Re(Y,ee,wt.error,{flushSync:Ve});return}else if(wt.matches)pe=wt.matches;else{Re(Y,ee,qr(404,{pathname:ae}),{flushSync:Ve});return}}let nt=$h(pe,ae);G.set(Y,ke);let xt=X,Mt=Sl(o,c,Le,pe,nt,s,we),Je=(await Se(Le,Mt,we,Y))[nt.route.id];if(G.get(Y)===ke&&G.delete(Y),!Le.signal.aborted){if(ye.has(Y)){Ne(Y,oi(void 0));return}if(ho(Je))if(ie>xt){Ne(Y,oi(void 0));return}else{$.add(Y),await de(Le,Je,!1,{preventScrollReset:Me});return}if(Tr(Je)){Re(Y,ee,Je.error);return}Ne(Y,oi(Je.data))}}async function de(Y,ee,ae,{submission:pe,fetcherSubmission:we,preventScrollReset:Ce,replace:Ve}={}){ee.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Me=ee.response.headers.get("Location");it(Me,"Expected a Location header on the redirect Response"),Me=z1(Me,new URL(Y.url),p);let Pe=Du(I.location,Me,{_isRedirect:!0});if(n){let Mt=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Mt=!0;else if(qy(Me)){const bt=O_(Me,!0);Mt=bt.origin!==e.location.origin||Kr(bt.pathname,p)==null}if(Mt){Ve?e.location.replace(Me):e.location.assign(Me);return}}S=null;let He=Ve===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Le,formEncType:nt}=I.navigation;!pe&&!we&&ke&&Le&&nt&&(pe=K1(I.navigation));let xt=pe||we;if(SS.has(ee.response.status)&&xt&&hr(xt.formMethod))await xn(He,Pe,{submission:{...xt,formAction:Me},preventScrollReset:Ce||E,enableViewTransition:ae?P:void 0});else{let Mt=jg(Pe,pe);await xn(He,Pe,{overrideNavigation:Mt,fetcherSubmission:we,preventScrollReset:Ce||E,enableViewTransition:ae?P:void 0})}}async function Se(Y,ee,ae,pe){let we,Ce={};try{we=await kS(g,Y,ee,pe,ae,!1)}catch(Ve){return ee.filter(Me=>Me.shouldLoad).forEach(Me=>{Ce[Me.route.id]={type:"error",error:Ve}}),Ce}if(Y.signal.aborted)return Ce;for(let[Ve,Me]of Object.entries(we))if(HS(Me)){let Pe=Me.result;Ce[Ve]={type:"redirect",response:zS(Pe,Y,Ve,ee,p)}}else Ce[Ve]=await US(Me);return Ce}async function Ee(Y,ee,ae,pe){let we=Se(ae,Y,pe,null),Ce=Promise.all(ee.map(async Pe=>{if(Pe.matches&&Pe.match&&Pe.request&&Pe.controller){let ke=(await Se(Pe.request,Pe.matches,pe,Pe.key))[Pe.match.route.id];return{[Pe.key]:ke}}else return Promise.resolve({[Pe.key]:{type:"error",error:qr(404,{pathname:Pe.path})}})})),Ve=await we,Me=(await Ce).reduce((Pe,He)=>Object.assign(Pe,He),{});return{loaderResults:Ve,fetcherResults:Me}}function _e(){J=!0,ce.forEach((Y,ee)=>{G.has(ee)&&H.add(ee),Xt(ee)})}function Ne(Y,ee,ae={}){I.fetchers.set(Y,ee),St({fetchers:new Map(I.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Re(Y,ee,ae,pe={}){let we=ci(I.matches,ee);yt(Y),St({errors:{[we.route.id]:ae},fetchers:new Map(I.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function tt(Y){return xe.set(Y,(xe.get(Y)||0)+1),ye.has(Y)&&ye.delete(Y),I.fetchers.get(Y)||TS}function yt(Y){let ee=I.fetchers.get(Y);G.has(Y)&&!(ee&&ee.state==="loading"&&be.has(Y))&&Xt(Y),ce.delete(Y),be.delete(Y),$.delete(Y),ye.delete(Y),H.delete(Y),I.fetchers.delete(Y)}function Zr(Y){let ee=(xe.get(Y)||0)-1;ee<=0?(xe.delete(Y),ye.add(Y)):xe.set(Y,ee),St({fetchers:new Map(I.fetchers)})}function Xt(Y){let ee=G.get(Y);ee&&(ee.abort(),G.delete(Y))}function Ar(Y){for(let ee of Y){let ae=tt(ee),pe=oi(ae.data);I.fetchers.set(ee,pe)}}function rr(){let Y=[],ee=!1;for(let ae of $){let pe=I.fetchers.get(ae);it(pe,`Expected fetcher: ${ae}`),pe.state==="loading"&&($.delete(ae),Y.push(ae),ee=!0)}return Ar(Y),ee}function sr(Y){let ee=[];for(let[ae,pe]of be)if(pe<Y){let we=I.fetchers.get(ae);it(we,`Expected fetcher: ${ae}`),we.state==="loading"&&(Xt(ae),be.delete(ae),ee.push(ae))}return Ar(ee),ee.length>0}function qn(Y,ee){let ae=I.blockers.get(Y)||Qc;return Ae.get(Y)!==ee&&Ae.set(Y,ee),ae}function Rr(Y){I.blockers.delete(Y),Ae.delete(Y)}function ar(Y,ee){let ae=I.blockers.get(Y)||Qc;it(ae.state==="unblocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="proceeding"||ae.state==="blocked"&&ee.state==="unblocked"||ae.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${ae.state} -> ${ee.state}`);let pe=new Map(I.blockers);pe.set(Y,ee),St({blockers:pe})}function Jr({currentLocation:Y,nextLocation:ee,historyAction:ae}){if(Ae.size===0)return;Ae.size>1&&Wt(!1,"A router only supports one blocker at a time");let pe=Array.from(Ae.entries()),[we,Ce]=pe[pe.length-1],Ve=I.blockers.get(we);if(!(Ve&&Ve.state==="proceeding")&&Ce({currentLocation:Y,nextLocation:ee,historyAction:ae}))return we}function Ws(Y){let ee=qr(404,{pathname:Y}),ae=f||d,{matches:pe,route:we}=$1(ae);return{notFoundMatches:pe,route:we,error:ee}}function Li(Y,ee,ae){if(D=Y,A=ee,L=ae||null,!V&&I.navigation===Eg){V=!0;let pe=Da(I.location,I.matches);pe!=null&&St({restoreScrollPosition:pe})}return()=>{D=null,A=null,L=null}}function Cr(Y,ee){return L&&L(Y,ee.map(pe=>rS(pe,I.loaderData)))||Y.key}function es(Y,ee){if(D&&A){let ae=Cr(Y,ee);D[ae]=A()}}function Da(Y,ee){if(D){let ae=Cr(Y,ee),pe=D[ae];if(typeof pe=="number")return pe}return null}function $n(Y,ee,ae){if(t.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:qh(ee,ae,p,!0)}}else return{active:!0,matches:qh(ee,ae,p,!0)||[]};return{active:!1,matches:null}}async function bs(Y,ee,ae,pe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Y};let we=Y;for(;;){let Ce=f==null,Ve=f||d,Me=c;try{await t.patchRoutesOnNavigation({signal:ae,path:ee,matches:we,fetcherKey:pe,patch:(ke,Le)=>{ae.aborted||k1(ke,Le,Ve,Me,o,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:we}}finally{Ce&&!ae.aborted&&(d=[...d])}if(ae.aborted)return{type:"aborted"};let Pe=li(Ve,ee,p);if(Pe)return{type:"success",matches:Pe};let He=qh(Ve,ee,p,!0);if(!He||we.length===He.length&&we.every((ke,Le)=>ke.route.id===He[Le].route.id))return{type:"success",matches:null};we=He}}function ws(Y){c={},f=Iu(Y,o,void 0,c)}function Ia(Y,ee,ae=!1){let pe=f==null;k1(Y,ee,f||d,c,o,ae),pe&&(d=[...d],St({}))}return F={get basename(){return p},get future(){return x},get state(){return I},get routes(){return d},get window(){return e},initialize:Vt,subscribe:kn,enableScrollRestoration:Li,navigate:pr,fetch:vs,revalidate:Xr,createHref:Y=>t.history.createHref(Y),encodeLocation:Y=>t.history.encodeLocation(Y),getFetcher:tt,deleteFetcher:Zr,dispose:gt,getBlocker:qn,deleteBlocker:Rr,patchRoutes:Ia,_internalFetchControllers:G,_internalSetRoutes:ws,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){St(Y)}},F}function DS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ey(t,e,n,s,o,c){let d,f;if(o){d=[];for(let g of e)if(d.push(g),g.route.id===o){f=g;break}}else d=e,f=e[e.length-1];let p=Hf(s||".",Bf(d),Kr(t.pathname,n)||t.pathname,c==="path");if(s==null&&(p.search=t.search,p.hash=t.hash),(s==null||s===""||s===".")&&f){let g=$y(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let x=new URLSearchParams(p.search),b=x.getAll("index");x.delete("index"),b.filter(D=>D).forEach(D=>x.append("index",D));let w=x.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=gS({basename:n,pathname:p.pathname})),_i(p)}function M1(t,e,n){if(!n||!DS(n))return{path:e};if(n.formMethod&&!qS(n.formMethod))return{path:e,error:qr(405,{method:n.formMethod})};let s=()=>({path:e,error:qr(400,{type:"invalid-body"})}),c=(n.formMethod||"get").toUpperCase(),d=G_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!hr(c))return s();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[D,L])=>`${w}${D}=${L}
`,""):String(n.body);return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!hr(c))return s();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}it(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=ry(n.formData),p=n.formData;else if(n.body instanceof FormData)f=ry(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=F1(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=F1(f)}catch{return s()}let g={formMethod:c,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(hr(g.formMethod))return{path:e,submission:g};let x=Ii(e);return t&&x.search&&$y(x.search)&&f.append("index",""),x.search=`?${f}`,{path:_i(x),submission:g}}function P1(t,e,n,s,o,c,d,f,p,g,x,b,w,D,L,A,V,B,M,k){let q=k?Tr(k[1])?k[1].error:k[1].data:void 0,F=o.createURL(c.location),I=o.createURL(p),R;if(x&&c.errors){let T=Object.keys(c.errors)[0];R=d.findIndex(J=>J.route.id===T)}else if(k&&Tr(k[1])){let T=k[0];R=d.findIndex(J=>J.route.id===T)-1}let E=k?k[1].statusCode:void 0,S=E&&E>=400,P={currentUrl:F,currentParams:c.matches[0]?.params||{},nextUrl:I,nextParams:d[0].params,...f,actionResult:q,actionStatus:E},C=d.map((T,J)=>{let{route:H}=T,G=null;if(R!=null&&J>R?G=!1:H.lazy?G=!0:H.loader==null?G=!1:x?G=ty(H,c.loaderData,c.errors):IS(c.loaderData,c.matches[J],T)&&(G=!0),G!==null)return ny(n,s,t,T,g,e,G);let X=S?!1:b||F.pathname+F.search===I.pathname+I.search||F.search!==I.search||OS(c.matches[J],T),ie={...P,defaultShouldRevalidate:X},be=uf(T,ie);return ny(n,s,t,T,g,e,be,ie)}),N=[];return L.forEach((T,J)=>{if(x||!d.some(xe=>xe.route.id===T.routeId)||D.has(J))return;let H=c.fetchers.get(J),G=H&&H.state!=="idle"&&H.data===void 0,X=li(V,T.path,B);if(!X){if(M&&G)return;N.push({key:J,routeId:T.routeId,path:T.path,matches:null,match:null,request:null,controller:null});return}if(A.has(J))return;let ie=$h(X,T.path),be=new AbortController,$=_l(o,T.path,be.signal),ce=null;if(w.has(J))w.delete(J),ce=Sl(n,s,$,X,ie,g,e);else if(G)b&&(ce=Sl(n,s,$,X,ie,g,e));else{let xe={...P,defaultShouldRevalidate:S?!1:b};uf(ie,xe)&&(ce=Sl(n,s,$,X,ie,g,e,xe))}ce&&N.push({key:J,routeId:T.routeId,path:T.path,matches:ce,match:ie,request:$,controller:be})}),{dsMatches:C,revalidatingFetchers:N}}function ty(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function IS(t,e,n){let s=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return s||o}function OS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function uf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function k1(t,e,n,s,o,c){let d;if(t){let g=s[t];it(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),d=g.children}else d=n;let f=[],p=[];if(e.forEach(g=>{let x=d.find(b=>z_(g,b));x?p.push({existingRoute:x,newRoute:g}):f.push(g)}),f.length>0){let g=Iu(f,o,[t||"_","patch",String(d?.length||"0")],s);d.push(...g)}if(c&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:x,newRoute:b}=p[g],w=x,[D]=Iu([b],o,[],{},!0);Object.assign(w,{element:D.element?D.element:w.element,errorElement:D.errorElement?D.errorElement:w.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:w.hydrateFallbackElement})}}function z_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(o=>z_(n,o))):!1}var L1=new WeakMap,F_=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let o=n[e.id];if(it(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[t];if(!c)return;let d=L1.get(o);d||(d={},L1.set(o,d));let f=d[t];if(f)return f;let p=(async()=>{let g=Jj(t),b=o[t]!==void 0&&t!=="hasErrorBoundary";if(g)Wt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),d[t]=Promise.resolve();else if(b)Wt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await c();w!=null&&(Object.assign(o,{[t]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return d[t]=p,p},V1=new WeakMap;function MS(t,e,n,s,o){let c=n[t.id];if(it(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let x=V1.get(c);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let b=(async()=>{it(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),D={};for(let L in w){let A=w[L];if(A===void 0)continue;let V=tS(L),M=c[L]!==void 0&&L!=="hasErrorBoundary";V?Wt(!V,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?Wt(!M,`Route "${c.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):D[L]=A}Object.assign(c,D),Object.assign(c,{...s(c),lazy:void 0})})();return V1.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(t.lazy),f=[],p;for(let x of d){if(o&&o.includes(x))continue;let b=F_({key:x,route:t,manifest:n,mapRouteProperties:s});b&&(f.push(b),x===e&&(p=b))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function U1(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,c)=>{n[e[c].route.id]=o}),n}async function PS(t){if(!t.matches.some(n=>n.route.unstable_middleware))return U1(t);let e=!1;return H_(t,()=>(e=!0,U1(t)),(n,s)=>B_(n,s,t.matches,e))}function B_(t,e,n,s){if(s)return{[e]:{type:"error",result:t}};{let o=Math.min(n.findIndex(d=>d.route.id===e)||0,n.findIndex(d=>d.unstable_shouldCallHandler())||0);return{[ci(n,n[o].route.id).route.id]:{type:"error",result:t}}}}async function H_(t,e,n){let{matches:s,request:o,params:c,context:d}=t,f=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(x=>[g.route.id,x]):[]),p={};return await q_({request:o,params:c,context:d},f,e,n,p),p}async function q_(t,e,n,s,o={},c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=e[c];if(!f){let w=await n();Object.assign(o,w);return}let[p,g]=f,x=!1,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");x=!0;try{let w=await q_(t,e,n,s,o,c+1);Object.assign(o,w)}catch(w){let D=await s(w,p);Object.assign(o,D)}};try{let w=await g({request:t.request,params:t.params,context:t.context},b);typeof w<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",w),x||await b()}catch(w){let D=await s(w,p);Object.assign(o,D)}}function $_(t,e,n,s,o){let c=F_({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),d=MS(s.route,hr(n.method)?"action":"loader",e,t,o);return{middleware:c,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function ny(t,e,n,s,o,c,d,f=null){let p=!1,g=$_(t,e,n,s,o);return{...s,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(x){return p=!0,f?typeof x=="boolean"?uf(s,{...f,defaultShouldRevalidate:x}):uf(s,f):d},resolve(x){return p||d||x&&!hr(n.method)&&(s.route.lazy||s.route.loader)?LS({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:x,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Sl(t,e,n,s,o,c,d,f=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:$_(t,e,n,p,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ny(t,e,n,p,c,d,!0,f))}async function kS(t,e,n,s,o,c){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let d={request:e,params:n[0].params,context:o,matches:n},p=await t({...d,fetcherKey:s,unstable_runClientMiddleware:g=>{let x=d,b=!1;return H_(x,()=>(b=!0,g({...x,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,D)=>B_(w,D,n,b))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function LS({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:o,scopedContext:c}){let d,f,p=hr(t.method),g=p?"action":"loader",x=b=>{let w,D=new Promise((V,B)=>w=B);f=()=>w(),t.signal.addEventListener("abort",f);let L=V=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):b({request:t,params:e.params,context:c},...V!==void 0?[V]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(B=>L(B)):L())}}catch(V){return{type:"error",result:V}}})();return Promise.race([A,D])};try{let b=p?e.route.action:e.route.loader;if(n||s)if(b){let w,[D]=await Promise.all([x(b).catch(L=>{w=L}),n,s]);if(w!==void 0)throw w;d=D}else{await n;let w=p?e.route.action:e.route.loader;if(w)[d]=await Promise.all([x(w),s]);else if(g==="action"){let D=new URL(t.url),L=D.pathname+D.search;throw qr(405,{method:t.method,pathname:L,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)d=await x(b);else{let w=new URL(t.url),D=w.pathname+w.search;throw qr(404,{pathname:D})}}catch(b){return{type:"error",result:b}}finally{f&&t.signal.removeEventListener("abort",f)}return d}async function VS(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function US(t){let{result:e,type:n}=t;if(K_(e)){let s;try{s=await VS(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new cf(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?G1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new cf(e.init?.status||500,void 0,e.data),statusCode:Ou(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ou(e)?e.status:void 0}:G1(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zS(t,e,n,s,o){let c=t.headers.get("Location");if(it(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!qy(c)){let d=s.slice(0,s.findIndex(f=>f.route.id===n)+1);c=ey(new URL(e.url),d,o,c),t.headers.set("Location",c)}return t}function z1(t,e,n){if(qy(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),c=Kr(o.pathname,n)!=null;if(o.origin===e.origin&&c)return o.pathname+o.search+o.hash}return t}function _l(t,e,n,s){let o=t.createURL(G_(e)).toString(),c={signal:n};if(s&&hr(s.formMethod)){let{formMethod:d,formEncType:f}=s;c.method=d.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(s.json)):f==="text/plain"?c.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?c.body=ry(s.formData):c.body=s.formData}return new Request(o,c)}function ry(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function F1(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function FS(t,e,n,s=!1,o=!1){let c={},d=null,f,p=!1,g={},x=n&&Tr(n[1])?n[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in e))return;let w=b.route.id,D=e[w];if(it(!ho(D),"Cannot handle redirect results in processLoaderData"),Tr(D)){let L=D.error;if(x!==void 0&&(L=x,x=void 0),d=d||{},o)d[w]=L;else{let A=ci(t,w);d[A.route.id]==null&&(d[A.route.id]=L)}s||(c[w]=U_),p||(p=!0,f=Ou(D.error)?D.error.status:500),D.headers&&(g[w]=D.headers)}else c[w]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(f=D.statusCode),D.headers&&(g[w]=D.headers)}),x!==void 0&&n&&(d={[n[0]]:x},n[2]&&(c[n[2]]=void 0)),{loaderData:c,errors:d,statusCode:f||200,loaderHeaders:g}}function B1(t,e,n,s,o,c){let{loaderData:d,errors:f}=FS(e,n,s);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:x,controller:b}=p;if(b&&b.signal.aborted)return;let w=c[g];if(it(w,"Did not find corresponding fetcher result"),Tr(w)){let D=ci(t.matches,x?.route.id);f&&f[D.route.id]||(f={...f,[D.route.id]:w.error}),t.fetchers.delete(g)}else if(ho(w))it(!1,"Unhandled fetcher revalidation redirect");else{let D=oi(w.data);t.fetchers.set(g,D)}}),{loaderData:d,errors:f}}function H1(t,e,n,s){let o=Object.entries(e).filter(([,c])=>c!==U_).reduce((c,[d,f])=>(c[d]=f,c),{});for(let c of n){let d=c.route.id;if(!e.hasOwnProperty(d)&&t.hasOwnProperty(d)&&c.route.loader&&(o[d]=t[d]),s&&s.hasOwnProperty(d))break}return o}function q1(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ci(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function $1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qr(t,{pathname:e,routeId:n,method:s,type:o,message:c}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(d="Bad Request",s&&e&&n?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(d="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(d="Not Found",f=`No route matches URL "${e}"`):t===405&&(d="Method Not Allowed",s&&e&&n?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new cf(t||500,d,new Error(f),!0)}function Rh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(ho(o))return{key:s,result:o}}}function G_(t){let e=typeof t=="string"?Ii(t):t;return _i({...e,hash:""})}function BS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function HS(t){return K_(t.result)&&jS.has(t.result.status)}function Tr(t){return t.type==="error"}function ho(t){return(t&&t.type)==="redirect"}function G1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function K_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qS(t){return ES.has(t.toUpperCase())}function hr(t){return _S.has(t.toUpperCase())}function $y(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $h(t,e){let n=typeof e=="string"?Ii(e).search:e.search;if(t[t.length-1].route.index&&$y(n||""))return t[t.length-1];let s=k_(t);return s[s.length-1]}function K1(t){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:c,json:d}=t;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:e,formAction:n,formEncType:s,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:d,text:void 0}}}function jg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $S(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function oi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KS(t,e){try{let n=t.sessionStorage.getItem(V_);if(n){let s=JSON.parse(n);for(let[o,c]of Object.entries(s||{}))c&&Array.isArray(c)&&e.set(o,new Set(c||[]))}}catch{}}function YS(t,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{t.sessionStorage.setItem(V_,JSON.stringify(n))}catch(s){Wt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function QS(){let t,e,n=new Promise((s,o)=>{t=async c=>{s(c);try{await n}catch{}},e=async c=>{o(c);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var To=z.createContext(null);To.displayName="DataRouter";var Ku=z.createContext(null);Ku.displayName="DataRouterState";z.createContext(!1);var Gy=z.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var Y_=z.createContext(new Map);Y_.displayName="Fetchers";var WS=z.createContext(null);WS.displayName="Await";var ys=z.createContext(null);ys.displayName="Navigation";var qf=z.createContext(null);qf.displayName="Location";var Qr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var Ky=z.createContext(null);Ky.displayName="RouteError";function XS(t,{relative:e}={}){it(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(ys),{hash:o,pathname:c,search:d}=Yu(t,{relative:e}),f=c;return n!=="/"&&(f=c==="/"?n:Ls([n,c])),s.createHref({pathname:f,search:d,hash:o})}function Fl(){return z.useContext(qf)!=null}function Wr(){return it(Fl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(qf).location}var Q_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(t){z.useContext(ys).static||z.useLayoutEffect(t)}function Oi(){let{isDataRoute:t}=z.useContext(Qr);return t?hT():ZS()}function ZS(){it(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(To),{basename:e,navigator:n}=z.useContext(ys),{matches:s}=z.useContext(Qr),{pathname:o}=Wr(),c=JSON.stringify(Bf(s)),d=z.useRef(!1);return W_(()=>{d.current=!0}),z.useCallback((p,g={})=>{if(Wt(d.current,Q_),!d.current)return;if(typeof p=="number"){n.go(p);return}let x=Hf(p,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ls([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,c,o,t])}var JS=z.createContext(null);function eT(t){let e=z.useContext(Qr).outlet;return e&&z.createElement(JS.Provider,{value:t},e)}function $f(){let{matches:t}=z.useContext(Qr),e=t[t.length-1];return e?e.params:{}}function Yu(t,{relative:e}={}){let{matches:n}=z.useContext(Qr),{pathname:s}=Wr(),o=JSON.stringify(Bf(n));return z.useMemo(()=>Hf(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function tT(t,e,n,s){it(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(ys),{matches:c}=z.useContext(Qr),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let B=x&&x.path||"";X_(p,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=Wr(),w;w=b;let D=w.pathname||"/",L=D;if(g!=="/"){let B=g.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=li(t,{pathname:L});return Wt(x||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Wt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iT(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Ls([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Ls([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,s)}function nT(){let t=dT(),e=Ou(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var rT=z.createElement(nT,null),sT=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(Qr.Provider,{value:this.props.routeContext},z.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aT({routeContext:t,match:e,children:n}){let s=z.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Qr.Provider,{value:t},n)}function iT(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:b}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let b,w=!1,D=null,L=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,D=g.route.errorElement||rT,d&&(f<0&&x===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):f===x&&(w=!0,L=g.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,x+1)),V=()=>{let B;return b?B=D:w?B=L:g.route.Component?B=z.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,z.createElement(aT,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?z.createElement(sT,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:V(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):V()},null)}function Yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(t){let e=z.useContext(To);return it(e,Yy(t)),e}function lT(t){let e=z.useContext(Ku);return it(e,Yy(t)),e}function cT(t){let e=z.useContext(Qr);return it(e,Yy(t)),e}function Qy(t){let e=cT(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uT(){return Qy("useRouteId")}function dT(){let t=z.useContext(Ky),e=lT("useRouteError"),n=Qy("useRouteError");return t!==void 0?t:e.errors?.[n]}function hT(){let{router:t}=oT("useNavigate"),e=Qy("useNavigate"),n=z.useRef(!1);return W_(()=>{n.current=!0}),z.useCallback(async(o,c={})=>{Wt(n.current,Q_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var Y1={};function X_(t,e,n){!e&&!Y1[t]&&(Y1[t]=!0,Wt(!1,n))}var Q1={};function W1(t,e){!t&&!Q1[e]&&(Q1[e]=!0,console.warn(e))}function fT(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var mT=["HydrateFallback","hydrateFallbackElement"],pT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function gT({router:t,flushSync:e}){let[n,s]=z.useState(t.state),[o,c]=z.useState(),[d,f]=z.useState({isTransitioning:!1}),[p,g]=z.useState(),[x,b]=z.useState(),[w,D]=z.useState(),L=z.useRef(new Map),A=z.useCallback((k,{deletedFetchers:q,flushSync:F,viewTransitionOpts:I})=>{k.fetchers.forEach((E,S)=>{E.data!==void 0&&L.current.set(S,E.data)}),q.forEach(E=>L.current.delete(E)),W1(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(W1(I==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!R){e&&F?e(()=>s(k)):z.startTransition(()=>s(k));return}if(e&&F){e(()=>{x&&(p&&p.resolve(),x.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let E=t.window.document.startViewTransition(()=>{e(()=>s(k))});E.finished.finally(()=>{e(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})})}),e(()=>b(E));return}x?(p&&p.resolve(),x.skipTransition(),D({state:k,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(c(k),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,x,p]);z.useLayoutEffect(()=>t.subscribe(A),[t,A]),z.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new pT)},[d]),z.useEffect(()=>{if(p&&o&&t.window){let k=o,q=p.promise,F=t.window.document.startViewTransition(async()=>{z.startTransition(()=>s(k)),await q});F.finished.finally(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})}),b(F)}},[o,p,t.window]),z.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,x,n.location,o]),z.useEffect(()=>{!d.isTransitioning&&w&&(c(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),D(void 0))},[d.isTransitioning,w]);let V=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:k=>t.navigate(k),push:(k,q,F)=>t.navigate(k,{state:q,preventScrollReset:F?.preventScrollReset}),replace:(k,q,F)=>t.navigate(k,{replace:!0,state:q,preventScrollReset:F?.preventScrollReset})}),[t]),B=t.basename||"/",M=z.useMemo(()=>({router:t,navigator:V,static:!1,basename:B}),[t,V,B]);return z.createElement(z.Fragment,null,z.createElement(To.Provider,{value:M},z.createElement(Ku.Provider,{value:n},z.createElement(Y_.Provider,{value:L.current},z.createElement(Gy.Provider,{value:d},z.createElement(vT,{basename:B,location:n.location,navigationType:n.historyAction,navigator:V},z.createElement(yT,{routes:t.routes,future:t.future,state:n})))))),null)}var yT=z.memo(xT);function xT({routes:t,future:e,state:n}){return tT(t,void 0,n,e)}function wu({to:t,replace:e,state:n,relative:s}){it(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(ys);Wt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=z.useContext(Qr),{pathname:d}=Wr(),f=Oi(),p=Hf(t,Bf(c),d,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function Z_(t){return eT(t.context)}function vT({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){it(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Ii(n));let{pathname:p="/",search:g="",hash:x="",state:b=null,key:w="default"}=n,D=z.useMemo(()=>{let L=Kr(p,d);return L==null?null:{location:{pathname:L,search:g,hash:x,state:b,key:w},navigationType:s}},[d,p,g,x,b,w,s]);return Wt(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(ys.Provider,{value:f},z.createElement(qf.Provider,{children:e,value:D}))}var Gh="get",Kh="application/x-www-form-urlencoded";function Gf(t){return t!=null&&typeof t.tagName=="string"}function bT(t){return Gf(t)&&t.tagName.toLowerCase()==="button"}function wT(t){return Gf(t)&&t.tagName.toLowerCase()==="form"}function _T(t){return Gf(t)&&t.tagName.toLowerCase()==="input"}function NT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ET(t,e){return t.button===0&&(!e||e==="_self")&&!NT(t)}function sy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function jT(t,e){let n=sy(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Ch=null;function ST(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var TT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(t){return t!=null&&!TT.has(t)?(Wt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):t}function AT(t,e){let n,s,o,c,d;if(wT(t)){let f=t.getAttribute("action");s=f?Kr(f,e):null,n=t.getAttribute("method")||Gh,o=Sg(t.getAttribute("enctype"))||Kh,c=new FormData(t)}else if(bT(t)||_T(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?Kr(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Gh,o=Sg(t.getAttribute("formenctype"))||Sg(f.getAttribute("enctype"))||Kh,c=new FormData(f,t),!ST()){let{name:g,type:x,value:b}=t;if(x==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,b)}}else{if(Gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gh,s=null,o=Kh,d=t}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RT(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function CT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IT(t,e,n){let s=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await CT(c,n);return d.links?d.links():[]}return[]}));return kT(s.flat(1).filter(DT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X1(t,e,n,s,o,c){let d=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function OT(t,e,{includeHydrateFallback:n}={}){return MT(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function MT(t){return[...new Set(t)]}function PT(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function kT(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let c=JSON.stringify(PT(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function J_(){let t=z.useContext(To);return Wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LT(){let t=z.useContext(Ku);return Wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xy=z.createContext(void 0);Xy.displayName="FrameworkContext";function e4(){let t=z.useContext(Xy);return Wy(t,"You must render this element inside a <HydratedRouter> element"),t}function VT(t,e){let n=z.useContext(Xy),[s,o]=z.useState(!1),[c,d]=z.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:b}=e,w=z.useRef(null);z.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let A=B=>{B.forEach(M=>{d(M.isIntersecting)})},V=new IntersectionObserver(A,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),z.useEffect(()=>{if(s){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[s]);let D=()=>{o(!0)},L=()=>{o(!1),d(!1)};return n?t!=="intent"?[c,w,{}]:[c,w,{onFocus:Xc(f,D),onBlur:Xc(p,L),onMouseEnter:Xc(g,D),onMouseLeave:Xc(x,L),onTouchStart:Xc(b,D)}]:[!1,w,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UT({page:t,...e}){let{router:n}=J_(),s=z.useMemo(()=>li(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?z.createElement(FT,{page:t,matches:s,...e}):null}function zT(t){let{manifest:e,routeModules:n}=e4(),[s,o]=z.useState([]);return z.useEffect(()=>{let c=!1;return IT(t,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[t,e,n]),s}function FT({page:t,matches:e,...n}){let s=Wr(),{manifest:o,routeModules:c}=e4(),{basename:d}=J_(),{loaderData:f,matches:p}=LT(),g=z.useMemo(()=>X1(t,e,p,o,s,"data"),[t,e,p,o,s]),x=z.useMemo(()=>X1(t,e,p,o,s,"assets"),[t,e,p,o,s]),b=z.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let L=new Set,A=!1;if(e.forEach(B=>{let M=o.routes[B.route.id];!M||!M.hasLoader||(!g.some(k=>k.route.id===B.route.id)&&B.route.id in f&&c[B.route.id]?.shouldRevalidate||M.hasClientLoader?A=!0:L.add(B.route.id))}),L.size===0)return[];let V=RT(t,d,"data");return A&&L.size>0&&V.searchParams.set("_routes",e.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[d,f,s,o,g,e,t,c]),w=z.useMemo(()=>OT(x,o),[x,o]),D=zT(x);return z.createElement(z.Fragment,null,b.map(L=>z.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),w.map(L=>z.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),D.map(({key:L,link:A})=>z.createElement("link",{key:L,nonce:n.nonce,...A})))}function BT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var t4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t4&&(window.__reactRouterVersion="7.8.1")}catch{}function HT(t,e){return CS({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:Qj({window:e?.window}),hydrationData:e?.hydrationData||qT(),routes:t,mapRouteProperties:fT,hydrationRouteProperties:mT,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function qT(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:$T(t.errors)}),t}function $T(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new cf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let d=new c(o.message);d.stack="",n[s]=d}catch{}}if(n[s]==null){let c=new Error(o.message);c.stack="",n[s]=c}}else n[s]=o;return n}var n4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:x,viewTransition:b,...w},D){let{basename:L}=z.useContext(ys),A=typeof g=="string"&&n4.test(g),V,B=!1;if(typeof g=="string"&&A&&(V=g,t4))try{let S=new URL(window.location.href),P=g.startsWith("//")?new URL(S.protocol+g):new URL(g),C=Kr(P.pathname,L);P.origin===S.origin&&C!=null?g=C+P.search+P.hash:B=!0}catch{Wt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=XS(g,{relative:o}),[k,q,F]=VT(s,w),I=QT(g,{replace:d,state:f,target:p,preventScrollReset:x,relative:o,viewTransition:b});function R(S){e&&e(S),S.defaultPrevented||I(S)}let E=z.createElement("a",{...w,...F,href:V||M,onClick:B||c?e:R,ref:BT(D,q),target:p,"data-discover":!A&&n==="render"?"true":void 0});return k&&!A?z.createElement(z.Fragment,null,E,z.createElement(UT,{page:M})):E});Te.displayName="Link";var GT=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:f,children:p,...g},x){let b=Yu(d,{relative:g.relative}),w=Wr(),D=z.useContext(Ku),{navigator:L,basename:A}=z.useContext(ys),V=D!=null&&t6(b)&&f===!0,B=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,M=w.pathname,k=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(M=M.toLowerCase(),k=k?k.toLowerCase():null,B=B.toLowerCase()),k&&A&&(k=Kr(k,A)||k);const q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let F=M===B||!o&&M.startsWith(B)&&M.charAt(q)==="/",I=k!=null&&(k===B||!o&&k.startsWith(B)&&k.charAt(B.length)==="/"),R={isActive:F,isPending:I,isTransitioning:V},E=F?e:void 0,S;typeof s=="function"?S=s(R):S=[s,F?"active":null,I?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(R):c;return z.createElement(Te,{...g,"aria-current":E,className:S,ref:x,style:P,to:d,viewTransition:f},typeof p=="function"?p(R):p)});GT.displayName="NavLink";var KT=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=Gh,action:f,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:b,...w},D)=>{let L=JT(),A=e6(f,{relative:g}),V=d.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&n4.test(f),M=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let q=k.nativeEvent.submitter,F=q?.getAttribute("formmethod")||d;L(q||k.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:b})};return z.createElement("form",{ref:D,method:V,action:A,onSubmit:s?p:M,...w,"data-discover":!B&&t==="render"?"true":void 0})});KT.displayName="Form";function YT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r4(t){let e=z.useContext(To);return it(e,YT(t)),e}function QT(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=Oi(),p=Wr(),g=Yu(t,{relative:c});return z.useCallback(x=>{if(ET(x,e)){x.preventDefault();let b=n!==void 0?n:_i(p)===_i(g);f(t,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,f,g,n,s,e,t,o,c,d])}function WT(t){Wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(sy(t)),n=z.useRef(!1),s=Wr(),o=z.useMemo(()=>jT(s.search,n.current?null:e.current),[s.search]),c=Oi(),d=z.useCallback((f,p)=>{const g=sy(typeof f=="function"?f(new URLSearchParams(o)):f);n.current=!0,c("?"+g,p)},[c,o]);return[o,d]}var XT=0,ZT=()=>`__${String(++XT)}__`;function JT(){let{router:t}=r4("useSubmit"),{basename:e}=z.useContext(ys),n=uT();return z.useCallback(async(s,o={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=AT(s,e);if(o.navigate===!1){let x=o.fetcherKey||ZT();await t.fetch(x,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function e6(t,{relative:e}={}){let{basename:n}=z.useContext(ys),s=z.useContext(Qr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Yu(t||".",{relative:e})},d=Wr();if(t==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let x=f.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ls([n,c.pathname])),_i(c)}function t6(t,{relative:e}={}){let n=z.useContext(Gy);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r4("useViewTransitionState"),o=Yu(t,{relative:e});if(!n.isTransitioning)return!1;let c=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lf(o.pathname,d)!=null||lf(o.pathname,c)!=null}var n6=D_();function r6(t){return z.createElement(gT,{flushSync:n6.flushSync,...t})}var Kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},s6={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},a6=class{#e=s6;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ay=new a6;function i6(t){setTimeout(t,0)}var Yf=typeof window>"u"||"Deno"in globalThis;function os(){}function o6(t,e){return typeof t=="function"?t(e):t}function l6(t){return typeof t=="number"&&t>=0&&t!==1/0}function c6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function iy(t,e){return typeof t=="function"?t(e):t}function u6(t,e){return typeof t=="function"?t(e):t}function Z1(t,e){const{type:n="all",exact:s,fetchStatus:o,predicate:c,queryKey:d,stale:f}=t;if(d){if(s){if(e.queryHash!==Zy(d,e.options))return!1}else if(!Pu(e.queryKey,d))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||c&&!c(e))}function J1(t,e){const{exact:n,status:s,predicate:o,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Mu(e.options.mutationKey)!==Mu(c))return!1}else if(!Pu(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Zy(t,e){return(e?.queryKeyHashFn||Mu)(t)}function Mu(t){return JSON.stringify(t,(e,n)=>oy(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function Pu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Pu(t[n],e[n])):!1}var d6=Object.prototype.hasOwnProperty;function s4(t,e){if(t===e)return t;const n=e2(t)&&e2(e);if(!n&&!(oy(t)&&oy(e)))return e;const o=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),d=c.length,f=n?new Array(d):{};let p=0;for(let g=0;g<d;g++){const x=n?g:c[g],b=t[x],w=e[x];if(b===w){f[x]=b,(n?g<o:d6.call(t,x))&&p++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){f[x]=w;continue}const D=s4(b,w);f[x]=D,D===b&&p++}return o===d&&p===o?t:f}function e2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function oy(t){if(!t2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!t2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function t2(t){return Object.prototype.toString.call(t)==="[object Object]"}function h6(t){return new Promise(e=>{ay.setTimeout(e,t)})}function f6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?s4(t,e):e}function m6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function p6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Jy=Symbol();function a4(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Jy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var g6=class extends Kf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Yf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},i4=new g6;function y6(){let t,e;const n=new Promise((o,c)=>{t=o,e=c});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},n.reject=o=>{s({status:"rejected",reason:o}),e(o)},n}var x6=i6;function v6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},o=x6;const c=f=>{e?t.push(f):o(()=>{n(f)})},d=()=>{const f=t;t=[],f.length&&o(()=>{s(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||d()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{o=f}}}var Jn=v6(),b6=class extends Kf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Yf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},df=new b6;function w6(t){return Math.min(1e3*2**t,3e4)}function o4(t){return(t??"online")==="online"?df.isOnline():!0}var ly=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function l4(t){let e=!1,n=0,s;const o=y6(),c=()=>o.status!=="pending",d=A=>{if(!c()){const V=new ly(A);w(V),t.onCancel?.(V)}},f=()=>{e=!0},p=()=>{e=!1},g=()=>i4.isFocused()&&(t.networkMode==="always"||df.isOnline())&&t.canRun(),x=()=>o4(t.networkMode)&&t.canRun(),b=A=>{c()||(s?.(),o.resolve(A))},w=A=>{c()||(s?.(),o.reject(A))},D=()=>new Promise(A=>{s=V=>{(c()||g())&&A(V)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),L=()=>{if(c())return;let A;const V=n===0?t.initialPromise:void 0;try{A=V??t.fn()}catch(B){A=Promise.reject(B)}Promise.resolve(A).then(b).catch(B=>{if(c())return;const M=t.retry??(Yf?0:3),k=t.retryDelay??w6,q=typeof k=="function"?k(n,B):k,F=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,B);if(e||!F){w(B);return}n++,t.onFail?.(n,B),h6(q).then(()=>g()?void 0:D()).then(()=>{e?w(B):L()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(s?.(),o),cancelRetry:f,continueRetry:p,canStart:x,start:()=>(x()?L():D().then(L),o)}}var c4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l6(this.gcTime)&&(this.#e=ay.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ay.clearTimeout(this.#e),this.#e=void 0)}},_6=class extends c4{#e;#t;#n;#s;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=n2(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=n2(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=f6(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>u6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>iy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!c6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},c=()=>{const p=a4(this.options,n),x=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(b),b})();return this.#o=!1,this.options.persister?this.options.persister(p,x,this):p(x)},f=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return o(p),p})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#a({type:"fetch",meta:f.fetchOptions?.meta}),this.#r=l4({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:p=>{p instanceof ly&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(p,g)=>{this.#a({type:"failed",failureCount:p,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const p=await this.#r.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof ly){if(p.silent)return this.#r.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#a({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#a(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...N6(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function N6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function n2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function r2(t){return{onFetch:(e,n)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let x=!1;const b=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=a4(e.options,e.fetchOptions),D=async(L,A,V)=>{if(x)return Promise.reject();if(A==null&&L.pages.length)return Promise.resolve(L);const M=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:A,direction:V?"backward":"forward",meta:e.options.meta};return b(I),I})(),k=await w(M),{maxPages:q}=e.options,F=V?p6:m6;return{pages:F(L.pages,k,q),pageParams:F(L.pageParams,A,q)}};if(o&&c.length){const L=o==="backward",A=L?E6:s2,V={pages:c,pageParams:d},B=A(s,V);f=await D(V,B,L)}else{const L=t??c.length;do{const A=p===0?d[0]??s.initialPageParam:s2(s,f);if(p>0&&A==null)break;f=await D(f,A),p++}while(p<L)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function s2(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function E6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var j6=class extends c4{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||S6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})};this.#n=l4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",o=!this.#n.canStart();try{if(s)n();else{this.#s({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const d=await this.options.onMutate?.(e);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#n.start();return await this.#t.config.onSuccess?.(c,e,this.state.context,this),await this.options.onSuccess?.(c,e,this.state.context),await this.#t.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,e,this.state.context),this.#s({type:"success",data:c}),c}catch(c){try{throw await this.#t.config.onError?.(c,e,this.state.context,this),await this.options.onError?.(c,e,this.state.context),await this.#t.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,e,this.state.context),c}finally{this.#s({type:"error",error:c})}}finally{this.#t.runNext(this)}}#s(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function S6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var T6=class extends Kf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new j6({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Dh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Dh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Dh(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Dh(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>J1(e,n))}findAll(t={}){return this.getAll().filter(e=>J1(t,e))}notify(t){Jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Jn.batch(()=>Promise.all(t.map(e=>e.continue().catch(os))))}};function Dh(t){return t.options.scope?.id}var A6=class extends Kf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,o=e.queryHash??Zy(s,e);let c=this.get(o);return c||(c=new _6({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Z1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Z1(t,n)):e}notify(t){Jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},R6=class{#e;#t;#n;#s;#r;#i;#o;#a;constructor(t={}){this.#e=t.queryCache||new A6,this.#t=t.mutationCache||new T6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=i4.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=df.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(iy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,d=o6(e,c);if(d!==void 0)return this.#e.build(this,s).setData(d,{...n,manual:!0})}setQueriesData(t,e,n){return Jn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Jn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Jn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Jn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(s).then(os).catch(os)}invalidateQueries(t,e={}){return Jn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Jn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,n);return n.throwOnError||(c=c.catch(os)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(iy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(os).catch(os)}fetchInfiniteQuery(t){return t.behavior=r2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(os).catch(os)}ensureInfiniteQueryData(t){return t.behavior=r2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return df.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Pu(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Pu(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Jy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},C6=z.createContext(void 0),D6=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(C6.Provider,{value:t,children:e})),Tg,a2;function I6(){if(a2)return Tg;a2=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var f,p,g;if(Array.isArray(c)){if(f=c.length,f!=d.length)return!1;for(p=f;p--!==0;)if(!o(c[p],d[p]))return!1;return!0}var x;if(e&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(x=c.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;for(x=c.entries();!(p=x.next()).done;)if(!o(p.value[1],d.get(p.value[0])))return!1;return!0}if(n&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(x=c.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if(f=c.length,f!=d.length)return!1;for(p=f;p--!==0;)if(c[p]!==d[p])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if(g=Object.keys(c),f=g.length,f!==Object.keys(d).length)return!1;for(p=f;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(t&&c instanceof Element)return!1;for(p=f;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&c.$$typeof)&&!o(c[g[p]],d[g[p]]))return!1;return!0}return c!==c&&d!==d}return Tg=function(d,f){try{return o(d,f)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Tg}var O6=I6();const M6=Ff(O6);var Ag,i2;function P6(){if(i2)return Ag;i2=1;var t=function(e,n,s,o,c,d,f,p){if(!e){var g;if(n===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[s,o,c,d,f,p],b=0;g=new Error(n.replace(/%s/g,function(){return x[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return Ag=t,Ag}var k6=P6();const o2=Ff(k6);var Rg,l2;function L6(){return l2||(l2=1,Rg=function(e,n,s,o){var c=s?s.call(o,e,n):void 0;if(c!==void 0)return!!c;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(n),g=0;g<d.length;g++){var x=d[g];if(!p(x))return!1;var b=e[x],w=n[x];if(c=s?s.call(o,b,w,x):void 0,c===!1||c===void 0&&b!==w)return!1}return!0}),Rg}var V6=L6();const U6=Ff(V6);var u4=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(u4||{}),Cg={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},c2=Object.values(u4),e0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},z6=Object.entries(e0).reduce((t,[e,n])=>(t[n]=e,t),{}),us="data-rh",Tl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Al=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const s=t[n];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},F6=t=>{let e=Al(t,"title");const n=Al(t,Tl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const s=Al(t,Tl.DEFAULT_TITLE);return e||s||void 0},B6=t=>Al(t,Tl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Dg=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,s)=>({...n,...s}),{}),H6=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const o=Object.keys(s);for(let c=0;c<o.length;c+=1){const f=o[c].toLowerCase();if(t.indexOf(f)!==-1&&s[f])return n.concat(s)}}return n},[]),q6=t=>console&&typeof console.warn=="function"&&console.warn(t),Zc=(t,e,n)=>{const s={};return n.filter(o=>Array.isArray(o[t])?!0:(typeof o[t]<"u"&&q6(`Helmet: ${t} should be of type "Array". Instead found type "${typeof o[t]}"`),!1)).map(o=>o[t]).reverse().reduce((o,c)=>{const d={};c.filter(p=>{let g;const x=Object.keys(p);for(let w=0;w<x.length;w+=1){const D=x[w],L=D.toLowerCase();e.indexOf(L)!==-1&&!(g==="rel"&&p[g].toLowerCase()==="canonical")&&!(L==="rel"&&p[L].toLowerCase()==="stylesheet")&&(g=L),e.indexOf(D)!==-1&&(D==="innerHTML"||D==="cssText"||D==="itemprop")&&(g=D)}if(!g||!p[g])return!1;const b=p[g].toLowerCase();return s[g]||(s[g]={}),d[g]||(d[g]={}),s[g][b]?!1:(d[g][b]=!0,!0)}).reverse().forEach(p=>o.push(p));const f=Object.keys(d);for(let p=0;p<f.length;p+=1){const g=f[p],x={...s[g],...d[g]};s[g]=x}return o},[]).reverse()},$6=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},G6=t=>({baseTag:H6(["href"],t),bodyAttributes:Dg("bodyAttributes",t),defer:Al(t,Tl.DEFER),encode:Al(t,Tl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Dg("htmlAttributes",t),linkTags:Zc("link",["rel","href"],t),metaTags:Zc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Zc("noscript",["innerHTML"],t),onChangeClientState:B6(t),scriptTags:Zc("script",["src","innerHTML"],t),styleTags:Zc("style",["cssText"],t),title:F6(t),titleAttributes:Dg("titleAttributes",t),prioritizeSeoTags:$6(t,Tl.PRIORITIZE_SEO_TAGS)}),d4=t=>Array.isArray(t)?t.join(""):t,K6=(t,e)=>{const n=Object.keys(t);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(t[n[s]]))return!0;return!1},Ig=(t,e)=>Array.isArray(t)?t.reduce((n,s)=>(K6(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:t,priority:[]},u2=(t,e)=>({...t,[e]:void 0}),Y6=["noscript","script","style"],cy=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),h4=t=>Object.keys(t).reduce((e,n)=>{const s=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),Q6=(t,e,n,s)=>{const o=h4(n),c=d4(e);return o?`<${t} ${us}="true" ${o}>${cy(c,s)}</${t}>`:`<${t} ${us}="true">${cy(c,s)}</${t}>`},W6=(t,e,n=!0)=>e.reduce((s,o)=>{const c=o,d=Object.keys(c).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,x)=>{const b=typeof c[x]>"u"?x:`${x}="${cy(c[x],n)}"`;return g?`${g} ${b}`:b},""),f=c.innerHTML||c.cssText||"",p=Y6.indexOf(t)===-1;return`${s}<${t} ${us}="true" ${d}${p?"/>":`>${f}</${t}>`}`},""),f4=(t,e={})=>Object.keys(t).reduce((n,s)=>{const o=e0[s];return n[o||s]=t[s],n},e),X6=(t,e,n)=>{const s={key:e,[us]:!0},o=f4(n,s);return[Ot.createElement("title",o,e)]},Yh=(t,e)=>e.map((n,s)=>{const o={key:s,[us]:!0};return Object.keys(n).forEach(c=>{const f=e0[c]||c;if(f==="innerHTML"||f==="cssText"){const p=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:p}}else o[f]=n[c]}),Ot.createElement(t,o)}),Hr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>X6(t,e.title,e.titleAttributes),toString:()=>Q6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>f4(e),toString:()=>h4(e)};default:return{toComponent:()=>Yh(t,e),toString:()=>W6(t,e,n)}}},Z6=({metaTags:t,linkTags:e,scriptTags:n,encode:s})=>{const o=Ig(t,Cg.meta),c=Ig(e,Cg.link),d=Ig(n,Cg.script);return{priorityMethods:{toComponent:()=>[...Yh("meta",o.priority),...Yh("link",c.priority),...Yh("script",d.priority)],toString:()=>`${Hr("meta",o.priority,s)} ${Hr("link",c.priority,s)} ${Hr("script",d.priority,s)}`},metaTags:o.default,linkTags:c.default,scriptTags:d.default}},J6=t=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:o,noscriptTags:c,styleTags:d,title:f="",titleAttributes:p,prioritizeSeoTags:g}=t;let{linkTags:x,metaTags:b,scriptTags:w}=t,D={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:D,linkTags:x,metaTags:b,scriptTags:w}=Z6(t)),{priority:D,base:Hr("base",e,s),bodyAttributes:Hr("bodyAttributes",n,s),htmlAttributes:Hr("htmlAttributes",o,s),link:Hr("link",x,s),meta:Hr("meta",b,s),noscript:Hr("noscript",c,s),script:Hr("script",w,s),style:Hr("style",d,s),title:Hr("title",{title:f,titleAttributes:p},s)}},uy=J6,Ih=[],m4=!!(typeof window<"u"&&window.document&&window.document.createElement),dy=class{instances=[];canUseDOM=m4;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ih:this.instances,add:t=>{(this.canUseDOM?Ih:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ih:this.instances).indexOf(t);(this.canUseDOM?Ih:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=uy({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},eA={},p4=Ot.createContext(eA),g4=class y4 extends z.Component{static canUseDOM=m4;helmetData;constructor(e){super(e),this.helmetData=new dy(this.props.context||{},y4.canUseDOM)}render(){return Ot.createElement(p4.Provider,{value:this.helmetData.value},this.props.children)}},bl=(t,e)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${t}[${us}]`),o=[].slice.call(s),c=[];let d;return e&&e.length&&e.forEach(f=>{const p=document.createElement(t);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g))if(g==="innerHTML")p.innerHTML=f.innerHTML;else if(g==="cssText")p.styleSheet?p.styleSheet.cssText=f.cssText:p.appendChild(document.createTextNode(f.cssText));else{const x=g,b=typeof f[x]>"u"?"":f[x];p.setAttribute(g,b)}p.setAttribute(us,"true"),o.some((g,x)=>(d=x,p.isEqualNode(g)))?o.splice(d,1):c.push(p)}),o.forEach(f=>f.parentNode?.removeChild(f)),c.forEach(f=>n.appendChild(f)),{oldTags:o,newTags:c}},hy=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const s=n.getAttribute(us),o=s?s.split(","):[],c=[...o],d=Object.keys(e);for(const f of d){const p=e[f]||"";n.getAttribute(f)!==p&&n.setAttribute(f,p),o.indexOf(f)===-1&&o.push(f);const g=c.indexOf(f);g!==-1&&c.splice(g,1)}for(let f=c.length-1;f>=0;f-=1)n.removeAttribute(c[f]);o.length===c.length?n.removeAttribute(us):n.getAttribute(us)!==d.join(",")&&n.setAttribute(us,d.join(","))},tA=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=d4(t)),hy("title",e)},d2=(t,e)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:o,linkTags:c,metaTags:d,noscriptTags:f,onChangeClientState:p,scriptTags:g,styleTags:x,title:b,titleAttributes:w}=t;hy("body",s),hy("html",o),tA(b,w);const D={baseTag:bl("base",n),linkTags:bl("link",c),metaTags:bl("meta",d),noscriptTags:bl("noscript",f),scriptTags:bl("script",g),styleTags:bl("style",x)},L={},A={};Object.keys(D).forEach(V=>{const{newTags:B,oldTags:M}=D[V];B.length&&(L[V]=B),M.length&&(A[V]=D[V].oldTags)}),e&&e(),p(t,L,A)},Jc=null,nA=t=>{Jc&&cancelAnimationFrame(Jc),t.defer?Jc=requestAnimationFrame(()=>{d2(t,()=>{Jc=null})}):(d2(t),Jc=null)},rA=nA,h2=class extends z.Component{rendered=!1;shouldComponentUpdate(t){return!U6(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const s=G6(t.get().map(o=>{const c={...o.props};return delete c.context,c}));g4.canUseDOM?rA(s):uy&&(n=uy(s)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Gt=class extends z.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!M6(u2(this.props,"helmetData"),u2(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,s){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,n,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(s=>{n={...n,[s]:t[s]}}),n}warnOnInvalidChildren(t,e){return o2(c2.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${c2.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),o2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Ot.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:o,...c}=s.props,d=Object.keys(c).reduce((p,g)=>(p[z6[g]||g]=c[g],p),{});let{type:f}=s;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(s,o),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,d,o);break;default:e=this.mapObjectTypeChildren(s,e,d,o);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:s}=e;if(t&&(n=this.mapChildrenToProps(t,n)),s&&!(s instanceof dy)){const o=s;s=new dy(o.context,!0),delete n.helmetData}return s?Ot.createElement(h2,{...n,context:s.value}):Ot.createElement(p4.Consumer,null,o=>Ot.createElement(h2,{...n,context:o}))}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=()=>{};var f2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aA=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],d=t[n++],f=t[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=t[n++],d=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},v4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const c=t[o],d=o+1<t.length,f=d?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,x=c>>2,b=(c&3)<<4|f>>4;let w=(f&15)<<2|g>>6,D=g&63;p||(D=64,d||(w=64)),s.push(n[x],n[b],n[w],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||f==null||g==null||b==null)throw new iA;const w=c<<2|f>>4;if(s.push(w),g!==64){const D=f<<4&240|g>>2;if(s.push(D),b!==64){const L=g<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(t){const e=x4(t);return v4.encodeByteArray(e,!0)},hf=function(t){return oA(t).replace(/\./g,"")},b4=function(t){try{return v4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=()=>lA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof f2>"u")return;const t=f2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b4(t[1]);return e&&JSON.parse(e)},Qf=()=>{try{return sA()||cA()||uA()||dA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w4=t=>Qf()?.emulatorHosts?.[t],_4=t=>{const e=w4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},N4=()=>Qf()?.config,E4=t=>Qf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hf(JSON.stringify(n)),hf(JSON.stringify(d)),""].join(".")}const _u={};function fA(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function mA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let m2=!1;function n0(t,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||_u[t]===e||_u[t]||m2)return;_u[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=fA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{m2=!0,d()},w}function x(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=mA(s),D=n("text"),L=document.getElementById(D)||document.createElement("span"),A=n("learnmore"),V=document.getElementById(A)||document.createElement("a"),B=n("preprendIcon"),M=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const k=w.element;f(k),x(V,A);const q=g();p(M,B),k.append(M,L,V,q),document.body.appendChild(k)}c?(L.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function gA(){const t=Qf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=EA,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?jA(c,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Ys(o,f,s)}}function jA(t,e){return t.replace(SA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SA=/\{\$([^}]+)}/g;function TA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=t[o],d=e[o];if(p2(c)&&p2(d)){if(!xo(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function p2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AA(t,e){const n=new RA(t,e);return n.subscribe.bind(n)}class RA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Og),o.error===void 0&&(o.error=Og),o.complete===void 0&&(o.complete=Og);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(t){return t===uo?void 0:t}function OA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const PA={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},kA=ct.INFO,LA={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},VA=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=LA[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r0{constructor(e){this.name=e,this._logLevel=kA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const UA=(t,e)=>e.some(n=>t instanceof n);let g2,y2;function zA(){return g2||(g2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return y2||(y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S4=new WeakMap,fy=new WeakMap,T4=new WeakMap,Mg=new WeakMap,s0=new WeakMap;function BA(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(gi(t.result)),o()},d=()=>{s(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&S4.set(n,t)}).catch(()=>{}),s0.set(e,t),e}function HA(t){if(fy.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});fy.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qA(t){my=t(my)}function $A(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Pg(this),e,...n);return T4.set(s,e.sort?e.sort():[e]),gi(s)}:FA().includes(t)?function(...e){return t.apply(Pg(this),e),gi(S4.get(this))}:function(...e){return gi(t.apply(Pg(this),e))}}function GA(t){return typeof t=="function"?$A(t):(t instanceof IDBTransaction&&HA(t),UA(t,zA())?new Proxy(t,my):t)}function gi(t){if(t instanceof IDBRequest)return BA(t);if(Mg.has(t))return Mg.get(t);const e=GA(t);return e!==t&&(Mg.set(t,e),s0.set(e,t)),e}const Pg=t=>s0.get(t);function KA(t,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(t,e),f=gi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(gi(d.result),p.oldVersion,p.newVersion,gi(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const YA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],kg=new Map;function x2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=QA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YA.includes(n)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&p.done]))[0]};return kg.set(e,c),c}qA(t=>({...t,get:(e,n,s)=>x2(e,n)||t.get(e,n,s),has:(e,n)=>!!x2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XA(t){return t.getComponent()?.type==="VERSION"}const py="@firebase/app",v2="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new r0("@firebase/app"),ZA="@firebase/app-compat",JA="@firebase/analytics-compat",eR="@firebase/analytics",tR="@firebase/app-check-compat",nR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",iR="@firebase/data-connect",oR="@firebase/database-compat",lR="@firebase/functions",cR="@firebase/functions-compat",uR="@firebase/installations",dR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",mR="@firebase/performance",pR="@firebase/performance-compat",gR="@firebase/remote-config",yR="@firebase/remote-config-compat",xR="@firebase/storage",vR="@firebase/storage-compat",bR="@firebase/firestore",wR="@firebase/ai",_R="@firebase/firestore-compat",NR="firebase",ER="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="[DEFAULT]",jR={[py]:"fire-core",[ZA]:"fire-core-compat",[eR]:"fire-analytics",[JA]:"fire-analytics-compat",[nR]:"fire-app-check",[tR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[iR]:"fire-data-connect",[oR]:"fire-rtdb-compat",[lR]:"fire-fn",[cR]:"fire-fn-compat",[uR]:"fire-iid",[dR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[mR]:"fire-perf",[pR]:"fire-perf-compat",[gR]:"fire-rc",[yR]:"fire-rc-compat",[xR]:"fire-gcs",[vR]:"fire-gcs-compat",[bR]:"fire-fst",[_R]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map,SR=new Map,yy=new Map;function b2(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(yy.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,t);for(const n of ff.values())b2(n,t);for(const n of SR.values())b2(n,t);return!0}function Wf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Qu("app","Firebase",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=ER;function A4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:gy,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw yi.create("bad-app-name",{appName:String(o)});if(n||(n=N4()),!n)throw yi.create("no-options");const c=ff.get(o);if(c){if(xo(n,c.options)&&xo(s,c.config))return c;throw yi.create("duplicate-app",{appName:o})}const d=new MA(o);for(const p of yy.values())d.addComponent(p);const f=new AR(n,s,d);return ff.set(o,f),f}function a0(t=gy){const e=ff.get(t);if(!e&&t===gy&&N4())return A4();if(!e)throw yi.create("no-app",{appName:t});return e}function Vs(t,e,n){let s=jR[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(d.join(" "));return}vo(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebase-heartbeat-database",CR=1,ku="firebase-heartbeat-store";let Lg=null;function R4(){return Lg||(Lg=KA(RR,CR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Lg}async function DR(t){try{const n=(await R4()).transaction(ku),s=await n.objectStore(ku).get(C4(t));return await n.done,s}catch(e){if(e instanceof Ys)Sa.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});Sa.warn(n.message)}}}async function w2(t,e){try{const s=(await R4()).transaction(ku,"readwrite");await s.objectStore(ku).put(e,C4(t)),await s.done}catch(n){if(n instanceof Ys)Sa.warn(n.message);else{const s=yi.create("idb-set",{originalErrorMessage:n?.message});Sa.warn(s.message)}}}function C4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1024,OR=30;class MR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OR){const o=LR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_2(),{heartbeatsToSend:n,unsentEntries:s}=PR(this._heartbeatsCache.heartbeats),o=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Sa.warn(e),""}}}function _2(){return new Date().toISOString().substring(0,10)}function PR(t,e=IR){const n=[];let s=t.slice();for(const o of t){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),N2(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),N2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return w2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return w2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N2(t){return hf(JSON.stringify({version:2,heartbeats:t})).length}function LR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){vo(new Ni("platform-logger",e=>new WA(e),"PRIVATE")),vo(new Ni("heartbeat",e=>new MR(e),"PRIVATE")),Vs(py,v2,t),Vs(py,v2,"esm2020"),Vs("fire-js","")}VR("");function D4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=D4,I4=new Qu("auth","Firebase",D4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new r0("@firebase/auth");function zR(t,...e){mf.logLevel<=ct.WARN&&mf.warn(`Auth (${Ro}): ${t}`,...e)}function Qh(t,...e){mf.logLevel<=ct.ERROR&&mf.error(`Auth (${Ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,...e){throw o0(t,...e)}function ps(t,...e){return o0(t,...e)}function i0(t,e,n){const s={...UR(),[e]:n};return new Qu("auth","Firebase",s).create(e,{appName:t.name})}function _a(t){return i0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FR(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Yr(t,"argument-error"),i0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function o0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return I4.create(t,...e)}function Ye(t,e,...n){if(!t)throw o0(e,...n)}function ba(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function Ta(t,e){t||ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){return typeof self<"u"&&self.location?.href||""}function BR(){return E2()==="http:"||E2()==="https:"}function E2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||xA()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=pA()||vA()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){Ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Xu(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pi(t,e,n,s,o={}){return M4(t,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=Wu({key:t.config.apiKey,...d}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...c};return yA()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(g.credentials="include"),O4.fetch()(await P4(t,t.config.apiHost,n,f),g)})}async function M4(t,e,n){t._canInitEmulator=!1;const s={...$R,...e};try{const o=new QR(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oh(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",d);if(p==="USER_DISABLED")throw Oh(t,"user-disabled",d);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw i0(t,x,g);Yr(t,x)}}catch(o){if(o instanceof Ys)throw o;Yr(t,"network-request-failed",{message:String(o)})}}async function Zu(t,e,n,s,o={}){const c=await Pi(t,e,n,s,o);return"mfaPendingCredential"in c&&Yr(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function P4(t,e,n,s){const o=`${e}${n}?${s}`,c=t,d=c.config.emulator?l0(t.config,o):`${t.config.apiScheme}://${o}`;return GR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function YR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ps(this.auth,"network-request-failed")),KR.get())})}}function Oh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ps(t,e,s);return o.customData._tokenResponse=n,o}function j2(t){return t!==void 0&&t.enterprise!==void 0}class WR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(t,e){return Pi(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e){return Pi(t,"POST","/v1/accounts:delete",e)}async function pf(t,e){return Pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JR(t,e=!1){const n=er(t),s=await n.getIdToken(e),o=c0(s);Ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Nu(Vg(o.auth_time)),issuedAtTime:Nu(Vg(o.iat)),expirationTime:Nu(Vg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vg(t){return Number(t)*1e3}function c0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=b4(n);return o?JSON.parse(o):(Qh("Failed to decode base64 JWT payload"),null)}catch(o){return Qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function S2(t){const e=c0(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ys&&eC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function eC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){const e=t.auth,n=await t.getIdToken(),s=await Lu(t,pf(e,{idToken:n}));Ye(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=o.providerUserInfo?.length?k4(o.providerUserInfo):[],d=rC(t.providerData,c),f=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!d?.length,g=f?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function nC(t){const e=er(t);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rC(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function k4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e){const n=await M4(t,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,d=await P4(t,o,"/v1/token",`key=${c}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(p.credentials="include"),O4.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(t,e){return Pi(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=S2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await sC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new Rl;return s&&(Ye(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ye(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ye(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JR(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Lu(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:L,stsTokenManager:A}=n;Ye(b&&A,e,"internal-error");const V=Rl.fromJSON(this.name,A);Ye(typeof b=="string",e,"internal-error"),ai(s,e.name),ai(o,e.name),Ye(typeof w=="boolean",e,"internal-error"),Ye(typeof D=="boolean",e,"internal-error"),ai(c,e.name),ai(d,e.name),ai(f,e.name),ai(p,e.name),ai(g,e.name),ai(x,e.name);const B=new ds({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:V,createdAt:g,lastLoginAt:x});return L&&Array.isArray(L)&&(B.providerData=L.map(M=>({...M}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(e,n,s=!1){const o=new Rl;o.updateFromServerResponse(n);const c=new ds({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gf(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?k4(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,f=new Rl;f.updateFromIdToken(s);const p=new ds({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Map;function wa(t){Ta(t instanceof Function,"Expected a class definition");let e=T2.get(t);return e?(Ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L4.type="NONE";const A2=L4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Wh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pf(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Cl(wa(A2),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||wa(A2);const d=Wh(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const x=await g._get(d);if(x){let b;if(typeof x=="string"){const w=await pf(e,{idToken:x}).catch(()=>{});if(!w)break;b=await ds._fromGetAccountInfoResponse(e,w,x)}else b=ds._fromJSON(e,x);g!==c&&(f=b),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Cl(c,e,s):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Cl(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H4(e))return"Blackberry";if(q4(e))return"Webos";if(U4(e))return"Safari";if((e.includes("chrome/")||z4(e))&&!e.includes("edge/"))return"Chrome";if(B4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function V4(t=Bn()){return/firefox\//i.test(t)}function U4(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z4(t=Bn()){return/crios\//i.test(t)}function F4(t=Bn()){return/iemobile/i.test(t)}function B4(t=Bn()){return/android/i.test(t)}function H4(t=Bn()){return/blackberry/i.test(t)}function q4(t=Bn()){return/webos/i.test(t)}function u0(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iC(t=Bn()){return u0(t)&&!!window.navigator?.standalone}function oC(){return bA()&&document.documentMode===10}function $4(t=Bn()){return u0(t)||B4(t)||q4(t)||H4(t)||/windows phone/i.test(t)||F4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e=[]){let n;switch(t){case"Browser":n=R2(Bn());break;case"Worker":n=`${R2(Bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t,e={}){return Pi(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=6;class dC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C2(this),this.idTokenSubscription=new C2(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pf(this,{idToken:e}),s=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(_a(this));const n=e?er(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cC(this),n=new dC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wa(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[wa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ki(t){return er(t)}class C2{constructor(e){this.auth=e,this.observer=null,this.addObserver=AA(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(t){Xf=t}function K4(t){return Xf.loadJS(t)}function mC(){return Xf.recaptchaEnterpriseScript}function pC(){return Xf.gapiScript}function gC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new xC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vC="recaptcha-enterprise",Y4="NO_RECAPTCHA";class bC{constructor(e){this.type=vC,this.auth=ki(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{XR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new WR(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function o(c,d,f){const p=window.grecaptcha;j2(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Y4)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!n&&j2(window.grecaptcha))o(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mC();p.length!==0&&(p+=f),K4(p).then(()=>{o(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function D2(t,e,n,s=!1,o=!1){const c=new bC(t);let d;if(o)d=Y4;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function by(t,e,n,s,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await D2(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D2(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e){const n=Wf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(xo(c,e??{}))return o;Yr(o,"already-initialized")}return n.initialize({options:e})}function _C(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(wa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function NC(t,e,n){const s=ki(t);Ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=Q4(e),{host:d,port:f}=EC(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ye(xo(g,s.config.emulator)&&xo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Ao(d)?(t0(`${c}//${d}${p}`),n0("Auth",!0)):jC()}function Q4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EC(t){const e=Q4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:I2(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:I2(d)}}}function I2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,n){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function SC(t,e){return Pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e){return Zu(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function RC(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends d0{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,n,"signInWithPassword",TC);case"emailLink":return AC(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,s,"signUpPassword",SC);case"emailLink":return RC(e,{idToken:n,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e){return Zu(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class bo extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new bo(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Dl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(t){const e=fu(mu(t)).link,n=e?fu(mu(e)).deep_link_id:null,s=fu(mu(t)).deep_link_id;return(s?fu(mu(s)).link:null)||s||n||e||t}class h0{constructor(e){const n=fu(mu(e)),s=n.apiKey??null,o=n.oobCode??null,c=DC(n.mode??null);Ye(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IC(e);try{return new h0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=h0.parseLink(n);return Ye(s,"argument-error"),Vu._fromEmailAndCode(e,s.code,s.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Ju{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return va.credential(n,s)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ju{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Ju{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return hi.credential(n,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e){return Zu(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ds._fromIdTokenResponse(e,s,o),d=O2(s);return new wo({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=O2(s);return new wo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function O2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Ys{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yf(e,n,s,o)}}function W4(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(t,c,e,s):c})}async function MC(t,e,n=!1){const s=await Lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e,n=!1){const{auth:s}=t;if(fr(s.app))return Promise.reject(_a(s));const o="reauthenticate";try{const c=await Lu(t,W4(s,o,e,t),n);Ye(c.idToken,s,"internal-error");const d=c0(c.idToken);Ye(d,s,"internal-error");const{sub:f}=d;return Ye(t.uid===f,s,"user-mismatch"),wo._forOperation(t,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Yr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e,n=!1){if(fr(t.app))return Promise.reject(_a(t));const s="signIn",o=await W4(t,s,e),c=await wo._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(c.user),c}async function kC(t,e){return X4(ki(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t){const e=ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LC(t,e,n){if(fr(t.app))return Promise.reject(_a(t));const s=ki(t),d=await by(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Z4(t),p}),f=await wo._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(f.user),f}function VC(t,e,n){return fr(t.app)?Promise.reject(_a(t)):kC(er(t),Bl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z4(t),s})}function UC(t,e,n,s){return er(t).onIdTokenChanged(e,n,s)}function zC(t,e,n){return er(t).beforeAuthStateChanged(e,n)}function FC(t,e,n,s){return er(t).onAuthStateChanged(e,n,s)}function BC(t){return er(t).signOut()}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1e3,qC=10;class eN extends J4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);oC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eN.type="LOCAL";const $C=eN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends J4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tN.type="SESSION";const nN=tN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async g=>g(n.origin,c)),p=await GC(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=m0("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(w.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function YC(t){Us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function QC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WC(){return navigator?.serviceWorker?.controller||null}function XC(){return rN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebaseLocalStorageDb",ZC=1,vf="firebaseLocalStorage",aN="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function JC(){const t=indexedDB.deleteDatabase(sN);return new ed(t).toPromise()}function wy(){const t=indexedDB.open(sN,ZC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(vf,{keyPath:aN})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(vf)?e(s):(s.close(),await JC(),e(await wy()))})})}async function M2(t,e,n){const s=Jf(t,!0).put({[aN]:e,value:n});return new ed(s).toPromise()}async function e5(t,e){const n=Jf(t,!1).get(e),s=await new ed(n).toPromise();return s===void 0?null:s.value}function P2(t,e){const n=Jf(t,!0).delete(e);return new ed(n).toPromise()}const t5=800,n5=3;class iN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>n5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(XC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await M2(e,xf,"1"),await P2(e,xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>M2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>e5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Jf(o,!1).getAll();return new ed(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iN.type="LOCAL";const r5=iN;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){return e?wa(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s5(t){return X4(t.auth,new p0(t),t.bypassAuthState)}function a5(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),PC(n,new p0(t),t.bypassAuthState)}async function i5(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),MC(n,new p0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s5;case"linkViaPopup":case"linkViaRedirect":return i5;case"reauthViaPopup":case"reauthViaRedirect":return a5;default:Yr(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new Xu(2e3,1e4);async function l5(t,e,n){if(fr(t.app))return Promise.reject(ps(t,"operation-not-supported-in-this-environment"));const s=ki(t);FR(t,e,f0);const o=oN(s,n);return new fo(s,"signInViaPopup",e,o).executeNotNull()}class fo extends lN{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o5.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="pendingRedirect",Xh=new Map;class u5 extends lN{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const s=await d5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d5(t,e){const n=m5(e),s=f5(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function h5(t,e){Xh.set(t._key(),e)}function f5(t){return wa(t._redirectPersistence)}function m5(t){return Wh(c5,t.config.apiKey,t.name)}async function p5(t,e,n=!1){if(fr(t.app))return Promise.reject(_a(t));const s=ki(t),o=oN(s,e),d=await new u5(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=600*1e3;class y5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cN(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ps(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g5&&this.cachedEventUids.clear(),this.cachedEventUids.has(k2(e))}saveEventToCache(e){this.cachedEventUids.add(k2(e)),this.lastProcessedEventTime=Date.now()}}function k2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function x5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e={}){return Pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w5=/^https?/;async function _5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v5(t);for(const n of e)try{if(N5(n))return}catch{}Yr(t,"unauthorized-domain")}function N5(t){const e=xy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!w5.test(n))return!1;if(b5.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new Xu(3e4,6e4);function L2(){const t=Us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j5(t){return new Promise((e,n)=>{function s(){L2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L2(),n(ps(t,"network-request-failed"))},timeout:E5.get()})}if(Us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Us().gapi?.load)s();else{const o=gC("iframefcb");return Us()[o]=()=>{gapi.load?s():n(ps(t,"network-request-failed"))},K4(`${pC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function S5(t){return Zh=Zh||j5(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new Xu(5e3,15e3),A5="__/auth/iframe",R5="emulator/auth/iframe",C5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l0(e,R5):`https://${t.config.authDomain}/${A5}`,s={apiKey:e.apiKey,appName:t.name,v:Ro},o=D5.get(t.config.apiHost);o&&(s.eid=o);const c=t._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Wu(s).slice(1)}`}async function O5(t){const e=await S5(t),n=Us().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:I5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C5,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=ps(t,"network-request-failed"),f=Us().setTimeout(()=>{c(d)},T5.get());function p(){Us().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P5=500,k5=600,L5="_blank",V5="http://localhost";class V2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U5(t,e,n,s=P5,o=k5){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...M5,width:s.toString(),height:o.toString(),top:c,left:d},g=Bn().toLowerCase();n&&(f=z4(g)?L5:n),V4(g)&&(e=e||V5,p.scrollbars="yes");const x=Object.entries(p).reduce((w,[D,L])=>`${w}${D}=${L},`,"");if(iC(g)&&f!=="_self")return z5(e||"",f),new V2(null);const b=window.open(e||"",f,x);Ye(b,t,"popup-blocked");try{b.focus()}catch{}return new V2(b)}function z5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="__/auth/handler",B5="emulator/auth/handler",H5=encodeURIComponent("fac");async function U2(t,e,n,s,o,c){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof f0){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",TA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))d[x]=b}if(e instanceof Ju){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(d.scopes=x.join(","))}t.tenantId&&(d.tid=t.tenantId);const f=d;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await t._getAppCheckToken(),g=p?`#${H5}=${encodeURIComponent(p)}`:"";return`${q5(t)}?${Wu(f).slice(1)}${g}`}function q5({config:t}){return t.emulator?l0(t,B5):`https://${t.authDomain}/${F5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class $5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nN,this._completeRedirectFn=p5,this._overrideRedirectResult=h5}async _openPopup(e,n,s,o){Ta(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await U2(e,n,s,xy(),o);return U5(e,c,m0())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await U2(e,n,s,xy(),o);return YC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ta(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await O5(e),s=new y5(e);return n.register("authEvent",o=>(Ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ug,{type:Ug},o=>{const c=o?.[0]?.[Ug];c!==void 0&&n(!!c),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $4()||U4()||u0()}}const G5=$5;var z2="@firebase/auth",F2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q5(t){vo(new Ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Ye(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G4(t)},g=new hC(s,o,c,p);return _C(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vo(new Ni("auth-internal",e=>{const n=ki(e.getProvider("auth").getImmediate());return(s=>new K5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(z2,F2,Y5(t)),Vs(z2,F2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=300,X5=E4("authIdTokenMaxAge")||W5;let B2=null;const Z5=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X5)return;const o=n?.token;B2!==o&&(B2=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function J5(t=a0()){const e=Wf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wC(t,{popupRedirectResolver:G5,persistence:[r5,$C,nN]}),s=E4("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Z5(c.toString());zC(n,d,()=>d(n.currentUser)),UC(n,f=>d(f))}}const o=w4("auth");return o&&NC(n,`http://${o}`),n}function e8(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const c=ps("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",e8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q5("Browser");var t8="firebase",n8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(t8,n8,"app");var H2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,uN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,E){function S(){}S.prototype=E.prototype,R.D=E.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(P,C,N){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return E.prototype[C].apply(P,T)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,E,S){S||(S=0);var P=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)P[C]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(C=0;16>C;++C)P[C]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=R.g[0],S=R.g[1],C=R.g[2];var N=R.g[3],T=E+(N^S&(C^N))+P[0]+3614090360&4294967295;E=S+(T<<7&4294967295|T>>>25),T=N+(C^E&(S^C))+P[1]+3905402710&4294967295,N=E+(T<<12&4294967295|T>>>20),T=C+(S^N&(E^S))+P[2]+606105819&4294967295,C=N+(T<<17&4294967295|T>>>15),T=S+(E^C&(N^E))+P[3]+3250441966&4294967295,S=C+(T<<22&4294967295|T>>>10),T=E+(N^S&(C^N))+P[4]+4118548399&4294967295,E=S+(T<<7&4294967295|T>>>25),T=N+(C^E&(S^C))+P[5]+1200080426&4294967295,N=E+(T<<12&4294967295|T>>>20),T=C+(S^N&(E^S))+P[6]+2821735955&4294967295,C=N+(T<<17&4294967295|T>>>15),T=S+(E^C&(N^E))+P[7]+4249261313&4294967295,S=C+(T<<22&4294967295|T>>>10),T=E+(N^S&(C^N))+P[8]+1770035416&4294967295,E=S+(T<<7&4294967295|T>>>25),T=N+(C^E&(S^C))+P[9]+2336552879&4294967295,N=E+(T<<12&4294967295|T>>>20),T=C+(S^N&(E^S))+P[10]+4294925233&4294967295,C=N+(T<<17&4294967295|T>>>15),T=S+(E^C&(N^E))+P[11]+2304563134&4294967295,S=C+(T<<22&4294967295|T>>>10),T=E+(N^S&(C^N))+P[12]+1804603682&4294967295,E=S+(T<<7&4294967295|T>>>25),T=N+(C^E&(S^C))+P[13]+4254626195&4294967295,N=E+(T<<12&4294967295|T>>>20),T=C+(S^N&(E^S))+P[14]+2792965006&4294967295,C=N+(T<<17&4294967295|T>>>15),T=S+(E^C&(N^E))+P[15]+1236535329&4294967295,S=C+(T<<22&4294967295|T>>>10),T=E+(C^N&(S^C))+P[1]+4129170786&4294967295,E=S+(T<<5&4294967295|T>>>27),T=N+(S^C&(E^S))+P[6]+3225465664&4294967295,N=E+(T<<9&4294967295|T>>>23),T=C+(E^S&(N^E))+P[11]+643717713&4294967295,C=N+(T<<14&4294967295|T>>>18),T=S+(N^E&(C^N))+P[0]+3921069994&4294967295,S=C+(T<<20&4294967295|T>>>12),T=E+(C^N&(S^C))+P[5]+3593408605&4294967295,E=S+(T<<5&4294967295|T>>>27),T=N+(S^C&(E^S))+P[10]+38016083&4294967295,N=E+(T<<9&4294967295|T>>>23),T=C+(E^S&(N^E))+P[15]+3634488961&4294967295,C=N+(T<<14&4294967295|T>>>18),T=S+(N^E&(C^N))+P[4]+3889429448&4294967295,S=C+(T<<20&4294967295|T>>>12),T=E+(C^N&(S^C))+P[9]+568446438&4294967295,E=S+(T<<5&4294967295|T>>>27),T=N+(S^C&(E^S))+P[14]+3275163606&4294967295,N=E+(T<<9&4294967295|T>>>23),T=C+(E^S&(N^E))+P[3]+4107603335&4294967295,C=N+(T<<14&4294967295|T>>>18),T=S+(N^E&(C^N))+P[8]+1163531501&4294967295,S=C+(T<<20&4294967295|T>>>12),T=E+(C^N&(S^C))+P[13]+2850285829&4294967295,E=S+(T<<5&4294967295|T>>>27),T=N+(S^C&(E^S))+P[2]+4243563512&4294967295,N=E+(T<<9&4294967295|T>>>23),T=C+(E^S&(N^E))+P[7]+1735328473&4294967295,C=N+(T<<14&4294967295|T>>>18),T=S+(N^E&(C^N))+P[12]+2368359562&4294967295,S=C+(T<<20&4294967295|T>>>12),T=E+(S^C^N)+P[5]+4294588738&4294967295,E=S+(T<<4&4294967295|T>>>28),T=N+(E^S^C)+P[8]+2272392833&4294967295,N=E+(T<<11&4294967295|T>>>21),T=C+(N^E^S)+P[11]+1839030562&4294967295,C=N+(T<<16&4294967295|T>>>16),T=S+(C^N^E)+P[14]+4259657740&4294967295,S=C+(T<<23&4294967295|T>>>9),T=E+(S^C^N)+P[1]+2763975236&4294967295,E=S+(T<<4&4294967295|T>>>28),T=N+(E^S^C)+P[4]+1272893353&4294967295,N=E+(T<<11&4294967295|T>>>21),T=C+(N^E^S)+P[7]+4139469664&4294967295,C=N+(T<<16&4294967295|T>>>16),T=S+(C^N^E)+P[10]+3200236656&4294967295,S=C+(T<<23&4294967295|T>>>9),T=E+(S^C^N)+P[13]+681279174&4294967295,E=S+(T<<4&4294967295|T>>>28),T=N+(E^S^C)+P[0]+3936430074&4294967295,N=E+(T<<11&4294967295|T>>>21),T=C+(N^E^S)+P[3]+3572445317&4294967295,C=N+(T<<16&4294967295|T>>>16),T=S+(C^N^E)+P[6]+76029189&4294967295,S=C+(T<<23&4294967295|T>>>9),T=E+(S^C^N)+P[9]+3654602809&4294967295,E=S+(T<<4&4294967295|T>>>28),T=N+(E^S^C)+P[12]+3873151461&4294967295,N=E+(T<<11&4294967295|T>>>21),T=C+(N^E^S)+P[15]+530742520&4294967295,C=N+(T<<16&4294967295|T>>>16),T=S+(C^N^E)+P[2]+3299628645&4294967295,S=C+(T<<23&4294967295|T>>>9),T=E+(C^(S|~N))+P[0]+4096336452&4294967295,E=S+(T<<6&4294967295|T>>>26),T=N+(S^(E|~C))+P[7]+1126891415&4294967295,N=E+(T<<10&4294967295|T>>>22),T=C+(E^(N|~S))+P[14]+2878612391&4294967295,C=N+(T<<15&4294967295|T>>>17),T=S+(N^(C|~E))+P[5]+4237533241&4294967295,S=C+(T<<21&4294967295|T>>>11),T=E+(C^(S|~N))+P[12]+1700485571&4294967295,E=S+(T<<6&4294967295|T>>>26),T=N+(S^(E|~C))+P[3]+2399980690&4294967295,N=E+(T<<10&4294967295|T>>>22),T=C+(E^(N|~S))+P[10]+4293915773&4294967295,C=N+(T<<15&4294967295|T>>>17),T=S+(N^(C|~E))+P[1]+2240044497&4294967295,S=C+(T<<21&4294967295|T>>>11),T=E+(C^(S|~N))+P[8]+1873313359&4294967295,E=S+(T<<6&4294967295|T>>>26),T=N+(S^(E|~C))+P[15]+4264355552&4294967295,N=E+(T<<10&4294967295|T>>>22),T=C+(E^(N|~S))+P[6]+2734768916&4294967295,C=N+(T<<15&4294967295|T>>>17),T=S+(N^(C|~E))+P[13]+1309151649&4294967295,S=C+(T<<21&4294967295|T>>>11),T=E+(C^(S|~N))+P[4]+4149444226&4294967295,E=S+(T<<6&4294967295|T>>>26),T=N+(S^(E|~C))+P[11]+3174756917&4294967295,N=E+(T<<10&4294967295|T>>>22),T=C+(E^(N|~S))+P[2]+718787259&4294967295,C=N+(T<<15&4294967295|T>>>17),T=S+(N^(C|~E))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+E&4294967295,R.g[1]=R.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+N&4294967295}s.prototype.u=function(R,E){E===void 0&&(E=R.length);for(var S=E-this.blockSize,P=this.B,C=this.h,N=0;N<E;){if(C==0)for(;N<=S;)o(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<E;)if(P[C++]=R.charCodeAt(N++),C==this.blockSize){o(this,P),C=0;break}}else for(;N<E;)if(P[C++]=R[N++],C==this.blockSize){o(this,P),C=0;break}}this.h=C,this.o+=E},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var E=1;E<R.length-8;++E)R[E]=0;var S=8*this.o;for(E=R.length-8;E<R.length;++E)R[E]=S&255,S/=256;for(this.u(R),R=Array(16),E=S=0;4>E;++E)for(var P=0;32>P;P+=8)R[S++]=this.g[E]>>>P&255;return R};function c(R,E){var S=f;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=E(R)}function d(R,E){this.h=E;for(var S=[],P=!0,C=R.length-1;0<=C;C--){var N=R[C]|0;P&&N==E||(S[C]=N,P=!1)}this.g=S}var f={};function p(R){return-128<=R&&128>R?c(R,function(E){return new d([E|0],0>E?-1:0)}):new d([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return V(g(-R));for(var E=[],S=1,P=0;R>=S;P++)E[P]=R/S|0,S*=4294967296;return new d(E,0)}function x(R,E){if(R.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R.charAt(0)=="-")return V(x(R.substring(1),E));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(E,8)),P=b,C=0;C<R.length;C+=8){var N=Math.min(8,R.length-C),T=parseInt(R.substring(C,C+N),E);8>N?(N=g(Math.pow(E,N)),P=P.j(N).add(g(T))):(P=P.j(S),P=P.add(g(T)))}return P}var b=p(0),w=p(1),D=p(16777216);t=d.prototype,t.m=function(){if(A(this))return-V(this).m();for(var R=0,E=1,S=0;S<this.g.length;S++){var P=this.i(S);R+=(0<=P?P:4294967296+P)*E,E*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(A(this))return"-"+V(this).toString(R);for(var E=g(Math.pow(R,6)),S=this,P="";;){var C=q(S,E).g;S=B(S,C.j(E));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=C,L(S))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(var E=0;E<R.g.length;E++)if(R.g[E]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=B(this,R),A(R)?-1:L(R)?0:1};function V(R){for(var E=R.g.length,S=[],P=0;P<E;P++)S[P]=~R.g[P];return new d(S,~R.h).add(w)}t.abs=function(){return A(this)?V(this):this},t.add=function(R){for(var E=Math.max(this.g.length,R.g.length),S=[],P=0,C=0;C<=E;C++){var N=P+(this.i(C)&65535)+(R.i(C)&65535),T=(N>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);P=T>>>16,N&=65535,T&=65535,S[C]=T<<16|N}return new d(S,S[S.length-1]&-2147483648?-1:0)};function B(R,E){return R.add(V(E))}t.j=function(R){if(L(this)||L(R))return b;if(A(this))return A(R)?V(this).j(V(R)):V(V(this).j(R));if(A(R))return V(this.j(V(R)));if(0>this.l(D)&&0>R.l(D))return g(this.m()*R.m());for(var E=this.g.length+R.g.length,S=[],P=0;P<2*E;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<R.g.length;C++){var N=this.i(P)>>>16,T=this.i(P)&65535,J=R.i(C)>>>16,H=R.i(C)&65535;S[2*P+2*C]+=T*H,M(S,2*P+2*C),S[2*P+2*C+1]+=N*H,M(S,2*P+2*C+1),S[2*P+2*C+1]+=T*J,M(S,2*P+2*C+1),S[2*P+2*C+2]+=N*J,M(S,2*P+2*C+2)}for(P=0;P<E;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=E;P<2*E;P++)S[P]=0;return new d(S,0)};function M(R,E){for(;(R[E]&65535)!=R[E];)R[E+1]+=R[E]>>>16,R[E]&=65535,E++}function k(R,E){this.g=R,this.h=E}function q(R,E){if(L(E))throw Error("division by zero");if(L(R))return new k(b,b);if(A(R))return E=q(V(R),E),new k(V(E.g),V(E.h));if(A(E))return E=q(R,V(E)),new k(V(E.g),E.h);if(30<R.g.length){if(A(R)||A(E))throw Error("slowDivide_ only works with positive integers.");for(var S=w,P=E;0>=P.l(R);)S=F(S),P=F(P);var C=I(S,1),N=I(P,1);for(P=I(P,2),S=I(S,2);!L(P);){var T=N.add(P);0>=T.l(R)&&(C=C.add(S),N=T),P=I(P,1),S=I(S,1)}return E=B(R,C.j(E)),new k(C,E)}for(C=b;0<=R.l(E);){for(S=Math.max(1,Math.floor(R.m()/E.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=g(S),T=N.j(E);A(T)||0<T.l(R);)S-=P,N=g(S),T=N.j(E);L(N)&&(N=w),C=C.add(N),R=B(R,T)}return new k(C,R)}t.A=function(R){return q(this,R).h},t.and=function(R){for(var E=Math.max(this.g.length,R.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)&R.i(P);return new d(S,this.h&R.h)},t.or=function(R){for(var E=Math.max(this.g.length,R.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)|R.i(P);return new d(S,this.h|R.h)},t.xor=function(R){for(var E=Math.max(this.g.length,R.g.length),S=[],P=0;P<E;P++)S[P]=this.i(P)^R.i(P);return new d(S,this.h^R.h)};function F(R){for(var E=R.g.length+1,S=[],P=0;P<E;P++)S[P]=R.i(P)<<1|R.i(P-1)>>>31;return new d(S,R.h)}function I(R,E){var S=E>>5;E%=32;for(var P=R.g.length-S,C=[],N=0;N<P;N++)C[N]=0<E?R.i(N+S)>>>E|R.i(N+S+1)<<32-E:R.i(N+S);return new d(C,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uN=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=x,xi=d}).apply(typeof H2<"u"?H2:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dN,pu,hN,Jh,_y,fN,mN,pN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var _=s;h=h.split(".");for(var U=0;U<h.length-1;U++){var te=h[U];if(!(te in _))break e;_=_[te]}h=h[h.length-1],U=_[h],v=v(U),v!=U&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var _=0,U=!1,te={next:function(){if(!U&&_<h.length){var ue=_++;return{value:v(ue,h[ue]),done:!1}}return U=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}o("Array.prototype.values",function(h){return h||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,_){return h.call.apply(h.bind,arguments)}function b(h,v,_){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,U),h.apply(v,te)}}return function(){return h.apply(v,arguments)}}function w(h,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function D(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var U=_.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function L(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(U,te,ue){for(var je=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)je[ht-2]=arguments[ht];return v.prototype[te].apply(U,je)}}function A(h){const v=h.length;if(0<v){const _=Array(v);for(let U=0;U<v;U++)_[U]=h[U];return _}return[]}function V(h,v){for(let _=1;_<arguments.length;_++){const U=arguments[_];if(p(U)){const te=h.length||0,ue=U.length||0;h.length=te+ue;for(let je=0;je<ue;je++)h[te+je]=U[je]}else h.push(U)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){return/^[\s\xa0]*$/.test(h)}function k(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function q(h){return q[" "](h),h}q[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function I(h,v,_){for(const U in h)v.call(_,h[U],U,h)}function R(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function E(h){const v={};for(const _ in h)v[_]=h[_];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let _,U;for(let te=1;te<arguments.length;te++){U=arguments[te];for(_ in U)h[_]=U[_];for(let ue=0;ue<S.length;ue++)_=S[ue],Object.prototype.hasOwnProperty.call(U,_)&&(h[_]=U[_])}}function C(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function N(h){f.setTimeout(()=>{throw h},0)}function T(){var h=be;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,_){const U=H.get();U.set(v,_),this.h?this.h.next=U:this.g=U,this.h=U}}var H=new B(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ie=!1,be=new J,$=()=>{const h=f.Promise.resolve(void 0);X=()=>{h.then(ce)}};var ce=()=>{for(var h;h=T();){try{h.h.call(h.g)}catch(_){N(_)}var v=H;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ie=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};f.addEventListener("test",_,v),f.removeEventListener("test",_,v)}catch{}return h})();function Ge(h,v){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(F){e:{try{q(v.nodeName);var te=!0;break e}catch{}te=!1}te||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Be[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ge.aa.h.call(this)}}L(Ge,ye);var Be={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function kn(h,v,_,U,te){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!U,this.ha=te,this.key=++gt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yn(h){this.src=h,this.g={},this.h=0}yn.prototype.add=function(h,v,_,U,te){var ue=h.toString();h=this.g[ue],h||(h=this.g[ue]=[],this.h++);var je=Xr(h,v,U,te);return-1<je?(v=h[je],_||(v.fa=!1)):(v=new kn(v,this.src,ue,!!U,te),v.fa=_,h.push(v)),v};function pr(h,v){var _=v.type;if(_ in h.g){var U=h.g[_],te=Array.prototype.indexOf.call(U,v,void 0),ue;(ue=0<=te)&&Array.prototype.splice.call(U,te,1),ue&&(St(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Xr(h,v,_,U){for(var te=0;te<h.length;++te){var ue=h[te];if(!ue.da&&ue.listener==v&&ue.capture==!!_&&ue.ha==U)return te}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),xs={};function Ca(h,v,_,U,te){if(Array.isArray(v)){for(var ue=0;ue<v.length;ue++)Ca(h,v[ue],_,U,te);return null}return _=_e(_),h&&h[Vt]?h.K(v,_,g(U)?!!U.capture:!1,te):Tn(h,v,_,!1,U,te)}function Tn(h,v,_,U,te,ue){if(!v)throw Error("Invalid event type");var je=g(te)?!!te.capture:!!te,ht=Se(h);if(ht||(h[xn]=ht=new yn(h)),_=ht.add(v,_,U,je,ue),_.proxy)return _;if(U=Po(),_.proxy=U,U.src=h,U.listener=_,h.addEventListener)Ae||(te=je),te===void 0&&(te=!1),h.addEventListener(v.toString(),U,te);else if(h.attachEvent)h.attachEvent(re(v.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Po(){function h(_){return v.call(h.src,h.listener,_)}const v=de;return h}function vs(h,v,_,U,te){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)vs(h,v[ue],_,U,te);else U=g(U)?!!U.capture:!!U,_=_e(_),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(ue=h.g[v],_=Xr(ue,_,U,te),-1<_&&(St(ue[_]),Array.prototype.splice.call(ue,_,1),ue.length==0&&(delete h.g[v],h.h--)))):h&&(h=Se(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Xr(v,_,U,te)),(_=-1<h?v[h]:null)&&Q(_))}function Q(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])pr(v.i,h);else{var _=h.type,U=h.proxy;v.removeEventListener?v.removeEventListener(_,U,h.capture):v.detachEvent?v.detachEvent(re(_),U):v.addListener&&v.removeListener&&v.removeListener(U),(_=Se(v))?(pr(_,h),_.h==0&&(_.src=null,v[xn]=null)):St(h)}}}function re(h){return h in xs?xs[h]:xs[h]="on"+h}function de(h,v){if(h.da)h=!0;else{v=new Ge(v,this);var _=h.listener,U=h.ha||h.src;h.fa&&Q(h),h=_.call(U,v)}return h}function Se(h){return h=h[xn],h instanceof yn?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(v){return h.handleEvent(v)}),h[Ee])}function Ne(){xe.call(this),this.i=new yn(this),this.M=this,this.F=null}L(Ne,xe),Ne.prototype[Vt]=!0,Ne.prototype.removeEventListener=function(h,v,_,U){vs(this,h,v,_,U)};function Re(h,v){var _,U=h.F;if(U)for(_=[];U;U=U.F)_.push(U);if(h=h.M,U=v.type||v,typeof v=="string")v=new ye(v,h);else if(v instanceof ye)v.target=v.target||h;else{var te=v;v=new ye(U,h),P(v,te)}if(te=!0,_)for(var ue=_.length-1;0<=ue;ue--){var je=v.g=_[ue];te=tt(je,U,!0,v)&&te}if(je=v.g=h,te=tt(je,U,!0,v)&&te,te=tt(je,U,!1,v)&&te,_)for(ue=0;ue<_.length;ue++)je=v.g=_[ue],te=tt(je,U,!1,v)&&te}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],U=0;U<_.length;U++)St(_[U]);delete h.g[v],h.h--}}this.F=null},Ne.prototype.K=function(h,v,_,U){return this.i.add(String(h),v,!1,_,U)},Ne.prototype.L=function(h,v,_,U){return this.i.add(String(h),v,!0,_,U)};function tt(h,v,_,U){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var te=!0,ue=0;ue<v.length;++ue){var je=v[ue];if(je&&!je.da&&je.capture==_){var ht=je.listener,un=je.ha||je.src;je.fa&&pr(h.i,je),te=ht.call(un,U)!==!1&&te}}return te&&!U.defaultPrevented}function yt(h,v,_){if(typeof h=="function")_&&(h=w(h,_));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Zr(h){h.g=yt(()=>{h.g=null,h.i&&(h.i=!1,Zr(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Xt extends xe{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(h){xe.call(this),this.h=h,this.g={}}L(Ar,xe);var rr=[];function sr(h){I(h.g,function(v,_){this.g.hasOwnProperty(_)&&Q(v)},h),h.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),sr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=f.JSON.stringify,Rr=f.JSON.parse,ar=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Jr(){}Jr.prototype.h=null;function Ws(h){return h.h||(h.h=h.i())}function Li(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){ye.call(this,"d")}L(es,ye);function Da(){ye.call(this,"c")}L(Da,ye);var $n={},bs=null;function ws(){return bs=bs||new Ne}$n.La="serverreachability";function Ia(h){ye.call(this,$n.La,h)}L(Ia,ye);function Y(h){const v=ws();Re(v,new Ia(v))}$n.STAT_EVENT="statevent";function ee(h,v){ye.call(this,$n.STAT_EVENT,h),this.stat=v}L(ee,ye);function ae(h){const v=ws();Re(v,new ee(v,h))}$n.Ma="timingevent";function pe(h,v){ye.call(this,$n.Ma,h),this.size=v}L(pe,ye);function we(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function Ve(h,v,_,U,te,ue){h.info(function(){if(h.g)if(ue)for(var je="",ht=ue.split("&"),un=0;un<ht.length;un++){var ft=ht[un].split("=");if(1<ft.length){var wn=ft[0];ft=ft[1];var dn=wn.split("_");je=2<=dn.length&&dn[1]=="type"?je+(wn+"="+ft+"&"):je+(wn+"=redacted&")}}else je=null;else je=ue;return"XMLHTTP REQ ("+U+") [attempt "+te+"]: "+v+`
`+_+`
`+je})}function Me(h,v,_,U,te,ue,je){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+te+"]: "+v+`
`+_+`
`+ue+" "+je})}function Pe(h,v,_,U){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ke(h,_)+(U?" "+U:"")})}function He(h,v){h.info(function(){return"TIMEOUT: "+v})}Ce.prototype.info=function(){};function ke(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var U=_[h];if(!(2>U.length)){var te=U[1];if(Array.isArray(te)&&!(1>te.length)){var ue=te[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var je=1;je<te.length;je++)te[je]=""}}}}return qn(_)}catch{return v}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xt;function Mt(){}L(Mt,Jr),Mt.prototype.g=function(){return new XMLHttpRequest},Mt.prototype.i=function(){return{}},xt=new Mt;function bt(h,v,_,U){this.j=h,this.i=v,this.l=_,this.R=U||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var wt={},ir={};function An(h,v,_){h.L=1,h.v=zi(xr(v)),h.m=_,h.P=!0,vn(h,null)}function vn(h,v){h.F=Date.now(),gr(h),h.A=xr(h.v);var _=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),ec(_.i,"t",U),h.C=0,_=h.j.J,h.h=new Je,h.g=jd(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Xt(w(h.Y,h,h.g),h.O)),v=h.U,_=h.g,U=h.ca;var te="readystatechange";Array.isArray(te)||(te&&(rr[0]=te.toString()),te=rr);for(var ue=0;ue<te.length;ue++){var je=Ca(_,te[ue],U||v.handleEvent,!1,v.h||v);if(!je)break;v.g[je.key]=je}v=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Y(),Ve(h.i,h.u,h.A,h.l,h.R,h.m)}bt.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pr(h)==3?v.j():this.Y(h)},bt.prototype.Y=function(h){try{if(h==this.g)e:{const dn=Pr(this.g);var v=this.g.Ba();const sa=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||yd(this.g)))){this.J||dn!=4||v==7||(v==8||0>=sa?Y(3):Y(2)),yr(this);var _=this.g.Z();this.X=_;t:if(Gn(this)){var U=yd(this.g);h="";var te=U.length,ue=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Kn(this);var je="";break t}this.h.i=new f.TextDecoder}for(v=0;v<te;v++)this.h.h=!0,h+=this.h.i.decode(U[v],{stream:!(ue&&v==te-1)});U.length=0,this.h.g+=h,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=_==200,Me(this.i,this.u,this.A,this.l,this.R,dn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,un=this.g;if((ht=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ht)){var ft=ht;break t}}ft=null}if(_=ft)Pe(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,_);else{this.o=!1,this.s=3,ae(12),We(this),Kn(this);break e}}if(this.P){_=!0;let Rn;for(;!this.J&&this.C<je.length;)if(Rn=Oa(this,je),Rn==ir){dn==4&&(this.s=4,ae(14),_=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==wt){this.s=4,ae(15),Pe(this.i,this.l,je,"[Invalid Chunk]"),_=!1;break}else Pe(this.i,this.l,Rn,null),Ft(this,Rn);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||je.length!=0||this.h.h||(this.s=1,ae(16),_=!1),this.o=this.o&&_,!_)Pe(this.i,this.l,je,"[Invalid Chunked Response]"),We(this),Kn(this);else if(0<je.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),Yi(wn),wn.M=!0,ae(11))}}else Pe(this.i,this.l,je,null),Ft(this,je);dn==4&&We(this),this.o&&!this.J&&(dn==4?_d(this.j,this):(this.o=!1,gr(this)))}else Em(this.g),_==400&&0<je.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),We(this),Kn(this)}}}catch{}finally{}};function Gn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Oa(h,v){var _=h.C,U=v.indexOf(`
`,_);return U==-1?ir:(_=Number(v.substring(_,U)),isNaN(_)?wt:(U+=1,U+_>v.length?ir:(v=v.slice(U,U+_),h.C=U+_,v)))}bt.prototype.cancel=function(){this.J=!0,We(this)};function gr(h){h.S=Date.now()+h.I,Dr(h,h.I)}function Dr(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=we(w(h.ba,h),v)}function yr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}bt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(He(this.i,this.A),this.L!=2&&(Y(),ae(17)),We(this),this.s=2,Kn(this)):Dr(this,this.S-h)};function Kn(h){h.j.G==0||h.J||_d(h.j,h)}function We(h){yr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,sr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ft(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Ma(_.h,h))){if(!h.K&&Ma(_.h,h)&&_.G==3){try{var U=_.Da.g.parse(v)}catch{U=null}if(Array.isArray(U)&&U.length==3){var te=U;if(te[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)qo(_),Bo(_);else break e;ac(_),ae(18)}}else _.za=te[1],0<_.za-_.T&&37500>te[2]&&_.F&&_.v==0&&!_.C&&(_.C=we(w(_.Za,_),6e3));if(1>=ts(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ra(_,11)}else if((h.K||_.g==h)&&qo(_),!M(v))for(te=_.Da.g.parse(v),v=0;v<te.length;v++){let ft=te[v];if(_.T=ft[0],ft=ft[1],_.G==2)if(ft[0]=="c"){_.K=ft[1],_.ia=ft[2];const wn=ft[3];wn!=null&&(_.la=wn,_.j.info("VER="+_.la));const dn=ft[4];dn!=null&&(_.Aa=dn,_.j.info("SVER="+_.Aa));const sa=ft[5];sa!=null&&typeof sa=="number"&&0<sa&&(U=1.5*sa,_.L=U,_.j.info("backChannelRequestTimeoutMs_="+U)),U=_;const Rn=h.g;if(Rn){const As=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var ue=U.h;ue.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Pa(ue,ue.h),ue.h=null))}if(U.D){const oc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;oc&&(U.ya=oc,Rt(U.I,U.D,oc))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),U=_;var je=h;if(U.qa=Ed(U,U.J?U.ia:null,U.W),je.K){Qn(U.h,je);var ht=je,un=U.L;un&&(ht.I=un),ht.B&&(yr(ht),gr(ht)),U.g=je}else bd(U);0<_.i.length&&Ho(_)}else ft[0]!="stop"&&ft[0]!="close"||ra(_,7);else _.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?ra(_,7):rc(_):ft[0]!="noop"&&_.l&&_.l.ta(ft),_.v=0)}}Y(4)}catch{}}var Xs=class{constructor(h,v){this.g=h,this.map=v}};function Yn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ts(h){return h.h?1:h.g?h.g.size:0}function Ma(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Pa(h,v){h.g?h.g.add(v):h.h=v}function Qn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Yn.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return A(h.i)}function bm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],_=h.length,U=0;U<_;U++)v.push(h[U]);return v}v=[],_=0;for(U in h)v[_++]=h[U];return v}function ko(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const U in h)v[_++]=U;return v}}}function Xl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=ko(h),U=bm(h),te=U.length,ue=0;ue<te;ue++)v.call(void 0,U[ue],_&&_[ue],h)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var U=h[_].indexOf("="),te=null;if(0<=U){var ue=h[_].substring(0,U);te=h[_].substring(U+1)}else ue=h[_];v(ue,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function nn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof nn){this.h=h.h,Ui(this,h.j),this.o=h.o,this.g=h.g,ka(this,h.s),this.l=h.l;var v=h.i,_=new Js;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Zs(this,_),this.m=h.m}else h&&(v=String(h).match(Vi))?(this.h=!1,Ui(this,v[1]||"",!0),this.o=Ir(v[2]||""),this.g=Ir(v[3]||"",!0),ka(this,v[4]),this.l=Ir(v[5]||"",!0),Zs(this,v[6]||"",!0),this.m=Ir(v[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}nn.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Fi(v,Zl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Fi(v,Zl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Fi(_,_.charAt(0)=="/"?_m:Jl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Fi(_,Lo)),h.join("")};function xr(h){return new nn(h)}function Ui(h,v,_){h.j=_?Ir(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ka(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Zs(h,v,_){v instanceof Js?(h.i=v,pd(h.i,h.h)):(_||(v=Fi(v,Nm)),h.i=new Js(v,h.h))}function Rt(h,v,_){h.i.set(v,_)}function zi(h){return Rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ir(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fi(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,md),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function md(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Zl=/[#\/\?@]/g,Jl=/[#\?:]/g,_m=/[#\?]/g,Nm=/[#\?@]/g,Lo=/#/g;function Js(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Or(h){h.g||(h.g=new Map,h.h=0,h.i&&wm(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}t=Js.prototype,t.add=function(h,v){Or(this),this.i=null,h=_s(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function ea(h,v){Or(h),v=_s(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ta(h,v){return Or(h),v=_s(h,v),h.g.has(v)}t.forEach=function(h,v){Or(this),this.g.forEach(function(_,U){_.forEach(function(te){h.call(v,te,U,this)},this)},this)},t.na=function(){Or(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let U=0;U<v.length;U++){const te=h[U];for(let ue=0;ue<te.length;ue++)_.push(v[U])}return _},t.V=function(h){Or(this);let v=[];if(typeof h=="string")ta(this,h)&&(v=v.concat(this.g.get(_s(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},t.set=function(h,v){return Or(this),this.i=null,h=_s(this,h),ta(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ec(h,v,_){ea(h,v),0<_.length&&(h.i=null,h.g.set(_s(h,v),A(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var U=v[_];const ue=encodeURIComponent(String(U)),je=this.V(U);for(U=0;U<je.length;U++){var te=ue;je[U]!==""&&(te+="="+encodeURIComponent(String(je[U]))),h.push(te)}}return this.i=h.join("&")};function _s(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function pd(h,v){v&&!h.j&&(Or(h),h.i=null,h.g.forEach(function(_,U){var te=U.toLowerCase();U!=te&&(ea(this,U),ec(this,te,_))},h)),h.j=v}function Bi(h,v){const _=new Ce;if(f.Image){const U=new Image;U.onload=D(Mr,_,"TestLoadImage: loaded",!0,v,U),U.onerror=D(Mr,_,"TestLoadImage: error",!1,v,U),U.onabort=D(Mr,_,"TestLoadImage: abort",!1,v,U),U.ontimeout=D(Mr,_,"TestLoadImage: timeout",!1,v,U),f.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else v(!1)}function ns(h,v){const _=new Ce,U=new AbortController,te=setTimeout(()=>{U.abort(),Mr(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:U.signal}).then(ue=>{clearTimeout(te),ue.ok?Mr(_,"TestPingServer: ok",!0,v):Mr(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(te),Mr(_,"TestPingServer: error",!1,v)})}function Mr(h,v,_,U,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),U(_)}catch{}}function Hi(){this.g=new ar}function Ns(h,v,_){const U=_||"";try{Xl(h,function(te,ue){let je=te;g(te)&&(je=qn(te)),v.push(U+ue+"="+encodeURIComponent(je))})}catch(te){throw v.push(U+"type="+encodeURIComponent("_badmap")),te}}function La(h){this.l=h.Ub||null,this.j=h.eb||!1}L(La,Jr),La.prototype.g=function(){return new na(this.l,this.j)},La.prototype.i=(function(h){return function(){return h}})({});function na(h,v){Ne.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(na,Ne),t=na.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,js(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function tc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Es(this):js(this),this.readyState==3&&tc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Es(this))},t.Qa=function(h){this.g&&(this.response=h,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(h){h.readyState=4,h.l=null,h.j=null,h.v=null,js(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function js(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nc(h){let v="";return I(h,function(_,U){v+=U,v+=":",v+=_,v+=`\r
`}),v}function bn(h,v,_){e:{for(U in _){var U=!1;break e}U=!0}U||(_=nc(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Rt(h,v,_))}function Et(h){Ne.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Et,Ne);var Vo=/^https?$/i,qi=["POST","PUT"];t=Et.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,_,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xt.g(),this.v=this.o?Ws(this.o):Ws(xt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ue){gd(this,ue);return}if(h=_||"",_=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var te in U)_.set(te,U[te]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ue of U.keys())_.set(ue,U.get(ue));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(_.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(qi,v,void 0))||U||te||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,je]of _)this.g.setRequestHeader(ue,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$i(this),this.u=!0,this.g.send(h),this.u=!1}catch(ue){gd(this,ue)}};function gd(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Uo(h),Ss(h)}function Uo(h){h.A||(h.A=!0,Re(h,"complete"),Re(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Re(this,"complete"),Re(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},t.bb=function(){zo(this)};function zo(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Pr(h)!=4||h.Z()!=2)){if(h.u&&Pr(h)==4)yt(h.Ea,0,h);else if(Re(h,"readystatechange"),Pr(h)==4){h.h=!1;try{const je=h.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var U;if(U=je===0){var te=String(h.D).match(Vi)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),U=!Vo.test(te?te.toLowerCase():"")}_=U}if(_)Re(h,"complete"),Re(h,"success");else{h.m=6;try{var ue=2<Pr(h)?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.Z()+"]",Uo(h)}}finally{Ss(h)}}}}function Ss(h,v){if(h.g){$i(h);const _=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Re(h,"ready");try{_.onreadystatechange=U}catch{}}}function $i(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Pr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Rr(v)}};function yd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Em(h){const v={};h=(h.g&&2<=Pr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(M(h[U]))continue;var _=C(h[U]);const te=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ue=v[te]||[];v[te]=ue,ue.push(_)}R(v,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Fo(h){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,h),this.cb=Gi("retryDelaySeedMs",1e4,h),this.Wa=Gi("forwardChannelMaxRetries",2,h),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Yn(h&&h.concurrentRequestLimit),this.Da=new Hi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fo.prototype,t.la=8,t.G=1,t.connect=function(h,v,_,U){ae(0),this.W=h,this.H=v||{},_&&U!==void 0&&(this.H.OSID=_,this.H.OAID=U),this.F=this.X,this.I=Ed(this,null,this.W),Ho(this)};function rc(h){if(xd(h),h.G==3){var v=h.U++,_=xr(h.I);if(Rt(_,"SID",h.K),Rt(_,"RID",v),Rt(_,"TYPE","terminate"),Ki(h,_),v=new bt(h,h.j,v),v.L=2,v.v=zi(xr(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=v.v,_=!0),_||(v.g=jd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),gr(v)}Nd(h)}function Bo(h){h.g&&(Yi(h),h.g.cancel(),h.g=null)}function xd(h){Bo(h),h.u&&(f.clearTimeout(h.u),h.u=null),qo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ho(h){if(!kt(h.h)&&!h.s){h.s=!0;var v=h.Ga;X||$(),ie||(X(),ie=!0),be.add(v,h),h.B=0}}function jm(h,v){return ts(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=we(w(h.Ga,h,v),ic(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const te=new bt(this,this.j,h);let ue=this.o;if(this.S&&(ue?(ue=E(ue),P(ue,this.S)):ue=this.S),this.m!==null||this.O||(te.H=ue,ue=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var U=this.i[_];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(v+=U,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=vd(this,te,v),_=xr(this.I),Rt(_,"RID",h),Rt(_,"CVER",22),this.D&&Rt(_,"X-HTTP-Session-Id",this.D),Ki(this,_),ue&&(this.O?v="headers="+encodeURIComponent(String(nc(ue)))+"&"+v:this.m&&bn(_,this.m,ue)),Pa(this.h,te),this.Ua&&Rt(_,"TYPE","init"),this.P?(Rt(_,"$req",v),Rt(_,"SID","null"),te.T=!0,An(te,_,null)):An(te,_,v),this.G=2}}else this.G==3&&(h?sc(this,h):this.i.length==0||kt(this.h)||sc(this))};function sc(h,v){var _;v?_=v.l:_=h.U++;const U=xr(h.I);Rt(U,"SID",h.K),Rt(U,"RID",_),Rt(U,"AID",h.T),Ki(h,U),h.m&&h.o&&bn(U,h.m,h.o),_=new bt(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=vd(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Pa(h.h,_),An(_,U,v)}function Ki(h,v){h.H&&I(h.H,function(_,U){Rt(v,U,_)}),h.l&&Xl({},function(_,U){Rt(v,U,_)})}function vd(h,v,_){_=Math.min(h.i.length,_);var U=h.l?w(h.l.Na,h.l,h):null;e:{var te=h.i;let ue=-1;for(;;){const je=["count="+_];ue==-1?0<_?(ue=te[0].g,je.push("ofs="+ue)):ue=0:je.push("ofs="+ue);let ht=!0;for(let un=0;un<_;un++){let ft=te[un].g;const wn=te[un].map;if(ft-=ue,0>ft)ue=Math.max(0,te[un].g-100),ht=!1;else try{Ns(wn,je,"req"+ft+"_")}catch{U&&U(wn)}}if(ht){U=je.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,U}function bd(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;X||$(),ie||(X(),ie=!0),be.add(v,h),h.v=0}}function ac(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=we(w(h.Fa,h),ic(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,wd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=we(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Bo(this),wd(this))};function Yi(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function wd(h){h.g=new bt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xr(h.qa);Rt(v,"RID","rpc"),Rt(v,"SID",h.K),Rt(v,"AID",h.T),Rt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Rt(v,"TO",h.ja),Rt(v,"TYPE","xmlhttp"),Ki(h,v),h.m&&h.o&&bn(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=zi(xr(v)),_.m=null,_.P=!0,vn(_,h)}t.Za=function(){this.C!=null&&(this.C=null,Bo(this),ac(this),ae(19))};function qo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function _d(h,v){var _=null;if(h.g==v){qo(h),Yi(h),h.g=null;var U=2}else if(Ma(h.h,v))_=v.D,Qn(h.h,v),U=1;else return;if(h.G!=0){if(v.o)if(U==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var te=h.B;U=ws(),Re(U,new pe(U,_)),Ho(h)}else bd(h);else if(te=v.s,te==3||te==0&&0<v.X||!(U==1&&jm(h,v)||U==2&&ac(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),te){case 1:ra(h,5);break;case 4:ra(h,10);break;case 3:ra(h,6);break;default:ra(h,2)}}}function ic(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function ra(h,v){if(h.j.info("Error code "+v),v==2){var _=w(h.fb,h),U=h.Xa;const te=!U;U=new nn(U||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ui(U,"https"),zi(U),te?Bi(U.toString(),_):ns(U.toString(),_)}else ae(2);h.G=0,h.l&&h.l.sa(v),Nd(h),xd(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Nd(h){if(h.G=0,h.ka=[],h.l){const v=Wl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ka,v),V(h.ka,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.ra()}}function Ed(h,v,_){var U=_ instanceof nn?xr(_):new nn(_);if(U.g!="")v&&(U.g=v+"."+U.g),ka(U,U.s);else{var te=f.location;U=te.protocol,v=v?v+"."+te.hostname:te.hostname,te=+te.port;var ue=new nn(null);U&&Ui(ue,U),v&&(ue.g=v),te&&ka(ue,te),_&&(ue.l=_),U=ue}return _=h.D,v=h.ya,_&&v&&Rt(U,_,v),Rt(U,"VER",h.la),Ki(h,U),U}function jd(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Et(new La({eb:_})):new Et(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}t=Sd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $o(){}$o.prototype.g=function(h,v){return new Wn(h,v)};function Wn(h,v){Ne.call(this),this.g=new Fo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!M(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ts(this)}L(Wn,Ne),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){rc(this.g)},Wn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=qn(h),h=_);v.i.push(new Xs(v.Ya++,h)),v.G==3&&Ho(v)},Wn.prototype.N=function(){this.g.l=null,delete this.j,rc(this.g),delete this.g,Wn.aa.N.call(this)};function Td(h){es.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}L(Td,es);function Ad(){Da.call(this),this.status=1}L(Ad,Da);function Ts(h){this.g=h}L(Ts,Sd),Ts.prototype.ua=function(){Re(this.g,"a")},Ts.prototype.ta=function(h){Re(this.g,new Td(h))},Ts.prototype.sa=function(h){Re(this.g,new Ad)},Ts.prototype.ra=function(){Re(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,pN=function(){return new $o},mN=function(){return ws()},fN=$n,_y={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,Jh=Le,nt.COMPLETE="complete",hN=nt,Li.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,pu=Li,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,dN=Et}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const q2="@firebase/firestore",$2="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new r0("@firebase/firestore");function Nl(){return _o.logLevel}function De(t,...e){if(_o.logLevel<=ct.DEBUG){const n=e.map(g0);_o.debug(`Firestore (${Hl}): ${t}`,...n)}}function Aa(t,...e){if(_o.logLevel<=ct.ERROR){const n=e.map(g0);_o.error(`Firestore (${Hl}): ${t}`,...n)}}function Ol(t,...e){if(_o.logLevel<=ct.WARN){const n=e.map(g0);_o.warn(`Firestore (${Hl}): ${t}`,...n)}}function g0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gN(t,s,n)}function gN(t,e,n){let s=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Aa(s),new Error(s)}function Nt(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||gN(e,o,s)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class s8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a8{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Na)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt(typeof s.accessToken=="string",31837,{l:s}),new yN(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class i8{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o8{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new i8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nt(this.o===void 0,3512);const s=c=>{c.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,De("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=c8(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function ut(t,e){return t<e?-1:t>e?1:0}function Ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),c=e.charAt(s);if(o!==c)return zg(o)===zg(c)?ut(o,c):zg(o)?1:-1}return ut(t.length,e.length)}const u8=55296,d8=57343;function zg(t){const e=t.charCodeAt(0);return e>=u8&&e<=d8}function Ml(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__name__";class Ms{constructor(e,n,s){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Ms.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ut(e.length,n.length)}static compareSegments(e,n){const s=Ms.isNumericId(e),o=Ms.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class Ut extends Ms{construct(e,n,s){return new Ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ze(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const h8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Ms{construct(e,n,s){return new Mn(e,n,s)}static isValidIdentifier(e){return h8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K2}static keyField(){return new Mn([K2])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ze(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ze(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ze(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(c(),o++)}if(c(),d)throw new ze(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ut.fromString(e))}static fromName(e){return new qe(Ut.fromString(e).popFirst(5))}static empty(){return new qe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){if(!n)throw new ze(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f8(t,e,n,s){if(e===!0&&s===!0)throw new ze(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y2(t){if(!qe.isDocumentKey(t))throw new ze(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q2(t){if(qe.isDocumentKey(t))throw new ze(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x0(t);throw new ze(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function td(t,e){if(!vN(t))throw new ze(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const d=t[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ze(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=-62135596800,X2=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*X2);return new zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W2)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X2}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(td(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:cn("string",zt._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new zt(0,0))}static max(){return new et(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function m8(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=et.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new Ei(o,qe.empty(),e)}function p8(t){return new Ei(t.readTime,t.key,Uu)}class Ei{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ei(et.min(),qe.empty(),Uu)}static max(){return new Ei(et.max(),qe.empty(),Uu)}}function g8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==y8)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,s)=>{n(e)}))}static reject(e){return new ge(((n,s)=>{s(e)}))}static waitFor(e){return new ge(((n,s)=>{let o=0,c=0,d=!1;e.forEach((f=>{++o,f.next((()=>{++c,d&&c===o&&n()}),(p=>s(p)))})),d=!0,c===o&&n()}))}static or(e){let n=ge.resolve(!1);for(const s of e)n=n.next((o=>o?ge.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ge(((s,o)=>{const c=e.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((x=>{d[g]=x,++f,f===c&&s(d)}),(x=>o(x)))}}))}static doWhile(e,n){return new ge(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function v8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-1;function tm(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function b8(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="";function w8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z2(e)),e=_8(t.get(n),e);return Z2(e)}function _8(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const c=t.charAt(o);switch(c){case"\0":n+="";break;case bN:n+="";break;default:n+=c}}return n}function Z2(t){return t+bN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N8(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function wN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=c??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new On(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new hs([])}unionWith(e){let n=new gn(Mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _N("Invalid base64 string: "+c):c}})(e);return new Pn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const E8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(Nt(!!t,39018),typeof t=="string"){let e=0;const n=E8.exec(t);if(Nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="server_timestamp",EN="__type__",jN="__previous_value__",SN="__local_write_time__";function b0(t){return(t?.mapValue?.fields||{})[EN]?.stringValue===NN}function nm(t){const e=t.mapValue.fields[jN];return b0(e)?nm(e):e}function zu(t){const e=ji(t.mapValue.fields[SN].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n,s,o,c,d,f,p,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=x}}const wf="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||wf}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===wf}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="__type__",S8="__max__",kh={mapValue:{}},AN="__vector__",_f="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b0(t)?4:A8(t)?9007199254740991:T8(t)?10:11:Qe(28295,{value:t})}function qs(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ji(o.timestampValue),f=ji(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return Si(o.bytesValue).isEqual(Si(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return en(o.geoPointValue.latitude)===en(c.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return en(o.integerValue)===en(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=en(o.doubleValue),f=en(c.doubleValue);return d===f?bf(d)===bf(f):isNaN(d)&&isNaN(f)}return!1})(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},f=c.mapValue.fields||{};if(J2(d)!==J2(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!qs(d[p],f[p])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function Bu(t,e){return(t.values||[]).find((n=>qs(n,e)))!==void 0}function kl(t,e){if(t===e)return 0;const n=Ti(t),s=Ti(e);if(n!==s)return ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(c,d){const f=en(c.integerValue||c.doubleValue),p=en(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return tw(t.timestampValue,e.timestampValue);case 4:return tw(zu(t),zu(e));case 5:return Ny(t.stringValue,e.stringValue);case 6:return(function(c,d){const f=Si(c),p=Si(d);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(c,d){const f=c.split("/"),p=d.split("/");for(let g=0;g<f.length&&g<p.length;g++){const x=ut(f[g],p[g]);if(x!==0)return x}return ut(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,d){const f=ut(en(c.latitude),en(d.latitude));return f!==0?f:ut(en(c.longitude),en(d.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return nw(t.arrayValue,e.arrayValue);case 10:return(function(c,d){const f=c.fields||{},p=d.fields||{},g=f[_f]?.arrayValue,x=p[_f]?.arrayValue,b=ut(g?.values?.length||0,x?.values?.length||0);return b!==0?b:nw(g,x)})(t.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kh.mapValue&&d===kh.mapValue)return 0;if(c===kh.mapValue)return 1;if(d===kh.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),g=d.fields||{},x=Object.keys(g);p.sort(),x.sort();for(let b=0;b<p.length&&b<x.length;++b){const w=Ny(p[b],x[b]);if(w!==0)return w;const D=kl(f[p[b]],g[x[b]]);if(D!==0)return D}return ut(p.length,x.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=ji(t),s=ji(e),o=ut(n.seconds,s.seconds);return o!==0?o:ut(n.nanos,s.nanos)}function nw(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=kl(n[o],s[o]);if(c)return c}return ut(n.length,s.length)}function Ll(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ji(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Si(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Ey(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Ey(n.fields[d])}`;return o+"}"})(t.mapValue):Qe(61005,{value:t})}function ef(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+ef(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return Co(s.fields,((c,d)=>{o+=c.length+ef(d)})),o})(t.mapValue);default:throw Qe(13486,{value:t})}}function jy(t){return!!t&&"integerValue"in t}function w0(t){return!!t&&"arrayValue"in t}function rw(t){return!!t&&"nullValue"in t}function sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function T8(t){return(t?.mapValue?.fields||{})[TN]?.stringValue===AN}function Eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Eu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return{...t}}function A8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Mn.emptyPath(),s={},o=[];e.forEach(((d,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=f.popLast()}d?s[f.lastSegment()]=Eu(d):o.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Co(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new $r(Eu(this.value))}}function RN(t){const e=[];return Co(t.fields,((n,s)=>{const o=new Mn([n]);if(tf(s)){const c=RN(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new hs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,s,o,c,d,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Fn(e,0,et.min(),et.min(),et.min(),$r.empty(),0)}static newFoundDocument(e,n,s,o){return new Fn(e,1,n,et.min(),s,o,0)}static newNoDocument(e,n){return new Fn(e,2,n,et.min(),et.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,et.min(),et.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function aw(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const c=e[o],d=t.position[o];if(c.field.isKeyField()?s=qe.comparator(qe.fromName(d.referenceValue),n.key):s=kl(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function R8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{}class mn extends CN{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new D8(e,n,s):n==="array-contains"?new M8(e,s):n==="in"?new P8(e,s):n==="not-in"?new k8(e,s):n==="array-contains-any"?new L8(e,s):new mn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new I8(e,s):new O8(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends CN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $s(e,n)}matches(e){return DN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function IN(t){return C8(t)&&DN(t)}function C8(t){for(const e of t.filters)if(e instanceof $s)return!1;return!0}function Sy(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(IN(t))return t.filters.map((e=>Sy(e))).join(",");{const e=t.filters.map((n=>Sy(n))).join(",");return`${t.op}(${e})`}}function ON(t,e){return t instanceof mn?(function(s,o){return o instanceof mn&&s.op===o.op&&s.field.isEqual(o.field)&&qs(s.value,o.value)})(t,e):t instanceof $s?(function(s,o){return o instanceof $s&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,f)=>c&&ON(d,o.filters[f])),!0):!1})(t,e):void Qe(19439)}function MN(t){return t instanceof mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ll(n.value)}`})(t):t instanceof $s?(function(n){return n.op.toString()+" {"+n.getFilters().map(MN).join(" ,")+"}"})(t):"Filter"}class D8 extends mn{constructor(e,n,s){super(e,n,s),this.key=qe.fromName(s.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class I8 extends mn{constructor(e,n){super(e,"in",n),this.keys=PN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class O8 extends mn{constructor(e,n){super(e,"not-in",n),this.keys=PN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PN(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class M8 extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w0(n)&&Bu(n.arrayValue,this.value)}}class P8 extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class k8 extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class L8 extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Bu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n=null,s=[],o=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=f,this.Te=null}}function ow(t,e=null,n=[],s=[],o=null,c=null,d=null){return new V8(t,e,n,s,o,c,d)}function _0(t){const e=Ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Sy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ll(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ll(s))).join(",")),e.Te=n}return e.Te}function N0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ON(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iw(t.startAt,e.startAt)&&iw(t.endAt,e.endAt)}function Ty(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n=null,s=[],o=[],c=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U8(t,e,n,s,o,c,d,f){return new rm(t,e,n,s,o,c,d,f)}function E0(t){return new rm(t)}function lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z8(t){return t.collectionGroup!==null}function ju(t){const e=Ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new gn(Mn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ef(c,s))})),n.has(Mn.keyField().canonicalString())||e.Ie.push(new Ef(Mn.keyField(),s))}return e.Ie}function zs(t){const e=Ze(t);return e.Ee||(e.Ee=kN(e,ju(t))),e.Ee}function F8(t){const e=Ze(t);return e.de||(e.de=kN(e,t.explicitOrderBy)),e.de}function kN(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ef(o.field,c)}));const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ay(t,e,n){return new rm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return N0(zs(t),zs(e))&&t.limitType===e.limitType}function LN(t){return`${_0(zs(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>MN(o))).join(", ")}]`),tm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ll(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ll(o))).join(",")),`Target(${s})`})(zs(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):qe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,o){for(const c of ju(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(d,f,p){const g=aw(d,f,p);return d.inclusive?g<=0:g<0})(s.startAt,ju(s),o)||s.endAt&&!(function(d,f,p){const g=aw(d,f,p);return d.inclusive?g>=0:g>0})(s.endAt,ju(s),o))})(t,e)}function B8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VN(t){return(e,n)=>{let s=!1;for(const o of ju(t)){const c=H8(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function H8(t,e,n){const s=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(c,d,f){const p=d.data.field(c),g=f.data.field(c);return p!==null&&g!==null?kl(p,g):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return wN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=new $t(qe.comparator);function Ra(){return q8}const UN=new $t(qe.comparator);function gu(...t){let e=UN;for(const n of t)e=e.insert(n.key,n);return e}function zN(t){let e=UN;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function mo(){return Su()}function FN(){return Su()}function Su(){return new Do((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $8=new $t(qe.comparator),G8=new gn(qe.comparator);function dt(...t){let e=G8;for(const n of t)e=e.add(n);return e}const K8=new gn(ut);function Y8(){return K8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function BN(t){return{integerValue:""+t}}function Q8(t,e){return b8(e)?BN(e):j0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function W8(t,e,n){return t instanceof Hu?(function(o,c){const d={fields:{[EN]:{stringValue:NN},[SN]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&b0(c)&&(c=nm(c)),c&&(d.fields[jN]=c),{mapValue:d}})(n,e):t instanceof qu?qN(t,e):t instanceof $u?$N(t,e):(function(o,c){const d=HN(o,c),f=cw(d)+cw(o.Ae);return jy(d)&&jy(o.Ae)?BN(f):j0(o.serializer,f)})(t,e)}function X8(t,e,n){return t instanceof qu?qN(t,e):t instanceof $u?$N(t,e):n}function HN(t,e){return t instanceof jf?(function(s){return jy(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Hu extends im{}class qu extends im{constructor(e){super(),this.elements=e}}function qN(t,e){const n=GN(e);for(const s of t.elements)n.some((o=>qs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class $u extends im{constructor(e){super(),this.elements=e}}function $N(t,e){let n=GN(e);for(const s of t.elements)n=n.filter((o=>!qs(o,s)));return{arrayValue:{values:n}}}class jf extends im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cw(t){return en(t.integerValue||t.doubleValue)}function GN(t){return w0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n){this.field=e,this.transform=n}}function J8(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof qu&&o instanceof qu||s instanceof $u&&o instanceof $u?Ml(s.elements,o.elements,qs):s instanceof jf&&o instanceof jf?qs(s.Ae,o.Ae):s instanceof Hu&&o instanceof Hu})(t.transform,e.transform)}class e9{constructor(e,n){this.version=e,this.transformResults=n}}class Ea{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ea}static exists(e){return new Ea(void 0,e)}static updateTime(e){return new Ea(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function KN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QN(t.key,Ea.none()):new nd(t.key,t.data,Ea.none());{const n=t.data,s=$r.empty();let o=new gn(Mn.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Io(t.key,s,new hs(o.toArray()),Ea.none())}}function t9(t,e,n){t instanceof nd?(function(o,c,d){const f=o.value.clone(),p=dw(o.fieldTransforms,c,d.transformResults);f.setAll(p),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Io?(function(o,c,d){if(!nf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const f=dw(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(YN(o)),p.setAll(f),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(t,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Tu(t,e,n,s){return t instanceof nd?(function(c,d,f,p){if(!nf(c.precondition,d))return f;const g=c.value.clone(),x=hw(c.fieldTransforms,p,d);return g.setAll(x),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Io?(function(c,d,f,p){if(!nf(c.precondition,d))return f;const g=hw(c.fieldTransforms,p,d),x=d.data;return x.setAll(YN(c)),x.setAll(g),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(c,d,f){return nf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(t,e,n)}function n9(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),c=HN(s.transform,o||null);c!=null&&(n===null&&(n=$r.empty()),n.set(s.field,c))}return n||null}function uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ml(s,o,((c,d)=>J8(c,d)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends om{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Io extends om{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function dw(t,e,n){const s=new Map;Nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const c=t[o],d=c.transform,f=e.data.field(c.field);s.set(c.field,X8(d,f,n[o]))}return s}function hw(t,e,n){const s=new Map;for(const o of t){const c=o.transform,d=n.data.field(o.field);s.set(o.field,W8(c,d,e))}return s}class QN extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r9 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&t9(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FN();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=n.has(o.key)?null:f;const p=KN(d,f);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(et.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((n,s)=>uw(n,s)))&&Ml(this.baseMutations,e.baseMutations,((n,s)=>uw(n,s)))}}class S0{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $8})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new S0(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,pt;function l9(t){switch(t){case ve.OK:return Qe(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function WN(t){if(t===void 0)return Aa("GRPC error has no .code"),ve.UNKNOWN;switch(t){case on.OK:return ve.OK;case on.CANCELLED:return ve.CANCELLED;case on.UNKNOWN:return ve.UNKNOWN;case on.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case on.INTERNAL:return ve.INTERNAL;case on.UNAVAILABLE:return ve.UNAVAILABLE;case on.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case on.NOT_FOUND:return ve.NOT_FOUND;case on.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case on.ABORTED:return ve.ABORTED;case on.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case on.DATA_LOSS:return ve.DATA_LOSS;default:return Qe(39323,{code:t})}}(pt=on||(on={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new xi([4294967295,4294967295],0);function fw(t){const e=c9().encode(t),n=new uN;return n.update(e),new Uint8Array(n.digest())}function mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xi([n,s],0),new xi([o,c],0)]}class T0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(xi.fromNumber(s)));return o.compare(u9)===1&&(o=new xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fw(e),[s,o]=mw(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new T0(c,o,n);return s.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const n=fw(e),[s,o]=mw(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lm(et.min(),o,new $t(ut),Ra(),dt())}}class rd{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new rd(s,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class XN{constructor(e,n){this.targetId=e,this.Ce=n}}class ZN{constructor(e,n,s=Pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pw{constructor(){this.ve=0,this.Fe=gw(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),s=dt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Qe(38017,{changeType:c})}})),new rd(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=gw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ra(),this.Je=Lh(),this.He=Lh(),this.Ye=new $t(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ty(c))if(s===0){const d=new qe(c.path);this.et(n,d,Fn.newNoDocument(d,et.min()))}else Nt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const f=this.ut(e),p=f?this.ct(f,e,d):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,f;try{d=Si(s).toUint8Array()}catch(p){if(p instanceof _N)return Ol("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new T0(d,o,c)}catch(p){return Ol(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const f=this.ot(d);if(f){if(c.current&&Ty(f.target)){const p=new qe(f.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Fn.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=dt();this.He.forEach(((c,d)=>{let f=!0;d.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new lm(e,n,this.Ye,this.je,s);return this.je=Ra(),this.Je=Lh(),this.He=Lh(),this.Ye=new $t(ut),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lh(){return new $t(qe.comparator)}function gw(){return new $t(qe.comparator)}const h9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m9={and:"AND",or:"OR"};class p9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g9(t,e){return Sf(t,e.toTimestamp())}function Fs(t){return Nt(!!t,49232),et.fromTimestamp((function(n){const s=ji(n);return new zt(s.seconds,s.nanos)})(t))}function A0(t,e){return Cy(t,e).canonicalString()}function Cy(t,e){const n=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function e3(t){const e=Ut.fromString(t);return Nt(i3(e),10190,{key:e.toString()}),e}function Dy(t,e){return A0(t.databaseId,e.path)}function Fg(t,e){const n=e3(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(n3(n))}function t3(t,e){return A0(t.databaseId,e)}function y9(t){const e=e3(t);return e.length===4?Ut.emptyPath():n3(e)}function Iy(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n3(t){return Nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yw(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function x9(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,x){return g.useProto3Json?(Nt(x===void 0||typeof x=="string",58123),Pn.fromBase64String(x||"")):(Nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Pn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(g){const x=g.code===void 0?ve.UNKNOWN:WN(g.code);return new ze(x,g.message||"")})(d);n=new ZN(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fg(t,s.document.name),c=Fs(s.document.updateTime),d=s.document.createTime?Fs(s.document.createTime):et.min(),f=new $r({mapValue:{fields:s.document.fields}}),p=Fn.newFoundDocument(o,c,d,f),g=s.targetIds||[],x=s.removedTargetIds||[];n=new rf(g,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fg(t,s.document),c=s.readTime?Fs(s.readTime):et.min(),d=Fn.newNoDocument(o,c),f=s.removedTargetIds||[];n=new rf([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fg(t,s.document),c=s.removedTargetIds||[];n=new rf([],c,o,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new o9(o,c),f=s.targetId;n=new XN(f,d)}}return n}function v9(t,e){let n;if(e instanceof nd)n={update:yw(t,e.key,e.value)};else if(e instanceof QN)n={delete:Dy(t,e.key)};else if(e instanceof Io)n={update:yw(t,e.key,e.data),updateMask:A9(e.fieldMask)};else{if(!(e instanceof r9))return Qe(16599,{Vt:e.type});n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const f=d.transform;if(f instanceof Hu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $u)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jf)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw Qe(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:g9(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Qe(27497)})(t,e.precondition)),n}function b9(t,e){return t&&t.length>0?(Nt(e!==void 0,14353),t.map((n=>(function(o,c){let d=o.updateTime?Fs(o.updateTime):Fs(c);return d.isEqual(et.min())&&(d=Fs(c)),new e9(d,o.transformResults||[])})(n,e)))):[]}function w9(t,e){return{documents:[t3(t,e.path)]}}function r3(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=t3(t,o);const c=(function(g){if(g.length!==0)return a3($s.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((x=>(function(w){return{field:fi(w.field),direction:j9(w.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const f=Ry(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function _9(t,e,n,s){const{ft:o,parent:c}=r3(t,e),d={},f=[];let p=0;return n.forEach((g=>{const x="aggregate_"+p++;d[x]=g.alias,g.aggregateType==="count"?f.push({alias:x,count:{}}):g.aggregateType==="avg"?f.push({alias:x,avg:{field:fi(g.fieldPath)}}):g.aggregateType==="sum"&&f.push({alias:x,sum:{field:fi(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function N9(t){let e=y9(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Nt(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(b){const w=s3(b);return w instanceof $s&&IN(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((w=>(function(L){return new Ef(jl(L.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,tm(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,D=b.values||[];return new Nf(D,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,D=b.values||[];return new Nf(D,w)})(n.endAt)),U8(e,o,d,c,f,"F",p,g)}function E9(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=jl(n.unaryFilter.field);return mn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=jl(n.unaryFilter.field);return mn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=jl(n.unaryFilter.field);return mn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=jl(n.unaryFilter.field);return mn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mn.create(jl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $s.create(n.compositeFilter.filters.map((s=>s3(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function j9(t){return h9[t]}function S9(t){return f9[t]}function T9(t){return m9[t]}function fi(t){return{fieldPath:t.canonicalString()}}function jl(t){return Mn.fromServerFormat(t.fieldPath)}function a3(t){return t instanceof mn?(function(n){if(n.op==="=="){if(sw(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NAN"}};if(rw(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sw(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NAN"}};if(rw(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fi(n.field),op:S9(n.op),value:n.value}}})(t):t instanceof $s?(function(n){const s=n.getFilters().map((o=>a3(o)));return s.length===1?s[0]:{compositeFilter:{op:T9(n.op),filters:s}}})(t):Qe(54877,{filter:t})}function A9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,s,o,c=et.min(),d=et.min(),f=Pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.yt=e}}function C9(t){const e=N9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.Cn=new I9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ei.min())}updateCollectionGroup(e,n,s){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class I9{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new gn(Ut.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new gn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o3=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(o3,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vl(0)}static cr(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LruGarbageCollector",O9=1048576;function bw([t,e],[n,s]){const o=ut(t,n);return o===0?ut(e,s):o}class M9{constructor(e){this.Ir=e,this.buffer=new gn(bw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P9{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?De(vw,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class k9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(em.ce);const s=new M9(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(xw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,f,p,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Nl()<=ct.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function L9(t,e){return new k9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.changes=new Do((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ge.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Tu(s.mutation,o,hs.empty(),zt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,dt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=dt()){const o=mo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=gu();return c.forEach(((f,p)=>{d=d.insert(f,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=mo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,dt())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,f)=>{n.set(d,f)}))}))}computeViews(e,n,s,o){let c=Ra();const d=Su(),f=(function(){return Su()})();return n.forEach(((p,g)=>{const x=s.get(g.key);o.has(g.key)&&(x===void 0||x.mutation instanceof Io)?c=c.insert(g.key,g):x!==void 0?(d.set(g.key,x.mutation.getFieldMask()),Tu(x.mutation,g,x.mutation.getFieldMask(),zt.now())):d.set(g.key,hs.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,x)=>d.set(g,x))),n.forEach(((g,x)=>f.set(g,new U9(x,d.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Su();let o=new $t(((d,f)=>d-f)),c=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const f of d)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let x=s.get(p)||hs.empty();x=f.applyToLocalView(g,x),s.set(p,x);const b=(o.get(f.batchId)||dt()).add(p);o=o.insert(f.batchId,b)}))})).next((()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,x=p.value,b=FN();x.forEach((w=>{if(!c.has(w)){const D=KN(n.get(w),s.get(w));D!==null&&b.set(w,D),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ge.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return qe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ge.resolve(mo());let f=Uu,p=c;return d.next((g=>ge.forEach(g,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{p=p.insert(x,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,dt()))).next((x=>({batchId:f,changes:zN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=gu();return this.indexManager.getCollectionParents(e,c).next((f=>ge.forEach(f,(p=>{const g=(function(b,w){return new rm(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((x=>{x.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((p,g)=>{const x=g.getKey();d.get(x)===null&&(d=d.insert(x,Fn.newInvalidDocument(x)))}));let f=gu();return d.forEach(((p,g)=>{const x=c.get(p);x!==void 0&&Tu(x.mutation,g,hs.empty(),zt.now()),am(n,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fs(o.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:C9(o.bundledQuery),readTime:Fs(o.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this.overlays=new $t(qe.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const s=mo();return ge.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ge.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ge.resolve()}getOverlaysForCollection(e,n,s){const o=mo(),c=n.length+1,d=new qe(n.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new $t(((g,x)=>g-x));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let x=c.get(g.largestBatchId);x===null&&(x=mo(),c=c.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=mo(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,x)=>f.set(g,x))),!(f.size()>=o)););return ge.resolve(f)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new a9(n,s));let c=this.qr.get(n);c===void 0&&(c=dt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.Qr=new gn(Sn.$r),this.Ur=new gn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Sn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new qe(new Ut([])),s=new Sn(n,e),o=new Sn(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new Ut([])),s=new Sn(n,e),o=new Sn(n,e+1);let c=dt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Sn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new s9(c,n,s,o);this.mutationQueue.push(d);for(const f of o)this.Zr=this.Zr.add(new Sn(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?v0:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Sn(n,0),o=new Sn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const f=this.Xr(d.Yr);c.push(f)})),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gn(ut);return n.forEach((o=>{const c=new Sn(o,0),d=new Sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(f=>{s=s.add(f.Yr)}))})),ge.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;qe.isDocumentKey(c)||(c=c.child(""));const d=new Sn(new qe(c),0);let f=new gn(ut);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),d),ge.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ge.forEach(n.mutations,(o=>{const c=new Sn(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Sn(n,0),o=this.Zr.firstAfterOrEqual(s);return ge.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.ri=e,this.docs=(function(){return new $t(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ge.resolve(s?s.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let s=Ra();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Fn.newInvalidDocument(o))})),ge.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ra();const d=n.path,f=new qe(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:x}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||g8(p8(x),s)<=0||(o.has(x.key)||am(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ge.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Qe(9500)}ii(e,n){return ge.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new G9(this)}getSize(e){return ge.resolve(this.size)}}class G9 extends V9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.persistence=e,this.si=new Do((n=>_0(n)),N0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new R0,this.targetCount=0,this.ai=Vl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ge.waitFor(c).next((()=>o))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ge.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ge.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ge.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ge.resolve(s)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new H9,this.referenceDelegate=e(this),this.Pi=new K9(this),this.indexManager=new D9,this.remoteDocumentCache=(function(o){return new $9(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new R9(n),this.Ii=new F9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new q9(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const o=new Y9(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ge.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Y9 extends x8{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.Ri=new R0,this.Vi=null}static mi(e){return new C0(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ge.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(s=>{const o=qe.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.pi=new Do((s=>w8(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=L9(this,n)}static mi(e,n){return new Tf(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ge.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((f=>{f||(s++,c.removeEntry(d,et.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ef(e.data.value)),n}br(e,n,s){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ge.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=dt(),o=dt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new D0(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:v8(Bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Q9;return this.Ss(e,n,d).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,d,f.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Nl()<=ct.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Nl()<=ct.DEBUG&&De("QueryEngine","Query:",El(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Nl()<=ct.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):ge.resolve())}ys(e,n){if(lw(n))return ge.resolve(null);let s=zs(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ay(n,null,"F"),s=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=dt(...c);return this.ps.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,f);return this.Cs(n,g,d,p.readTime)?this.ys(e,Ay(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return lw(n)||o.isEqual(et.min())?ge.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ge.resolve(null):(Nl()<=ct.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),El(n)),this.vs(e,d,n,m8(o,Uu)).next((f=>f)))}))}Ds(e,n){let s=new gn(VN(e));return n.forEach(((o,c)=>{am(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Nl()<=ct.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,Ei.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LocalStore",X9=3e8;class Z9{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new $t(ut),this.xs=new Do((c=>_0(c)),N0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function J9(t,e,n,s){return new Z9(t,e,n,s)}async function c3(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],f=[];let p=dt();for(const g of o){d.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}for(const g of c){f.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:f})))}))}))}function eD(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,x){const b=g.batch,w=b.keys();let D=ge.resolve();return w.forEach((L=>{D=D.next((()=>x.getEntry(p,L))).next((A=>{const V=g.docVersions.get(L);Nt(V!==null,48541),A.version.compareTo(V)<0&&(b.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),x.addEntry(A)))}))})),D.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=dt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function u3(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tD(t,e){const n=Ze(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((x,b)=>{const w=o.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,b))));let D=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Pn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,s)),o=o.insert(b,D),(function(A,V,B){return A.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=X9?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,D,x)&&f.push(n.Pi.updateTargetData(c,D))}));let p=Ra(),g=dt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),f.push(nD(c,d,e.documentUpdates).next((x=>{p=x.ks,g=x.qs}))),!s.isEqual(et.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(x)}return ge.waitFor(f).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function nD(t,e,n){let s=dt(),o=dt();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let d=Ra();return n.forEach(((f,p)=>{const g=c.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(et.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):De(I0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function rD(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=v0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function sD(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ge.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new pi(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Oy(t,e,n){const s=Ze(t),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!$l(d))throw d;De(I0,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ww(t,e,n){const s=Ze(t);let o=et.min(),c=dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,g,x){const b=Ze(p),w=b.xs.get(x);return w!==void 0?ge.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,x)})(s,d,zs(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,f.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:et.min(),n?c:dt()))).next((f=>(aD(s,B8(e),f),{documents:f,Qs:c})))))}function aD(t,e,n){let s=t.Os.get(e)||et.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class _w{constructor(){this.activeTargetIds=Y8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.Mo=new _w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _w,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class Ew{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function My(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=My(),f=this.zo(e,n.toUriEncodedString());De(Bg,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(f),x=Ao(g);return this.Jo(e,f,p,s,x).then((b=>(De(Bg,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ol(Bg,`RPC '${e}' ${d} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=lD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class dD extends cD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=My();return new Promise(((f,p)=>{const g=new dN;g.setWithCredentials(!0),g.listenOnce(hN.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jh.NO_ERROR:const b=g.getResponseJson();De(Un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),f(b);break;case Jh.TIMEOUT:De(Un,`RPC '${e}' ${d} timed out`),p(new ze(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const w=g.getStatus();if(De(Un,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D?.error;if(L&&L.status&&L.message){const A=(function(B){const M=B.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(M)>=0?M:ve.UNKNOWN})(L.status);p(new ze(A,L.message))}else p(new ze(ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ze(ve.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(Un,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);De(Un,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=My(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=pN(),f=mN(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const x=c.join("");De(Un,`Creating RPC '${e}' stream ${o}: ${x}`,p);const b=d.createWebChannel(x,p);this.I_(b);let w=!1,D=!1;const L=new uD({Yo:V=>{D?De(Un,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(De(Un,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),De(Un,`RPC '${e}' stream ${o} sending:`,V),b.send(V))},Zo:()=>b.close()}),A=(V,B,M)=>{V.listen(B,(k=>{try{M(k)}catch(q){setTimeout((()=>{throw q}),0)}}))};return A(b,pu.EventType.OPEN,(()=>{D||(De(Un,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),A(b,pu.EventType.CLOSE,(()=>{D||(D=!0,De(Un,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(b))})),A(b,pu.EventType.ERROR,(V=>{D||(D=!0,Ol(Un,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),L.a_(new ze(ve.UNAVAILABLE,"The operation could not be completed")))})),A(b,pu.EventType.MESSAGE,(V=>{if(!D){const B=V.data[0];Nt(!!B,16349);const M=B,k=M?.error||M[0]?.error;if(k){De(Un,`RPC '${e}' stream ${o} received error:`,k);const q=k.status;let F=(function(E){const S=on[E];if(S!==void 0)return WN(S)})(q),I=k.message;F===void 0&&(F=ve.INTERNAL,I="Unknown error status: "+q+" with message "+k.message),D=!0,L.a_(new ze(F,I)),b.close()}else De(Un,`RPC '${e}' stream ${o} received:`,B),L.u_(B)}})),A(f,fN.STAT_EVENT,(V=>{V.stat===_y.PROXY?De(Un,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===_y.NOPROXY&&De(Un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new p9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&De("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="PersistentStream";class h3{constructor(e,n,s,o,c,d,f,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Aa(n.toString()),Aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ze(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hD extends h3{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=x9(this.serializer,e),s=(function(c){if(!("targetChange"in c))return et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?et.min():d.readTime?Fs(d.readTime):et.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Iy(this.serializer),n.addTarget=(function(c,d){let f;const p=d.target;if(f=Ty(p)?{documents:w9(c,p)}:{query:r3(c,p).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=JN(c,d.resumeToken);const g=Ry(c,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(et.min())>0){f.readTime=Sf(c,d.snapshotVersion.toTimestamp());const g=Ry(c,d.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=E9(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Iy(this.serializer),n.removeTarget=e,this.q_(n)}}class fD extends h3{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b9(e.writeResults,e.commitTime),s=Fs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Iy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>v9(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{}class pD extends mD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Cy(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ze(ve.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.Ho(e,Cy(n,s),o,d,f,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ze(ve.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Aa(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class yD{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Oo(this)&&(De(No,"Restarting streams for network reachability change."),await(async function(p){const g=Ze(p);g.Ea.add(4),await sd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await um(g)})(this))}))})),this.Ra=new gD(s,o)}}async function um(t){if(Oo(t))for(const e of t.da)await e(!0)}async function sd(t){for(const e of t.da)await e(!1)}function f3(t,e){const n=Ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k0(n)?P0(n):Gl(n).O_()&&M0(n,e))}function O0(t,e){const n=Ze(t),s=Gl(n);n.Ia.delete(e),s.O_()&&m3(n,e),n.Ia.size===0&&(s.O_()?s.L_():Oo(n)&&n.Ra.set("Unknown"))}function M0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).Y_(e)}function m3(t,e){t.Va.Ue(e),Gl(t).Z_(e)}function P0(t){t.Va=new d9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Ra.ua()}function k0(t){return Oo(t)&&!Gl(t).x_()&&t.Ia.size>0}function Oo(t){return Ze(t).Ea.size===0}function p3(t){t.Va=void 0}async function xD(t){t.Ra.set("Online")}async function vD(t){t.Ia.forEach(((e,n)=>{M0(t,e)}))}async function bD(t,e){p3(t),k0(t)?(t.Ra.ha(e),P0(t)):t.Ra.set("Unknown")}async function wD(t,e,n){if(t.Ra.set("Online"),e instanceof ZN&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const f of c.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(s){De(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Af(t,s)}else if(e instanceof rf?t.Va.Ze(e):e instanceof XN?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const s=await u3(t.localStore);n.compareTo(s)>=0&&await(function(c,d){const f=c.Va.Tt(d);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.Ia.get(g);x&&c.Ia.set(g,x.withResumeToken(p.resumeToken,d))}})),f.targetMismatches.forEach(((p,g)=>{const x=c.Ia.get(p);if(!x)return;c.Ia.set(p,x.withResumeToken(Pn.EMPTY_BYTE_STRING,x.snapshotVersion)),m3(c,p);const b=new pi(x.target,p,g,x.sequenceNumber);M0(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){De(No,"Failed to raise snapshot:",s),await Af(t,s)}}async function Af(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await sd(t),t.Ra.set("Offline"),n||(n=()=>u3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(No,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function g3(t,e){return e().catch((n=>Af(t,n,e)))}async function dm(t){const e=Ze(t),n=Ai(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:v0;for(;_D(e);)try{const o=await rD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,ND(e,o)}catch(o){await Af(e,o)}y3(e)&&x3(e)}function _D(t){return Oo(t)&&t.Ta.length<10}function ND(t,e){t.Ta.push(e);const n=Ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function y3(t){return Oo(t)&&!Ai(t).x_()&&t.Ta.length>0}function x3(t){Ai(t).start()}async function ED(t){Ai(t).ra()}async function jD(t){const e=Ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function SD(t,e,n){const s=t.Ta.shift(),o=S0.from(s,e,n);await g3(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await dm(t)}async function TD(t,e){e&&Ai(t).X_&&await(async function(s,o){if((function(d){return l9(d)&&d!==ve.ABORTED})(o.code)){const c=s.Ta.shift();Ai(s).B_(),await g3(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await dm(s)}})(t,e),y3(t)&&x3(t)}async function Sw(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),De(No,"RemoteStore received new credentials");const s=Oo(n);n.Ea.add(3),await sd(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function AD(t,e){const n=Ze(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await sd(n),n.Ra.set("Unknown"))}function Gl(t){return t.ma||(t.ma=(function(n,s,o){const c=Ze(n);return c.sa(),new hD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:xD.bind(null,t),t_:vD.bind(null,t),r_:bD.bind(null,t),H_:wD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),k0(t)?P0(t):t.Ra.set("Unknown")):(await t.ma.stop(),p3(t))}))),t.ma}function Ai(t){return t.fa||(t.fa=(function(n,s,o){const c=Ze(n);return c.sa(),new fD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ED.bind(null,t),r_:TD.bind(null,t),ta:jD.bind(null,t),na:SD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await dm(t)):(await t.fa.stop(),t.Ta.length>0&&(De(No,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,f=new L0(e,n,d,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V0(t,e){if(Aa("AsyncQueue",`${e}: ${t}`),$l(t))return new ze(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||qe.comparator(n.key,s.key):(n,s)=>qe.comparator(n.key,s.key),this.keyedMap=gu(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.ga=new $t(qe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ul{constructor(e,n,s,o,c,d,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((f=>{d.push({type:0,doc:f})})),new Ul(e,n,Il.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CD{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ze(n),c=o.queries;o.queries=Aw(),c.forEach(((d,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new ze(ve.ABORTED,"Firestore shutting down"))}}function Aw(){return new Do((t=>LN(t)),sm)}async function DD(t,e){const n=Ze(t);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new RD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const f=V0(d,`Initialization of query '${El(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&U0(n)}async function ID(t,e){const n=Ze(t),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OD(t,e){const n=Ze(t);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const f of d.Sa)f.Fa(o)&&(s=!0);d.wa=o}}s&&U0(n)}function MD(t,e,n){const s=Ze(t),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function U0(t){t.Ca.forEach((e=>{e.next()}))}var Py,Rw;(Rw=Py||(Py={})).Ma="default",Rw.Cache="cache";class PD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ul(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.key=e}}class b3{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=VN(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Tw,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,b)=>{const w=o.get(x),D=am(this.query,b)?b:null,L=!!w&&this.mutatedKeys.has(w.key),A=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;w&&D?w.data.isEqual(D.data)?L!==A&&(s.track({type:3,doc:D}),V=!0):this.su(w,D)||(s.track({type:2,doc:D}),V=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(f=!0)):!w&&D?(s.track({type:0,doc:D}),V=!0):w&&!D&&(s.track({type:1,doc:w}),V=!0,(p||g)&&(f=!0)),V&&(D?(d=d.add(D),c=A?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:d,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,b)=>(function(D,L){const A=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:V})}};return A(D)-A(L)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,d.length!==0||g?{snapshot:new Ul(this.query,e.tu,c,d,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new b3(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new v3(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const z0="SyncEngine";class LD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class VD{constructor(e){this.key=e,this.hu=!1}}class UD{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Do((f=>LN(f)),sm),this.Iu=new Map,this.Eu=new Set,this.du=new $t(qe.comparator),this.Au=new Map,this.Ru=new R0,this.Vu={},this.mu=new Map,this.fu=Vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(t,e,n=!0){const s=S3(t);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await w3(s,e,n,!0),o}async function FD(t,e){const n=S3(t);await w3(n,e,!0,!1)}async function w3(t,e,n,s){const o=await sD(t.localStore,zs(e)),c=o.targetId,d=t.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await BD(t,e,c,d==="current",o.resumeToken)),t.isPrimaryClient&&n&&f3(t.remoteStore,o),f}async function BD(t,e,n,s,o){t.pu=(b,w,D)=>(async function(A,V,B,M){let k=V.view.ru(B);k.Cs&&(k=await ww(A.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,k))));const q=M&&M.targetChanges.get(V.targetId),F=M&&M.targetMismatches.get(V.targetId)!=null,I=V.view.applyChanges(k,A.isPrimaryClient,q,F);return Dw(A,V.targetId,I.au),I.snapshot})(t,b,w,D);const c=await ww(t.localStore,e,!0),d=new kD(e,c.Qs),f=d.ru(c.documents),p=rd.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=d.applyChanges(f,t.isPrimaryClient,p);Dw(t,n,g.au);const x=new LD(e,n,d);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function HD(t,e,n){const s=Ze(t),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!sm(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Oy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&O0(s.remoteStore,o.targetId),ky(s,o.targetId)})).catch(ql)):(ky(s,o.targetId),await Oy(s.localStore,o.targetId,!0))}async function qD(t,e){const n=Ze(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),O0(n.remoteStore,s.targetId))}async function $D(t,e,n){const s=ZD(t);try{const o=await(function(d,f){const p=Ze(d),g=zt.now(),x=f.reduce(((D,L)=>D.add(L.key)),dt());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let L=Ra(),A=dt();return p.Ns.getEntries(D,x).next((V=>{L=V,L.forEach(((B,M)=>{M.isValidDocument()||(A=A.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,L))).next((V=>{b=V;const B=[];for(const M of f){const k=n9(M,b.get(M.key).overlayedDocument);k!=null&&B.push(new Io(M.key,k,RN(k.value.mapValue),Ea.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,B,f)})).next((V=>{w=V;const B=V.applyToLocalDocumentSet(b,A);return p.documentOverlayCache.saveOverlays(D,V.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:zN(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,f,p){let g=d.Vu[d.currentUser.toKey()];g||(g=new $t(ut)),g=g.insert(f,p),d.Vu[d.currentUser.toKey()]=g})(s,o.batchId,n),await ad(s,o.changes),await dm(s.remoteStore)}catch(o){const c=V0(o,"Failed to persist write");n.reject(c)}}async function _3(t,e){const n=Ze(t);try{const s=await tD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Nt(d.hu,14607):o.removedDocuments.size>0&&(Nt(d.hu,42227),d.hu=!1))})),await ad(n,s,e)}catch(s){await ql(s)}}function Cw(t,e,n){const s=Ze(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const f=d.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(d,f){const p=Ze(d);p.onlineState=f;let g=!1;p.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(f)&&(g=!0)})),g&&U0(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GD(t,e,n){const s=Ze(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new $t(qe.comparator);d=d.insert(c,Fn.newNoDocument(c,et.min()));const f=dt().add(c),p=new lm(et.min(),new Map,new $t(ut),d,f);await _3(s,p),s.du=s.du.remove(c),s.Au.delete(e),F0(s)}else await Oy(s.localStore,e,!1).then((()=>ky(s,e,n))).catch(ql)}async function KD(t,e){const n=Ze(t),s=e.batch.batchId;try{const o=await eD(n.localStore,e);E3(n,s,null),N3(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ad(n,o)}catch(o){await ql(o)}}async function YD(t,e,n){const s=Ze(t);try{const o=await(function(d,f){const p=Ze(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(Nt(b!==null,37113),x=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,x,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>p.localDocuments.getDocuments(g,x)))}))})(s.localStore,e);E3(s,e,n),N3(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ad(s,o)}catch(o){await ql(o)}}function N3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function E3(t,e,n){const s=Ze(t);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||j3(t,s)}))}function j3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(O0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),F0(t))}function Dw(t,e,n){for(const s of n)s instanceof v3?(t.Ru.addReference(s.key,e),QD(t,s)):s instanceof b3?(De(z0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||j3(t,s.key)):Qe(19791,{wu:s})}function QD(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(De(z0,"New document in limbo: "+n),t.Eu.add(s),F0(t))}function F0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Ut.fromString(e)),s=t.fu.next();t.Au.set(s,new VD(n)),t.du=t.du.insert(n,s),f3(t.remoteStore,new pi(zs(E0(n.path)),s,"TargetPurposeLimboResolution",em.ce))}}async function ad(t,e,n){const s=Ze(t),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{d.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){o.push(g);const x=D0.As(p.targetId,g);c.push(x)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,g){const x=Ze(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ge.forEach(g,(w=>ge.forEach(w.Es,(D=>x.persistence.referenceDelegate.addReference(b,w.targetId,D))).next((()=>ge.forEach(w.ds,(D=>x.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))))))}catch(b){if(!$l(b))throw b;De(I0,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const D=x.Ms.get(w),L=D.snapshotVersion,A=D.withLastLimboFreeSnapshotVersion(L);x.Ms=x.Ms.insert(w,A)}}})(s.localStore,c))}async function WD(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){De(z0,"User change. New user:",e.toKey());const s=await c3(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((f=>{f.forEach((p=>{p.reject(new ze(ve.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ad(n,s.Ls)}}function XD(t,e){const n=Ze(t),s=n.Au.get(e);if(s&&s.hu)return dt().add(s.key);{let o=dt();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const f=n.Tu.get(d);o=o.unionWith(f.view.nu)}return o}}function S3(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.Pu.H_=OD.bind(null,e.eventManager),e.Pu.yu=MD.bind(null,e.eventManager),e}function ZD(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return J9(this.persistence,new W9,e.initialUser,this.serializer)}Cu(e){return new l3(C0.mi,this.serializer)}Du(e){return new iD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class JD extends Rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nt(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new P9(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new l3((s=>Tf.mi(s,n)),this.serializer)}}class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CD})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),s=(function(c){return new dD(c)})(e.databaseInfo);return(function(c,d,f,p){return new pD(c,d,f,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,f){return new yD(s,o,c,d,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Cw(this.syncEngine,n,0)),(function(){return Ew.v()?new Ew:new oD})())}createSyncEngine(e,n){return(function(o,c,d,f,p,g,x){const b=new UD(o,c,d,f,p,g);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ze(n);De(No,"RemoteStore shutting down."),s.Ea.add(5),await sd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Aa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class tI{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{De(Ri,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(De(Ri,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=V0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),De(Ri,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await c3(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nI(t);De(Ri,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Sw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>Sw(e.remoteStore,o))),t._onlineComponents=e}async function nI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Ri,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ve.FAILED_PRECONDITION||o.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new Rf)}}else De(Ri,"Using default OfflineComponentProvider"),await qg(t,new JD(void 0));return t._offlineComponents}async function B0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Ri,"Using user provided OnlineComponentProvider"),await Iw(t,t._uninitializedComponentsProvider._online)):(De(Ri,"Using default OnlineComponentProvider"),await Iw(t,new Ly))),t._onlineComponents}function rI(t){return B0(t).then((e=>e.syncEngine))}function sI(t){return B0(t).then((e=>e.datastore))}async function aI(t){const e=await B0(t),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=HD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qD.bind(null,e.syncEngine),n}function iI(t,e,n={}){const s=new Na;return t.asyncQueue.enqueueAndForget((async()=>(function(c,d,f,p,g){const x=new eI({next:w=>{x.Nu(),d.enqueueAndForget((()=>ID(c,b)));const D=w.docs.has(f);!D&&w.fromCache?g.reject(new ze(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?g.reject(new ze(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new PD(E0(f.path),x,{includeMetadataChanges:!0,qa:!0});return DD(c,b)})(await aI(t),t.asyncQueue,e,n,s))),s.promise}function oI(t,e,n){const s=new Na;return t.asyncQueue.enqueueAndForget((async()=>{try{const o=await sI(t);s.resolve((async function(d,f,p){const g=Ze(d),{request:x,gt:b,parent:w}=_9(g.serializer,F8(f),p);g.connection.$o||delete x.parent;const D=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,w,x,1)).filter((A=>!!A.result));Nt(D.length===1,64727);const L=D[0].result?.aggregateFields;return Object.keys(L).reduce(((A,V)=>(A[b[V]]=L[V],A)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="firestore.googleapis.com",Mw=!0;class Pw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A3,this.ssl=Mw}else this.host=e.host,this.ssl=e.ssl??Mw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O9)throw new ze(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T3(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new r8;switch(s.type){case"firstParty":return new o8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ze(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ow.get(n);s&&(De("ComponentProvider","Removing Datastore"),Ow.delete(n),s.terminate())})(this),Promise.resolve()}}function lI(t,e,n,s={}){t=Pl(t,hm);const o=Ao(e),c=t._getSettings(),d={...c,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(t0(`https://${f}`),n0("Firestore",!0)),c.host!==A3&&c.host!==f&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:f,ssl:o,emulatorOptions:s};if(!xo(p,d)&&(t._setSettings(p),s.mockUserToken)){let g,x;if(typeof s.mockUserToken=="string")g=s.mockUserToken,x=zn.MOCK_USER;else{g=j4(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ze(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new zn(b)}t._authCredentials=new s8(new yN(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new H0(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(td(n,pn._jsonSchema))return new pn(e,s||null,new qe(Ut.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:cn("string",pn._jsonSchemaVersion),referencePath:cn("string")};class vi extends H0{constructor(e,n,s){super(e,n,E0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new qe(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function R3(t,e,...n){if(t=er(t),xN("collection","path",e),t instanceof hm){const s=Ut.fromString(e,...n);return Q2(s),new vi(t,null,s)}{if(!(t instanceof pn||t instanceof vi))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return Q2(s),new vi(t.firestore,null,s)}}function xu(t,e,...n){if(t=er(t),arguments.length===1&&(e=y0.newId()),xN("doc","path",e),t instanceof hm){const s=Ut.fromString(e,...n);return Y2(s),new pn(t,null,new qe(s))}{if(!(t instanceof pn||t instanceof vi))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return Y2(s),new pn(t.firestore,t instanceof vi?t.converter:null,new qe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="AsyncQueue";class Lw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d3(this,"async_queue_retry"),this._c=()=>{const s=Hg();s&&De(kw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;De(kw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Aa("INTERNAL UNHANDLED ERROR: ",Vw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=L0.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Qe(47125,{Pc:Vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Vw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fm extends hm{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Lw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lw(e),this._firestoreClient=void 0,await e}}}function cI(t,e){const n=typeof t=="object"?t:a0(),s=typeof t=="string"?t:wf,o=Wf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=_4("firestore");c&&lI(o,...c)}return o}function q0(t){if(t._terminated)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uI(t),t._firestoreClient}function uI(t){const e=t._freezeSettings(),n=(function(o,c,d,f){return new j8(o,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,T3(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tI(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class hI{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(Pn.fromBase64String(e))}catch(n){throw new ze(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(td(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:cn("string",Gr._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(td(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:cn("string",Bs._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(td(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hs(e.vectorValues);throw new ze(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:cn("string",Hs._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=/^__.*__$/;class mI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}function C3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class K0{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C3(this.Ac)&&fI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cm(e)}Cc(e,n,s,o=!1){return new K0({Ac:e,methodName:n,Dc:s,path:Mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gI(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new pI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yI(t,e,n,s,o,c={}){const d=t.Cc(c.merge||c.mergeFields?2:0,e,n,o);M3("Data must be an object, but it was:",d,s);const f=I3(s,d);let p,g;if(c.merge)p=new hs(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const b of c.mergeFields){const w=xI(e,b,n);if(!d.contains(w))throw new ze(ve.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bI(x,w)||x.push(w)}p=new hs(x),g=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=d.fieldTransforms;return new mI(new $r(f),p,g)}class Y0 extends G0{_toFieldTransform(e){return new Z8(e.path,new Hu)}isEqual(e){return e instanceof Y0}}function D3(t,e){if(O3(t=er(t)))return M3("Unsupported field value:",e,t),I3(t,e);if(t instanceof G0)return(function(s,o){if(!C3(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const f of s){let p=D3(f,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(t,e)}return(function(s,o){if((s=er(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Q8(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=zt.fromDate(s);return{timestampValue:Sf(o.serializer,c)}}if(s instanceof zt){const c=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sf(o.serializer,c)}}if(s instanceof Bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gr)return{bytesValue:JN(o.serializer,s._byteString)};if(s instanceof pn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:A0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hs)return(function(d,f){return{mapValue:{fields:{[TN]:{stringValue:AN},[_f]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return j0(f.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${x0(s)}`)})(t,e)}function I3(t,e){const n={};return wN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,((s,o)=>{const c=D3(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function O3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Bs||t instanceof Gr||t instanceof pn||t instanceof G0||t instanceof Hs)}function M3(t,e,n){if(!O3(n)||!vN(n)){const s=x0(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function xI(t,e,n){if((e=er(e))instanceof $0)return e._internalPath;if(typeof e=="string")return P3(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const vI=new RegExp("[~\\*/\\[\\]]");function P3(t,e,n){if(e.search(vI)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $0(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ze(ve.INVALID_ARGUMENT,f+t+p)}function bI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wI extends k3{data(){return super.data()}}function L3(t,e){return typeof e=="string"?P3(t,e):e instanceof $0?e._internalPath:e._delegate._internalPath}class _I{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Co(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[_f].arrayValue?.values?.map((s=>en(s.doubleValue)));return new Hs(n)}convertGeoPoint(e){return new Bs(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=ji(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ut.fromString(e);Nt(i3(s),9688,{name:e});const o=new Fu(s.get(1),s.get(3)),c=new qe(s.popFirst(5));return o.isEqual(n)||Aa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function EI(){return new dI("count")}class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends k3{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(L3("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:cn("string",yo._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class sf extends yo{data(e={}){return super.data(e)}}class Au{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new sf(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((f=>{const p=new sf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const p=new sf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,x=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),x=d.indexOf(f.doc.key)),{type:jI(f.type),doc:p,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){t=Pl(t,pn);const e=Pl(t.firestore,fm);return iI(q0(e),t._key).then((n=>TI(e,t,n)))}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:cn("string",Au._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class V3 extends _I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function eu(t,e,n){t=Pl(t,pn);const s=Pl(t.firestore,fm),o=NI(t.converter,e,n);return SI(s,[yI(gI(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ea.none())])}function SI(t,e){return(function(s,o){const c=new Na;return s.asyncQueue.enqueueAndForget((async()=>$D(await rI(s),o,c))),c.promise})(q0(t),e)}function TI(t,e,n){const s=n.docs.get(e._key),o=new V3(t);return new yo(t,o,e._key,s,new vu(n.hasPendingWrites,n.fromCache),e.converter)}function U3(t){return AI(t,{count:EI()})}function AI(t,e){const n=Pl(t.firestore,fm),s=q0(n),o=N8(e,((c,d)=>new i9(d,c.aggregateType,c._internalFieldPath)));return oI(s,t._query,o).then((c=>(function(f,p,g){const x=new V3(f);return new hI(p,x,g)})(n,t,c)))}function ii(){return new Y0("serverTimestamp")}(function(e,n=!0){(function(o){Hl=o})(Ro),vo(new Ni("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),f=new fm(new a8(s.getProvider("auth-internal")),new l8(d,s.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ze(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(g.options.projectId,x)})(d,o),d);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),Vs(q2,$2,e),Vs(q2,$2,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="firebasestorage.googleapis.com",RI="storageBucket",CI=120*1e3,DI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Ys{constructor(e,n,s=0){super($g(e),`Firebase Storage: ${n} (${$g(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gs||(Gs={}));function $g(t){return"storage/"+t}function II(){const t="An unknown error occurred, please check the error payload for server response.";return new Qs(Gs.UNKNOWN,t)}function OI(){return new Qs(Gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MI(){return new Qs(Gs.CANCELED,"User canceled the upload/download.")}function PI(t){return new Qs(Gs.INVALID_URL,"Invalid URL '"+t+"'.")}function kI(t){return new Qs(Gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Uw(t){return new Qs(Gs.INVALID_ARGUMENT,t)}function F3(){return new Qs(Gs.APP_DELETED,"The Firebase app was deleted.")}function LI(t){return new Qs(Gs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=fs.makeFromUrl(e,n)}catch{return new fs(e,"")}if(s.path==="")return s;throw kI(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function g(q){q.path_=decodeURIComponent(q.path)}const x="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${x}/b/${o}/o${w}`,"i"),L={bucket:1,path:3},A=n===z3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",B=new RegExp(`^https?://${A}/${o}/${V}`,"i"),k=[{regex:f,indices:p,postModify:c},{regex:D,indices:L,postModify:g},{regex:B,indices:{bucket:1,path:2},postModify:g}];for(let q=0;q<k.length;q++){const F=k[q],I=F.regex.exec(e);if(I){const R=I[F.indices.bucket];let E=I[F.indices.path];E||(E=""),s=new fs(R,E),F.postModify(s);break}}if(s==null)throw PI(e);return s}}class VI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e,n){let s=1,o=null,c=null,d=!1,f=0;function p(){return f===2}let g=!1;function x(...V){g||(g=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,t(D,p())},V)}function w(){c&&clearTimeout(c)}function D(V,...B){if(g){w();return}if(V){w(),x.call(null,V,...B);return}if(p()||d){w(),x.call(null,V,...B);return}s<64&&(s*=2);let k;f===1?(f=2,k=0):k=(s+Math.random())*1e3,b(k)}let L=!1;function A(V){L||(L=!0,w(),!g&&(o!==null?(V||(f=2),clearTimeout(o),b(0)):V||(f=1)))}return b(0),c=setTimeout(()=>{d=!0,A(!0)},n),A}function zI(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){return t!==void 0}function zw(t,e,n,s){if(s<e)throw Uw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Uw(`Invalid value for '${t}'. Expected ${n} or less.`)}function BI(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Df;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,s,o,c,d,f,p,g,x,b,w=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,A)=>{this.resolve_=L,this.reject_=A,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Uh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===Df.NO_ERROR,p=c.getStatus();if(!f||HI(p,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===Df.ABORT;s(!1,new Uh(!1,null,x));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Uh(g,c))})},n=(s,o)=>{const c=this.resolve_,d=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());FI(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=II();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(o.canceled){const p=this.appDelete_?F3():MI();d(p)}else{const p=OI();d(p)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=UI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function $I(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function GI(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KI(t,e){e&&(t["X-Firebase-GMPID"]=e)}function YI(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QI(t,e,n,s,o,c,d=!0,f=!1){const p=BI(t.urlParams),g=t.url+p,x=Object.assign({},t.headers);return KI(x,e),$I(x,n),GI(x,c),YI(x,s),new qI(g,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this._service=e,n instanceof fs?this._location=n:this._location=fs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new If(e,n)}get root(){const e=new fs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XI(this._location.path)}get storage(){return this._service}get parent(){const e=WI(this._location.path);if(e===null)return null;const n=new fs(this._location.bucket,e);return new If(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LI(e)}}function Fw(t,e){const n=e?.[RI];return n==null?null:fs.makeFromBucketSpec(n,t)}function ZI(t,e,n,s={}){t.host=`${e}:${n}`;const o=Ao(e);o&&(t0(`https://${t.host}/b`),n0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(t._overrideAuthToken=typeof c=="string"?c:j4(c,t.app.options.projectId))}class JI{constructor(e,n,s,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=z3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CI,this._maxUploadRetryTime=DI,this._requests=new Set,o!=null?this._bucket=fs.makeFromBucketSpec(o,this._host):this._bucket=Fw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fs.makeFromBucketSpec(this._url,e):this._bucket=Fw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new If(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new VI(F3());{const d=QI(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Bw="@firebase/storage",Hw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="storage";function e7(t=a0(),e){t=er(t);const s=Wf(t,B3).getImmediate({identifier:e}),o=_4("storage");return o&&t7(s,...o),s}function t7(t,e,n,s={}){ZI(t,e,n,s)}function n7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new JI(n,s,o,e,Ro)}function r7(){vo(new Ni(B3,n7,"PUBLIC").setMultipleInstances(!0)),Vs(Bw,Hw,""),Vs(Bw,Hw,"esm2020")}r7();const s7={apiKey:"AIzaSyDRGA6Fqr2OWUGsGkHrQ5F_et48Q-kkei8",authDomain:"charity-donation-platfor-2cb08.firebaseapp.com",projectId:"charity-donation-platfor-2cb08",storageBucket:"charity-donation-platfor-2cb08.firebasestorage.app",messagingSenderId:"195950106674",appId:"1:195950106674:web:31a00189454ca68920442b",measurementId:"G-0GC82GFVD0"},Q0=A4(s7),tu=J5(Q0),po=cI(Q0);e7(Q0);const a7="https://charity-donation-platform-server.vercel.app",Gg=async t=>{const e=await fetch(`${a7}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});!e.ok&&e.status!==409&&console.error("Server responded with an error while syncing user:",e.status)},H3=z.createContext(),Vy="userRole",i7=()=>{const t=localStorage.getItem(Vy);return t?t.toLowerCase():null},Kg=t=>{const e=t?t.toLowerCase():null;return e?localStorage.setItem(Vy,e):localStorage.removeItem(Vy),e},o7="https://charity-donation-platform-server.vercel.app",nr=()=>z.useContext(H3),q3=({children:t})=>{const[e,n]=z.useState(null),[s,o]=z.useState(!0),[c,d]=z.useState(null),f=new va,p=()=>i7(),g=q=>{const F=Kg(q);d(F)},x=async q=>{if(!q)return null;try{const F=await fetch(`${o7}/users`);if(!F.ok)return null;const R=(await F.json()||[]).find(E=>(E.email||"").toLowerCase()===q.toLowerCase());return R?.role?R.role.toLowerCase():null}catch(F){return console.error("Failed to fetch role from server:",F),null}},b=q=>c===q,w=()=>c==="admin",D=()=>c==="charity",L=()=>c==="donor",A=async(q,F,I)=>{const R=await LC(tu,q,F),E=R.user,P=(I?.role||"donor").toLowerCase(),C={uid:E.uid,email:E.email,displayName:E.displayName||I?.displayName||"",photoURL:E.photoURL||I?.photoURL||"",role:P,providerId:E.providerData?.[0]?.providerId||"password"};return await eu(xu(po,"users",E.uid),{...C,createdAt:ii(),updatedAt:ii()},{merge:!0}),await Gg(C),R},V=async(q,F)=>{const I=await VC(tu,q,F),R=I.user,E=xu(po,"users",R.uid),S=await af(E);let P=null;if(S.exists()){const J=S.data()||{};P=J.role&&J.role.toLowerCase()||null}const C=P?null:await x(R.email),N=(P||C||p()||"donor").toLowerCase(),T={uid:R.uid,email:R.email,displayName:R.displayName||"",photoURL:R.photoURL||"",role:N,providerId:R.providerData?.[0]?.providerId||"password"};return S.exists()?await eu(E,{updatedAt:ii()},{merge:!0}):await eu(E,{...T,createdAt:ii(),updatedAt:ii()}),await Gg(T),g(N),{result:I,role:N}},B=async()=>{const q=await l5(tu,f),F=q.user,I=xu(po,"users",F.uid),R=await af(I);let E=null;if(R.exists()){const N=R.data()||{};E=N.role&&N.role.toLowerCase()||null}const S=E?null:await x(F.email),P=(E||S||p()||"donor").toLowerCase(),C={uid:F.uid,email:F.email,displayName:F.displayName||"",photoURL:F.photoURL||"",role:P,providerId:F.providerData?.[0]?.providerId||"google.com"};return R.exists()?await eu(I,{email:F.email,displayName:F.displayName||"",photoURL:F.photoURL||"",providerId:F.providerData?.[0]?.providerId||"google.com",updatedAt:ii()},{merge:!0}):await eu(I,{...C,createdAt:ii(),updatedAt:ii()}),await Gg(C),g(P),{result:q,role:P}},M=async()=>{await BC(tu),g(null)};z.useEffect(()=>FC(tu,async F=>{if(n(F),!F){d(null),localStorage.removeItem("userRole"),o(!1);return}try{const I=xu(po,"users",F.uid),R=await af(I);let E=null;if(R.exists()){const C=R.data()||{};E=C.role&&C.role.toLowerCase()||null}const S=E?null:await x(F.email),P=(E||S||p()||"donor").toLowerCase();d(P),Kg(P)}catch(I){console.error("Failed to load user role:",I);const R=(p()||"donor").toLowerCase();d(R),R&&Kg(R)}finally{o(!1)}}),[]);const k={currentUser:e,userRole:c,signup:A,login:V,loginWithGoogle:B,logout:M,setRole:g,hasRole:b,isAdmin:w,isCharity:D,isDonor:L,loading:s};return i.jsx(H3.Provider,{value:k,children:!s&&t})};var $3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qw=Ot.createContext&&Ot.createContext($3),l7=["attr","size","title"];function c7(t,e){if(t==null)return{};var n=u7(t,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function u7(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Of.apply(this,arguments)}function $w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$w(Object(n),!0).forEach(function(s){d7(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function d7(t,e,n){return e=h7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h7(t){var e=f7(t,"string");return typeof e=="symbol"?e:e+""}function f7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G3(t){return t&&t.map((e,n)=>Ot.createElement(e.tag,Mf({key:n},e.attr),G3(e.child)))}function Ie(t){return e=>Ot.createElement(m7,Of({attr:Mf({},t.attr)},e),G3(t.child))}function m7(t){var e=n=>{var{attr:s,size:o,title:c}=t,d=c7(t,l7),f=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Ot.createElement("svg",Of({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:p,style:Mf(Mf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&Ot.createElement("title",null,c),t.children)};return qw!==void 0?Ot.createElement(qw.Consumer,null,n=>e(n)):e($3)}function p7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function K3(t){return Ie({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function g7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function y7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function x7(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function v7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Gw(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(t)}function Y3(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Q3(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function b7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Mo(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function gs(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Eo(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function tr(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function w7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function _7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function N7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function bi(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function W3(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function E7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function j7(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function S7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function W0(t){return Ie({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Pf(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function T7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(t)}function zl(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Uy(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Ks(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function A7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function R7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function C7(t){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function id(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"},child:[]}]})(t)}function jt(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function D7(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Ci(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64zM192 208c-57.787 0-104-66.518-104-144h208c0 77.945-46.51 144-104 144z"},child:[]}]})(t)}function I7(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function O7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function X0(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(t)}function bu(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Kl(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function od(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function M7(t){return Ie({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function kf(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function P7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function zy(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function mm(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function jo(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function k7(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Kw(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(t)}function X3(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Z0(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function L7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function J0(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Fy(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function ms(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function wi(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Z3(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function By(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function V7(t){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function U7(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function z7(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function Lf(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Yw(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(t)}function F7(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function ja(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Hn(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function B7(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}const H7=()=>{const t=nr(),e=Oi(),{currentUser:n,userRole:s,logout:o}=t||{},c=async()=>{try{o&&(await o(),e("/"))}catch(p){console.error("Logout failed:",p)}},d=i.jsxs(i.Fragment,{children:[i.jsx("li",{children:i.jsx(Te,{to:"/",className:"hover:text-primary text-white transition-colors",children:"Home"})}),i.jsx("li",{children:i.jsx(Te,{to:"/campaigns",className:"hover:text-primary text-white transition-colors",children:"Campaigns"})}),i.jsx("li",{children:i.jsx(Te,{to:"/charities",className:"hover:text-primary text-white transition-colors",children:"Charities"})}),i.jsx("li",{children:i.jsx(Te,{to:"/about",className:"hover:text-primary text-white transition-colors",children:"About"})}),i.jsx("li",{children:i.jsx(Te,{to:"/contact",className:"hover:text-primary font-semibold text-white transition-colors",children:"Contact"})})]}),f=n?i.jsxs("div",{className:"dropdown dropdown-end",children:[i.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:i.jsx("div",{className:"w-10 rounded-full",children:n?.photoURL?i.jsx("img",{alt:"User",src:n.photoURL}):i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:i.jsx("span",{className:"text-lg",children:(n?.displayName||n?.email||"U").charAt(0).toUpperCase()})})})})}),i.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 p-2 shadow-lg bg-white/10 backdrop-blur-md rounded-box border border-white/20 text-white",children:[i.jsx("li",{className:"menu-title",children:i.jsx("div",{className:"truncate px-1 text-white",children:n?.displayName||n?.email||"User"})}),i.jsx("li",{children:i.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-red-500 hover:bg-red-500/20",children:[i.jsx(Fy,{})," Logout"]})})]})]}):i.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[i.jsx(Te,{to:"/login",className:"btn btn-ghost btn-sm sm:btn-md",children:"Login"}),i.jsx(Te,{to:"/signup",className:"btn btn-primary btn-sm sm:btn-md",children:"Sign Up"})]});return i.jsx("nav",{className:"w-full sticky top-0 z-50 backdrop-blur-xl shadow-none px-4 py-3",children:i.jsxs("div",{className:"flex justify-between items-center w-full max-w-full mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"dropdown lg:hidden",children:[i.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 p-2 shadow-lg bg-white/10 backdrop-blur-md rounded-box border border-white/20 text-white w-52",children:d})]}),i.jsxs(Te,{to:"/",className:"btn btn-ghost flex items-center gap-2 hover:bg-white/10",children:[i.jsx(jt,{className:"text-white text-xl"}),i.jsx("span",{className:"font-bold text-white text-xl sm:text-2xl lg:text-3xl",children:"Charity Platform"})]})]}),i.jsx("div",{className:"hidden bg-transparent lg:flex",children:i.jsx("ul",{className:"menu menu-horizontal  px-1 text-white gap-2",children:d})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsx("div",{className:"hidden md:block",children:i.jsxs(Te,{to:s==="donor"?"/dashboard/donor":s==="charity"?"/dashboard/charity":s==="admin"?"/dashboard/admin":"/dashboard",className:"btn btn-outline border-white text-white hover:bg-white hover:text-primary flex items-center gap-2",children:[i.jsx(Z3,{}),"Dashboard"]})}),f]})]})})},q7=()=>i.jsx("footer",{className:" text-base-content",children:i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(jt,{className:"text-2xl text-primary"}),i.jsx("h3",{className:"text-xl text-white font-bold",children:"Charity Donation Platform"})]}),i.jsx("p",{className:"text-sm text-white mb-4",children:"Connecting generous donors with verified charity organizations to create meaningful impact across Bangladesh."}),i.jsxs("div",{className:"flex text-white gap-3",children:[i.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:i.jsx(p7,{className:"text-lg"})}),i.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:i.jsx(v7,{className:"text-lg"})}),i.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:i.jsx(y7,{className:"text-lg"})}),i.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:i.jsx(g7,{className:"text-lg"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2 text-white",children:[i.jsx("li",{children:i.jsx(Te,{to:"/",className:"link link-hover text-sm",children:"Home"})}),i.jsx("li",{children:i.jsx(Te,{to:"/campaigns",className:"link link-hover text-sm",children:"Browse Campaigns"})}),i.jsx("li",{children:i.jsx(Te,{to:"/charities",className:"link link-hover text-sm",children:"Charities"})}),i.jsx("li",{children:i.jsx(Te,{to:"/about",className:"link link-hover text-sm",children:"About Us"})}),i.jsx("li",{children:i.jsx(Te,{to:"/contact",className:"link link-hover text-sm",children:"Contact"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"For Users"}),i.jsxs("ul",{className:"space-y-2 text-white",children:[i.jsx("li",{children:i.jsx(Te,{to:"/signup",className:"link link-hover text-sm",children:"Create Account"})}),i.jsx("li",{children:i.jsx(Te,{to:"/login",className:"link link-hover text-sm",children:"Login"})}),i.jsx("li",{children:i.jsx(Te,{to:"/charities/register",className:"link link-hover text-sm",children:"Register Charity"})}),i.jsx("li",{children:i.jsx(Te,{to:"/dashboard",className:"link link-hover text-sm",children:"Dashboard"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"link link-hover text-sm",children:"Help & Support"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"Contact Us"}),i.jsxs("ul",{className:"space-y-3 text-white",children:[i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(od,{className:"text-primary mt-1 flex-shrink-0"}),i.jsxs("span",{children:["Gulshan-1, Dhaka 1212",i.jsx("br",{}),"Bangladesh"]})]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx(mm,{className:"text-primary flex-shrink-0"}),i.jsx("span",{children:"+880 1700-000000"})]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx(zl,{className:"text-primary flex-shrink-0"}),i.jsx("span",{children:"support@charitydonation.bd"})]})]})]})]}),i.jsx("div",{className:"divider"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("p",{className:"text-sm text-white",children:[" ",new Date().getFullYear()," Charity Donation Platform. All rights reserved."]}),i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsx("a",{href:"#",className:"link link-hover",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"link link-hover",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"link link-hover",children:"Cookie Policy"})]})]})]})}),$7=()=>i.jsxs("div",{className:"min-h-screen bg-base-200",children:[i.jsx(H7,{}),i.jsx(Z_,{}),i.jsx(q7,{children:" "})]}),G7=()=>{const{userRole:t,logout:e}=nr(),n=Wr(),s=async()=>{try{await e()}catch(d){console.error("Logout failed:",d)}},c=(()=>{const d=t==="donor"?"/dashboard/donor":t==="charity"?"/dashboard/charity":t==="admin"?"/dashboard/admin":"/dashboard",f=[{path:d,icon:Z3,label:"Overview",exact:!0}];return t==="donor"?f.push({path:`${d}/donations`,icon:jt,label:"My Donations"},{path:`${d}/saved`,icon:jt,label:"All Campaigns"},{path:`${d}/reviews`,icon:wi,label:"My Reviews"},{path:`${d}/profile`,icon:ja,label:"Profile"}):t==="charity"?f.push({path:`${d}/campaigns`,icon:jt,label:"My Campaigns"},{path:`${d}/campaigns/create`,icon:jo,label:"Create Campaign"},{path:`${d}/reviews`,icon:wi,label:"My Reviews"},{path:`${d}/profile`,icon:ja,label:"Profile"}):t==="admin"&&f.push({path:`${d}/users`,icon:Hn,label:"Users"},{path:`${d}/charities`,icon:Mo,label:"Charities"},{path:`${d}/campaigns`,icon:jt,label:"Campaigns"},{path:`${d}/campaigns/archived`,icon:Ci,label:"Archived"},{path:`${d}/messages`,icon:X0,label:"Messages"},{path:`${d}/settings`,icon:W3,label:"Settings"},{path:`${d}/profile`,icon:ja,label:"Profile"}),f})();return i.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[i.jsxs("div",{className:"navbar fixed top-0 left-0 right-0 bg-gradient-to-r from-primary/90 via-secondary/80 to-primary/90 backdrop-blur-sm shadow-lg z-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Te,{to:"/",className:"btn btn-ghost normal-case text-xl",children:"Charity Platform"}),i.jsxs("span",{className:"ml-2 badge badge-primary badge-outline",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]})]}),i.jsx("div",{className:"flex-none",children:i.jsx(Te,{to:"/",className:"btn btn-ghost",children:"Home"})}),i.jsx("div",{className:"flex-none gap-2 pr-4",children:i.jsxs("button",{onClick:s,className:"btn btn-ghost gap-2",children:[i.jsx(Fy,{}),"Sign Out"]})})]}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-64 bg-base-100 shadow-lg min-h-screen",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-8",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]}),i.jsx("nav",{className:"space-y-2",children:c.map(d=>{const f=d.exact?n.pathname===d.path:n.pathname.startsWith(d.path);return i.jsxs(Te,{to:d.path,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f?"bg-primary text-white":"hover:bg-base-200"}`,children:[i.jsx(d.icon,{className:"w-5 h-5"}),i.jsx("span",{children:d.label})]},d.path)})}),i.jsx("div",{className:"mt-8 pt-8 border-t",children:i.jsxs("button",{onClick:s,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-error hover:text-white transition-colors w-full text-left",children:[i.jsx(Fy,{className:"w-5 h-5"}),i.jsx("span",{children:"Logout"})]})})]})}),i.jsx("div",{className:"flex-1 p-6",children:i.jsx(Z_,{})})]})]})};var Yg={},nu={},zh={},Fh={},Qg={exports:{}},Wg,Qw;function K7(){if(Qw)return Wg;Qw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wg=t,Wg}var Xg,Ww;function Y7(){if(Ww)return Xg;Ww=1;var t=K7();function e(){}function n(){}return n.resetWarningCache=e,Xg=function(){function s(d,f,p,g,x,b){if(b!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Xg}var Xw;function Q7(){return Xw||(Xw=1,Qg.exports=Y7()()),Qg.exports}var Zw;function W7(){return Zw||(Zw=1,(function(t){(function(e,n){n(t,Di(),Q7())})(Fh,function(e,n,s){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=L;var o=d(n),c=d(s);function d(M){return M&&M.__esModule?M:{default:M}}var f=Object.assign||function(M){for(var k=1;k<arguments.length;k++){var q=arguments[k];for(var F in q)Object.prototype.hasOwnProperty.call(q,F)&&(M[F]=q[F])}return M};function p(M,k){var q={};for(var F in M)k.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(M,F)&&(q[F]=M[F]);return q}function g(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}var x=(function(){function M(k,q){for(var F=0;F<q.length;F++){var I=q[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,q,F){return q&&M(k.prototype,q),F&&M(k,F),k}})();function b(M,k){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:M}function w(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(M,k):M.__proto__=k)}var D=!1;function L(M){D=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){L(!0)}}))}catch{}function A(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return D?M:M.capture}function V(M){if("touches"in M){var k=M.touches[0],q=k.pageX,F=k.pageY;return{x:q,y:F}}var I=M.screenX,R=M.screenY;return{x:I,y:R}}var B=(function(M){w(k,M);function k(){var q;g(this,k);for(var F=arguments.length,I=Array(F),R=0;R<F;R++)I[R]=arguments[R];var E=b(this,(q=k.__proto__||Object.getPrototypeOf(k)).call.apply(q,[this].concat(I)));return E._handleSwipeStart=E._handleSwipeStart.bind(E),E._handleSwipeMove=E._handleSwipeMove.bind(E),E._handleSwipeEnd=E._handleSwipeEnd.bind(E),E._onMouseDown=E._onMouseDown.bind(E),E._onMouseMove=E._onMouseMove.bind(E),E._onMouseUp=E._onMouseUp.bind(E),E._setSwiperRef=E._setSwiperRef.bind(E),E}return x(k,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var I=V(F),R=I.x,E=I.y;this.moveStart={x:R,y:E},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var I=V(F),R=I.x,E=I.y,S=R-this.moveStart.x,P=E-this.moveStart.y;this.moving=!0;var C=this.props.onSwipeMove({x:S,y:P},F);C&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:S,deltaY:P}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var I=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-I?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>I&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-I?this.props.onSwipeUp(1,F):this.movePosition.deltaY>I&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var I=F.className,R=F.style,E=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var S=p(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return o.default.createElement(this.props.tagName,f({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:I,style:R},S),E)}}]),k})(n.Component);B.displayName="ReactSwipe",B.propTypes={tagName:c.default.string,className:c.default.string,style:c.default.object,children:c.default.node,allowMouseEvents:c.default.bool,onSwipeUp:c.default.func,onSwipeDown:c.default.func,onSwipeLeft:c.default.func,onSwipeRight:c.default.func,onSwipeStart:c.default.func,onSwipeMove:c.default.func,onSwipeEnd:c.default.func,innerRef:c.default.func,tolerance:c.default.number.isRequired},B.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=B})})(Fh)),Fh}var Jw;function J3(){return Jw||(Jw=1,(function(t){(function(e,n){n(t,W7())})(zh,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var s=o(n);function o(c){return c&&c.__esModule?c:{default:c}}e.default=s.default})})(zh)),zh}var ru={},Zg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var e_;function X7(){return e_||(e_=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var c="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(c=o(c,s(f)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return n.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var f in c)e.call(c,f)&&c[f]&&(d=o(d,f));return d}function o(c,d){return d?c?c+" "+d:c+d:c}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Zg)),Zg.exports}var t_;function eE(){if(t_)return ru;t_=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.default=void 0;var t=e(X7());function e(o){return o&&o.__esModule?o:{default:o}}function n(o,c,d){return c in o?Object.defineProperty(o,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[c]=d,o}var s={ROOT:function(c){return(0,t.default)(n({"carousel-root":!0},c||"",!!c))},CAROUSEL:function(c){return(0,t.default)({carousel:!0,"carousel-slider":c})},WRAPPER:function(c,d){return(0,t.default)({"thumbs-wrapper":!c,"slider-wrapper":c,"axis-horizontal":d==="horizontal","axis-vertical":d!=="horizontal"})},SLIDER:function(c,d){return(0,t.default)({thumbs:!c,slider:c,animated:!d})},ITEM:function(c,d,f){return(0,t.default)({thumb:!c,slide:c,selected:d,previous:f})},ARROW_PREV:function(c){return(0,t.default)({"control-arrow control-prev":!0,"control-disabled":c})},ARROW_NEXT:function(c){return(0,t.default)({"control-arrow control-next":!0,"control-disabled":c})},DOT:function(c){return(0,t.default)({dot:!0,selected:c})}};return ru.default=s,ru}var su={},au={},n_;function Z7(){if(n_)return au;n_=1,Object.defineProperty(au,"__esModule",{value:!0}),au.outerWidth=void 0;var t=function(n){var s=n.offsetWidth,o=getComputedStyle(n);return s+=parseInt(o.marginLeft)+parseInt(o.marginRight),s};return au.outerWidth=t,au}var iu={},r_;function ex(){if(r_)return iu;r_=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=void 0;var t=function(n,s,o){var c=n===0?n:n+s,d=o==="horizontal"?[c,0,0]:[0,c,0],f="translate3d",p="("+d.join(",")+")";return f+p};return iu.default=t,iu}var ou={},s_;function tE(){if(s_)return ou;s_=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=void 0;var t=function(){return window};return ou.default=t,ou}var a_;function nE(){if(a_)return su;a_=1,Object.defineProperty(su,"__esModule",{value:!0}),su.default=void 0;var t=p(Di()),e=d(eE()),n=Z7(),s=d(ex()),o=d(J3()),c=d(tE());function d(E){return E&&E.__esModule?E:{default:E}}function f(){if(typeof WeakMap!="function")return null;var E=new WeakMap;return f=function(){return E},E}function p(E){if(E&&E.__esModule)return E;if(E===null||g(E)!=="object"&&typeof E!="function")return{default:E};var S=f();if(S&&S.has(E))return S.get(E);var P={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in E)if(Object.prototype.hasOwnProperty.call(E,N)){var T=C?Object.getOwnPropertyDescriptor(E,N):null;T&&(T.get||T.set)?Object.defineProperty(P,N,T):P[N]=E[N]}return P.default=E,S&&S.set(E,P),P}function g(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(P){return typeof P}:g=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},g(E)}function x(){return x=Object.assign||function(E){for(var S=1;S<arguments.length;S++){var P=arguments[S];for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(E[C]=P[C])}return E},x.apply(this,arguments)}function b(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function w(E,S){for(var P=0;P<S.length;P++){var C=S[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}function D(E,S,P){return S&&w(E.prototype,S),E}function L(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),S&&A(E,S)}function A(E,S){return A=Object.setPrototypeOf||function(C,N){return C.__proto__=N,C},A(E,S)}function V(E){var S=k();return function(){var C=q(E),N;if(S){var T=q(this).constructor;N=Reflect.construct(C,arguments,T)}else N=C.apply(this,arguments);return B(this,N)}}function B(E,S){return S&&(g(S)==="object"||typeof S=="function")?S:M(E)}function M(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(E){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},q(E)}function F(E,S,P){return S in E?Object.defineProperty(E,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[S]=P,E}var I=function(S){return S.hasOwnProperty("key")},R=(function(E){L(P,E);var S=V(P);function P(C){var N;return b(this,P),N=S.call(this,C),F(M(N),"itemsWrapperRef",void 0),F(M(N),"itemsListRef",void 0),F(M(N),"thumbsRef",void 0),F(M(N),"setItemsWrapperRef",function(T){N.itemsWrapperRef=T}),F(M(N),"setItemsListRef",function(T){N.itemsListRef=T}),F(M(N),"setThumbsRef",function(T,J){N.thumbsRef||(N.thumbsRef=[]),N.thumbsRef[J]=T}),F(M(N),"updateSizes",function(){if(!(!N.props.children||!N.itemsWrapperRef||!N.thumbsRef)){var T=t.Children.count(N.props.children),J=N.itemsWrapperRef.clientWidth,H=N.props.thumbWidth?N.props.thumbWidth:(0,n.outerWidth)(N.thumbsRef[0]),G=Math.floor(J/H),X=G<T,ie=X?T-G:0;N.setState(function(be,$){return{itemSize:H,visibleItems:G,firstItem:X?N.getFirstItem($.selectedItem):0,lastPosition:ie,showArrows:X}})}}),F(M(N),"handleClickItem",function(T,J,H){if(!I(H)||H.key==="Enter"){var G=N.props.onSelectItem;typeof G=="function"&&G(T,J)}}),F(M(N),"onSwipeStart",function(){N.setState({swiping:!0})}),F(M(N),"onSwipeEnd",function(){N.setState({swiping:!1})}),F(M(N),"onSwipeMove",function(T){var J=T.x;if(!N.state.itemSize||!N.itemsWrapperRef||!N.state.visibleItems)return!1;var H=0,G=t.Children.count(N.props.children),X=-(N.state.firstItem*100)/N.state.visibleItems,ie=Math.max(G-N.state.visibleItems,0),be=-ie*100/N.state.visibleItems;X===H&&J>0&&(J=0),X===be&&J<0&&(J=0);var $=N.itemsWrapperRef.clientWidth,ce=X+100/($/J);return N.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(xe){N.itemsListRef.style[xe]=(0,s.default)(ce,"%",N.props.axis)}),!0}),F(M(N),"slideRight",function(T){N.moveTo(N.state.firstItem-(typeof T=="number"?T:1))}),F(M(N),"slideLeft",function(T){N.moveTo(N.state.firstItem+(typeof T=="number"?T:1))}),F(M(N),"moveTo",function(T){T=T<0?0:T,T=T>=N.state.lastPosition?N.state.lastPosition:T,N.setState({firstItem:T})}),N.state={selectedItem:C.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},N}return D(P,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(N){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==N.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(N){var T=N;return N>=this.state.lastPosition&&(T=this.state.lastPosition),N<this.state.firstItem+this.state.visibleItems&&(T=this.state.firstItem),N<this.state.firstItem&&(T=N),T}},{key:"renderItems",value:function(){var N=this;return this.props.children.map(function(T,J){var H=e.default.ITEM(!1,J===N.state.selectedItem),G={key:J,ref:function(ie){return N.setThumbsRef(ie,J)},className:H,onClick:N.handleClickItem.bind(N,J,N.props.children[J]),onKeyDown:N.handleClickItem.bind(N,J,N.props.children[J]),"aria-label":"".concat(N.props.labels.item," ").concat(J+1),style:{width:N.props.thumbWidth}};return t.default.createElement("li",x({},G,{role:"button",tabIndex:0}),T)})}},{key:"render",value:function(){var N=this;if(!this.props.children)return null;var T=t.Children.count(this.props.children)>1,J=this.state.showArrows&&this.state.firstItem>0,H=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,G={},X=-this.state.firstItem*(this.state.itemSize||0),ie=(0,s.default)(X,"px",this.props.axis),be=this.props.transitionTime+"ms";return G={WebkitTransform:ie,MozTransform:ie,MsTransform:ie,OTransform:ie,transform:ie,msTransform:ie,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},t.default.createElement("div",{className:e.default.CAROUSEL(!1)},t.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},t.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!J),onClick:function(){return N.slideRight()},"aria-label":this.props.labels.leftArrow}),T?t.default.createElement(o.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:G,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):t.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ce){return N.setItemsListRef(ce)},style:G},this.renderItems()),t.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!H),onClick:function(){return N.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),P})(t.Component);return su.default=R,F(R,"displayName","Thumbs"),F(R,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),su}var lu={},i_;function J7(){if(i_)return lu;i_=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.default=void 0;var t=function(){return document};return lu.default=t,lu}var Sr={},o_;function rE(){if(o_)return Sr;o_=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.setPosition=Sr.getPosition=Sr.isKeyboardEvent=Sr.defaultStatusFormatter=Sr.noop=void 0;var t=Di(),e=n(ex());function n(p){return p&&p.__esModule?p:{default:p}}var s=function(){};Sr.noop=s;var o=function(g,x){return"".concat(g," of ").concat(x)};Sr.defaultStatusFormatter=o;var c=function(g){return g?g.hasOwnProperty("key"):!1};Sr.isKeyboardEvent=c;var d=function(g,x){if(x.infiniteLoop&&++g,g===0)return 0;var b=t.Children.count(x.children);if(x.centerMode&&x.axis==="horizontal"){var w=-g*x.centerSlidePercentage,D=b-1;return g&&(g!==D||x.infiniteLoop)?w+=(100-x.centerSlidePercentage)/2:g===D&&(w+=100-x.centerSlidePercentage),w}return-g*100};Sr.getPosition=d;var f=function(g,x){var b={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(w){b[w]=(0,e.default)(g,"%",x)}),b};return Sr.setPosition=f,Sr}var is={},l_;function eO(){if(l_)return is;l_=1,Object.defineProperty(is,"__esModule",{value:!0}),is.fadeAnimationHandler=is.slideStopSwipingHandler=is.slideSwipeAnimationHandler=is.slideAnimationHandler=void 0;var t=Di(),e=s(ex()),n=rE();function s(b){return b&&b.__esModule?b:{default:b}}function o(b,w){var D=Object.keys(b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(b);w&&(L=L.filter(function(A){return Object.getOwnPropertyDescriptor(b,A).enumerable})),D.push.apply(D,L)}return D}function c(b){for(var w=1;w<arguments.length;w++){var D=arguments[w]!=null?arguments[w]:{};w%2?o(Object(D),!0).forEach(function(L){d(b,L,D[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(D)):o(Object(D)).forEach(function(L){Object.defineProperty(b,L,Object.getOwnPropertyDescriptor(D,L))})}return b}function d(b,w,D){return w in b?Object.defineProperty(b,w,{value:D,enumerable:!0,configurable:!0,writable:!0}):b[w]=D,b}var f=function(w,D){var L={},A=D.selectedItem,V=A,B=t.Children.count(w.children)-1,M=w.infiniteLoop&&(A<0||A>B);if(M)return V<0?w.centerMode&&w.centerSlidePercentage&&w.axis==="horizontal"?L.itemListStyle=(0,n.setPosition)(-(B+2)*w.centerSlidePercentage-(100-w.centerSlidePercentage)/2,w.axis):L.itemListStyle=(0,n.setPosition)(-(B+2)*100,w.axis):V>B&&(L.itemListStyle=(0,n.setPosition)(0,w.axis)),L;var k=(0,n.getPosition)(A,w),q=(0,e.default)(k,"%",w.axis),F=w.transitionTime+"ms";return L.itemListStyle={WebkitTransform:q,msTransform:q,OTransform:q,transform:q},D.swiping||(L.itemListStyle=c(c({},L.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),L};is.slideAnimationHandler=f;var p=function(w,D,L,A){var V={},B=D.axis==="horizontal",M=t.Children.count(D.children),k=0,q=(0,n.getPosition)(L.selectedItem,D),F=D.infiniteLoop?(0,n.getPosition)(M-1,D)-100:(0,n.getPosition)(M-1,D),I=B?w.x:w.y,R=I;q===k&&I>0&&(R=0),q===F&&I<0&&(R=0);var E=q+100/(L.itemSize/R),S=Math.abs(I)>D.swipeScrollTolerance;return D.infiniteLoop&&S&&(L.selectedItem===0&&E>-100?E-=M*100:L.selectedItem===M-1&&E<-M*100&&(E+=M*100)),(!D.preventMovementUntilSwipeScrollTolerance||S||L.swipeMovementStarted)&&(L.swipeMovementStarted||A({swipeMovementStarted:!0}),V.itemListStyle=(0,n.setPosition)(E,D.axis)),S&&!L.cancelClick&&A({cancelClick:!0}),V};is.slideSwipeAnimationHandler=p;var g=function(w,D){var L=(0,n.getPosition)(D.selectedItem,w),A=(0,n.setPosition)(L,w.axis);return{itemListStyle:A}};is.slideStopSwipingHandler=g;var x=function(w,D){var L=w.transitionTime+"ms",A="ease-in-out",V={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return D.swiping||(V=c(c({},V),{},{WebkitTransitionDuration:L,MozTransitionDuration:L,OTransitionDuration:L,transitionDuration:L,msTransitionDuration:L})),{slideStyle:V,selectedStyle:c(c({},V),{},{opacity:1,position:"relative"}),prevStyle:c({},V)}};return is.fadeAnimationHandler=x,is}var c_;function tO(){if(c_)return nu;c_=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.default=void 0;var t=x(Di()),e=p(J3()),n=p(eE()),s=p(nE()),o=p(J7()),c=p(tE()),d=rE(),f=eO();function p(C){return C&&C.__esModule?C:{default:C}}function g(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return g=function(){return C},C}function x(C){if(C&&C.__esModule)return C;if(C===null||b(C)!=="object"&&typeof C!="function")return{default:C};var N=g();if(N&&N.has(C))return N.get(C);var T={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in C)if(Object.prototype.hasOwnProperty.call(C,H)){var G=J?Object.getOwnPropertyDescriptor(C,H):null;G&&(G.get||G.set)?Object.defineProperty(T,H,G):T[H]=C[H]}return T.default=C,N&&N.set(C,T),T}function b(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(T){return typeof T}:b=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},b(C)}function w(){return w=Object.assign||function(C){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var J in T)Object.prototype.hasOwnProperty.call(T,J)&&(C[J]=T[J])}return C},w.apply(this,arguments)}function D(C,N){var T=Object.keys(C);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(C);N&&(J=J.filter(function(H){return Object.getOwnPropertyDescriptor(C,H).enumerable})),T.push.apply(T,J)}return T}function L(C){for(var N=1;N<arguments.length;N++){var T=arguments[N]!=null?arguments[N]:{};N%2?D(Object(T),!0).forEach(function(J){S(C,J,T[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(T)):D(Object(T)).forEach(function(J){Object.defineProperty(C,J,Object.getOwnPropertyDescriptor(T,J))})}return C}function A(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function V(C,N){for(var T=0;T<N.length;T++){var J=N[T];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(C,J.key,J)}}function B(C,N,T){return N&&V(C.prototype,N),C}function M(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),N&&k(C,N)}function k(C,N){return k=Object.setPrototypeOf||function(J,H){return J.__proto__=H,J},k(C,N)}function q(C){var N=R();return function(){var J=E(C),H;if(N){var G=E(this).constructor;H=Reflect.construct(J,arguments,G)}else H=J.apply(this,arguments);return F(this,H)}}function F(C,N){return N&&(b(N)==="object"||typeof N=="function")?N:I(C)}function I(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(C){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},E(C)}function S(C,N,T){return N in C?Object.defineProperty(C,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[N]=T,C}var P=(function(C){M(T,C);var N=q(T);function T(J){var H;A(this,T),H=N.call(this,J),S(I(H),"thumbsRef",void 0),S(I(H),"carouselWrapperRef",void 0),S(I(H),"listRef",void 0),S(I(H),"itemsRef",void 0),S(I(H),"timer",void 0),S(I(H),"animationHandler",void 0),S(I(H),"setThumbsRef",function(X){H.thumbsRef=X}),S(I(H),"setCarouselWrapperRef",function(X){H.carouselWrapperRef=X}),S(I(H),"setListRef",function(X){H.listRef=X}),S(I(H),"setItemsRef",function(X,ie){H.itemsRef||(H.itemsRef=[]),H.itemsRef[ie]=X}),S(I(H),"autoPlay",function(){t.Children.count(H.props.children)<=1||(H.clearAutoPlay(),H.props.autoPlay&&(H.timer=setTimeout(function(){H.increment()},H.props.interval)))}),S(I(H),"clearAutoPlay",function(){H.timer&&clearTimeout(H.timer)}),S(I(H),"resetAutoPlay",function(){H.clearAutoPlay(),H.autoPlay()}),S(I(H),"stopOnHover",function(){H.setState({isMouseEntered:!0},H.clearAutoPlay)}),S(I(H),"startOnLeave",function(){H.setState({isMouseEntered:!1},H.autoPlay)}),S(I(H),"isFocusWithinTheCarousel",function(){return H.carouselWrapperRef?!!((0,o.default)().activeElement===H.carouselWrapperRef||H.carouselWrapperRef.contains((0,o.default)().activeElement)):!1}),S(I(H),"navigateWithKeyboard",function(X){if(H.isFocusWithinTheCarousel()){var ie=H.props.axis,be=ie==="horizontal",$={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ce=be?$.ArrowRight:$.ArrowDown,xe=be?$.ArrowLeft:$.ArrowUp;ce===X.keyCode?H.increment():xe===X.keyCode&&H.decrement()}}),S(I(H),"updateSizes",function(){if(!(!H.state.initialized||!H.itemsRef||H.itemsRef.length===0)){var X=H.props.axis==="horizontal",ie=H.itemsRef[0];if(ie){var be=X?ie.clientWidth:ie.clientHeight;H.setState({itemSize:be}),H.thumbsRef&&H.thumbsRef.updateSizes()}}}),S(I(H),"setMountState",function(){H.setState({hasMount:!0}),H.updateSizes()}),S(I(H),"handleClickItem",function(X,ie){if(t.Children.count(H.props.children)!==0){if(H.state.cancelClick){H.setState({cancelClick:!1});return}H.props.onClickItem(X,ie),X!==H.state.selectedItem&&H.setState({selectedItem:X})}}),S(I(H),"handleOnChange",function(X,ie){t.Children.count(H.props.children)<=1||H.props.onChange(X,ie)}),S(I(H),"handleClickThumb",function(X,ie){H.props.onClickThumb(X,ie),H.moveTo(X)}),S(I(H),"onSwipeStart",function(X){H.setState({swiping:!0}),H.props.onSwipeStart(X)}),S(I(H),"onSwipeEnd",function(X){H.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),H.props.onSwipeEnd(X),H.clearAutoPlay(),H.state.autoPlay&&H.autoPlay()}),S(I(H),"onSwipeMove",function(X,ie){H.props.onSwipeMove(ie);var be=H.props.swipeAnimationHandler(X,H.props,H.state,H.setState.bind(I(H)));return H.setState(L({},be)),!!Object.keys(be).length}),S(I(H),"decrement",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;H.moveTo(H.state.selectedItem-(typeof X=="number"?X:1))}),S(I(H),"increment",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;H.moveTo(H.state.selectedItem+(typeof X=="number"?X:1))}),S(I(H),"moveTo",function(X){if(typeof X=="number"){var ie=t.Children.count(H.props.children)-1;X<0&&(X=H.props.infiniteLoop?ie:0),X>ie&&(X=H.props.infiniteLoop?0:ie),H.selectItem({selectedItem:X}),H.state.autoPlay&&H.state.isMouseEntered===!1&&H.resetAutoPlay()}}),S(I(H),"onClickNext",function(){H.increment(1)}),S(I(H),"onClickPrev",function(){H.decrement(1)}),S(I(H),"onSwipeForward",function(){H.increment(1),H.props.emulateTouch&&H.setState({cancelClick:!0})}),S(I(H),"onSwipeBackwards",function(){H.decrement(1),H.props.emulateTouch&&H.setState({cancelClick:!0})}),S(I(H),"changeItem",function(X){return function(ie){(!(0,d.isKeyboardEvent)(ie)||ie.key==="Enter")&&H.moveTo(X)}}),S(I(H),"selectItem",function(X){H.setState(L({previousItem:H.state.selectedItem},X),function(){H.setState(H.animationHandler(H.props,H.state))}),H.handleOnChange(X.selectedItem,t.Children.toArray(H.props.children)[X.selectedItem])}),S(I(H),"getInitialImage",function(){var X=H.props.selectedItem,ie=H.itemsRef&&H.itemsRef[X],be=ie&&ie.getElementsByTagName("img")||[];return be[0]}),S(I(H),"getVariableItemHeight",function(X){var ie=H.itemsRef&&H.itemsRef[X];if(H.state.hasMount&&ie&&ie.children.length){var be=ie.children[0].getElementsByTagName("img")||[];if(be.length>0){var $=be[0];if(!$.complete){var ce=function Ae(){H.forceUpdate(),$.removeEventListener("load",Ae)};$.addEventListener("load",ce)}}var xe=be[0]||ie.children[0],ye=xe.clientHeight;return ye>0?ye:null}return null});var G={initialized:!1,previousItem:J.selectedItem,selectedItem:J.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:J.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return H.animationHandler=typeof J.animationHandler=="function"&&J.animationHandler||J.animationHandler==="fade"&&f.fadeAnimationHandler||f.slideAnimationHandler,H.state=L(L({},G),H.animationHandler(J,G)),H}return B(T,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(H,G){!H.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!H.autoFocus&&this.props.autoFocus&&this.forceFocus(),G.swiping&&!this.state.swiping&&this.setState(L({},this.props.stopSwipingHandler(this.props,this.state))),(H.selectedItem!==this.props.selectedItem||H.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),H.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var H=this;this.bindEvents(),this.state.autoPlay&&t.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var G=H.getInitialImage();G&&!G.complete?G.addEventListener("load",H.setMountState):H.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var H=this.carouselWrapperRef;this.props.stopOnHover&&H&&(H.addEventListener("mouseenter",this.stopOnHover),H.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var H=this.carouselWrapperRef;this.props.stopOnHover&&H&&(H.removeEventListener("mouseenter",this.stopOnHover),H.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,o.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var H=this.getInitialImage();H&&H.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,o.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var H;(H=this.carouselWrapperRef)===null||H===void 0||H.focus()}},{key:"renderItems",value:function(H){var G=this;return this.props.children?t.Children.map(this.props.children,function(X,ie){var be=ie===G.state.selectedItem,$=ie===G.state.previousItem,ce=be&&G.state.selectedStyle||$&&G.state.prevStyle||G.state.slideStyle||{};G.props.centerMode&&G.props.axis==="horizontal"&&(ce=L(L({},ce),{},{minWidth:G.props.centerSlidePercentage+"%"})),G.state.swiping&&G.state.swipeMovementStarted&&(ce=L(L({},ce),{},{pointerEvents:"none"}));var xe={ref:function(Ae){return G.setItemsRef(Ae,ie)},key:"itemKey"+ie+(H?"clone":""),className:n.default.ITEM(!0,ie===G.state.selectedItem,ie===G.state.previousItem),onClick:G.handleClickItem.bind(G,ie,X),style:ce};return t.default.createElement("li",xe,G.props.renderItem(X,{isSelected:ie===G.state.selectedItem,isPrevious:ie===G.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var H=this,G=this.props,X=G.showIndicators,ie=G.labels,be=G.renderIndicator,$=G.children;return X?t.default.createElement("ul",{className:"control-dots"},t.Children.map($,function(ce,xe){return be&&be(H.changeItem(xe),xe===H.state.selectedItem,xe,ie.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?t.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,t.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||t.Children.count(this.props.children)===0?null:t.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var H=this;if(!this.props.children||t.Children.count(this.props.children)===0)return null;var G=this.props.swipeable&&t.Children.count(this.props.children)>1,X=this.props.axis==="horizontal",ie=this.props.showArrows&&t.Children.count(this.props.children)>1,be=ie&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,$=ie&&(this.state.selectedItem<t.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ce=this.renderItems(!0),xe=ce.shift(),ye=ce.pop(),Ae={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ge={};if(X){if(Ae.onSwipeLeft=this.onSwipeForward,Ae.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Be=this.getVariableItemHeight(this.state.selectedItem);Ge.height=Be||"auto"}}else Ae.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ae.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ae.style=L(L({},Ae.style),{},{height:this.state.itemSize}),Ge.height=this.state.itemSize;return t.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},t.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),t.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Ge},G?t.default.createElement(e.default,w({tagName:"ul",innerRef:this.setListRef},Ae,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&xe):t.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(gt){return H.setListRef(gt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&xe)),this.props.renderArrowNext(this.onClickNext,$,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),T})(t.default.Component);return nu.default=P,S(P,"displayName","Carousel"),S(P,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:d.noop,onClickThumb:d.noop,onChange:d.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(N,T,J){return t.default.createElement("button",{type:"button","aria-label":J,className:n.default.ARROW_PREV(!T),onClick:N})},renderArrowNext:function(N,T,J){return t.default.createElement("button",{type:"button","aria-label":J,className:n.default.ARROW_NEXT(!T),onClick:N})},renderIndicator:function(N,T,J,H){return t.default.createElement("li",{className:n.default.DOT(T),onClick:N,onKeyDown:N,value:J,key:J,role:"button",tabIndex:0,"aria-label":"".concat(H," ").concat(J+1)})},renderItem:function(N){return N},renderThumbs:function(N){var T=t.Children.map(N,function(J){var H=J;if(J.type!=="img"&&(H=t.Children.toArray(J.props.children).find(function(G){return G.type==="img"})),!!H)return H});return T.filter(function(J){return J}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):T},statusFormatter:d.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:f.slideSwipeAnimationHandler,stopSwipingHandler:f.slideStopSwipingHandler}),nu}var u_={},d_;function nO(){return d_||(d_=1),u_}var h_;function rO(){return h_||(h_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return s.default}});var e=o(tO()),n=nO(),s=o(nE());function o(c){return c&&c.__esModule?c:{default:c}}})(Yg)),Yg}rO();const sO=()=>"https://charity-donation-platform-server.vercel.app".replace(/\/$/,""),ld=sO(),cd=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},ud=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},aO=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},mr=async(t={})=>{const e=await fetch(`${ld}/campaigns${aO(t)}`);return(await ud(e)).map(cd)},Gu=async t=>mr({status:t}),iO=async t=>mr({charityId:t}),oO=async t=>{const e=await fetch(`${ld}/campaigns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await ud(e);return cd(n)},lO=async(t,e)=>{const n=await fetch(`${ld}/campaigns/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await ud(n);return cd(s)},cO=async(t,e)=>{const n=await fetch(`${ld}/campaigns/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})}),s=await ud(n);return cd(s)},uO=async(t,e,n=1)=>{const s=await fetch(`${ld}/campaigns/${t}/progress`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,donorIncrement:n})}),o=await ud(s);return cd(o)},So=t=>{if(!t||t.status!=="approved"||(t.currentAmount||0)>=t.goalAmount)return!1;const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.endDate);return s.setHours(23,59,59,999),!(s<n)},Yl="https://charity-donation-platform-server.vercel.app",pm=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},Ql=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},dO=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},sE=async(t={})=>{const e=await fetch(`${Yl}/donations${dO(t)}`);return(await Ql(e)).map(pm)},hO=async t=>{const e=await fetch(`${Yl}/donations/donor/${t}`);return(await Ql(e)).map(pm)},fO=async t=>{const e=await fetch(`${Yl}/donations/campaign/${t}`);return(await Ql(e)).map(pm)},mO=async t=>{const e=await fetch(`${Yl}/donations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await Ql(e);return pm(n)},pO=async t=>{const e=await fetch(`${Yl}/donations/donor/${t}/stats`);return await Ql(e)},gO=async t=>{const e=await fetch(`${Yl}/donations/campaign/${t}/stats`);return await Ql(e)},yO=async t=>(await gO(t)).donorCount||0,tx=async()=>{try{const t=await sE(),e={};t.forEach(s=>{e[s.campaignId]||(e[s.campaignId]=new Set),e[s.campaignId].add(s.donorId)});const n={};return Object.keys(e).forEach(s=>{n[s]=e[s].size}),n}catch(t){return console.error("Error getting all campaign donor counts:",t),{}}},dd="https://charity-donation-platform-server.vercel.app",gm=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},hd=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},xO=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},vO=async(t={})=>{const e=await fetch(`${dd}/reviews${xO(t)}`);return(await hd(e)).map(gm)},bO=async t=>{const e=await fetch(`${dd}/reviews/user/${t}`);return(await hd(e)).map(gm)},wO=async t=>{const e=await fetch(`${dd}/reviews`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await hd(e);return gm(n)},_O=async(t,e)=>{const n=await fetch(`${dd}/reviews/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await hd(n);return gm(s)},NO=async t=>{const e=await fetch(`${dd}/reviews/${t}`,{method:"DELETE"});return await hd(e),!0},EO=["thisMonth","lastMonth","lastThreeMonths","lastYear"],Bh=(t,e)=>`${t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}  ${e.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`,f_=(t=[])=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()-1,1),o=new Date(e.getFullYear(),e.getMonth(),0,23,59,59),c=new Date(e.getFullYear(),e.getMonth()-2,1),d=new Date(e);d.setFullYear(d.getFullYear()-1);const f={thisMonth:{label:"This Month",amount:0,count:0,rangeText:Bh(n,e)},lastMonth:{label:"Last Month",amount:0,count:0,rangeText:Bh(s,o)},lastThreeMonths:{label:"Last 3 Months",amount:0,count:0,rangeText:Bh(c,e)},lastYear:{label:"Last 12 Months",amount:0,count:0,rangeText:Bh(d,e)}};return t.forEach(p=>{if(!p?.createdAt)return;const g=new Date(p.createdAt);if(Number.isNaN(g.getTime()))return;const x=Number(p.amount)||0;g>=n&&(f.thisMonth.amount+=x,f.thisMonth.count+=1),g>=s&&g<=o&&(f.lastMonth.amount+=x,f.lastMonth.count+=1),g>=c&&(f.lastThreeMonths.amount+=x,f.lastThreeMonths.count+=1),g>=d&&(f.lastYear.amount+=x,f.lastYear.count+=1)}),f},jO=()=>{const[t,e]=z.useState({totalRaised:0,activeCampaigns:0,totalDonors:0,totalCharities:0,successRate:0,completedCampaigns:0,archivedCampaigns:0}),[n,s]=z.useState([]),[o,c]=z.useState({}),[d,f]=z.useState([]),[p,g]=z.useState(!0),[x,b]=z.useState(f_()),[w,D]=z.useState("thisMonth"),L=x[w]||x.thisMonth;return z.useEffect(()=>{(async()=>{try{const[V,B,M]=await Promise.all([mr(),Gu("approved"),sE()]),k=await tx();c(k);const q=new Date;q.setHours(0,0,0,0);const F=B.filter(H=>{const G=new Date(H.endDate);return G.setHours(23,59,59,999),G>=q});let I=0;Array.isArray(M)&&M.length>0?I=M.reduce((H,G)=>H+(Number(G.amount)||0),0):I=V.reduce((H,G)=>H+(Number(G.currentAmount)||0),0);const R=new Set(V.map(H=>H.charityId));let E=0;try{const H=R3(po,"users");E=(await U3(H)).data().count||0}catch(H){console.error("Error fetching user count:",H)}const S=V.filter(H=>H.currentAmount>=H.goalAmount),P=V.filter(H=>new Date(H.endDate)<q),C=V.length>0?Math.round(S.length/V.length*100):0,N=B.sort((H,G)=>(G.currentAmount||0)-(H.currentAmount||0)).slice(0,3),J=(await vO()).sort((H,G)=>new Date(G.createdAt||G.date)-new Date(H.createdAt||H.date)).slice(0,6);e({totalRaised:I,activeCampaigns:F.length,totalDonors:E,totalCharities:R.size,successRate:C,completedCampaigns:S.length,archivedCampaigns:P.length}),s(N),f(J),b(f_(M)),g(!1)}catch(V){console.error("Error fetching home data:",V),g(!1)}})()},[]),i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"Charity Donation Platform - Make a Difference Today"}),i.jsx("meta",{name:"description",content:"Join thousands of donors making a positive impact through verified charity campaigns. Support education, healthcare, emergency relief, and more."})]}),i.jsx("section",{className:"pt-10 pb-10 mt-10 ",children:i.jsx("div",{className:"container mt-10 mx-auto px-4",children:i.jsx("div",{className:"card mt-5 shadow-2xl bg-gradient-to-r from-primary to-secondary text-white",children:i.jsxs("div",{className:"card-body mt-5 flex flex-col lg:flex-row gap-8 items-start lg:items-center",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"uppercase text-sm tracking-widest text-white/70",children:"Fundraising pulse"}),i.jsxs("h2",{className:"text-4xl md:text-5xl font-black mt-2",children:["",(L?.amount||0).toLocaleString()]}),i.jsx("p",{className:"text-sm text-white/80 mt-1",children:L?.rangeText}),i.jsxs("p",{className:"mt-4 text-sm",children:[i.jsx("span",{className:"font-semibold",children:L?.count||0})," donations recorded in this window"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:EO.map(A=>i.jsx("button",{onClick:()=>D(A),className:`btn btn-sm border-0 ${w===A?"btn-secondary text-white":"btn-ghost text-white/80 bg-white/10"}`,children:x[A]?.label},A))}),i.jsx(Te,{to:"/dashboard",className:"btn btn-outline btn-sm text-white border-white hover:bg-white hover:text-primary",children:"View Insights"})]})})})}),i.jsx("section",{className:"py-12 ",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[i.jsxs("div",{className:"text-center p-6 rounded-xl shadow-md bg-gradient-to-br from-primary to-primary-focus text-white hover:scale-105 transition-transform",children:[i.jsx(jt,{className:"text-4xl mx-auto mb-3 text-white"}),i.jsx("div",{className:"text-3xl font-bold mb-1",children:p?i.jsx("span",{className:"loading loading-spinner loading-md inline-block","aria-hidden":"true"}):`${Number(t.totalRaised||0).toLocaleString()}`}),i.jsx("div",{className:"text-sm text-white/80",children:"Total Raised"})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl shadow-md bg-gradient-to-br from-secondary to-secondary-focus text-white hover:scale-105 transition-transform",children:[i.jsx(Eo,{className:"text-4xl mx-auto mb-3 text-white"}),i.jsx("div",{className:"text-3xl font-bold mb-1",children:p?i.jsx("span",{className:"loading loading-spinner loading-sm inline-block","aria-hidden":"true"}):t.activeCampaigns}),i.jsx("div",{className:"text-sm text-white/80",children:"Active Campaigns"})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl shadow-md bg-gradient-to-br from-accent to-accent-focus text-white hover:scale-105 transition-transform",children:[i.jsx(Hn,{className:"text-4xl mx-auto mb-3 text-white"}),i.jsx("div",{className:"text-3xl font-bold mb-1",children:p?i.jsx("span",{className:"loading loading-spinner loading-sm inline-block","aria-hidden":"true"}):t.totalDonors}),i.jsx("div",{className:"text-sm text-white/80",children:" Number of Donations "})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl shadow-md bg-gradient-to-br from-info to-info-focus text-white hover:scale-105 transition-transform",children:[i.jsx(Mo,{className:"text-4xl mx-auto mb-3 text-white"}),i.jsx("div",{className:"text-3xl font-bold mb-1",children:p?i.jsx("span",{className:"loading loading-spinner loading-sm inline-block","aria-hidden":"true"}):t.totalCharities}),i.jsx("div",{className:"text-sm text-white/80",children:"Charities"})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl shadow-md bg-gradient-to-br from-success to-success-focus text-white hover:scale-105 transition-transform",children:[i.jsx(wi,{className:"text-4xl mx-auto mb-3 text-white"}),i.jsx("div",{className:"text-3xl font-bold mb-1",children:p?i.jsx("span",{className:"loading loading-spinner loading-sm inline-block","aria-hidden":"true"}):`${t.successRate}%`}),i.jsx("div",{className:"text-sm text-white/80",children:"Success Rate"})]})]})})}),i.jsx("section",{className:"py-12 ",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Te,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"uppercase text-xs tracking-wide text-white/80",children:"Completed targets"}),i.jsx("h3",{className:"text-4xl font-black mt-2",children:p?i.jsx("span",{className:"loading loading-spinner inline-block","aria-hidden":"true"}):t.completedCampaigns}),i.jsx("p",{className:"text-sm text-white/80",children:"Campaigns that hit 100% of their goals"})]}),i.jsx(tr,{className:"text-5xl opacity-70"})]}),i.jsx("p",{className:"mt-4 text-sm",children:"Tap to explore every successful campaign story"})]})}),i.jsx(Te,{to:"/campaigns?view=archived",className:"card bg-gradient-to-br from-warning to-warning/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"uppercase text-xs tracking-wide text-white/80",children:"Time-ended campaigns"}),i.jsx("h3",{className:"text-4xl font-black mt-2",children:p?i.jsx("span",{className:"loading loading-spinner inline-block","aria-hidden":"true"}):t.archivedCampaigns}),i.jsx("p",{className:"text-sm text-white/80",children:"Ready for admin review & extensions"})]}),i.jsx(Ci,{className:"text-5xl opacity-70"})]}),i.jsx("p",{className:"mt-4 text-sm",children:"Click to see which campaigns need a time extension"})]})})]})})}),i.jsx("section",{className:"py-20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Featured Campaigns"}),i.jsx("p",{className:"text-xl  max-w-2xl mx-auto",children:"Top campaigns making the biggest impact right now"})]}),p?i.jsx("div",{className:"text-center py-12",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"No Featured Campaigns Yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Check back soon for new campaigns!"}),i.jsx(Te,{to:"/campaigns",className:"btn btn-primary",children:"View All Campaigns"})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(A=>i.jsxs("div",{className:"card border  shadow-xl hover:shadow-2xl transition-shadow",children:[i.jsx("figure",{children:i.jsx("img",{src:A.image,alt:A.title,className:"h-48 w-full object-cover",onError:V=>{V.target.src="https://via.placeholder.com/400x200"}})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"badge badge-primary capitalize",children:A.category}),i.jsx("span",{className:"badge badge-success",children:"Approved"})]}),i.jsx("h3",{className:"card-title text-lg",children:A.title}),i.jsxs("p",{className:"text-sm text-white mb-1",children:["By: ",A.charityName]}),i.jsx("p",{className:"text-white line-clamp-2",children:A.description}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsxs("span",{children:["Raised: ",(A.currentAmount||0).toLocaleString()]}),i.jsxs("span",{children:["Goal: ",A.goalAmount.toLocaleString()]})]}),i.jsx("progress",{className:"progress progress-primary w-full",value:A.currentAmount||0,max:A.goalAmount}),i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsxs("span",{children:[Math.round((A.currentAmount||0)/A.goalAmount*100),"% funded"]}),i.jsxs(Te,{to:`/campaigns/${A.id}/donors`,className:"flex items-center gap-1 hover:text-primary transition-colors cursor-pointer",children:[i.jsx(Hn,{className:"text-xs"}),o[A.id]||0," donors"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-right",children:["Ends: ",new Date(A.endDate).toLocaleDateString()]})]}),i.jsxs("div",{className:"card-actions justify-between mt-4",children:[i.jsx(Te,{to:`/campaigns/${A.id}`,className:"btn btn-primary btn-sm",children:"View Details"}),So(A)?i.jsx(Te,{to:`/campaigns/${A.id}/donate`,className:"btn btn-outline btn-sm",children:"Donate Now"}):i.jsxs("button",{className:"btn btn-disabled btn-sm",disabled:!0,title:A.status!=="approved"?"Campaign Pending Approval":(A.currentAmount||0)>=A.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[i.jsx(Kl,{className:"mr-1"})," Donate"]})]})]})]},A.id))}),i.jsx("div",{className:"text-center mt-12",children:i.jsxs(Te,{to:"/campaigns",className:"btn btn-primary btn-lg",children:["View All Campaigns",i.jsx(Q3,{className:"ml-2"})]})})]})}),i.jsx("section",{className:"py-20 border ",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"How It Works"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Simple steps to make a meaningful impact"})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(id,{className:"text-3xl text-white"})}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"1. Browse Campaigns"}),i.jsx("p",{className:"text-gray-600",children:"Explore verified charity campaigns across different categories and causes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(jt,{className:"text-3xl text-white"})}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"2. Choose & Donate"}),i.jsx("p",{className:"text-gray-600",children:"Select a campaign that resonates with you and make a secure donation"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Eo,{className:"text-3xl text-white"})}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"3. Track Impact"}),i.jsx("p",{className:"text-gray-600",children:"Follow the campaign progress and see how your donation makes a difference"})]})]})]})}),i.jsx("section",{className:"py-20 border ",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"What People Say (Reviews)"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Real reviews from our community of donors and charities"})]}),d.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(A=>i.jsx("div",{className:"card bg-red-500 shadow-xl hover:shadow-2xl transition-shadow",children:i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(V=>i.jsx(wi,{className:`text-xl ${V<=A.rating?"text-warning":"text-gray-300"}`},V))}),i.jsxs("p",{className:"text-white text-center mb-6 italic",children:['"',A.comment,'"']}),i.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t",children:[i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-primary text-primary-content rounded-full w-12",children:i.jsx(ja,{className:"text-xl"})})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-bold text-sm",children:A.userName}),i.jsxs("div",{className:"text-xs text-white",children:["ID: ",A.userId.substring(0,8),"..."]}),i.jsx("div",{className:"text-xs text-white",children:new Date(A.createdAt||A.date).toLocaleDateString()})]})]})]})},A.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(wi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-medium mb-2",children:"No Reviews Yet"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Be the first to share your experience with our platform!"}),i.jsx(Te,{to:"/signup",className:"btn btn-primary",children:"Join Now"})]})]})}),i.jsx("section",{className:"py-20 bg-primary text-white",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Make a Difference?"}),i.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of donors who are already making a positive impact in their communities"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"})]})})]})};var fd=t=>t.type==="checkbox",go=t=>t instanceof Date,Zn=t=>t==null;const aE=t=>typeof t=="object";var tn=t=>!Zn(t)&&!Array.isArray(t)&&aE(t)&&!go(t),SO=t=>tn(t)&&t.target?fd(t.target)?t.target.checked:t.target.value:t,TO=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,AO=(t,e)=>t.has(TO(e)),RO=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},nx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(nx&&(t instanceof Blob||s))&&(n||tn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!RO(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=jn(t[o]));else return t;return e}var ym=t=>/^\w*$/.test(t),ln=t=>t===void 0,rx=t=>Array.isArray(t)?t.filter(Boolean):[],sx=t=>rx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{if(!e||!tn(t))return n;const s=(ym(e)?[e]:sx(e)).reduce((o,c)=>Zn(o)?o:o[c],t);return ln(s)||s===t?ln(t[e])?n:t[e]:s},Ps=t=>typeof t=="boolean",Ht=(t,e,n)=>{let s=-1;const o=ym(e)?[e]:sx(e),c=o.length,d=c-1;for(;++s<c;){const f=o[s];let p=n;if(s!==d){const g=t[f];p=tn(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=p,t=t[f]}};const m_={BLUR:"blur",FOCUS_OUT:"focusout"},ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CO=Ot.createContext(null);CO.displayName="HookFormContext";var DO=(t,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const c in t)Object.defineProperty(o,c,{get:()=>{const d=c;return e._proxyFormState[d]!==ls.all&&(e._proxyFormState[d]=!s||ls.all),t[d]}});return o};const IO=typeof window<"u"?Ot.useLayoutEffect:Ot.useEffect;var ks=t=>typeof t=="string",OO=(t,e,n,s,o)=>ks(t)?(s&&e.watch.add(t),Ue(n,t,o)):Array.isArray(t)?t.map(c=>(s&&e.watch.add(c),Ue(n,c))):(s&&(e.watchAll=!0),n),Hy=t=>Zn(t)||!aE(t);function mi(t,e,n=new WeakSet){if(Hy(t)||Hy(e))return t===e;if(go(t)&&go(e))return t.getTime()===e.getTime();const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const c of s){const d=t[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=e[c];if(go(d)&&go(f)||tn(d)&&tn(f)||Array.isArray(d)&&Array.isArray(f)?!mi(d,f,n):d!==f)return!1}}return!0}var MO=(t,e,n,s,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:o||!0}}:{},Ru=t=>Array.isArray(t)?t:[t],p_=()=>{let t=[];return{get observers(){return t},next:o=>{for(const c of t)c.next&&c.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(c=>c!==o)}}),unsubscribe:()=>{t=[]}}},ur=t=>tn(t)&&!Object.keys(t).length,ax=t=>t.type==="file",cs=t=>typeof t=="function",Vf=t=>{if(!nx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},iE=t=>t.type==="select-multiple",ix=t=>t.type==="radio",PO=t=>ix(t)||fd(t),Jg=t=>Vf(t)&&t.isConnected;function kO(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=ln(t)?s++:t[e[s++]];return t}function LO(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function an(t,e){const n=Array.isArray(e)?e:ym(e)?[e]:sx(e),s=n.length===1?t:kO(t,n),o=n.length-1,c=n[o];return s&&delete s[c],o!==0&&(tn(s)&&ur(s)||Array.isArray(s)&&LO(s))&&an(t,n.slice(0,-1)),t}var oE=t=>{for(const e in t)if(cs(t[e]))return!0;return!1};function Uf(t,e={}){const n=Array.isArray(t);if(tn(t)||n)for(const s in t)Array.isArray(t[s])||tn(t[s])&&!oE(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Uf(t[s],e[s])):Zn(t[s])||(e[s]=!0);return e}function lE(t,e,n){const s=Array.isArray(t);if(tn(t)||s)for(const o in t)Array.isArray(t[o])||tn(t[o])&&!oE(t[o])?ln(e)||Hy(n[o])?n[o]=Array.isArray(t[o])?Uf(t[o],[]):{...Uf(t[o])}:lE(t[o],Zn(e)?{}:e[o],n[o]):n[o]=!mi(t[o],e[o]);return n}var cu=(t,e)=>lE(t,e,Uf(e));const g_={value:!1,isValid:!1},y_={value:!0,isValid:!0};var cE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?y_:{value:t[0].value,isValid:!0}:y_:g_}return g_},uE=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&ks(t)?new Date(t):s?s(t):t;const x_={isValid:!1,value:null};var dE=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,x_):x_;function v_(t){const e=t.ref;return ax(e)?e.files:ix(e)?dE(t.refs).value:iE(e)?[...e.selectedOptions].map(({value:n})=>n):fd(e)?cE(t.refs).value:uE(ln(e.value)?t.ref.value:e.value,t)}var VO=(t,e,n,s)=>{const o={};for(const c of t){const d=Ue(e,c);d&&Ht(o,c,d._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:s}},zf=t=>t instanceof RegExp,uu=t=>ln(t)?t:zf(t)?t.source:tn(t)?zf(t.value)?t.value.source:t.value:t,b_=t=>({isOnSubmit:!t||t===ls.onSubmit,isOnBlur:t===ls.onBlur,isOnChange:t===ls.onChange,isOnAll:t===ls.all,isOnTouch:t===ls.onTouched});const w_="AsyncFunction";var UO=t=>!!t&&!!t.validate&&!!(cs(t.validate)&&t.validate.constructor.name===w_||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===w_)),zO=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),__=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Cu=(t,e,n,s)=>{for(const o of n||Object.keys(t)){const c=Ue(t,o);if(c){const{_f:d,...f}=c;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],o)&&!s)return!0;if(d.ref&&e(d.ref,d.name)&&!s)return!0;if(Cu(f,e))break}else if(tn(f)&&Cu(f,e))break}}};function N_(t,e,n){const s=Ue(t,n);if(s||ym(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const c=o.join("."),d=Ue(e,c),f=Ue(t,c);if(d&&!Array.isArray(d)&&n!==c)return{name:n};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:n}}var FO=(t,e,n,s)=>{n(t);const{name:o,...c}=t;return ur(c)||Object.keys(c).length>=Object.keys(e).length||Object.keys(c).find(d=>e[d]===(!s||ls.all))},BO=(t,e,n)=>!t||!e||t===e||Ru(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),HO=(t,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?s.isOnBlur:o.isOnBlur)?!t:(n?s.isOnChange:o.isOnChange)?t:!0,qO=(t,e)=>!rx(Ue(t,e)).length&&an(t,e),$O=(t,e,n)=>{const s=Ru(Ue(t,n));return Ht(s,"root",e[n]),Ht(t,n,s),t},of=t=>ks(t);function E_(t,e,n="validate"){if(of(t)||Array.isArray(t)&&t.every(of)||Ps(t)&&!t)return{type:n,message:of(t)?t:"",ref:e}}var wl=t=>tn(t)&&!zf(t)?t:{value:t,message:""},j_=async(t,e,n,s,o,c)=>{const{ref:d,refs:f,required:p,maxLength:g,minLength:x,min:b,max:w,pattern:D,validate:L,name:A,valueAsNumber:V,mount:B}=t._f,M=Ue(n,A);if(!B||e.has(A))return{};const k=f?f[0]:d,q=N=>{o&&k.reportValidity&&(k.setCustomValidity(Ps(N)?"":N||""),k.reportValidity())},F={},I=ix(d),R=fd(d),E=I||R,S=(V||ax(d))&&ln(d.value)&&ln(M)||Vf(d)&&d.value===""||M===""||Array.isArray(M)&&!M.length,P=MO.bind(null,A,s,F),C=(N,T,J,H=xa.maxLength,G=xa.minLength)=>{const X=N?T:J;F[A]={type:N?H:G,message:X,ref:d,...P(N?H:G,X)}};if(c?!Array.isArray(M)||!M.length:p&&(!E&&(S||Zn(M))||Ps(M)&&!M||R&&!cE(f).isValid||I&&!dE(f).isValid)){const{value:N,message:T}=of(p)?{value:!!p,message:p}:wl(p);if(N&&(F[A]={type:xa.required,message:T,ref:k,...P(xa.required,T)},!s))return q(T),F}if(!S&&(!Zn(b)||!Zn(w))){let N,T;const J=wl(w),H=wl(b);if(!Zn(M)&&!isNaN(M)){const G=d.valueAsNumber||M&&+M;Zn(J.value)||(N=G>J.value),Zn(H.value)||(T=G<H.value)}else{const G=d.valueAsDate||new Date(M),X=$=>new Date(new Date().toDateString()+" "+$),ie=d.type=="time",be=d.type=="week";ks(J.value)&&M&&(N=ie?X(M)>X(J.value):be?M>J.value:G>new Date(J.value)),ks(H.value)&&M&&(T=ie?X(M)<X(H.value):be?M<H.value:G<new Date(H.value))}if((N||T)&&(C(!!N,J.message,H.message,xa.max,xa.min),!s))return q(F[A].message),F}if((g||x)&&!S&&(ks(M)||c&&Array.isArray(M))){const N=wl(g),T=wl(x),J=!Zn(N.value)&&M.length>+N.value,H=!Zn(T.value)&&M.length<+T.value;if((J||H)&&(C(J,N.message,T.message),!s))return q(F[A].message),F}if(D&&!S&&ks(M)){const{value:N,message:T}=wl(D);if(zf(N)&&!M.match(N)&&(F[A]={type:xa.pattern,message:T,ref:d,...P(xa.pattern,T)},!s))return q(T),F}if(L){if(cs(L)){const N=await L(M,n),T=E_(N,k);if(T&&(F[A]={...T,...P(xa.validate,T.message)},!s))return q(T.message),F}else if(tn(L)){let N={};for(const T in L){if(!ur(N)&&!s)break;const J=E_(await L[T](M,n),k,T);J&&(N={...J,...P(T,J.message)},q(J.message),s&&(F[A]=N))}if(!ur(N)&&(F[A]={ref:k,...N},!s))return F}}return q(!0),F};const GO={mode:ls.onSubmit,reValidateMode:ls.onChange,shouldFocusError:!0};function KO(t={}){let e={...GO,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:cs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=tn(e.defaultValues)||tn(e.values)?jn(e.defaultValues||e.values)||{}:{},c=e.shouldUnregister?{}:jn(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...x};const w={array:p_(),state:p_()},D=e.criteriaMode===ls.all,L=Q=>re=>{clearTimeout(g),g=setTimeout(Q,re)},A=async Q=>{if(!e.disabled&&(x.isValid||b.isValid||Q)){const re=e.resolver?ur((await R()).errors):await S(s,!0);re!==n.isValid&&w.state.next({isValid:re})}},V=(Q,re)=>{!e.disabled&&(x.isValidating||x.validatingFields||b.isValidating||b.validatingFields)&&((Q||Array.from(f.mount)).forEach(de=>{de&&(re?Ht(n.validatingFields,de,re):an(n.validatingFields,de))}),w.state.next({validatingFields:n.validatingFields,isValidating:!ur(n.validatingFields)}))},B=(Q,re=[],de,Se,Ee=!0,_e=!0)=>{if(Se&&de&&!e.disabled){if(d.action=!0,_e&&Array.isArray(Ue(s,Q))){const Ne=de(Ue(s,Q),Se.argA,Se.argB);Ee&&Ht(s,Q,Ne)}if(_e&&Array.isArray(Ue(n.errors,Q))){const Ne=de(Ue(n.errors,Q),Se.argA,Se.argB);Ee&&Ht(n.errors,Q,Ne),qO(n.errors,Q)}if((x.touchedFields||b.touchedFields)&&_e&&Array.isArray(Ue(n.touchedFields,Q))){const Ne=de(Ue(n.touchedFields,Q),Se.argA,Se.argB);Ee&&Ht(n.touchedFields,Q,Ne)}(x.dirtyFields||b.dirtyFields)&&(n.dirtyFields=cu(o,c)),w.state.next({name:Q,isDirty:C(Q,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ht(c,Q,re)},M=(Q,re)=>{Ht(n.errors,Q,re),w.state.next({errors:n.errors})},k=Q=>{n.errors=Q,w.state.next({errors:n.errors,isValid:!1})},q=(Q,re,de,Se)=>{const Ee=Ue(s,Q);if(Ee){const _e=Ue(c,Q,ln(de)?Ue(o,Q):de);ln(_e)||Se&&Se.defaultChecked||re?Ht(c,Q,re?_e:v_(Ee._f)):J(Q,_e),d.mount&&A()}},F=(Q,re,de,Se,Ee)=>{let _e=!1,Ne=!1;const Re={name:Q};if(!e.disabled){if(!de||Se){(x.isDirty||b.isDirty)&&(Ne=n.isDirty,n.isDirty=Re.isDirty=C(),_e=Ne!==Re.isDirty);const tt=mi(Ue(o,Q),re);Ne=!!Ue(n.dirtyFields,Q),tt?an(n.dirtyFields,Q):Ht(n.dirtyFields,Q,!0),Re.dirtyFields=n.dirtyFields,_e=_e||(x.dirtyFields||b.dirtyFields)&&Ne!==!tt}if(de){const tt=Ue(n.touchedFields,Q);tt||(Ht(n.touchedFields,Q,de),Re.touchedFields=n.touchedFields,_e=_e||(x.touchedFields||b.touchedFields)&&tt!==de)}_e&&Ee&&w.state.next(Re)}return _e?Re:{}},I=(Q,re,de,Se)=>{const Ee=Ue(n.errors,Q),_e=(x.isValid||b.isValid)&&Ps(re)&&n.isValid!==re;if(e.delayError&&de?(p=L(()=>M(Q,de)),p(e.delayError)):(clearTimeout(g),p=null,de?Ht(n.errors,Q,de):an(n.errors,Q)),(de?!mi(Ee,de):Ee)||!ur(Se)||_e){const Ne={...Se,..._e&&Ps(re)?{isValid:re}:{},errors:n.errors,name:Q};n={...n,...Ne},w.state.next(Ne)}},R=async Q=>{V(Q,!0);const re=await e.resolver(c,e.context,VO(Q||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return V(Q),re},E=async Q=>{const{errors:re}=await R(Q);if(Q)for(const de of Q){const Se=Ue(re,de);Se?Ht(n.errors,de,Se):an(n.errors,de)}else n.errors=re;return re},S=async(Q,re,de={valid:!0})=>{for(const Se in Q){const Ee=Q[Se];if(Ee){const{_f:_e,...Ne}=Ee;if(_e){const Re=f.array.has(_e.name),tt=Ee._f&&UO(Ee._f);tt&&x.validatingFields&&V([Se],!0);const yt=await j_(Ee,f.disabled,c,D,e.shouldUseNativeValidation&&!re,Re);if(tt&&x.validatingFields&&V([Se]),yt[_e.name]&&(de.valid=!1,re))break;!re&&(Ue(yt,_e.name)?Re?$O(n.errors,yt,_e.name):Ht(n.errors,_e.name,yt[_e.name]):an(n.errors,_e.name))}!ur(Ne)&&await S(Ne,re,de)}}return de.valid},P=()=>{for(const Q of f.unMount){const re=Ue(s,Q);re&&(re._f.refs?re._f.refs.every(de=>!Jg(de)):!Jg(re._f.ref))&&Vt(Q)}f.unMount=new Set},C=(Q,re)=>!e.disabled&&(Q&&re&&Ht(c,Q,re),!mi($(),o)),N=(Q,re,de)=>OO(Q,f,{...d.mount?c:ln(re)?o:ks(Q)?{[Q]:re}:re},de,re),T=Q=>rx(Ue(d.mount?c:o,Q,e.shouldUnregister?Ue(o,Q,[]):[])),J=(Q,re,de={})=>{const Se=Ue(s,Q);let Ee=re;if(Se){const _e=Se._f;_e&&(!_e.disabled&&Ht(c,Q,uE(re,_e)),Ee=Vf(_e.ref)&&Zn(re)?"":re,iE(_e.ref)?[..._e.ref.options].forEach(Ne=>Ne.selected=Ee.includes(Ne.value)):_e.refs?fd(_e.ref)?_e.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(Ee)?Ne.checked=!!Ee.find(Re=>Re===Ne.value):Ne.checked=Ee===Ne.value||!!Ee)}):_e.refs.forEach(Ne=>Ne.checked=Ne.value===Ee):ax(_e.ref)?_e.ref.value="":(_e.ref.value=Ee,_e.ref.type||w.state.next({name:Q,values:jn(c)})))}(de.shouldDirty||de.shouldTouch)&&F(Q,Ee,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&be(Q)},H=(Q,re,de)=>{for(const Se in re){if(!re.hasOwnProperty(Se))return;const Ee=re[Se],_e=Q+"."+Se,Ne=Ue(s,_e);(f.array.has(Q)||tn(Ee)||Ne&&!Ne._f)&&!go(Ee)?H(_e,Ee,de):J(_e,Ee,de)}},G=(Q,re,de={})=>{const Se=Ue(s,Q),Ee=f.array.has(Q),_e=jn(re);Ht(c,Q,_e),Ee?(w.array.next({name:Q,values:jn(c)}),(x.isDirty||x.dirtyFields||b.isDirty||b.dirtyFields)&&de.shouldDirty&&w.state.next({name:Q,dirtyFields:cu(o,c),isDirty:C(Q,_e)})):Se&&!Se._f&&!Zn(_e)?H(Q,_e,de):J(Q,_e,de),__(Q,f)&&w.state.next({...n,name:Q}),w.state.next({name:d.mount?Q:void 0,values:jn(c)})},X=async Q=>{d.mount=!0;const re=Q.target;let de=re.name,Se=!0;const Ee=Ue(s,de),_e=tt=>{Se=Number.isNaN(tt)||go(tt)&&isNaN(tt.getTime())||mi(tt,Ue(c,de,tt))},Ne=b_(e.mode),Re=b_(e.reValidateMode);if(Ee){let tt,yt;const Zr=re.type?v_(Ee._f):SO(Q),Xt=Q.type===m_.BLUR||Q.type===m_.FOCUS_OUT,Ar=!zO(Ee._f)&&!e.resolver&&!Ue(n.errors,de)&&!Ee._f.deps||HO(Xt,Ue(n.touchedFields,de),n.isSubmitted,Re,Ne),rr=__(de,f,Xt);Ht(c,de,Zr),Xt?(!re||!re.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(Q),p&&p(0)):Ee._f.onChange&&Ee._f.onChange(Q);const sr=F(de,Zr,Xt),qn=!ur(sr)||rr;if(!Xt&&w.state.next({name:de,type:Q.type,values:jn(c)}),Ar)return(x.isValid||b.isValid)&&(e.mode==="onBlur"?Xt&&A():Xt||A()),qn&&w.state.next({name:de,...rr?{}:sr});if(!Xt&&rr&&w.state.next({...n}),e.resolver){const{errors:Rr}=await R([de]);if(_e(Zr),Se){const ar=N_(n.errors,s,de),Jr=N_(Rr,s,ar.name||de);tt=Jr.error,de=Jr.name,yt=ur(Rr)}}else V([de],!0),tt=(await j_(Ee,f.disabled,c,D,e.shouldUseNativeValidation))[de],V([de]),_e(Zr),Se&&(tt?yt=!1:(x.isValid||b.isValid)&&(yt=await S(s,!0)));Se&&(Ee._f.deps&&be(Ee._f.deps),I(de,yt,tt,sr))}},ie=(Q,re)=>{if(Ue(n.errors,re)&&Q.focus)return Q.focus(),1},be=async(Q,re={})=>{let de,Se;const Ee=Ru(Q);if(e.resolver){const _e=await E(ln(Q)?Q:Ee);de=ur(_e),Se=Q?!Ee.some(Ne=>Ue(_e,Ne)):de}else Q?(Se=(await Promise.all(Ee.map(async _e=>{const Ne=Ue(s,_e);return await S(Ne&&Ne._f?{[_e]:Ne}:Ne)}))).every(Boolean),!(!Se&&!n.isValid)&&A()):Se=de=await S(s);return w.state.next({...!ks(Q)||(x.isValid||b.isValid)&&de!==n.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:de}:{},errors:n.errors}),re.shouldFocus&&!Se&&Cu(s,ie,Q?Ee:f.mount),Se},$=Q=>{const re={...d.mount?c:o};return ln(Q)?re:ks(Q)?Ue(re,Q):Q.map(de=>Ue(re,de))},ce=(Q,re)=>({invalid:!!Ue((re||n).errors,Q),isDirty:!!Ue((re||n).dirtyFields,Q),error:Ue((re||n).errors,Q),isValidating:!!Ue(n.validatingFields,Q),isTouched:!!Ue((re||n).touchedFields,Q)}),xe=Q=>{Q&&Ru(Q).forEach(re=>an(n.errors,re)),w.state.next({errors:Q?n.errors:{}})},ye=(Q,re,de)=>{const Se=(Ue(s,Q,{_f:{}})._f||{}).ref,Ee=Ue(n.errors,Q)||{},{ref:_e,message:Ne,type:Re,...tt}=Ee;Ht(n.errors,Q,{...tt,...re,ref:Se}),w.state.next({name:Q,errors:n.errors,isValid:!1}),de&&de.shouldFocus&&Se&&Se.focus&&Se.focus()},Ae=(Q,re)=>cs(Q)?w.state.subscribe({next:de=>"values"in de&&Q(N(void 0,re),de)}):N(Q,re,!0),Ge=Q=>w.state.subscribe({next:re=>{BO(Q.name,re.name,Q.exact)&&FO(re,Q.formState||x,Tn,Q.reRenderRoot)&&Q.callback({values:{...c},...n,...re,defaultValues:o})}}).unsubscribe,Be=Q=>(d.mount=!0,b={...b,...Q.formState},Ge({...Q,formState:b})),Vt=(Q,re={})=>{for(const de of Q?Ru(Q):f.mount)f.mount.delete(de),f.array.delete(de),re.keepValue||(an(s,de),an(c,de)),!re.keepError&&an(n.errors,de),!re.keepDirty&&an(n.dirtyFields,de),!re.keepTouched&&an(n.touchedFields,de),!re.keepIsValidating&&an(n.validatingFields,de),!e.shouldUnregister&&!re.keepDefaultValue&&an(o,de);w.state.next({values:jn(c)}),w.state.next({...n,...re.keepDirty?{isDirty:C()}:{}}),!re.keepIsValid&&A()},gt=({disabled:Q,name:re})=>{(Ps(Q)&&d.mount||Q||f.disabled.has(re))&&(Q?f.disabled.add(re):f.disabled.delete(re))},kn=(Q,re={})=>{let de=Ue(s,Q);const Se=Ps(re.disabled)||Ps(e.disabled);return Ht(s,Q,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:Q}},name:Q,mount:!0,...re}}),f.mount.add(Q),de?gt({disabled:Ps(re.disabled)?re.disabled:e.disabled,name:Q}):q(Q,!0,re.value),{...Se?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:uu(re.min),max:uu(re.max),minLength:uu(re.minLength),maxLength:uu(re.maxLength),pattern:uu(re.pattern)}:{},name:Q,onChange:X,onBlur:X,ref:Ee=>{if(Ee){kn(Q,re),de=Ue(s,Q);const _e=ln(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Ne=PO(_e),Re=de._f.refs||[];if(Ne?Re.find(tt=>tt===_e):_e===de._f.ref)return;Ht(s,Q,{_f:{...de._f,...Ne?{refs:[...Re.filter(Jg),_e,...Array.isArray(Ue(o,Q))?[{}]:[]],ref:{type:_e.type,name:Q}}:{ref:_e}}}),q(Q,!1,void 0,_e)}else de=Ue(s,Q,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(AO(f.array,Q)&&d.action)&&f.unMount.add(Q)}}},St=()=>e.shouldFocusError&&Cu(s,ie,f.mount),yn=Q=>{Ps(Q)&&(w.state.next({disabled:Q}),Cu(s,(re,de)=>{const Se=Ue(s,de);Se&&(re.disabled=Se._f.disabled||Q,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(Ee=>{Ee.disabled=Se._f.disabled||Q}))},0,!1))},pr=(Q,re)=>async de=>{let Se;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let Ee=jn(c);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:Ne}=await R();n.errors=_e,Ee=jn(Ne)}else await S(s);if(f.disabled.size)for(const _e of f.disabled)an(Ee,_e);if(an(n.errors,"root"),ur(n.errors)){w.state.next({errors:{}});try{await Q(Ee,de)}catch(_e){Se=_e}}else re&&await re({...n.errors},de),St(),setTimeout(St);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ur(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se},Xr=(Q,re={})=>{Ue(s,Q)&&(ln(re.defaultValue)?G(Q,jn(Ue(o,Q))):(G(Q,re.defaultValue),Ht(o,Q,jn(re.defaultValue))),re.keepTouched||an(n.touchedFields,Q),re.keepDirty||(an(n.dirtyFields,Q),n.isDirty=re.defaultValue?C(Q,jn(Ue(o,Q))):C()),re.keepError||(an(n.errors,Q),x.isValid&&A()),w.state.next({...n}))},xn=(Q,re={})=>{const de=Q?jn(Q):o,Se=jn(de),Ee=ur(Q),_e=Ee?o:Se;if(re.keepDefaultValues||(o=de),!re.keepValues){if(re.keepDirtyValues){const Ne=new Set([...f.mount,...Object.keys(cu(o,c))]);for(const Re of Array.from(Ne))Ue(n.dirtyFields,Re)?Ht(_e,Re,Ue(c,Re)):G(Re,Ue(_e,Re))}else{if(nx&&ln(Q))for(const Ne of f.mount){const Re=Ue(s,Ne);if(Re&&Re._f){const tt=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Vf(tt)){const yt=tt.closest("form");if(yt){yt.reset();break}}}}if(re.keepFieldsRef)for(const Ne of f.mount)G(Ne,Ue(_e,Ne));else s={}}c=e.shouldUnregister?re.keepDefaultValues?jn(o):{}:jn(_e),w.array.next({values:{..._e}}),w.state.next({values:{..._e}})}f={mount:re.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!re.keepIsValid||!!re.keepDirtyValues,d.watch=!!e.shouldUnregister,w.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!mi(Q,o)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:re.keepDirtyValues?re.keepDefaultValues&&c?cu(o,c):n.dirtyFields:re.keepDefaultValues&&Q?cu(o,Q):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},xs=(Q,re)=>xn(cs(Q)?Q(c):Q,re),Ca=(Q,re={})=>{const de=Ue(s,Q),Se=de&&de._f;if(Se){const Ee=Se.refs?Se.refs[0]:Se.ref;Ee.focus&&(Ee.focus(),re.shouldSelect&&cs(Ee.select)&&Ee.select())}},Tn=Q=>{n={...n,...Q}},vs={control:{register:kn,unregister:Vt,getFieldState:ce,handleSubmit:pr,setError:ye,_subscribe:Ge,_runSchema:R,_focusError:St,_getWatch:N,_getDirty:C,_setValid:A,_setFieldArray:B,_setDisabledField:gt,_setErrors:k,_getFieldArray:T,_reset:xn,_resetDefaultValues:()=>cs(e.defaultValues)&&e.defaultValues().then(Q=>{xs(Q,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:yn,_subjects:w,_proxyFormState:x,get _fields(){return s},get _formValues(){return c},get _state(){return d},set _state(Q){d=Q},get _defaultValues(){return o},get _names(){return f},set _names(Q){f=Q},get _formState(){return n},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:Be,trigger:be,register:kn,handleSubmit:pr,watch:Ae,setValue:G,getValues:$,reset:xs,resetField:Xr,clearErrors:xe,unregister:Vt,setError:ye,setFocus:Ca,getFieldState:ce};return{...vs,formControl:vs}}function ox(t={}){const e=Ot.useRef(void 0),n=Ot.useRef(void 0),[s,o]=Ot.useState({isDirty:!1,isValidating:!1,isLoading:cs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:cs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!cs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:d,...f}=KO(t);e.current={...f,formState:s}}const c=e.current.control;return c._options=t,IO(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,d},[c]),Ot.useEffect(()=>c._disableForm(t.disabled),[c,t.disabled]),Ot.useEffect(()=>{t.mode&&(c._options.mode=t.mode),t.reValidateMode&&(c._options.reValidateMode=t.reValidateMode)},[c,t.mode,t.reValidateMode]),Ot.useEffect(()=>{t.errors&&(c._setErrors(t.errors),c._focusError())},[c,t.errors]),Ot.useEffect(()=>{t.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,t.shouldUnregister]),Ot.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==s.isDirty&&c._subjects.state.next({isDirty:d})}},[c,s.isDirty]),Ot.useEffect(()=>{t.values&&!mi(t.values,n.current)?(c._reset(t.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=t.values,o(d=>({...d}))):c._resetDefaultValues()},[c,t.values]),Ot.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),e.current.formState=DO(s,c),e.current}const YO="https://charity-donation-platform-server.vercel.app",S_=async()=>{const t=typeof window<"u"?window.Swal:null;t&&await t.fire({icon:"success",title:"Login Successful!",text:"Welcome back!",timer:2e3,showConfirmButton:!1,confirmButtonColor:"#10b981"})},T_=async t=>{if(!t)return console.log("[resolveRoleFromServer] No email provided"),null;try{console.log(`[resolveRoleFromServer] Fetching role for email: ${t}`);const e=await fetch(`${YO}/users`);if(!e.ok)return console.error(`[resolveRoleFromServer] API returned status: ${e.status}`),null;const n=await e.json();console.log(`[resolveRoleFromServer] Received ${n?.length||0} users from API`);const s=(n||[]).find(o=>(o.email||"").toLowerCase()===t.toLowerCase());if(s){const o=(s.role||"").toLowerCase();return console.log(`[resolveRoleFromServer] Found user with role: ${o}`),o||null}else return console.log(`[resolveRoleFromServer] User with email ${t} not found in database`),null}catch(e){return console.error("[resolveRoleFromServer] Failed to resolve role from server:",e),null}},QO=()=>{const{login:t,loginWithGoogle:e}=nr(),n=Oi(),[s,o]=z.useState(!1),[c,d]=z.useState(""),[f,p]=z.useState(!1),{register:g,handleSubmit:x,formState:{errors:b}}=ox(),w=async L=>{try{d(""),p(!0);const{result:A}=await t(L.email,L.password),V=A?.user?.email||L.email;console.log(`[Login] User logged in with email: ${V}`);const B=await T_(V)||"donor";console.log(`[Login] Resolved role: ${B}`),await S_(),B==="admin"?(console.log("[Login] Navigating to admin dashboard"),n("/dashboard/admin",{replace:!0})):B==="charity"?(console.log("[Login] Navigating to charity dashboard"),n("/dashboard/charity",{replace:!0})):(console.log("[Login] Navigating to donor dashboard"),n("/dashboard/donor",{replace:!0}))}catch(A){A?.code==="auth/operation-not-allowed"?d("Email/Password sign-in is disabled in Firebase. Enable it in Authentication > Sign-in method. (auth/operation-not-allowed)"):A?.code==="auth/wrong-password"?d("Incorrect password. (auth/wrong-password)"):A?.code==="auth/user-not-found"?d("User not found. (auth/user-not-found)"):A?.code==="auth/invalid-credential"?d("Invalid email or password. (auth/invalid-credential)"):A?.code==="auth/network-request-failed"?d("Network error. Check your internet connection and try again. (auth/network-request-failed)"):d(`Failed to log in. Please check your credentials.${A?.code?` (${A.code})`:""}`),console.error("Login error:",A)}finally{p(!1)}},D=async()=>{try{d(""),p(!0);const{result:L}=await e(),A=L?.user?.email;console.log(`[Google Login] User logged in with email: ${A}`);const V=await T_(A)||"donor";console.log(`[Google Login] Resolved role: ${V}`),await S_(),V==="admin"?(console.log("[Google Login] Navigating to admin dashboard"),n("/dashboard/admin",{replace:!0})):V==="charity"?(console.log("[Google Login] Navigating to charity dashboard"),n("/dashboard/charity",{replace:!0})):(console.log("[Google Login] Navigating to donor dashboard"),n("/dashboard/donor",{replace:!0}))}catch(L){d("Failed to log in with Google."),console.error("Google login error:",L)}finally{p(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold ",children:"Sign in to your account"}),i.jsxs("p",{className:"mt-2 text-sm text-base-content/80",children:["Or"," ",i.jsx(Te,{to:"/signup",className:"font-medium text-blue-600 hover:text-primary-focus underline",children:"create a new account"})]})]}),i.jsx("div",{className:"card  shadow-2xl border border-base-300",children:i.jsxs("div",{className:"card-body",children:[c&&i.jsxs("div",{className:"alert alert-error",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:c})]}),i.jsxs("form",{onSubmit:x(w),className:"space-y-6 ",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Email address"})}),i.jsx("input",{...g("email",{required:"Email is required"}),type:"email",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your email"}),b.email&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:b.email.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Password"})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{...g("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:s?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Enter your password"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>o(!s),children:s?i.jsx(Uy,{className:"h-4 w-4 text-base-content/60"}):i.jsx(Ks,{className:"h-4 w-4 text-base-content/60"})})]}),b.password&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:b.password.message})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"label cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),i.jsx("span",{className:"label-text ml-2",children:"Remember me"})]}),i.jsx(Te,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80",children:"Forgot password?"})]}),i.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary w-full text-white font-semibold hover:btn-primary-focus transition-all",children:f?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner loading-sm"}),"Signing in..."]}):"Sign in"})]}),i.jsx("div",{className:"divider",children:"OR"}),i.jsxs("button",{onClick:D,disabled:f,className:"btn btn-outline text-white btn-primary w-full flex items-center justify-center gap-2 hover:btn-primary hover:text-white transition-all",children:[i.jsx(K3,{className:"h-5 text-white w-5"}),"Continue with Google"]})]})})]})})},hE="user_roles",WO=()=>{try{const t=localStorage.getItem(hE);return t?JSON.parse(t):{}}catch(t){return console.error("Error reading user roles:",t),{}}},XO=(t,e)=>{if(!t||!e)return!1;try{const n=WO();return n[t.toLowerCase()]=e,localStorage.setItem(hE,JSON.stringify(n)),!0}catch(n){return console.error("Error setting user role:",n),!1}},ZO=()=>{const{signup:t,loginWithGoogle:e,setRole:n}=nr(),s=Oi(),[o,c]=z.useState(!1),[d,f]=z.useState(!1),[p,g]=z.useState(""),[x,b]=z.useState(!1),{register:w,handleSubmit:D,watch:L,formState:{errors:A}}=ox(),V=L("password"),B=async k=>{try{g(""),b(!0),await t(k.email,k.password,{displayName:k.name,role:k.role}),XO(k.email,k.role),await n(k.role),k.role==="admin"?s("/dashboard/admin",{replace:!0}):k.role==="charity"?s("/dashboard/charity",{replace:!0}):s("/dashboard/donor",{replace:!0})}catch(q){g("Failed to create account. Please try again."),console.error("Signup error:",q)}finally{b(!1)}},M=async()=>{try{g(""),b(!0),await e(),n("donor"),s("/dashboard")}catch(k){g("Failed to sign up with Google."),console.error("Google signup error:",k)}finally{b(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold ",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-sm text-base-content/80",children:["Or"," ",i.jsx(Te,{to:"/login",className:"font-medium text-blue-600 hover:text-primary-focus underline",children:"sign in to your existing account"})]})]}),i.jsx("div",{className:"card  shadow-2xl border border-base-300",children:i.jsxs("div",{className:"card-body",children:[p&&i.jsxs("div",{className:"alert alert-error",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:p})]}),i.jsxs("form",{onSubmit:D(B),className:"space-y-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Full Name"})}),i.jsx("input",{...w("name",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your full name"}),A.name&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:A.name.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Email address"})}),i.jsx("input",{...w("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your email"}),A.email&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt  text-error",children:A.email.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text ",children:"Account Type"})}),i.jsxs("select",{...w("role",{required:"Please select an account type"}),className:"select bg-gray-100 border-spacing-1 border-gray-300 select-bordered w-full focus:select-primary focus:outline-none",children:[i.jsx("option",{value:"",children:"Select account type"}),i.jsx("option",{value:"donor",children:"Donor - I want to donate to causes"}),i.jsx("option",{value:"charity",children:"Charity - I represent an organization"})]}),A.role&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:A.role.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Password"})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{...w("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:o?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Enter your password (min 6 characters)"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>c(!o),children:o?i.jsx(Uy,{className:"h-4 w-4 text-base-content/60"}):i.jsx(Ks,{className:"h-4 w-4 text-base-content/60"})})]}),A.password&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:A.password.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text",children:"Confirm Password"})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{...w("confirmPassword",{required:"Please confirm your password",validate:k=>k===V||"Passwords do not match"}),type:d?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Confirm your password"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>f(!d),children:d?i.jsx(Uy,{className:"h-4 w-4 text-base-content/60"}):i.jsx(Ks,{className:"h-4 w-4 text-base-content/60"})})]}),A.confirmPassword&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:A.confirmPassword.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsxs("label",{className:"label cursor-pointer",children:[i.jsx("input",{...w("terms",{required:"You must accept the terms and conditions"}),type:"checkbox",className:"checkbox checkbox-primary"}),i.jsxs("span",{className:"label-text ml-2",children:["I agree to the"," ",i.jsx(Te,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms and Conditions"})," ","and"," ",i.jsx(Te,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})]}),A.terms&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error",children:A.terms.message})})]}),i.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary w-full text-white font-semibold hover:btn-primary-focus transition-all",children:x?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner loading-sm"}),"Creating account..."]}):"Create account"})]}),i.jsx("div",{className:"divider",children:"OR"}),i.jsxs("button",{onClick:M,disabled:x,className:"btn btn-outline btn-primary text-white w-full flex items-center justify-center gap-2 hover:btn-primary hover:text-white transition-all",children:[i.jsx(K3,{className:"h-5 w-5"}),"Continue with Google"]})]})})]})})},JO=()=>{const[t,e]=z.useState([]),[n,s]=z.useState({}),[o,c]=z.useState(""),[d,f]=z.useState(""),[p,g]=z.useState("newest"),[x,b]=z.useState([]),[w,D]=z.useState(!0),[L,A]=WT(),[V,B]=z.useState(L.get("view")||"active"),[M,k]=z.useState(L.get("charity")||""),q=[...new Set(t.map(N=>N.category))];z.useEffect(()=>{(async()=>{try{const T=await mr();e(T),b(T);const J=await tx();s(J)}catch(T){console.error("Failed to load campaigns",T)}finally{D(!1)}})()},[]);const F=N=>{const T=N.target.value.toLowerCase();c(T),S(T,d,p,V,M)},I=N=>{f(N),S(o,N,p,V,M)},R=N=>{g(N),S(o,d,N,V,M)},E=(N,T)=>{const J=new Date,G=new Date(N.endDate)<J,X=(N.currentAmount||0)>=N.goalAmount,ie=N.status==="archived"||G,be=N.status!=="pending"&&N.status!=="rejected";switch(T){case"completed":return X&&be;case"archived":return ie&&be;case"all":return be;case"active":default:return So(N)}},S=z.useCallback((N,T,J,H=V,G=M)=>{let X=t.filter(ie=>{const be=ie.title.toLowerCase().includes(N)||ie.description.toLowerCase().includes(N)||ie.category.toLowerCase().includes(N),$=!T||ie.category===T,ce=E(ie,H),xe=!G||ie.charityId===G;return be&&$&&ce&&xe});switch(J){case"newest":X.sort((ie,be)=>new Date(be.createdAt)-new Date(ie.createdAt));break;case"oldest":X.sort((ie,be)=>new Date(ie.createdAt)-new Date(be.createdAt));break;case"most_funded":X.sort((ie,be)=>be.currentAmount/be.goalAmount-ie.currentAmount/ie.goalAmount);break;case"least_funded":X.sort((ie,be)=>ie.currentAmount/ie.goalAmount-be.currentAmount/be.goalAmount);break;case"most_donors":X.sort((ie,be)=>be.donors-ie.donors);break;case"ending_soon":X.sort((ie,be)=>new Date(ie.endDate)-new Date(be.endDate));break}b(X)},[t,V,M]),P=N=>{B(N);const T=new URLSearchParams(L);N==="active"?T.delete("view"):T.set("view",N),M&&T.set("charity",M),A(T),S(o,d,p,N,M)};z.useEffect(()=>{const N=L.get("view")||"active",T=L.get("charity")||"";B(N),k(T),S(o,d,p,N,T)},[L,t,o,d,p,S]);const C=N=>{const H=new Date(N)-new Date;return Math.ceil(H/(1e3*60*60*24))};return w?i.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 flex items-center justify-center",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"Charity Campaigns - Browse All Causes"}),i.jsx("meta",{name:"description",content:"Browse all verified charity campaigns. Support education, healthcare, emergency relief, and more causes across Bangladesh."})]}),i.jsx("div",{className:"min-h-screen pt-20 bg-gray-900 text-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Campaigns"}),i.jsx("p",{className:"text-xl max-w-2xl mx-auto",children:"Discover and support verified charity campaigns making a real difference in communities across Bangladesh"})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-lg shadow-lg p-6 mb-8 border border-gray-700",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"input bg-gray-900/50 backdrop-blur-sm input-bordered w-full pl-10 text-white placeholder-gray-300",value:o,onChange:F})]})}),i.jsx("div",{className:"lg:w-64",children:i.jsxs("select",{className:"select bg-gray-900/50 backdrop-blur-sm select-bordered w-full text-white",value:d,onChange:N=>I(N.target.value),children:[i.jsx("option",{value:"",children:"All Categories"}),q.map(N=>i.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))]})}),i.jsx("div",{className:"lg:w-48",children:i.jsxs("select",{className:"select bg-gray-900/50 backdrop-blur-sm select-bordered w-full text-white",value:p,onChange:N=>R(N.target.value),children:[i.jsx("option",{value:"newest",children:"Newest First"}),i.jsx("option",{value:"oldest",children:"Oldest First"}),i.jsx("option",{value:"most_funded",children:"Most Funded"}),i.jsx("option",{value:"least_funded",children:"Least Funded"}),i.jsx("option",{value:"most_donors",children:"Most Donors"}),i.jsx("option",{value:"ending_soon",children:"Ending Soon"})]})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("p",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[i.jsx(A7,{}),"View campaigns by status"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"active",label:"Active"},{key:"completed",label:"Completed"},{key:"archived",label:"Ended"},{key:"all",label:"All"}].map(N=>i.jsx("button",{onClick:()=>P(N.key),className:`btn btn-sm ${V===N.key?"btn-primary":"btn-outline"}`,children:N.label},N.key))})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(N=>i.jsxs("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all duration-300",children:[i.jsxs("figure",{className:"relative",children:[i.jsx("img",{src:N.image,alt:N.title,className:"h-48 w-full object-cover",onError:T=>{T.target.src="https://via.placeholder.com/400x200"}}),i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[i.jsx("span",{className:"badge badge-primary capitalize",children:N.category}),(()=>{const T=C(N.endDate),J=Math.abs(T)===1?"":"s";return T>0?i.jsxs("span",{className:"badge badge-error gap-1",children:[i.jsx(bi,{className:"mr-1"})," ",T," day",J," left"]}):T===0?i.jsxs("span",{className:"badge badge-warning gap-1",children:[i.jsx(bi,{className:"mr-1"})," Ends today"]}):i.jsxs("span",{className:"badge badge-ghost gap-1 text-xs",children:[i.jsx(bi,{className:"mr-1"})," ",Math.abs(T)," day",J," passed"]})})()]}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsxs("span",{className:"badge badge-success gap-1",children:[i.jsx(tr,{})," Approved"]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title text-lg line-clamp-2",children:N.title}),i.jsx("p",{className:"line-clamp-2",children:N.description}),i.jsx("div",{className:"text-sm mb-2",children:i.jsxs("p",{children:["By: ",i.jsx("span",{className:"font-semibold text-green-400",children:N.charityName})]})}),i.jsxs("div",{className:"mt-4 p-3 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-700",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsxs("span",{className:"font-bold text-success text-lg",children:["",N.currentAmount.toLocaleString()]}),i.jsxs("span",{className:"text-gray-300 font-medium",children:["of ",N.goalAmount.toLocaleString()]})]}),i.jsx("progress",{className:"progress progress-success w-full h-2",value:N.currentAmount,max:N.goalAmount}),i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsxs("span",{className:"font-bold text-2xl  text-white",children:[Math.round(N.currentAmount/N.goalAmount*100),"% funded"]}),i.jsxs(Te,{to:`/campaigns/${N.id}/donors`,className:"flex items-center gap-1 font-medium hover:text-primary transition-colors cursor-pointer",children:[i.jsx(Hn,{className:"text-primary"}),n[N.id]||0," ",(n[N.id]||0)===1?"donor":"donors"]})]})]}),i.jsxs("div",{className:"card-actions justify-between mt-4",children:[i.jsx(Te,{to:`/campaigns/${N.id}`,className:"btn btn-primary btn-sm flex-1",children:"View Details"}),So(N)?i.jsxs(Te,{to:`/campaigns/${N.id}/donate`,className:"btn btn-outline btn-sm flex-1",children:[i.jsx(jt,{className:"mr-1"}),"Donate"]}):i.jsxs("button",{className:"btn btn-disabled btn-sm flex-1",disabled:!0,title:N.status!=="approved"?"Campaign Pending Approval":(N.currentAmount||0)>=N.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[i.jsx(Kl,{className:"mr-1"}),"Donate"]})]})]})]},N.id))}),x.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No campaigns found"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search terms or filters"}),i.jsx("button",{onClick:()=>{c(""),f(""),g("newest"),b(t)},className:"btn btn-primary",children:"Clear Filters"})]}),x.length>0&&i.jsx("div",{className:"text-center mt-8",children:i.jsxs("p",{className:"text-gray-300",children:["Showing ",x.length," of ",t.filter(N=>N.status!=="pending"&&N.status!=="rejected"&&(!M||N.charityId===M)).length," campaigns"]})})]})})]})},eM=()=>{const{id:t}=$f(),[e,n]=z.useState(null),[s,o]=z.useState(0),[c,d]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const g=(await mr()).find(x=>x.id===t);if(n(g),g){const x=await yO(t);o(x)}}catch(p){console.error("Failed to load campaign details",p)}finally{d(!1)}})()},[t]),c?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):e?i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsxs("title",{children:[e.title," - Charity Campaign"]}),i.jsx("meta",{name:"description",content:e.description})]}),i.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx("div",{className:"card bg-black/30 backdrop-blur-md shadow-xl border border-gray-700",children:i.jsx("figure",{children:i.jsx("img",{src:e.image,alt:e.title,className:"w-full h-96 object-cover rounded-lg",onError:f=>{f.target.src="https://via.placeholder.com/800x400"}})})}),i.jsx("div",{className:"card bg-black/30 backdrop-blur-md shadow-xl border border-gray-700",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("span",{className:"badge badge-primary/80 capitalize",children:e.category}),e.status==="approved"&&i.jsxs("span",{className:"badge badge-success/80",children:[i.jsx(tr,{className:"mr-1"})," Approved"]}),e.status==="pending"&&i.jsx("span",{className:"badge badge-warning/80",children:"Pending Review"})]}),i.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:e.title}),i.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-black/20 backdrop-blur-sm rounded-lg",children:[i.jsx(Mo,{className:"text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Organized by"}),i.jsx("p",{className:"font-bold text-white text-lg",children:e.charityName}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Charity ID: ",e.charityId]})]})]}),i.jsx("div",{className:"divider border-gray-700",children:"Campaign Description"}),i.jsx("p",{className:"text-lg text-gray-300 whitespace-pre-line leading-relaxed mb-6",children:e.description}),i.jsx("div",{className:"divider border-gray-700",children:"Additional Information"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-600",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Goal Amount"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:["",e.goalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-600",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Amount Raised"}),i.jsxs("p",{className:"text-2xl font-bold text-success",children:["",(e.currentAmount||0).toLocaleString()]})]}),i.jsxs("div",{className:"p-4 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-600",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Start Date"}),i.jsx("p",{className:"font-semibold text-gray-300",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"p-4 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-600",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"End Date"}),i.jsx("p",{className:"font-semibold text-gray-300",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-success/20 via-primary/10 to-success/20 shadow-xl border-2 border-success/30 mt-10 mb-20 top-24",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4",children:"Support This Campaign"}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"text-center mb-4 p-4 bg-primary/10 rounded-lg",children:[i.jsx("p",{className:"text-sm text-white mb-1",children:"Total Raised"}),i.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",(e.currentAmount||0).toLocaleString()]}),i.jsxs("p",{className:"text-sm text-white mt-1",children:["of ",e.goalAmount.toLocaleString()," goal"]})]}),i.jsx("progress",{className:"progress progress-primary w-full h-3",value:e.currentAmount||0,max:e.goalAmount}),i.jsxs("div",{className:"flex justify-between text-sm mt-3",children:[i.jsxs("span",{className:"font-semibold text-white text-primary",children:[Math.round((e.currentAmount||0)/e.goalAmount*100),"% funded"]}),i.jsxs("span",{className:"text-white",children:["",(e.goalAmount-(e.currentAmount||0)).toLocaleString()," to go"]})]}),i.jsxs(Te,{to:`/campaigns/${e.id}/donors`,className:"flex items-center justify-center gap-2 mt-3 p-2 bg-base-200 rounded-lg hover:bg-base-300 transition-colors cursor-pointer",children:[i.jsx(Hn,{className:"text-primary"}),i.jsx("span",{className:"font-semibold text-blue-800",children:s}),i.jsx("span",{className:"text-sm text-gray-600",children:s===1?"donor":"donors"})]})]}),(()=>{const f=So(e);let p="";if(e.status!=="approved")p="Campaign Pending Approval";else if((e.currentAmount||0)>=e.goalAmount)p="Campaign Goal Reached";else{const g=new Date;g.setHours(0,0,0,0);const x=new Date(e.endDate);x.setHours(23,59,59,999),x<g&&(p="Campaign Ended")}return f?i.jsxs(Te,{to:`/campaigns/${e.id}/donate`,className:"btn btn-primary w-full mb-4",children:[i.jsx(jt,{className:"mr-2"}),"Donate Now"]}):i.jsxs("button",{className:"btn btn-disabled w-full mb-4",disabled:!0,children:[i.jsx(Kl,{className:"mr-2"}),p||"Donation Not Available"]})})(),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[i.jsx(L7,{className:"mr-1"}),"Share"]}),i.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[i.jsx(R7,{className:"mr-1"}),"Save"]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-info/10 via-primary/5 to-info/10 shadow-xl border border-info/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-4",children:"Campaign Timeline"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(gs,{className:"text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Created"}),i.jsx("p",{className:"text-sm text-white ",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(gs,{className:"text-success mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"End Date"}),i.jsx("p",{className:"text-sm text-white ",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),i.jsx("p",{className:"text-xs text-white mt-1",children:new Date(e.endDate)>new Date?`${Math.ceil((new Date(e.endDate)-new Date)/(1e3*60*60*24))} days remaining`:"Campaign ended"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(od,{className:"text-info mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Location"}),i.jsx("p",{className:"text-sm text-white ",children:"Bangladesh"})]})]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-secondary/10 via-primary/5 to-secondary/10 shadow-xl border border-secondary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-4",children:"Organized by"}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-primary text-primary-content rounded-full w-16",children:i.jsx("span",{className:"text-2xl",children:e.charityName.charAt(0).toUpperCase()})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-lg",children:e.charityName}),i.jsxs("p",{className:"text-sm text-white flex items-center gap-1",children:[i.jsx(tr,{className:"text-success"}),"Registered Charity"]})]})]}),i.jsx(Te,{to:`/campaigns?charity=${e.charityId}`,className:"btn btn-outline btn-sm w-full",children:"View All Campaigns"})]})})]})]})})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The campaign you're looking for doesn't exist."}),i.jsx(Te,{to:"/campaigns",className:"btn btn-primary",children:"Back to Campaigns"})]})})},tM=()=>{const{id:t}=$f(),[e,n]=z.useState(null),[s,o]=z.useState([]),[c,d]=z.useState([]),[f,p]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const b=(await mr()).find(A=>A.id===t);n(b);const w=await fO(t);o(w);const D={};w.forEach(A=>{const V=A.donorId;D[V]||(D[V]={donorId:V,donorName:A.donorName||"Anonymous",donorEmail:A.donorEmail||"",anonymous:A.anonymous||!1,totalAmount:0,donationCount:0,donations:[],firstDonation:A.createdAt||A.date}),D[V].totalAmount+=A.amount||0,D[V].donationCount++,D[V].donations.push(A)});const L=Object.values(D).sort((A,V)=>V.totalAmount-A.totalAmount);d(L)}catch(x){console.error("Failed to load donor details",x)}finally{p(!1)}})()},[t]),f?i.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):e?i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsxs("title",{children:["Donors - ",e.title," | Charity Platform"]}),i.jsx("meta",{name:"description",content:`View all donors who contributed to ${e.title}`})]}),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(Te,{to:`/campaigns/${e.id}`,className:"btn btn-ghost btn-sm mb-4 text-white hover:text-primary",children:[i.jsx(Y3,{className:"mr-2"}),"Back to Campaign"]}),i.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Campaign Donors"}),i.jsx("p",{className:"text-xl text-white font-medium",children:e.title})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary/20 rounded-lg",children:i.jsx(Hn,{className:"text-2xl text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Total Donors"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:c.length})]})]})})}),i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-success/20 rounded-lg",children:i.jsx(jt,{className:"text-2xl text-success"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Total Donations"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]})]})})}),i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-secondary/20 rounded-lg",children:i.jsx(W0,{className:"text-2xl text-secondary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Total Raised"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:["",s.reduce((g,x)=>g+(x.amount||0),0).toLocaleString()]})]})]})})})]}),c.length===0?i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl",children:i.jsxs("div",{className:"card-body text-center py-12",children:[i.jsx(Hn,{className:"text-6xl text-gray-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-bold mb-2 text-white",children:"No Donors Yet"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Be the first to support this campaign!"}),i.jsxs(Te,{to:`/campaigns/${e.id}/donate`,className:"btn btn-primary",children:[i.jsx(jt,{className:"mr-2"}),"Donate Now"]})]})}):i.jsx("div",{className:"space-y-4",children:c.map((g,x)=>i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl hover:shadow-2xl transition-all",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-gradient-to-br from-primary/70 via-secondary/70 to-primary/70 text-white rounded-full w-16",children:g.anonymous?i.jsx(Yw,{className:"text-2xl"}):i.jsx("span",{className:"text-2xl font-bold",children:g.donorName.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"card-title text-lg text-white",children:g.anonymous?"Anonymous Donor":g.donorName}),g.anonymous&&i.jsxs("span",{className:"badge badge-ghost badge-sm",children:[i.jsx(Yw,{className:"mr-1"}),"Anonymous"]}),x<3&&i.jsxs("span",{className:"badge badge-primary badge-sm",children:["Top ",x+1]})]}),!g.anonymous&&g.donorEmail&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[i.jsx(zl,{className:"text-xs"}),i.jsx("span",{children:g.donorEmail})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(jt,{className:"text-primary"}),i.jsxs("span",{children:[g.donationCount," ",g.donationCount===1?"donation":"donations"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(gs,{className:"text-secondary"}),i.jsxs("span",{children:["First: ",new Date(g.firstDonation).toLocaleDateString()]})]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Contributed"}),i.jsxs("p",{className:"text-3xl font-bold text-success",children:["",g.totalAmount.toLocaleString()]})]})]}),g.donations.length>0&&i.jsx("div",{className:"divider my-4 border-gray-700"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Donation History:"}),g.donations.sort((b,w)=>new Date(w.createdAt||w.date)-new Date(b.createdAt||b.date)).map((b,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-black/20 backdrop-blur-sm rounded-lg border border-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(k7,{className:"text-primary"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-semibold text-white",children:["",b.amount?.toLocaleString()||"0"]}),i.jsxs("p",{className:"text-xs text-gray-400",children:[b.transactionId&&`TXN: ${b.transactionId}`,b.paymentMethod&&`  ${b.paymentMethod}`]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.createdAt||b.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),b.status&&i.jsx("span",{className:`badge badge-sm mt-1 ${b.status==="completed"?"badge-success":b.status==="pending"?"badge-warning":"badge-error"}`,children:b.status})]})]},b.id||w))]})]})},g.donorId))})]})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The campaign you're looking for doesn't exist."}),i.jsx(Te,{to:"/campaigns",className:"btn btn-primary",children:"Back to Campaigns"})]})})},du=(t,e,n)=>{const s=typeof window<"u"?window.Swal:null;return s?s.fire({icon:t,title:e,text:n,timer:t==="success"?3e3:void 0,showConfirmButton:t!=="success",confirmButtonColor:t==="success"?"#10b981":"#ef4444"}):(typeof window<"u"&&window.alert&&window.alert(`${e}${n?`
${n}`:""}`),Promise.resolve())},nM=()=>{const{id:t}=$f(),e=Oi(),{currentUser:n}=nr(),[s,o]=z.useState(null),[c,d]=z.useState(!0),[f,p]=z.useState(""),[g,x]=z.useState("bkash"),[b,w]=z.useState(!1),[D,L]=z.useState(!1);if(z.useEffect(()=>{(async()=>{try{const q=(await mr()).find(F=>F.id===t);o(q)}catch(k){console.error("Failed to load campaign for donation",k)}finally{d(!1)}})()},[t]),c)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})});if(!s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsx("div",{className:"text-center",children:i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"})})});const A=So(s),V=()=>{if(s.status!=="approved")return"This campaign is pending approval and cannot accept donations yet.";if((s.currentAmount||0)>=s.goalAmount)return"This campaign has reached its goal and is no longer accepting donations.";const k=new Date;k.setHours(0,0,0,0);const q=new Date(s.endDate);return q.setHours(23,59,59,999),q<k?"This campaign has ended and is no longer accepting donations.":""},B=async M=>{if(M.preventDefault(),!A){await du("error","Donation Not Available",V());return}if(!n){await du("warning","Login Required","Please login to make a donation"),e("/login");return}if(!f||parseInt(f)<100){await du("warning","Invalid Amount","Minimum donation amount is 100 BDT");return}L(!0);let k=!1,q=!1;try{await new Promise(E=>setTimeout(E,1500));const F=parseInt(f),I=`TXN${Date.now()}${Math.random().toString(36).substr(2,9).toUpperCase()}`,R={donorId:n.uid,donorEmail:n.email,donorName:n.displayName||"Anonymous",campaignId:s.id,campaignTitle:s.title,charityId:s.charityId,charityName:s.charityName,amount:F,currency:"BDT",paymentMethod:g,transactionId:I,anonymous:b,status:"completed"};try{await mO(R),k=!0}catch(E){throw console.error("Error adding donation:",E),new Error("Failed to record donation. Please try again.")}try{const E=await uO(s.id,F);o(E),q=!0}catch(E){if(console.error("Error updating campaign:",E),k)console.warn("Donation was recorded but campaign update failed");else throw new Error("Failed to update campaign. Please try again.")}if(k)await du("success","Donation Successful!",`Thank you for your donation of ${F.toLocaleString()}!

Your contribution will make a real difference.`),e(`/campaigns/${s.id}`);else throw new Error("Donation processing failed")}catch(F){console.error("Donation error:",F),await du("error","Donation Failed",F.message||"Failed to process donation. Please try again."),L(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsxs("title",{children:["Donate to ",s.title]})}),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 via-accent/5 to-primary/10 pt-20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary/5 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-accent/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),i.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-3 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Make a Donation"}),i.jsx("p",{className:"text-base-content/70 text-lg",children:"Your generosity makes a real difference"})]}),i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/5 to-white shadow-2xl border-2 border-primary/20 backdrop-blur-sm",children:i.jsxs("div",{className:"card-body p-6 md:p-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary via-secondary to-primary text-white rounded-xl p-6 mb-8 shadow-lg relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(jt,{className:"text-2xl text-white/90"}),i.jsx("h3",{className:"font-bold text-xl text-white",children:s.title})]}),i.jsxs("p",{className:"text-sm text-white/90 mb-4",children:["By: ",s.charityName]}),i.jsxs("div",{className:"flex justify-between text-sm mb-3 font-semibold text-white",children:[i.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-lg",children:["Raised: ",(s.currentAmount||0).toLocaleString()]}),i.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-lg",children:["Goal: ",s.goalAmount.toLocaleString()]})]}),i.jsx("progress",{className:"progress progress-white w-full h-3 mb-2",value:s.currentAmount||0,max:s.goalAmount}),i.jsxs("div",{className:"text-center text-base font-bold text-white mt-2",children:[Math.round((s.currentAmount||0)/s.goalAmount*100),"% funded"]})]})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-lg text-base-content",children:"Donation Amount (BDT)"})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[1e3,2500,5e3,1e4].map(M=>i.jsxs("button",{type:"button",onClick:()=>p(M.toString()),className:`btn  transition-all font-semibold ${f===M.toString()?"btn-primary text-white shadow-lg scale-105":"btn-outline btn-primary hover:bg-primary/10"}`,children:["",M.toLocaleString()]},M))}),i.jsx("input",{type:"number",placeholder:"Enter custom amount (min: 100)",className:"input text-blue-500 input-bordered w-full focus:input-primary focus:outline-none border-2 text-lg font-medium",value:f,onChange:M=>p(M.target.value),min:"100",required:!0}),i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-base-content/60",children:"Minimum donation: 100"})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-lg text-base-content",children:"Payment Method"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="bkash"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[i.jsx("input",{type:"radio",name:"payment",value:"bkash",checked:g==="bkash",onChange:M=>x(M.target.value),className:"radio radio-primary"}),i.jsx(M7,{className:`text-3xl ${g==="bkash"?"text-primary":"text-base-content/60"}`}),i.jsx("span",{className:"font-semibold text-base-content",children:"bKash"})]}),i.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="paypal"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[i.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:g==="paypal",onChange:M=>x(M.target.value),className:"radio radio-primary"}),i.jsx(x7,{className:`text-3xl ${g==="paypal"?"text-primary":"text-base-content/60"}`}),i.jsx("span",{className:"font-semibold text-base-content",children:"PayPal"})]}),i.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="card"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[i.jsx("input",{type:"radio",name:"payment",value:"card",checked:g==="card",onChange:M=>x(M.target.value),className:"radio radio-primary"}),i.jsx(j7,{className:`text-3xl ${g==="card"?"text-primary":"text-base-content/60"}`}),i.jsx("span",{className:"font-semibold text-base-content",children:"Card"})]})]})]}),i.jsx("div",{className:"form-control",children:i.jsxs("label",{className:"label cursor-pointer justify-start gap-3 p-4 bg-base-200/50 rounded-lg hover:bg-base-200 transition-colors",children:[i.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary checkbox-lg",checked:b,onChange:M=>w(M.target.checked)}),i.jsx("span",{className:"label-text font-medium text-base-content",children:"Make this donation anonymous"})]})}),i.jsxs("div",{className:"bg-gradient-to-br from-success/30 via-success/20 to-success/30 rounded-xl p-6 border-2 border-success/40 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(tr,{className:"text-success text-xl"}),i.jsx("h3",{className:"font-bold text-xl text-base-content",children:"Donation Summary"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[i.jsx("span",{className:"font-semibold text-base-content",children:"Amount:"}),i.jsx("span",{className:"font-black text-success text-2xl",children:f?`${parseInt(f).toLocaleString()}`:"0"})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[i.jsx("span",{className:"font-semibold text-base-content",children:"Payment Method:"}),i.jsx("span",{className:"font-bold capitalize text-primary text-lg",children:g})]}),b&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[i.jsx("span",{className:"font-semibold text-base-content",children:"Visibility:"}),i.jsx("span",{className:"font-bold text-info text-lg",children:"Anonymous"})]})]})]}),A?i.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg text-white font-bold text-lg py-3 hover:btn-primary-focus transition-all shadow-xl hover:shadow-2xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",disabled:!f||parseInt(f)<100||D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner loading-lg"}),"Processing Your Donation..."]}):i.jsxs(i.Fragment,{children:[i.jsx(jt,{className:"mr-2 text-xl"}),"Donate ",f?`${parseInt(f).toLocaleString()}`:"Now"]})}):i.jsxs("button",{type:"button",className:"btn btn-disabled w-full btn-lg font-bold text-lg py-3 cursor-not-allowed",disabled:!0,children:[i.jsx(Kl,{className:"mr-2 text-xl"}),"Donation Not Available"]}),!A&&i.jsx("div",{className:"mt-4 p-4 bg-warning/20 border border-warning/40 rounded-lg",children:i.jsx("p",{className:"text-sm text-base-content font-medium text-center",children:V()})})]}),i.jsx("div",{className:"mt-8 p-4 bg-gradient-to-r from-success/20 to-success/10 rounded-lg border border-success/30",children:i.jsxs("p",{className:"text-sm text-blue-500 text-base-content/80 flex items-center justify-center gap-2 font-medium",children:[i.jsx(tr,{className:"text-success text-blue-500 text-lg"}),"Your donation is secure and will be processed immediately"]})})]})})]})})]})]})},rM=()=>i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Create Campaign - Charity Platform"})}),i.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Create New Campaign"}),i.jsx("p",{className:"text-xl text-gray-600",children:"Start a fundraising campaign to support your cause"})]}),i.jsx("div",{className:"card bg-base-100 shadow-xl",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(jo,{className:"text-6xl text-primary mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Creation Form"}),i.jsx("p",{className:"text-gray-600",children:"Fill out the details below to create your campaign"})]}),i.jsxs("form",{className:"space-y-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Campaign Title *"})}),i.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter campaign title",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Category *"})}),i.jsxs("select",{className:"select select-bordered",required:!0,children:[i.jsx("option",{value:"",children:"Select category"}),i.jsx("option",{value:"education",children:"Education"}),i.jsx("option",{value:"healthcare",children:"Healthcare"}),i.jsx("option",{value:"emergency",children:"Emergency Relief"}),i.jsx("option",{value:"women",children:"Women Empowerment"}),i.jsx("option",{value:"environment",children:"Environment"}),i.jsx("option",{value:"children",children:"Children"}),i.jsx("option",{value:"elderly",children:"Elderly Care"}),i.jsx("option",{value:"animals",children:"Animal Welfare"})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Short Description *"})}),i.jsx("textarea",{className:"textarea textarea-bordered h-24",placeholder:"Brief description of your campaign",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Detailed Story *"})}),i.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Tell your story in detail",required:!0})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Funding Goal (BDT) *"})}),i.jsx("input",{type:"number",className:"input input-bordered",placeholder:"Enter amount",min:"1000",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Campaign Duration (Days) *"})}),i.jsx("input",{type:"number",className:"input input-bordered",placeholder:"30",min:"7",max:"365",required:!0})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Campaign Images *"})}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx(Lf,{className:"text-4xl text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"Upload campaign images"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload at least 3 images (max 5)"}),i.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs",multiple:!0,accept:"image/*"})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Urgency Level *"})}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"urgency",value:"low",className:"radio radio-primary"}),i.jsx("span",{children:"Low Priority"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"urgency",value:"medium",className:"radio radio-primary"}),i.jsx("span",{children:"Moderate"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"urgency",value:"high",className:"radio radio-primary"}),i.jsx("span",{children:"Urgent"})]})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold",children:"Tags"})}),i.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter tags separated by commas"})]}),i.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[i.jsx(jo,{className:"mr-2"}),"Create Campaign"]})]})]})})]})})})]}),sM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const c=await mr(),d={};c.forEach(f=>{d[f.charityId]||(d[f.charityId]={id:f.charityId,name:f.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0}),d[f.charityId].campaigns.push(f),d[f.charityId].totalCampaigns++,d[f.charityId].totalRaised+=f.currentAmount||0,f.status==="approved"&&d[f.charityId].approvedCampaigns++}),e(Object.values(d))}catch(c){console.error("Failed to load charities",c)}finally{s(!1)}})()},[]),n?i.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"Verified Charities - Charity Platform"}),i.jsx("meta",{name:"description",content:"Browse verified charity organizations making a positive impact in Bangladesh. Support trusted causes."})]}),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Verified Charities"}),i.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto font-medium",children:"Discover trusted charity organizations making a real difference in communities across Bangladesh"})]}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:"No Charities Yet"}),i.jsx("p",{className:"text-gray-700 mb-6 font-medium",children:"Be the first charity to register and start making a difference!"}),i.jsxs(Te,{to:"/charities/register",className:"btn btn-primary",children:[i.jsx(Mo,{className:"mr-2"}),"Register Your Charity"]})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>i.jsx("div",{className:"card bg-black/30 backdrop-blur-md border border-gray-700 shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-gradient-to-br from-primary/70 via-secondary/70 to-primary/70 text-white rounded-full w-16",children:i.jsx("span",{className:"text-2xl font-bold",children:o.name.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"card-title text-lg text-white",children:o.name}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tr,{className:"text-success text-sm"}),i.jsx("span",{className:"text-xs text-gray-300 font-medium",children:"Registered Charity"})]})]})]}),i.jsx("div",{className:"divider my-2 border-gray-700"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center bg-black/20 backdrop-blur-sm p-3 rounded-lg border border-gray-600",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:o.totalCampaigns}),i.jsx("div",{className:"text-xs text-gray-300 font-medium",children:"Total Campaigns"})]}),i.jsxs("div",{className:"text-center bg-black/20 backdrop-blur-sm p-3 rounded-lg border border-gray-600",children:[i.jsx("div",{className:"text-2xl font-bold text-success",children:o.approvedCampaigns}),i.jsx("div",{className:"text-xs text-gray-300 font-medium",children:"Approved"})]}),i.jsxs("div",{className:"text-center bg-black/20 backdrop-blur-sm p-3 rounded-lg border border-gray-600",children:[i.jsx("div",{className:"text-2xl font-bold text-warning",children:o.totalCampaigns-o.approvedCampaigns}),i.jsx("div",{className:"text-xs text-gray-300 font-medium",children:"Pending"})]})]}),i.jsx("div",{className:"bg-black/20 backdrop-blur-sm p-4 rounded-lg border border-gray-600",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-gray-300 mb-1 font-semibold",children:"Total Amount Raised"}),i.jsxs("div",{className:"text-3xl font-bold text-secondary",children:["",o.totalRaised.toLocaleString()]})]})}),i.jsx("div",{className:"card-actions justify-center mt-4",children:i.jsxs(Te,{to:`/campaigns?view=all&charity=${o.id}`,className:"btn btn-primary btn-block",children:[i.jsx(jt,{className:"mr-2"}),"View Campaigns"]})})]})},o.id))}),t.length>0&&i.jsx("div",{className:"text-center mt-12",children:i.jsxs("div",{className:"stats shadow-lg bg-gradient-to-br from-white via-primary/5 to-secondary/5 border-2 border-primary/20 mb-6",children:[i.jsxs("div",{className:"stat bg-gradient-to-br from-primary/10 to-primary/5 border-r-2 border-primary/20",children:[i.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Charities"}),i.jsx("div",{className:"stat-value text-primary",children:t.length})]}),i.jsxs("div",{className:"stat bg-gradient-to-br from-secondary/10 to-secondary/5 border-r-2 border-secondary/20",children:[i.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Campaigns"}),i.jsx("div",{className:"stat-value text-secondary",children:t.reduce((o,c)=>o+c.totalCampaigns,0)})]}),i.jsxs("div",{className:"stat bg-gradient-to-br from-accent/10 to-accent/5",children:[i.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Raised"}),i.jsxs("div",{className:"stat-value text-accent",children:["",t.reduce((o,c)=>o+c.totalRaised,0).toLocaleString()]})]})]})})]})})]})},aM=[{id:1,name:"Bangladesh Red Crescent Society",description:"Leading humanitarian organization providing emergency relief and disaster response services across Bangladesh.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.8,totalCampaigns:45,totalRaised:25e5,establishedYear:1971,location:"Dhaka, Bangladesh",website:"https://www.bdrcs.org",email:"info@bdrcs.org",phone:"+880-2-9876543",categories:["Emergency Relief","Disaster Response","Healthcare"],teamMembers:[{name:"Dr. Ahmed Hassan",role:"Director",image:"/api/placeholder/80/80"},{name:"Fatima Begum",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Mohammad Ali",role:"Field Coordinator",image:"/api/placeholder/80/80"}]},{id:2,name:"Teach for Bangladesh",description:"Dedicated to providing quality education to underprivileged children and improving educational outcomes.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.6,totalCampaigns:32,totalRaised:18e5,establishedYear:2012,location:"Dhaka, Bangladesh",website:"https://www.teachforbangladesh.org",email:"contact@teachforbangladesh.org",phone:"+880-2-8765432",categories:["Education","Children","Youth Development"],teamMembers:[{name:"Sarah Ahmed",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rashid Khan",role:"Education Specialist",image:"/api/placeholder/80/80"}]},{id:3,name:"WaterAid Bangladesh",description:"Working to ensure everyone has access to clean water, decent toilets, and good hygiene.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.7,totalCampaigns:28,totalRaised:32e5,establishedYear:1986,location:"Dhaka, Bangladesh",website:"https://www.wateraid.org/bd",email:"bangladesh@wateraid.org",phone:"+880-2-7654321",categories:["Water","Sanitation","Health"],teamMembers:[{name:"Dr. Nasreen Begum",role:"Country Director",image:"/api/placeholder/80/80"},{name:"Karim Uddin",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Ayesha Rahman",role:"Community Coordinator",image:"/api/placeholder/80/80"}]},{id:4,name:"Bangladesh Medical Association",description:"Professional medical organization working to improve healthcare services and medical education.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.5,totalCampaigns:38,totalRaised:45e5,establishedYear:1972,location:"Dhaka, Bangladesh",website:"https://www.bma.org.bd",email:"secretary@bma.org.bd",phone:"+880-2-6543210",categories:["Healthcare","Medical Education","Public Health"],teamMembers:[{name:"Prof. Dr. Md. Iqbal Arslan",role:"President",image:"/api/placeholder/80/80"},{name:"Dr. Farhana Yasmin",role:"Secretary General",image:"/api/placeholder/80/80"}]},{id:5,name:"Women for Women Bangladesh",description:"Empowering women through education, training, and economic opportunities.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.4,totalCampaigns:25,totalRaised:12e5,establishedYear:2005,location:"Dhaka, Bangladesh",website:"https://www.womenforwomenbd.org",email:"info@womenforwomenbd.org",phone:"+880-2-5432109",categories:["Women Empowerment","Education","Economic Development"],teamMembers:[{name:"Nazma Akter",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rokeya Begum",role:"Program Coordinator",image:"/api/placeholder/80/80"}]}],iM=()=>{const{id:t}=$f(),e=aM.find(n=>n.id===parseInt(t));return e?i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsxs("title",{children:[e.name," - Charity Profile"]}),i.jsx("meta",{name:"description",content:e.description})]}),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20 mb-8",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx("img",{src:e.logo,alt:e.name,className:"w-24 h-24 rounded-full mx-auto md:mx-0 border-4 border-primary/30 shadow-lg"}),i.jsxs("div",{className:"flex-1 text-center md:text-left",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:e.name}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[i.jsx(wi,{className:"text-yellow-400"}),i.jsx("span",{className:"font-semibold text-gray-800",children:e.rating}),i.jsx("span",{className:"badge badge-success",children:"Verified"})]}),i.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:e.description}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:e.categories.map((n,s)=>i.jsx("span",{className:"badge badge-primary",children:n},s))})]})]})})}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h2",{className:"card-title mb-4 text-gray-900",children:["About ",e.name]}),i.jsxs("p",{className:"text-gray-700 leading-relaxed font-medium",children:[e.description," Founded in ",e.establishedYear,", we have been working tirelessly to make a positive impact in our communities. Our mission is to create lasting change through verified campaigns and transparent operations."]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4 text-gray-900",children:"Our Team"}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.teamMembers.map((n,s)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-br from-primary/10 to-secondary/5 rounded-lg border border-primary/20",children:[i.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full border-2 border-primary/30"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),i.jsx("p",{className:"text-sm text-gray-700 font-medium",children:n.role})]})]},s))})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Statistics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-primary/10 to-primary/5 p-2 rounded-lg border border-primary/20",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Total Campaigns"}),i.jsx("span",{className:"font-bold text-primary",children:e.totalCampaigns})]}),i.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-secondary/10 to-secondary/5 p-2 rounded-lg border border-secondary/20",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Total Raised"}),i.jsxs("span",{className:"font-bold text-secondary",children:[e.totalRaised.toLocaleString()," BDT"]})]}),i.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-accent/10 to-accent/5 p-2 rounded-lg border border-accent/20",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Rating"}),i.jsxs("span",{className:"font-bold text-accent",children:[e.rating,"/5"]})]}),i.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-info/10 to-info/5 p-2 rounded-lg border border-info/20",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Established"}),i.jsx("span",{className:"font-bold text-info",children:e.establishedYear})]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Contact Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-primary/10 to-primary/5 p-2 rounded-lg border border-primary/20",children:[i.jsx(od,{className:"text-primary text-lg"}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.location})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-secondary/10 to-secondary/5 p-2 rounded-lg border border-secondary/20",children:[i.jsx(zl,{className:"text-secondary text-lg"}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.email})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-accent/10 to-accent/5 p-2 rounded-lg border border-accent/20",children:[i.jsx(mm,{className:"text-accent text-lg"}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.phone})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-info/10 to-info/5 p-2 rounded-lg border border-info/20",children:[i.jsx(C7,{className:"text-info text-lg"}),i.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline font-medium",children:"Visit Website"})]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Support This Charity"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{className:"btn btn-primary w-full",children:[i.jsx(jt,{className:"mr-2"}),"View Campaigns"]}),i.jsxs("button",{className:"btn btn-outline btn-primary w-full",children:[i.jsx(Hn,{className:"mr-2"}),"Follow Charity"]})]})]})})]})]})]})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsx("div",{className:"text-center",children:i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Not Found"})})})},oM=()=>i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"Register Your Charity - Charity Platform"}),i.jsx("meta",{name:"description",content:"Register your charity organization to start fundraising campaigns and connect with donors."})]}),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Register Your Charity"}),i.jsx("p",{className:"text-xl text-gray-800 max-w-2xl mx-auto font-medium",children:"Join our platform to start fundraising campaigns and connect with donors who want to make a difference"})]}),i.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Mo,{className:"text-6xl text-primary mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Charity Registration Form"}),i.jsx("p",{className:"text-gray-700 font-medium",children:"Complete the form below to register your charity organization"})]}),i.jsxs("form",{className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Organization Name *"})}),i.jsx("input",{type:"text",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"Enter organization name",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Registration Number *"})}),i.jsx("input",{type:"text",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"Government registration number",required:!0})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Organization Description *"})}),i.jsx("textarea",{className:"textarea textarea-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 h-32",placeholder:"Describe your organization's mission and work",required:!0})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Contact Email *"})}),i.jsx("input",{type:"email",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"contact@organization.org",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Phone Number *"})}),i.jsx("input",{type:"tel",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"+880-XXX-XXXXXXX",required:!0})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Website"})}),i.jsx("input",{type:"url",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"https://www.organization.org"})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Address *"})}),i.jsx("textarea",{className:"textarea textarea-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 h-24",placeholder:"Enter complete address",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Focus Areas *"})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Education","Healthcare","Emergency Relief","Women Empowerment","Environment","Children","Elderly Care","Animal Welfare"].map(t=>i.jsxs("label",{className:"flex items-center gap-2 bg-gradient-to-r from-primary/10 to-secondary/5 p-2 rounded-lg border border-primary/20",children:[i.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),i.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t})]},t))})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Upload Documents *"})}),i.jsxs("div",{className:"border-2 border-dashed border-primary/30 rounded-lg p-6 text-center bg-gradient-to-br from-primary/5 to-secondary/5",children:[i.jsx(Lf,{className:"text-4xl text-primary mx-auto mb-4"}),i.jsx("p",{className:"text-gray-800 mb-2 font-medium",children:"Upload required documents"}),i.jsx("p",{className:"text-sm text-gray-700 mb-4 font-medium",children:"Registration Certificate, Tax Exemption Certificate, Bank Account Details"}),i.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs bg-white border-primary/30",multiple:!0})]})]}),i.jsx("div",{className:"form-control",children:i.jsxs("label",{className:"label cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",required:!0}),i.jsx("span",{className:"label-text",children:"I agree to the terms and conditions and confirm that all information provided is accurate *"})]})}),i.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[i.jsx(w7,{className:"mr-2"}),"Submit Registration"]})]}),i.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-br from-info/20 via-primary/10 to-info/20 rounded-lg border-2 border-info/30",children:[i.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"What happens next?"}),i.jsxs("ul",{className:"text-sm text-gray-800 space-y-1 font-medium",children:[i.jsx("li",{children:" We'll review your application within 2-3 business days"}),i.jsx("li",{children:" You'll receive an email notification about the status"}),i.jsx("li",{children:" Once approved, you can start creating campaigns"}),i.jsx("li",{children:" Our team will provide onboarding support"})]})]})]})})]})})})]}),xm="https://charity-donation-platform-server.vercel.app",vm=t=>{if(!t)return t;const e={...t,id:t.id||(t._id?t._id.toString():void 0)};return t._id&&!e._id&&(e._id=t._id.toString()),e},lx=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},lM=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},cM=async t=>{const e=await fetch(`${xm}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await lx(e);return vm(n)},A_=async(t={})=>{const e=await fetch(`${xm}/messages${lM(t)}`);return(await lx(e)).map(vm)},cx=async t=>{if(!t)return[];const e=await fetch(`${xm}/messages/user/${t}`);return(await lx(e)).map(vm)},fE=async(t,e)=>{if(!t)throw new Error("Message ID is required");let n=`${xm}/messages/${t}/reply`;const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)try{const o=await s.json();return vm(o)}catch(o){return console.warn("Response parsing warning:",o),{success:!0,messageId:t}}else{let o;try{const c=await s.json();o=c.message||JSON.stringify(c)}catch{o=await s.text()}throw new Error(o||`Server returned status ${s.status}`)}},uM=()=>{const{currentUser:t}=nr(),[e,n]=z.useState({totalDonations:0,campaignsSupported:0,totalImpact:0,thisMonth:0}),[s,o]=z.useState([]),[c,d]=z.useState(!0),[f,p]=z.useState({completed:0,archived:0}),[g,x]=z.useState([]);return z.useEffect(()=>{(async()=>{try{if(!t){d(!1);return}const w=await pO(t.uid);n({totalDonations:w.totalDonated||0,campaignsSupported:w.campaignsSupported||0,totalImpact:w.impact||0,thisMonth:w.thisMonth||0});const D=await Gu("approved"),L=new Date;L.setHours(0,0,0,0);const A=D.filter(M=>{const k=new Date(M.endDate);return k.setHours(23,59,59,999),k>=L}).slice(0,6),V=D.filter(M=>(M.currentAmount||0)>=M.goalAmount).length,B=D.filter(M=>new Date(M.endDate)<L).length;if(p({completed:V,archived:B}),t?.uid){const M=await cx(t.uid);x(M)}o(A),d(!1)}catch(w){console.error("Error fetching donor dashboard data:",w),d(!1)}})()},[t]),i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Donor Dashboard - Charity Platform"})}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[i.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",t?.displayName||"Donor","!"]}),i.jsx("p",{className:"text-lg opacity-90",children:"Thank you for making a difference in your community"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),i.jsxs("p",{className:"text-3xl font-bold",children:["",e.totalDonations.toLocaleString()]}),i.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All time contributions"})]}),i.jsx(W0,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),i.jsx("p",{className:"text-3xl font-bold",children:e.campaignsSupported}),i.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Active campaigns"})]}),i.jsx(jt,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Lives Impacted"}),i.jsxs("p",{className:"text-3xl font-bold",children:[e.totalImpact,"+"]}),i.jsx("p",{className:"text-xs opacity-75 mt-1",children:"People helped"})]}),i.jsx(Hn,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-info to-info/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"This Month"}),i.jsxs("p",{className:"text-3xl font-bold",children:["",e.thisMonth.toLocaleString()]}),i.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date().toLocaleString("default",{month:"long"})})]}),i.jsx(Eo,{className:"text-5xl opacity-30"})]})})})]}),!c&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Te,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success/20 via-success/10 to-success/5 shadow-lg border border-success/30 hover:shadow-2xl transition-all hover:scale-105",children:i.jsxs("div",{className:"card-body flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Completed campaigns"}),i.jsx("p",{className:"text-3xl font-bold text-success",children:f.completed}),i.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Targets reached across the platform"})]}),i.jsx(tr,{className:"text-4xl text-success/70"})]})}),i.jsx(Te,{to:"/campaigns?view=archived",className:"card bg-gradient-to-br from-warning/20 via-warning/10 to-warning/5 shadow-lg border border-warning/30 hover:shadow-2xl transition-all hover:scale-105",children:i.jsxs("div",{className:"card-body flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Ended timelines"}),i.jsx("p",{className:"text-3xl font-bold text-warning",children:f.archived}),i.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Campaigns waiting for admin extension"})]}),i.jsx(Ci,{className:"text-4xl text-warning/70"})]})})]}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Active Campaigns"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Support these ongoing campaigns"})]}),i.jsxs(Te,{to:"/campaigns",className:"btn btn-primary btn-sm",children:["View All ",i.jsx(Q3,{className:"ml-2"})]})]}),c?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(id,{className:"text-6xl text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Campaigns"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Check back soon for new campaigns to support!"}),i.jsx(Te,{to:"/campaigns",className:"btn btn-primary",children:"Browse All Campaigns"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(b=>i.jsxs("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-lg border-2 border-primary/20 hover:shadow-xl hover:border-primary/40 hover:scale-[1.02] transition-all",children:[i.jsx("figure",{children:i.jsx("img",{src:b.image,alt:b.title,className:"w-full h-48 object-cover",onError:w=>{w.target.src="https://via.placeholder.com/400x300"}})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"badge badge-primary capitalize",children:b.category}),i.jsx("span",{className:"badge badge-success",children:"Active"})]}),i.jsx("h3",{className:"card-title text-base text-base-content",children:b.title}),i.jsxs("p",{className:"text-xs text-base-content/70 mb-1 font-medium",children:["By: ",i.jsx("span",{className:"text-primary font-semibold",children:b.charityName})]}),i.jsx("p",{className:"text-sm text-base-content/70 line-clamp-2",children:b.description}),i.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-primary/10 via-secondary/5 to-primary/10 rounded-lg border border-primary/20",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsxs("span",{className:"font-bold text-primary",children:[Math.round((b.currentAmount||0)/b.goalAmount*100),"% funded"]}),i.jsxs("span",{className:"font-bold text-success text-lg",children:["",(b.currentAmount||0).toLocaleString()]})]}),i.jsx("progress",{className:"progress progress-success w-full h-2",value:b.currentAmount||0,max:b.goalAmount}),i.jsxs("div",{className:"flex justify-between text-xs text-base-content/70 mt-2 font-medium",children:[i.jsxs("span",{children:["Goal: ",b.goalAmount.toLocaleString()]}),i.jsxs("span",{children:["Ends: ",new Date(b.endDate).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[i.jsxs(Te,{to:`/campaigns/${b.id}`,className:"btn btn-ghost btn-sm",children:[i.jsx(Ks,{className:"mr-1"})," Details"]}),So(b)?i.jsxs(Te,{to:`/campaigns/${b.id}/donate`,className:"btn btn-primary btn-sm",children:[i.jsx(jt,{className:"mr-1"})," Donate"]}):i.jsxs("button",{className:"btn btn-disabled btn-sm",disabled:!0,title:b.status!=="approved"?"Campaign Pending Approval":(b.currentAmount||0)>=b.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[i.jsx(Kl,{className:"mr-1"})," Donate"]})]})]})]},b.id))})]})}),t&&i.jsx("div",{className:"card bg-gradient-to-br from-info/10 via-primary/5 to-secondary/5 shadow-lg border border-info/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(X0,{className:"text-primary text-2xl"}),i.jsxs("div",{children:[i.jsx("h2",{className:"card-title mb-0",children:"Messages from Admin"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Replies land here after you use the contact form"})]})]}),g.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500",children:["No replies yet. ",i.jsx(Te,{to:"/contact",className:"link link-primary",children:"Send us a message"})," to get help."]}):i.jsxs("div",{className:"space-y-4",children:[g.slice(0,3).map(b=>{const w=b.replies?.[b.replies.length-1];return i.jsxs("div",{className:"border border-base-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[i.jsx("span",{children:b.subject}),i.jsx("span",{children:new Date(b.updatedAt||b.createdAt).toLocaleString()})]}),i.jsx("p",{className:"text-gray-700 text-sm mb-2 line-clamp-2",children:b.message}),w?i.jsxs("div",{className:"bg-base-200 rounded p-3 text-sm text-gray-700",children:[i.jsxs("p",{className:"font-semibold text-primary mb-1",children:[w.actorType==="admin"?"Admin":"You"," "," ",new Date(w.createdAt).toLocaleString()]}),i.jsx("p",{className:"line-clamp-3",children:w.message})]}):i.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting admin response"})]},b.id)}),i.jsx(Te,{to:"/contact#inbox",className:"btn btn-sm btn-primary w-fit",children:"Continue conversation"})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Te,{to:"/campaigns",className:"btn btn-primary btn-lg",children:[i.jsx(jt,{className:"mr-2"}),"Browse Campaigns"]}),i.jsxs(Te,{to:"/dashboard/donations",className:"btn btn-outline btn-lg",children:[i.jsx(gs,{className:"mr-2"}),"View Donation History"]}),i.jsxs(Te,{to:"/profile",className:"btn btn-outline btn-lg",children:[i.jsx(Hn,{className:"mr-2"}),"Update Profile"]})]})]})})]})]})},dM=()=>{const{currentUser:t}=nr(),[e,n]=z.useState([]),[s,o]=z.useState({}),[c,d]=z.useState(!0),[f,p]=z.useState("all"),[g,x]=z.useState({}),[b,w]=z.useState({totalDonated:0,totalDonations:0,campaignsSupported:0});z.useEffect(()=>{if(!t){d(!1);return}(async()=>{try{const q=await hO(t.uid),F=q.sort((P,C)=>new Date(C.createdAt||C.date)-new Date(P.createdAt||P.date)),I=await mr(),R={};I.forEach(P=>{R[P.id]=P});const E=q.reduce((P,C)=>P+(C.amount||0),0),S=new Set(q.map(P=>P.campaignId));n(F),o(R),w({totalDonated:E,totalDonations:q.length,campaignsSupported:S.size})}catch(q){console.error("Error fetching donations:",q)}finally{d(!1)}})()},[t]);const D=z.useMemo(()=>({all:{label:"All time",start:null,end:null},thisMonth:{label:"This month",start:(()=>{const k=new Date;return new Date(k.getFullYear(),k.getMonth(),1)})(),end:new Date},lastMonth:{label:"Last month",start:(()=>{const k=new Date;return new Date(k.getFullYear(),k.getMonth()-1,1)})(),end:(()=>{const k=new Date;return new Date(k.getFullYear(),k.getMonth(),0,23,59,59,999)})()},lastYear:{label:"Last 12 months",start:(()=>{const k=new Date;return new Date(k.getFullYear()-1,k.getMonth(),k.getDate())})(),end:new Date}}),[]),L=z.useMemo(()=>{const k=D[f];return!k||!k.start&&!k.end?e:e.filter(q=>{const F=q.createdAt||q.date;if(!F)return!1;const I=new Date(F);return!(Number.isNaN(I.getTime())||k.start&&I<k.start||k.end&&I>k.end)})},[e,f,D]),A=z.useMemo(()=>{const k={};return L.forEach(q=>{const F=q.campaignId;if(!F)return;k[F]||(k[F]={campaignId:F,campaignTitle:q.campaignTitle||"Unknown Campaign",charityName:q.charityName||"Unknown Charity",totalAmount:0,donationCount:0,donations:[],firstDonationDate:null,lastDonationDate:null}),k[F].totalAmount+=q.amount||0,k[F].donationCount+=1,k[F].donations.push(q);const I=new Date(q.createdAt||q.date);isNaN(I.getTime())||((!k[F].firstDonationDate||I<k[F].firstDonationDate)&&(k[F].firstDonationDate=I),(!k[F].lastDonationDate||I>k[F].lastDonationDate)&&(k[F].lastDonationDate=I))}),Object.values(k).forEach(q=>{q.donations.sort((F,I)=>{const R=new Date(F.createdAt||F.date);return new Date(I.createdAt||I.date)-R})}),k},[L]),V=k=>{x(q=>({...q,[k]:!q[k]}))},B=()=>{const k=L;if(!k.length){alert("No donations found for the selected period.");return}const q=["Donation Date","Campaign","Charity","Amount (BDT)","Payment Method","Transaction ID","Status"],F=k.map(P=>[`"${new Date(P.createdAt||P.date).toLocaleString()}"`,`"${P.campaignTitle||"Unknown Campaign"}"`,`"${P.charityName||"Unknown Charity"}"`,P.amount||0,`"${P.paymentMethod||"N/A"}"`,`"${P.transactionId||"N/A"}"`,`"${P.status||"completed"}"`].join(",")),I=[q.join(","),...F].join(`
`),R=new Blob([I],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(R),S=document.createElement("a");S.href=E,S.download=`donations-${f}.csv`,S.click(),URL.revokeObjectURL(E)},M=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return c?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"My Donations - Donor Dashboard"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Donations"}),i.jsx("p",{className:"text-lg opacity-90",children:"Track your contributions and impact"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),i.jsxs("p",{className:"text-3xl font-bold",children:["",b.totalDonated.toLocaleString()]})]}),i.jsx(kf,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Donations"}),i.jsx("p",{className:"text-3xl font-bold",children:b.totalDonations})]}),i.jsx(jt,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),i.jsx("p",{className:"text-3xl font-bold",children:b.campaignsSupported})]}),i.jsx(Eo,{className:"text-5xl opacity-30"})]})})})]}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"card-title text-2xl mb-1",children:"Donation History"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",Object.keys(A).length," campaign",Object.keys(A).length!==1?"s":""," (",L.length," donation",L.length!==1?"s":"",")"]})]}),i.jsx("div",{className:"w-full md:w-auto",children:i.jsxs("div",{className:"bg-white/70 backdrop-blur border border-primary/20 rounded-lg p-3 flex flex-col sm:flex-row gap-3 items-start sm:items-center shadow-sm",children:[i.jsxs("div",{className:"form-control w-full sm:w-auto",children:[i.jsx("label",{className:"label text-xs uppercase tracking-wide font-semibold text-gray-600 mb-1 px-3",children:"Slip period"}),i.jsx("select",{className:"select select-bordered text-black select-sm w-full sm:w-48",value:f,onChange:k=>p(k.target.value),children:Object.entries(D).map(([k,q])=>i.jsx("option",{value:k,children:q.label},k))})]}),i.jsx("button",{onClick:B,className:"btn btn-secondary btn-sm w-full sm:w-auto shadow-md",children:"Download Slip (CSV)"})]})})]}),i.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-primary/40 via-secondary/40 to-accent/40 rounded-full"})]}),Object.keys(A).length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(id,{className:"text-6xl text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Donations Yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start making a difference by supporting a campaign!":"No donations match the selected period."}),e.length===0&&i.jsxs(Te,{to:"/campaigns",className:"btn btn-primary",children:[i.jsx(jt,{className:"mr-2"}),"Browse Campaigns"]})]}):i.jsx("div",{className:"space-y-4",children:Object.values(A).map(k=>{const q=s[k.campaignId],F=g[k.campaignId],I=k.donationCount>1;return i.jsx("div",{className:"card bg-gradient-to-br from-base-100 via-primary/10 to-secondary/5 shadow-lg border border-primary/20 hover:shadow-xl hover:border-primary/30 transition-all",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[q&&i.jsx("figure",{className:"lg:w-48 h-32 rounded-lg overflow-hidden flex-shrink-0 border-2 border-primary/20 shadow-md",children:i.jsx("img",{src:q.image,alt:q.title,className:"w-full h-full object-cover",onError:R=>{R.target.src="https://via.placeholder.com/300x200"}})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3 p-3 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg border border-primary/20",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-base-content",children:k.campaignTitle}),i.jsxs("p",{className:"text-sm text-black text-base-content/70 font-medium",children:["By: ",k.charityName]}),I&&i.jsxs("p",{className:"text-xs text-base-content/60 mt-1",children:[k.donationCount," donation",k.donationCount>1?"s":""," made"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-black text-primary",children:["",k.totalAmount.toLocaleString()]}),i.jsx("span",{className:"badge badge-sm font-semibold badge-success",children:"Total Donated"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg border border-primary/20",children:[i.jsx(gs,{className:"text-primary text-lg"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Date Range"}),i.jsx("p",{className:"text-sm font-bold text-base-content",children:M(k.firstDonationDate)}),I&&k.firstDonationDate!==k.lastDonationDate&&i.jsxs("p",{className:"text-xs text-base-content/50",children:["to ",M(k.lastDonationDate)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/10 rounded-lg border border-secondary/20",children:[i.jsx(kf,{className:"text-secondary text-lg"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Donations"}),i.jsx("p",{className:"text-sm font-bold text-base-content",children:k.donationCount})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-accent/10 rounded-lg border border-accent/20",children:[i.jsx(jt,{className:"text-accent text-lg"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Total Amount"}),i.jsxs("p",{className:"text-sm font-bold text-base-content",children:["",k.totalAmount.toLocaleString()]})]})]}),q&&i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-info/10 rounded-lg border border-info/20",children:[i.jsx(Eo,{className:"text-info text-lg"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Campaign Status"}),i.jsx("p",{className:"text-sm font-bold capitalize text-base-content",children:q.status})]})]})]}),I&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("button",{onClick:()=>V(k.campaignId),className:"btn btn-outline btn-sm w-full justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gs,{}),"View Individual Donation Dates (",k.donationCount,")"]}),F?i.jsx(N7,{}):i.jsx(_7,{})]}),F&&i.jsxs("div",{className:"mt-3 p-4 bg-base-200 rounded-lg border border-primary/20",children:[i.jsx("h4",{className:"font-bold text-base-content mb-3",children:"Donation History"}),i.jsx("div",{className:"space-y-2",children:k.donations.map((R,E)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-base-100 rounded-lg border border-base-300",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gs,{className:"text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-base-content",children:M(R.createdAt||R.date)}),i.jsx("p",{className:"text-xs text-base-content/60",children:new Date(R.createdAt||R.date).toLocaleTimeString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-primary",children:["",(R.amount||0).toLocaleString()]}),i.jsx("p",{className:"text-xs text-base-content/60 capitalize",children:R.paymentMethod})]})]},R.id||E))})]})]}),q&&i.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-success/20 via-primary/10 to-success/20 rounded-lg border border-success/30",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-semibold text-base-content",children:"Campaign Progress"}),i.jsxs("span",{className:"font-bold text-success",children:[Math.round((q.currentAmount||0)/q.goalAmount*100),"% funded"]})]}),i.jsx("progress",{className:"progress progress-success w-full h-3",value:q.currentAmount||0,max:q.goalAmount}),i.jsxs("div",{className:"flex  justify-between text-xs font-medium text-base-content/70 mt-2",children:[i.jsxs("span",{className:"text-black",children:["Raised: ",(q.currentAmount||0).toLocaleString()]}),i.jsxs("span",{children:["Goal: ",q.goalAmount.toLocaleString()]})]})]}),i.jsx("div",{className:"card-actions justify-end mt-4",children:q?i.jsxs(Te,{to:`/campaigns/${q.id}`,className:"btn btn-primary btn-sm",children:[i.jsx(Ks,{className:"mr-2"}),"View Campaign"]}):k.campaignId?i.jsxs(Te,{to:`/campaigns/${k.campaignId}`,className:"btn btn-primary btn-sm",children:[i.jsx(Ks,{className:"mr-2"}),"View Campaign"]}):i.jsx("span",{className:"text-sm text-gray-500 italic",children:"Campaign no longer available"})})]})]})})},k.campaignId)})})]})})]})]})};function hM(){const[t,e]=z.useState([]),[n,s]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const c=await Gu("approved");e(c)}catch(c){console.error("Error fetching campaigns:",c)}finally{s(!1)}})()},[]),n?i.jsx("div",{className:"flex justify-center items-center min-h-screen bg-black",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-purple-500"})}):i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"All Campaigns - Donor Dashboard"})}),i.jsxs("div",{className:"space-y-6 bg-black min-h-screen p-4",children:[i.jsxs("div",{className:"bg-black/70 backdrop-blur-md text-white rounded-lg p-6 shadow-xl border border-purple-500/30",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"All Campaigns"}),i.jsxs("p",{className:"text-gray-300",children:["Browse and support ",t.length," approved ",t.length===1?"campaign":"campaigns"]})]}),t.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>i.jsxs("div",{className:`card bg-black/70 backdrop-blur-md text-white
                                           shadow-xl border border-purple-500/30
                                           hover:border-pink-500/60 hover:shadow-pink-500/20
                                           hover:scale-[1.02] transition-all duration-300`,children:[i.jsx("figure",{children:i.jsx("img",{src:o.image,alt:o.title,className:"w-full h-48 object-cover opacity-90",onError:c=>{c.target.src="https://via.placeholder.com/400x300"}})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"badge bg-purple-600/20 text-purple-300 border border-purple-500/40 capitalize",children:o.category}),i.jsx("span",{className:"badge bg-green-600/20 text-green-300 border border-green-500/40",children:"Approved"})]}),i.jsx("h3",{className:"card-title text-base font-bold text-white",children:o.title}),i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[i.jsx(Hn,{className:"text-pink-400"}),i.jsx("span",{className:"text-pink-300 font-semibold",children:o.charityName})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[i.jsx(gs,{className:"text-indigo-400"}),i.jsxs("span",{className:"text-indigo-300",children:["Ends ",new Date(o.endDate).toLocaleDateString()]})]}),i.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:o.description}),i.jsxs("div",{className:"mt-4 p-3 bg-black/60 rounded-lg border border-purple-500/30",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsxs("span",{className:"font-bold text-purple-300",children:[Math.round((o.currentAmount||0)/o.goalAmount*100),"% funded"]}),i.jsxs("span",{className:"font-bold text-pink-400",children:["",(o.currentAmount||0).toLocaleString()]})]}),i.jsx("progress",{className:"progress progress-secondary w-full h-2",value:o.currentAmount||0,max:o.goalAmount}),i.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[i.jsxs("span",{className:"text-gray-300",children:["Goal: ",o.goalAmount.toLocaleString()]}),i.jsxs("span",{className:"text-indigo-300",children:[Math.ceil((new Date(o.endDate)-new Date)/(1e3*60*60*24))," days left"]})]})]}),i.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[i.jsxs(Te,{to:`/campaigns/${o.id}`,className:"btn btn-outline btn-sm border-gray-500 text-gray-200 hover:bg-white/10",children:[i.jsx(Ks,{className:"mr-1"})," Details"]}),So(o)?i.jsxs(Te,{to:`/campaigns/${o.id}/donate`,className:`btn btn-sm bg-gradient-to-r from-pink-600 to-purple-700
                                                           text-white border-0 hover:from-pink-700 hover:to-purple-800 shadow-lg`,children:[i.jsx(jt,{className:"mr-1"})," Donate"]}):i.jsxs("button",{className:"btn btn-disabled btn-sm",children:[i.jsx(Kl,{className:"mr-1"})," Donate"]})]})]})]},o.id))}):i.jsx("div",{className:"card bg-black/70 backdrop-blur-md shadow-xl border border-purple-500/30",children:i.jsxs("div",{className:"card-body text-center py-12 text-white",children:[i.jsx(id,{className:"text-6xl text-purple-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Campaigns Available"}),i.jsx("p",{className:"text-gray-300 mb-6",children:"There are no approved campaigns at the moment. Check back soon!"}),i.jsxs(Te,{to:"/campaigns",className:`btn bg-gradient-to-r from-pink-600 to-purple-700
                                           text-white border-0 hover:from-pink-700 hover:to-purple-800 shadow-lg`,children:[i.jsx(jt,{className:"mr-2"}),"View All Campaigns"]})]})})]})]})}const R_=()=>{const{currentUser:t}=nr(),[e,n]=z.useState([]),[s,o]=z.useState(!1),[c,d]=z.useState(null),[f,p]=z.useState({rating:5,comment:""}),[g,x]=z.useState(0),[b,w]=z.useState(!0),D=z.useCallback(async()=>{try{w(!0);const I=await bO(t.uid);n(I)}catch(I){console.error("Error loading reviews:",I),alert("Failed to load reviews. Please try again.")}finally{w(!1)}},[t]);z.useEffect(()=>{t?D():w(!1)},[t,D]);const L=I=>{p({...f,rating:I})},A=I=>{const R=I.target.value,E=R.trim().split(/\s+/).filter(S=>S.length>0);E.length<=50&&(p({...f,comment:R}),x(E.length))},V=async I=>{if(I.preventDefault(),!f.comment.trim()){alert("Please write a review comment");return}try{c?(await _O(c.id,{rating:f.rating,comment:f.comment}),alert("Review updated successfully!")):(await wO({userId:t.uid,userName:t.displayName||t.email||"Anonymous User",userEmail:t.email,rating:f.rating,comment:f.comment}),alert("Review submitted successfully!")),await D(),q()}catch(R){console.error("Error saving review:",R);const E=R.message||"Failed to save review. Please try again.";E.includes("already has a review")?alert("You already have a review. Please update your existing review instead."):alert(E)}},B=I=>{d(I),p({rating:I.rating,comment:I.comment});const R=I.comment.trim().split(/\s+/).filter(E=>E.length>0);x(R.length),o(!0)},M=async I=>{if(window.confirm("Are you sure you want to delete this review?"))try{await NO(I),alert("Review deleted successfully!"),await D()}catch(R){console.error("Error deleting review:",R),alert("Failed to delete review. Please try again.")}},k=()=>{d(null),p({rating:5,comment:""}),x(0),o(!0)},q=()=>{o(!1),d(null),p({rating:5,comment:""}),x(0)},F=(I,R=!1)=>i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(E=>i.jsx("button",{type:"button",onClick:()=>R&&L(E),className:`text-2xl ${R?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"}`,disabled:!R,children:E<=I?i.jsx(wi,{className:"text-warning"}):i.jsx(B7,{className:"text-gray-300"})},E))});return b?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"My Reviews - Dashboard"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"My Reviews"}),i.jsx("p",{className:"text-lg opacity-95 mt-1",children:"Manage your reviews and ratings"})]}),i.jsxs("button",{onClick:k,className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 hover:from-pink-600 hover:to-purple-700 shadow-lg",children:[i.jsx(jo,{className:"mr-2"}),"Add Review"]})]}),e.length>0?i.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(I=>i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300 hover:shadow-xl hover:border-teal-400 transition-all",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"mb-3",children:F(I.rating)}),i.jsx("p",{className:"text-teal-900 mb-4 font-medium",children:I.comment}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-teal-800 font-medium",children:[i.jsx(ja,{className:"text-teal-700"}),i.jsx("span",{className:"font-bold",children:I.userName}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID: ",I.userId.substring(0,8),"..."]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(I.createdAt||I.date).toLocaleDateString()}),I.updatedAt&&I.updatedAt!==I.createdAt&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{className:"text-blue-700 font-bold",children:"Edited"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>B(I),className:"btn btn-ghost btn-sm btn-circle",title:"Edit",children:i.jsx(Pf,{className:"text-info"})}),i.jsx("button",{onClick:()=>M(I.id),className:"btn btn-ghost btn-sm btn-circle",title:"Delete",children:i.jsx(U7,{className:"text-error"})})]})]})})},I.id))}):i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsxs("div",{className:"card-body text-center py-12",children:[i.jsx(wi,{className:"text-6xl text-teal-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-2 text-teal-900",children:"No Reviews Yet"}),i.jsx("p",{className:"text-teal-700 mb-6 font-medium",children:"Share your experience by writing your first review"}),i.jsxs("button",{onClick:k,className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[i.jsx(jo,{className:"mr-2"}),"Write a Review"]})]})})]}),s&&i.jsxs("div",{className:"modal modal-open",children:[i.jsxs("div",{className:"modal-box max-w-2xl bg-gradient-to-br from-teal-50 via-cyan-50 to-teal-50 border-2 border-teal-300 shadow-2xl",children:[i.jsx("h3",{className:"font-bold text-2xl mb-4 text-teal-900",children:c?"Edit Review":"Write a Review"}),i.jsxs("form",{onSubmit:V,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-4 rounded-lg border-2 border-teal-200",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-teal-900",children:"Rating"})}),i.jsx("div",{className:"mt-2",children:F(f.rating,!0)})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-5 rounded-lg border-2 border-teal-200 shadow-md",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("label",{className:"label p-0",children:i.jsx("span",{className:"text-lg font-bold text-teal-900",children:"Your Review"})}),i.jsxs("div",{className:`px-3 py-1 rounded-full font-bold text-sm ${g>=50?"bg-red-100 text-red-700 border-2 border-red-400":g>=40?"bg-amber-100 text-amber-700 border-2 border-amber-400":"bg-teal-100 text-teal-700 border-2 border-teal-400"}`,children:[g,"/50 words"]})]}),i.jsx("textarea",{className:"textarea w-full h-32  textarea-bordered border-2 border-teal-300 focus:border-teal-500 focus:ring-2 focus:ring-teal-500 text-gray-900 text-base",placeholder:"Share your experience... (Maximum 50 words)",value:f.comment,onChange:A,required:!0}),i.jsx("p",{className:"text-xs text-teal-600 mt-2 font-medium",children:" Write a detailed review about your experience with the platform"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-100 via-pink-100 to-purple-100 p-4 rounded-lg border-2 border-purple-300",children:[i.jsx("p",{className:"text-sm text-purple-900 font-bold mb-2",children:"Review will be posted as:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"text-purple-700"}),i.jsx("span",{className:"font-bold text-purple-900",children:t.displayName||t.email||"Anonymous User"}),i.jsx("span",{className:"text-purple-700",children:""}),i.jsxs("span",{className:"text-sm text-purple-800 font-medium",children:["ID: ",t.uid.substring(0,8),"..."]})]})]}),i.jsxs("div",{className:"modal-action",children:[i.jsx("button",{type:"button",onClick:q,className:"btn btn-outline border-teal-400 text-teal-700 hover:bg-teal-100",children:"Cancel"}),i.jsx("button",{type:"submit",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:c?"Update Review":"Submit Review"})]})]})]}),i.jsx("div",{className:"modal-backdrop",onClick:q})]})]})};function Hh(){const{currentUser:t,updateUserProfile:e,userRole:n}=nr(),[s,o]=z.useState(!1),[c,d]=z.useState(!1),[f,p]=z.useState(!0),[g,x]=z.useState(null),[b,w]=z.useState(null),[D,L]=z.useState({displayName:"",email:"",phone:"",location:"",bio:""});z.useEffect(()=>{(async()=>{if(t){p(!0);try{const k=xu(po,"users",t.uid),q=await af(k),F=q.exists()?q.data():{};L({displayName:t.displayName||F.displayName||"",email:t.email||"",phone:F.phoneNumber||"",location:F.location||"",bio:F.bio||""}),w(null),x(null)}catch(k){console.error("Error loading user profile:",k),L({displayName:t.displayName||"",email:t.email||"",phone:"",location:"",bio:""})}finally{p(!1)}}})()},[t]);const A=M=>{const{name:k,value:q}=M.target;L(F=>({...F,[k]:q}))},V=M=>{const k=M.target.files[0];if(k){if(!k.type.startsWith("image/")){const F=typeof window<"u"?window.Swal:null;F?F.fire({icon:"error",title:"Invalid File",text:"Please select an image file (jpg, png, etc.)"}):alert("Please select an image file");return}if(k.size>5*1024*1024){const F=typeof window<"u"?window.Swal:null;F?F.fire({icon:"error",title:"File Too Large",text:"Please select an image smaller than 5MB"}):alert("Please select an image smaller than 5MB");return}x(k);const q=new FileReader;q.onloadend=()=>{w(q.result)},q.readAsDataURL(k)}},B=async M=>{M.preventDefault(),d(!0);try{await e(D,g),o(!1),x(null),w(null);const k=typeof window<"u"?window.Swal:null;k?k.fire({icon:"success",title:"Profile Updated!",text:"Your profile has been updated successfully.",timer:3e3,showConfirmButton:!1}):alert("Profile updated successfully!")}catch(k){console.error("Failed to update profile:",k);const q=typeof window<"u"?window.Swal:null;q?q.fire({icon:"error",title:"Update Failed",text:k.message||"Failed to update profile. Please try again."}):alert("Failed to update profile. Please try again.")}finally{d(!1)}};return!t||f?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx(ms,{className:"animate-spin text-4xl text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),s?i.jsxs("div",{className:"space-x-2",children:[i.jsxs("button",{onClick:()=>o(!1),className:"btn btn-ghost btn-sm",children:[i.jsx(V7,{className:"mr-1"})," Cancel"]}),i.jsx("button",{type:"submit",form:"profileForm",className:"btn btn-primary btn-sm",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(ms,{className:"mr-1 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(X3,{className:"mr-1"})," Save Changes"]})})]}):i.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary btn-sm",children:[i.jsx(Pf,{className:"mr-1"})," Edit Profile"]})]}),i.jsx("div",{className:"card bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg border-2 border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h2",{className:"card-title text-xl mb-4 flex items-center gap-2 ",children:[i.jsx(J0,{className:"text-primary "}),"Account Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-primary/20 via-primary/10 to-primary/5 p-4 rounded-lg shadow border border-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(F7,{className:"text-white text-lg"}),i.jsx("span",{className:"text-sm font-bold text-white",children:"Account Type"})]}),i.jsx("p",{className:"text-lg font-black capitalize text-white",children:n||"User"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-secondary/20 via-secondary/10 to-secondary/5 p-4 rounded-lg shadow border border-secondary/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(I7,{className:"text-white text-lg"}),i.jsx("span",{className:"text-sm font-bold text-white",children:"User ID"})]}),i.jsx("p",{className:"text-sm font-mono break-all text-white font-semibold",children:t.uid})]}),i.jsxs("div",{className:"bg-gradient-to-br from-success/20 via-success/10 to-success/5 p-4 rounded-lg shadow border border-success/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(gs,{className:"text-white text-lg"}),i.jsx("span",{className:"text-sm font-bold text-white",children:"Joined"})]}),i.jsx("p",{className:"text-sm font-bold text-white",children:new Date(t.metadata?.creationTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-info/20 via-info/10 to-info/5 p-4 rounded-lg shadow border border-info/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(bi,{className:"text-white text-lg"}),i.jsx("span",{className:"text-sm font-bold text-white",children:"Last Login"})]}),i.jsx("p",{className:"text-sm font-bold text-white",children:new Date(t.metadata?.lastSignInTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-accent/20 via-accent/10 to-accent/5 rounded-lg border border-accent/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(zl,{className:"text-white text-lg"}),i.jsx("span",{className:"text-sm font-bold text-white",children:"Email Address"})]}),i.jsx("p",{className:"text-base font-black text-white",children:t.email}),i.jsx("div",{className:"mt-2"})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title text-xl mb-4 text-white font-bold",children:"Profile Details"}),i.jsx("form",{id:"profileForm",onSubmit:B,children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"flex-shrink-0",children:[i.jsx("div",{className:"avatar",children:i.jsx("div",{className:"w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:i.jsx("img",{src:b||t.photoURL||"/api/placeholder/150/150",alt:"Profile",onError:M=>{M.target.src="https://via.placeholder.com/150"}})})}),s&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("label",{className:"btn btn-sm btn-primary btn-outline w-full hover:btn-primary cursor-pointer",children:[c?i.jsxs(i.Fragment,{children:[i.jsx(ms,{className:"mr-2 animate-spin"}),"Uploading..."]}):"Change Photo",i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:V,disabled:c})]}),g&&i.jsx("p",{className:"text-xs text-white/80 mt-2 text-center",children:g.name})]})]}),i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-white",children:"Full Name"})}),s?i.jsx("input",{type:"text",name:"displayName",value:D.displayName,onChange:A,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",required:!0}):i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[i.jsx(ja,{className:"text-white text-lg"}),i.jsx("span",{className:"text-white font-bold",children:D.displayName||"Not specified"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-white",children:"Email"})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[i.jsx(zl,{className:"text-white text-lg"}),i.jsx("span",{className:"text-white font-bold",children:t.email})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-white",children:"Phone"})}),s?i.jsx("input",{type:"tel",name:"phone",value:D.phone,onChange:A,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Enter your phone number"}):i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[i.jsx(mm,{className:"text-white text-lg"}),i.jsx("span",{className:"text-white font-bold",children:D.phone||"Not specified"})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-white",children:"Location"})}),s?i.jsx("input",{type:"text",name:"location",value:D.location,onChange:A,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Enter your location"}):i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[i.jsx(od,{className:"text-white text-lg"}),i.jsx("span",{className:"text-white font-bold",children:D.location||"Not specified"})]})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-white",children:"Bio"})}),s?i.jsx("textarea",{name:"bio",value:D.bio,onChange:A,className:"textarea textarea-bordered h-24 focus:textarea-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Tell us about yourself..."}):i.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:i.jsx("p",{className:"text-white whitespace-pre-line font-bold",children:D.bio||"No bio added yet."})})]})]})]})})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title text-lg mb-4 text-base-content",children:"Account Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 rounded-lg border border-primary/20 hover:border-primary/30 transition-all",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white",children:"Change Password"}),i.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Update your account password"})]}),i.jsx("button",{className:"btn btn-primary btn-sm text-white",children:"Change"})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-secondary/10 via-secondary/5 to-secondary/10 rounded-lg border border-secondary/20 hover:border-secondary/30 transition-all",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white",children:"Notification Settings"}),i.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Manage your notification preferences"})]}),i.jsx("button",{className:"btn btn-secondary btn-sm text-white",children:"Manage"})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-error/10 via-error/5 to-error/10 rounded-lg border border-error/20 hover:border-error/30 transition-all",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white",children:"Delete Account"}),i.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Permanently delete your account"})]}),i.jsx("button",{className:"btn btn-error btn-sm text-white",children:"Delete"})]})]})]})})]})}const fM=()=>{const t=Wr(),{currentUser:e}=nr(),[n,s]=z.useState(""),[o,c]=z.useState({activeCampaigns:0,totalRaised:0,totalDonors:0,successRate:0,totalCampaigns:0,pendingCampaigns:0,approvedCampaigns:0}),[d,f]=z.useState(!0),[p,g]=z.useState({completed:0,archived:0}),[x,b]=z.useState([]);return z.useEffect(()=>{t.state?.message&&(s(t.state.message),setTimeout(()=>s(""),5e3),window.history.replaceState({},document.title))},[t]),z.useEffect(()=>{(async()=>{try{if(!e){f(!1);return}const L=(await mr()).filter(P=>P.charityId===e.uid||P.charityEmail===e.email),A=L.reduce((P,C)=>P+(C.currentAmount||0),0),V=new Date;V.setHours(0,0,0,0);const B=L.filter(P=>{const C=new Date(P.endDate);return C.setHours(23,59,59,999),P.status==="approved"&&C>=V}).length,M=L.filter(P=>{const C=new Date(P.endDate);return C.setHours(23,59,59,999),P.status==="approved"&&C>=V}).length,k=L.filter(P=>P.status==="pending").length,q=await tx(),F=L.reduce((P,C)=>P+(q[C.id]||0),0),I=L.reduce((P,C)=>{const N=(C.currentAmount||0)/C.goalAmount*100;return P+Math.min(N,100)},0),R=L.length>0?Math.round(I/L.length):0,E=L.filter(P=>(P.currentAmount||0)>=P.goalAmount).length,S=L.filter(P=>{const C=new Date(P.endDate);return C.setHours(23,59,59,999),C<V}).length;if(c({activeCampaigns:B,totalRaised:A,totalDonors:F,successRate:R,totalCampaigns:L.length,pendingCampaigns:k,approvedCampaigns:M}),g({completed:E,archived:S}),e?.uid){const P=await cx(e.uid);b(P)}f(!1)}catch(D){console.error("Error fetching charity stats:",D),f(!1)}})()},[e]),i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Charity Dashboard - Charity Platform"})}),i.jsxs("div",{className:"space-y-8",children:[n&&i.jsxs("div",{className:"alert alert-success shadow-lg",children:[i.jsx(tr,{className:"text-2xl"}),i.jsx("span",{className:"text-lg",children:n})]}),i.jsx("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Charity Dashboard"}),i.jsx("p",{className:"text-lg opacity-95",children:"Manage your campaigns and track donations"})]}),i.jsxs(Te,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 hover:from-pink-600 hover:to-purple-700 shadow-lg mt-4 md:mt-0",children:[i.jsx(jo,{className:"mr-2"})," Create Campaign"]})]})}),d?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-teal-500 via-cyan-500 to-teal-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-teal-400",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold",children:"Active Campaigns"}),i.jsx("p",{className:"text-3xl font-black",children:o.activeCampaigns}),i.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Approved & ongoing"})]}),i.jsx(jt,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-emerald-400",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold",children:"Total Raised"}),i.jsxs("p",{className:"text-3xl font-black",children:["",o.totalRaised.toLocaleString()]}),i.jsx("p",{className:"text-xs opacity-90 mt-1",children:"All campaigns"})]}),i.jsx(W0,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-purple-400",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold",children:"Total Donors"}),i.jsx("p",{className:"text-3xl font-black",children:o.totalDonors}),i.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Unique contributors"})]}),i.jsx(Hn,{className:"text-5xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-gradient-to-br from-blue-500 via-indigo-500 to-blue-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-blue-400",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold",children:"Success Rate"}),i.jsxs("p",{className:"text-3xl font-black",children:[o.successRate,"%"]}),i.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Goals reached"})]}),i.jsx(Eo,{className:"text-5xl opacity-30"})]})})})]}),!d&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Te,{to:"/dashboard/charity/campaigns",className:"card bg-gradient-to-br from-emerald-200 via-green-200 to-emerald-200 shadow-lg border-2 border-emerald-400 hover:shadow-xl transition-all hover:scale-105",children:i.jsxs("div",{className:"card-body flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-emerald-900 font-bold",children:"Completed targets"}),i.jsx("p",{className:"text-3xl font-black text-emerald-800",children:p.completed}),i.jsx("p",{className:"text-xs text-emerald-700 mt-1 font-medium",children:"Great storytelling material"})]}),i.jsx(tr,{className:"text-4xl text-emerald-600"})]})}),i.jsx(Te,{to:"/dashboard/charity/campaigns",className:"card bg-gradient-to-br from-amber-200 via-orange-200 to-amber-200 shadow-lg border-2 border-amber-400 hover:shadow-xl transition-all hover:scale-105",children:i.jsxs("div",{className:"card-body flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-900 font-bold",children:"Ended timelines"}),i.jsx("p",{className:"text-3xl font-black text-amber-800",children:p.archived}),i.jsx("p",{className:"text-xs text-amber-700 mt-1 font-medium",children:"Request an extension from admin"})]}),i.jsx(Ci,{className:"text-4xl text-amber-600"})]})})]}),i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4 text-teal-900 font-bold",children:"Campaign Overview"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"stat bg-gradient-to-br from-teal-200 to-cyan-200 rounded-lg p-4 border-2 border-teal-300 shadow-md",children:[i.jsx("div",{className:"stat-title text-sm text-teal-900 font-bold",children:"Total Campaigns"}),i.jsx("div",{className:"stat-value text-2xl text-teal-800 font-black",children:o.totalCampaigns}),i.jsx("div",{className:"stat-desc text-teal-700 font-medium",children:"All time"})]}),i.jsxs("div",{className:"stat bg-gradient-to-br from-emerald-200 to-green-200 rounded-lg p-4 border-2 border-emerald-300 shadow-md",children:[i.jsx("div",{className:"stat-title text-sm text-emerald-900 font-bold",children:"Approved"}),i.jsx("div",{className:"stat-value text-2xl text-emerald-800 font-black",children:o.approvedCampaigns}),i.jsx("div",{className:"stat-desc text-emerald-700 font-medium",children:"Live campaigns"})]}),i.jsxs("div",{className:"stat bg-gradient-to-br from-amber-200 to-orange-200 rounded-lg p-4 border-2 border-amber-300 shadow-md",children:[i.jsx("div",{className:"stat-title text-sm text-amber-900 font-bold",children:"Pending"}),i.jsx("div",{className:"stat-value text-2xl text-amber-800 font-black",children:o.pendingCampaigns}),i.jsx("div",{className:"stat-desc text-amber-700 font-medium",children:"Awaiting approval"})]}),i.jsxs("div",{className:"stat bg-gradient-to-br from-blue-200 to-indigo-200 rounded-lg p-4 border-2 border-blue-300 shadow-md",children:[i.jsx("div",{className:"stat-title text-sm text-blue-900 font-bold",children:"Active"}),i.jsx("div",{className:"stat-value text-2xl text-blue-800 font-black",children:o.activeCampaigns}),i.jsx("div",{className:"stat-desc text-blue-700 font-medium",children:"Currently running"})]})]})]})}),e&&i.jsx("div",{className:"card bg-gradient-to-br from-blue-100 via-indigo-100 to-blue-100 shadow-lg border-2 border-blue-300",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(X0,{className:"text-blue-600 text-2xl"}),i.jsxs("div",{children:[i.jsx("h2",{className:"card-title mb-0 text-blue-900 font-bold",children:"Admin Messages"}),i.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Platform updates and replies to your support requests"})]})]}),x.length===0?i.jsxs("div",{className:"text-center py-6 text-blue-700 font-medium",children:["Nothing pending. ",i.jsx(Te,{to:"/contact",className:"link text-blue-600 font-bold hover:text-blue-800",children:"Reach out"})," if you need anything."]}):i.jsxs("div",{className:"space-y-4",children:[x.slice(0,3).map(w=>{const D=w.replies?.[w.replies.length-1];return i.jsxs("div",{className:"border-2 border-blue-300 rounded-lg p-4 bg-white/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex justify-between text-sm text-blue-800 font-bold mb-2",children:[i.jsx("span",{children:w.subject}),i.jsx("span",{children:new Date(w.updatedAt||w.createdAt).toLocaleString()})]}),i.jsx("p",{className:"text-blue-900 text-sm mb-2 line-clamp-2 font-medium",children:w.message}),D?i.jsxs("div",{className:"bg-blue-100 rounded p-3 text-sm text-blue-900 border border-blue-300",children:[i.jsxs("p",{className:"font-bold text-blue-800 mb-1",children:[D.actorType==="admin"?"Admin":"You"," "," ",new Date(D.createdAt).toLocaleString()]}),i.jsx("p",{className:"line-clamp-3 font-medium",children:D.message})]}):i.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Awaiting admin response"})]},w.id)}),i.jsx(Te,{to:"/contact#inbox",className:"btn btn-sm bg-gradient-to-r from-blue-500 to-indigo-600 text-white border-0 hover:from-blue-600 hover:to-indigo-700 shadow-lg w-fit",children:"View all messages"})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4 text-teal-900 font-bold",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Te,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 btn-lg hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[i.jsx(jo,{className:"mr-2"}),"Create Campaign"]}),i.jsxs(Te,{to:"/dashboard/charity/campaigns",className:"btn btn-outline btn-lg border-teal-400 text-teal-700 hover:bg-teal-100",children:[i.jsx(jt,{className:"mr-2"}),"View My Campaigns"]}),i.jsxs(Te,{to:"/dashboard/charity/profile",className:"btn btn-outline btn-lg border-purple-400 text-purple-700 hover:bg-purple-100",children:[i.jsx(Hn,{className:"mr-2"}),"Edit Profile"]})]})]})})]})]})},mM=()=>{const[t,e]=z.useState(0),[n,s]=z.useState(0),[o,c]=z.useState(0),[d,f]=z.useState(0),[p,g]=z.useState(0),[x,b]=z.useState(!0),[w,D]=z.useState(0),[L,A]=z.useState(0);z.useEffect(()=>{V()},[]);const V=async()=>{try{const[B,M,k]=await Promise.all([mr(),Gu("pending"),Gu("approved")]),q=new Date;q.setHours(0,0,0,0);const F=k.filter(N=>{const T=new Date(N.endDate);return T.setHours(23,59,59,999),T>=q}),I=new Set(B.map(N=>N.charityId)),R=B.reduce((N,T)=>N+(T.currentAmount||0),0),E=R3(po,"users"),S=await U3(E),P=B.filter(N=>(N.currentAmount||0)>=N.goalAmount),C=B.filter(N=>new Date(N.endDate)<q);e(S.data().count||0),s(I.size),c(F.length),f(M.length),g(R),D(P.length),A(C.length),b(!1)}catch(B){console.error("Error fetching dashboard data:",B),b(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Admin Dashboard - Charity Platform"})}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),i.jsx("p",{className:"text-lg opacity-90",children:"Manage platform operations and oversee all activities"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6",children:[i.jsx("div",{className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Raised"}),x?i.jsx("span",{className:"loading loading-spinner loading-sm"}):i.jsxs("p",{className:"text-2xl font-bold",children:["",p.toLocaleString()]}),i.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All donations"})]}),i.jsx(kf,{className:"text-4xl opacity-30"})]})})}),i.jsx("div",{className:"card bg-red-100 shadow-lg hover:shadow-xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),x?i.jsx("span",{className:"loading loading-spinner loading-sm"}):i.jsx("p",{className:"text-2xl font-bold text-primary",children:t}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered accounts"})]}),i.jsx(Hn,{className:"text-3xl text-primary opacity-60"})]})})}),i.jsx("div",{className:"card bg-green-200 shadow-lg hover:shadow-xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Charities"}),x?i.jsx("span",{className:"loading loading-spinner loading-sm"}):i.jsx("p",{className:"text-2xl font-bold text-secondary",children:n}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered charities"})]}),i.jsx(Mo,{className:"text-3xl text-secondary opacity-60"})]})})}),i.jsx("div",{className:"card bg-red-200 shadow-lg hover:shadow-xl transition-shadow",children:i.jsx("div",{className:"card-body bg-gradient-to-br",children:i.jsxs("div",{className:"flex bg-gradient-to-br items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Active Campaigns"}),x?i.jsx("span",{className:"loading loading-spinner loading-sm"}):i.jsx("p",{className:"text-2xl font-bold text-info",children:o}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Approved & ongoing"})]}),i.jsx(jt,{className:"text-3xl text-info opacity-60"})]})})}),i.jsx("div",{className:"card bg-green-200 shadow-lg hover:shadow-xl transition-shadow",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pending Reviews"}),i.jsx("p",{className:"text-2xl font-bold text-warning",children:d}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting approval"})]}),i.jsx(bi,{className:"text-3xl text-warning opacity-60"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Te,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success/20 via-success/10 to-success/5 shadow-lg border border-success/30 hover:shadow-2xl transition-all hover:scale-105",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Completed Campaigns"}),i.jsx("p",{className:"text-3xl font-bold text-success",children:w}),i.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Targets achieved across the platform"})]}),i.jsx(tr,{className:"text-4xl text-success/70"})]})})}),i.jsx(Te,{to:"/dashboard/admin/campaigns/archived",className:"card bg-gradient-to-br from-warning/20 via-warning/10 to-warning/5 shadow-lg border border-warning/30 hover:shadow-2xl transition-all hover:scale-105",children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Ended Campaigns"}),i.jsx("p",{className:"text-3xl font-bold text-warning",children:L}),i.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Awaiting extension & follow-up"})]}),i.jsx(Ci,{className:"text-4xl text-warning/70"})]})})})]}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Te,{to:"/dashboard/admin/campaigns",className:"btn btn-warning btn-lg justify-start",children:[i.jsx(bi,{className:"mr-2"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Review Campaigns"}),i.jsxs("div",{className:"text-xs opacity-70",children:[d," pending approval"]})]})]}),i.jsxs(Te,{to:"/dashboard/admin/campaigns/archived",className:"btn btn-info btn-lg justify-start",children:[i.jsx(Ci,{className:"mr-2"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Manage Extensions"}),i.jsxs("div",{className:"text-xs opacity-70",children:[L," waiting to reopen"]})]})]}),i.jsxs(Te,{to:"/dashboard/admin/messages",className:"btn btn-success btn-lg justify-start",children:[i.jsx(Eo,{className:"mr-2"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{children:"Review Messages"}),i.jsx("div",{className:"text-xs opacity-70",children:"Stay on top of contact requests"})]})]})]})]})})]})]})},pM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0),[o,c]=z.useState(null),[d,f]=z.useState(!1),[p,g]=z.useState("all"),[x,b]=z.useState(new Set),[w,D]=z.useState({all:0,pending:0,approved:0,rejected:0,archived:0}),L=z.useCallback(async()=>{try{s(!0);const B=await mr();D({all:B.length,pending:B.filter(M=>M.status==="pending").length,approved:B.filter(M=>M.status==="approved").length,rejected:B.filter(M=>M.status==="rejected").length,archived:B.filter(M=>M.status==="archived").length}),e(p==="all"?B:B.filter(M=>M.status===p))}catch(B){console.error(B)}finally{s(!1)}},[p]);z.useEffect(()=>{L()},[L]);const A=async(B,M)=>{const k=t.find(E=>E.id===B);if(!k)return;const q=typeof window<"u"?window.Swal:null;if(q&&!(await q.fire({title:"Are you sure?",text:`Do you want to ${M} this campaign?`,icon:"question",showCancelButton:!0,confirmButtonColor:M==="approved"?"#10b981":M==="rejected"?"#ef4444":"#f59e0b",cancelButtonColor:"#6b7280",confirmButtonText:`Yes, ${M} it!`,cancelButtonText:"Cancel"})).isConfirmed)return;b(E=>new Set(E).add(B));let F=null;q&&(F=q.fire({title:"Processing...",text:`Please wait while we ${M} the campaign...`,icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{q.showLoading()}})),e(E=>E.map(S=>S.id===B?{...S,status:M}:S));const I=k.status;D(E=>{const S={...E};return I&&I!=="all"&&(S[I]=Math.max(0,S[I]-1)),M!=="all"&&(S[M]=(S[M]||0)+1),S});let R=!1;try{const E=await cO(B,M);console.log("Status update API response:",E),R=!0;try{q&&F&&await q.close()}catch(S){console.warn("Error closing loading alert:",S)}try{q&&await q.fire({icon:"success",title:`Campaign ${M.charAt(0).toUpperCase()+M.slice(1)}!`,text:`The campaign "${k.title}" has been ${M} successfully.`,timer:3e3,showConfirmButton:!1,confirmButtonColor:"#10b981"})}catch(S){console.warn("Error showing success alert:",S)}L().catch(S=>{console.warn("Failed to refresh campaigns list, but update was successful:",S)})}catch(E){if(console.error("Updated campaign status:",E),console.error("Show details:",{message:E?.message,name:E?.name,campaignId:B,newStatus:M}),!R){try{q&&F&&await q.close()}catch(S){console.warn("Error closing loading alert:",S)}e(S=>S.map(P=>P.id===B?{...P,status:I}:P)),D(S=>{const P={...S};return I&&I!=="all"&&(P[I]=(P[I]||0)+1),M!=="all"&&(P[M]=Math.max(0,P[M]-1)),P});try{q&&await q.fire({icon:"success",title:"Update Success",text:`Failed to ${M} the campaign. Please try again.`,confirmButtonColor:"#ef4444"})}catch(S){console.warn("Error showing error alert:",S)}}}finally{b(E=>{const S=new Set(E);return S.delete(B),S})}},V=B=>{const M=x.has(B.id),k=B.status==="approved",q=B.status==="rejected",F=B.status==="archived",I=B.status==="pending";return{isUpdating:M,isApproved:k,isRejected:q,isArchived:F,isPending:I,canApprove:I&&!M,canReject:I&&!M,canArchive:!M&&(k||q),approveDisabled:k||q||F||M,rejectDisabled:k||q||F||M}};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ms,{className:"animate-spin text-4xl text-white"})}):i.jsxs("div",{className:"space-y-6 p-4 bg-black/70 backdrop-blur rounded-3xl text-white",children:[i.jsxs("div",{className:"bg-black/80 backdrop-blur rounded-2xl p-6 shadow-xl border border-white/10",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Campaign Approvals"}),i.jsx("p",{className:"text-gray-400",children:"Review and manage campaign submissions from charities"})]}),p==="pending"&&t.length>0&&i.jsxs("div",{className:"alert bg-black/60 border border-yellow-500/30 text-white",children:[i.jsx(ja,{className:"text-xl text-yellow-400"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold",children:"Pending Review"}),i.jsxs("p",{className:"text-sm text-gray-400",children:[t.length," campaign(s) waiting for approval"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Filter by Status"}),i.jsx("div",{className:"tabs tabs-boxed bg-black/60 backdrop-blur border border-white/10",children:["all","pending","approved","rejected","archived"].map(B=>i.jsxs("button",{onClick:()=>g(B),className:`tab transition-all !text-white
                                ${p===B?"tab-active bg-white/10":"hover:bg-white/5"}`,children:[B.charAt(0).toUpperCase()+B.slice(1)," (",w[B],")"]},B))})]}),t.length===0?i.jsx("div",{className:"card bg-black/60 backdrop-blur border border-white/10",children:i.jsxs("div",{className:"card-body text-center py-12",children:[i.jsx("h3",{className:"text-xl",children:"No campaigns found"}),i.jsx("p",{className:"text-gray-400",children:"Nothing to display here"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(B=>i.jsxs("div",{className:"card bg-black/70 backdrop-blur border border-white/10 hover:border-white/20 hover:shadow-2xl transition",children:[i.jsx("figure",{children:i.jsx("img",{src:B.image,alt:B.title,className:"w-full h-48 object-cover",onError:M=>M.target.src="https://via.placeholder.com/400x200"})}),i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title",children:B.title}),i.jsxs("div",{className:"bg-white/5 p-3 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(ja,{}),i.jsx("span",{children:B.charityName})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",B.charityId]})]}),i.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[i.jsxs("p",{children:["Goal: ",B.goalAmount.toLocaleString()]}),i.jsxs("p",{children:["Category: ",B.category]}),i.jsxs("p",{children:["End: ",new Date(B.endDate).toLocaleDateString()]})]}),i.jsxs("div",{className:"card-actions mt-4 gap-2",children:[i.jsxs("button",{onClick:()=>{c(B),f(!0)},className:"btn btn-ghost btn-sm text-white hover:bg-white/10",children:[i.jsx(Ks,{})," View"]}),(()=>{const M=V(B);return i.jsxs(i.Fragment,{children:[M.isApproved?i.jsxs("button",{disabled:!0,className:"btn btn-success btn-sm opacity-75 cursor-not-allowed",children:[i.jsx(tr,{})," Approved"]}):i.jsx("button",{onClick:()=>A(B.id,"approved"),disabled:M.approveDisabled,className:`btn btn-success btn-sm ${M.approveDisabled?"opacity-50 cursor-not-allowed":""}`,children:M.isUpdating?i.jsx(ms,{className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(tr,{})," Approve"]})}),M.isRejected?i.jsxs("button",{disabled:!0,className:"btn btn-error btn-sm opacity-75 cursor-not-allowed",children:[i.jsx(By,{})," Rejected"]}):i.jsx("button",{onClick:()=>A(B.id,"rejected"),disabled:M.rejectDisabled,className:`btn btn-error btn-sm ${M.rejectDisabled?"opacity-50 cursor-not-allowed":""}`,children:M.isUpdating?i.jsx(ms,{className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(By,{})," Reject"]})}),M.isArchived?i.jsxs("button",{disabled:!0,className:"btn btn-outline btn-warning btn-sm w-full opacity-75 cursor-not-allowed",children:[i.jsx(Gw,{})," Archived"]}):i.jsx("button",{onClick:()=>A(B.id,"archived"),disabled:!M.canArchive||M.isUpdating,className:`btn btn-outline btn-warning btn-sm w-full ${!M.canArchive||M.isUpdating?"opacity-50 cursor-not-allowed":""}`,children:M.isUpdating?i.jsx(ms,{className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Gw,{})," Archive"]})})]})})()]})]})]},B.id))}),d&&o&&i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-black/80 text-white rounded-2xl max-w-2xl w-full border border-white/10",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold",children:o.title}),i.jsx("button",{onClick:()=>f(!1),children:""})]}),i.jsx("img",{src:o.image,className:"w-full h-64 object-cover rounded-lg mb-4",alt:""}),i.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:o.description})]})})})]})},gM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0),[o,c]=z.useState(null),[d,f]=z.useState(""),[p,g]=z.useState({type:"",text:""}),[x,b]=z.useState(!1);z.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const V=await mr(),B=new Date,M=V.filter(k=>new Date(k.endDate)<B).sort((k,q)=>new Date(k.endDate)-new Date(q.endDate));e(M),g({type:"",text:""})}catch(V){console.error(V),g({type:"error",text:"Unable to load archived campaigns."})}finally{s(!1)}},D=V=>{c(V),f(new Date(V.endDate).toISOString().split("T")[0])},L=()=>{c(null),f(""),b(!1)},A=async V=>{if(V.preventDefault(),!(!o||!d))try{b(!0),await lO(o.id,{endDate:d}),g({type:"success",text:`Extended ${o.title} to ${d}`}),L(),w()}catch(B){console.error(B),g({type:"error",text:"Failed to extend campaign. Please try again."}),b(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Archived Campaigns - Admin"})}),i.jsxs("div",{className:"space-y-6 p-4 bg-black/70 backdrop-blur rounded-3xl text-white",children:[i.jsxs("div",{className:"bg-black/80 backdrop-blur rounded-2xl p-6 shadow-xl border border-white/10 flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[i.jsx(Ci,{}),"Ended Campaigns"]}),i.jsx("p",{className:"text-gray-400",children:"Campaigns that passed their end time appear here automatically. Extend a deadline to bring them back live."})]}),p.text&&i.jsx("div",{className:`alert ${p.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-300":"bg-red-500/10 border border-red-500/30 text-red-300"}`,children:p.text}),n?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-white"})}):t.length===0?i.jsx("div",{className:"card bg-black/60 backdrop-blur border border-white/10 shadow-xl",children:i.jsxs("div",{className:"card-body text-center py-16",children:[i.jsx(Ci,{className:"text-5xl text-yellow-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"No ended campaigns "}),i.jsx("p",{className:"text-gray-400",children:"All approved campaigns are currently within their timeline."})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(V=>i.jsx("div",{className:"card bg-black/70 backdrop-blur border border-white/10 hover:border-white/20 hover:shadow-2xl hover:scale-[1.02] transition-all",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"badge bg-yellow-500/20 text-yellow-300 border border-yellow-500/30",children:"Ended"}),i.jsxs("span",{className:"text-xs text-gray-400",children:["Created ",new Date(V.createdAt).toLocaleDateString()]})]}),i.jsx("h3",{className:"card-title text-lg mt-2",children:V.title}),i.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["By ",V.charityName]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Goal"}),i.jsxs("span",{className:"font-semibold",children:["",V.goalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Raised"}),i.jsxs("span",{className:"font-semibold text-green-400",children:["",(V.currentAmount||0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(gs,{})," Ended On"]}),i.jsx("span",{children:new Date(V.endDate).toLocaleDateString()})]})]}),i.jsx("div",{className:"card-actions mt-4",children:i.jsxs("button",{className:"btn btn-outline btn-warning w-full",onClick:()=>D(V),children:[i.jsx(Kw,{}),"Extend timeline"]})})]})},V.id))}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-black/80 text-white rounded-2xl w-full max-w-md shadow-2xl border border-white/10",children:i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Extend Campaign"}),i.jsx("button",{className:"btn btn-sm btn-ghost text-white",onClick:L,children:""})]}),i.jsx("p",{className:"text-sm text-gray-400",children:o.title}),i.jsxs("form",{className:"space-y-4",onSubmit:A,children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-gray-300 font-semibold",children:"New end date"})}),i.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],className:"input bg-black/60 border border-white/20 text-white",value:d,onChange:V=>f(V.target.value),required:!0})]}),i.jsx("button",{className:"btn btn-warning w-full",disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Kw,{}),"Extend & Restore"]})})]})]})})})]})]})},yM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0),[o,c]=z.useState(null),[d,f]=z.useState(""),[p,g]=z.useState(!1),x=z.useRef(null),b=z.useRef(null),w=()=>{x.current?.scrollIntoView({behavior:"smooth"})};z.useEffect(()=>{o?.replies?.length&&w()},[o?.replies?.length]);const D=z.useCallback(async(A=!1)=>{s(!0);try{const V=await A_({});if(e(V),o){const B=V.find(M=>M.id===o.id||M._id===o._id);B&&c(B)}}catch(V){if(console.error("Failed to fetch messages:",V),A){const B=typeof window<"u"?window.Swal:null;B&&B.fire({icon:"warning",title:"Failed to Load Messages",html:"Could not load messages. Please <strong>reload the browser</strong> to refresh.",confirmButtonText:"Reload Page",confirmButtonColor:"#3b82f6",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"#6b7280"}).then(M=>{M.isConfirmed&&window.location.reload()})}}finally{s(!1)}},[o]);z.useEffect(()=>{(async()=>{s(!0);try{const V=await A_({});e(V)}catch(V){console.error("Failed to fetch messages:",V);const B=typeof window<"u"?window.Swal:null;B&&B.fire({icon:"warning",title:"Failed to Load Messages",html:"Could not load messages. Please <strong>reload the browser</strong> to refresh.",confirmButtonText:"Reload Page",confirmButtonColor:"#3b82f6",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"#6b7280"}).then(M=>{M.isConfirmed&&window.location.reload()})}finally{s(!1)}})()},[]);const L=async A=>{if(A.preventDefault(),!d.trim()||!o||p)return;const V=o._id||o.id,B=d.trim(),M={message:B,actorType:"admin",adminName:"Platform Admin",adminId:"admin",createdAt:new Date().toISOString(),_temp:!0};c(k=>({...k,replies:[...k.replies||[],M]})),e(k=>k.map(q=>q.id===o.id||q._id===o._id?{...q,replies:[...q.replies||[],M]}:q)),f(""),g(!0);try{const k=await fE(V,{reply:B,adminName:"Platform Admin",adminId:"admin",actorType:"admin"});await D(!1)}catch(k){console.error("Failed to send reply:",k),c(F=>({...F,replies:F.replies?.filter(I=>!I._temp)||[]})),e(F=>F.map(I=>I.id===o.id||I._id===o._id?{...I,replies:I.replies?.filter(R=>!R._temp)||[]}:I)),f(B);const q=typeof window<"u"?window.Swal:null;q&&q.fire({icon:"warning",title:"Sending May Have Failed",html:"There was an issue sending your reply. The message may have been sent successfully.<br/><br/>Please <strong>reload the browser</strong> to check if your message was sent.",confirmButtonText:"Reload Page",confirmButtonColor:"#3b82f6",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"#6b7280"}).then(F=>{F.isConfirmed&&window.location.reload()})}finally{g(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Admin Messages"})}),i.jsxs("div",{className:"h-[calc(100vh-120px)] bg-black/70 backdrop-blur rounded-3xl overflow-hidden flex",children:[i.jsxs("div",{className:"w-full max-w-sm border-r border-white/10 overflow-y-auto",children:[i.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-2 text-white",children:[i.jsx(T7,{}),i.jsx("h2",{className:"font-bold",children:"Messages"})]}),n?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(ms,{className:"animate-spin text-2xl text-white"})}):t.length===0?i.jsx("div",{className:"p-8 text-center text-gray-400",children:i.jsx("p",{children:"No messages yet"})}):t.map(A=>i.jsxs("button",{onClick:()=>c(A),className:`w-full text-left p-4 border-b border-white/5 hover:bg-white/10 transition ${o?.id===A.id||o?._id===A._id?"bg-white/10":""}`,children:[i.jsx("p",{className:"font-semibold text-white",children:A.senderName}),i.jsx("p",{className:"text-xs text-gray-400 truncate",children:A.message}),A.replies&&A.replies.length>0&&i.jsxs("p",{className:"text-xs text-blue-400 mt-1",children:[A.replies.length," ",A.replies.length===1?"reply":"replies"]})]},A.id||A._id))]}),i.jsx("div",{className:"flex-1 flex flex-col",children:o?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-white/10",children:[i.jsx("h3",{className:"font-semibold text-white",children:o.senderName}),i.jsx("p",{className:"text-xs text-gray-400",children:o.senderEmail})]}),i.jsxs("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[i.jsx("div",{className:"flex justify-start",children:i.jsxs("div",{className:"bg-white/10 text-white p-3 rounded-2xl max-w-md",children:[i.jsx("p",{className:"whitespace-pre-line",children:o.message}),o.subject&&i.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Subject: ",o.subject]})]})}),o.replies?.map((A,V)=>i.jsx("div",{className:`flex ${A.actorType==="admin"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`p-3 rounded-2xl max-w-md text-sm ${A.actorType==="admin"?"bg-blue-500 text-white":"bg-white/10 text-white"} ${A._temp?"opacity-70":""}`,children:[i.jsx("p",{className:"whitespace-pre-line",children:A.message||A.reply}),A.createdAt&&!A._temp&&i.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date(A.createdAt).toLocaleString()}),A._temp&&i.jsxs("p",{className:"text-xs opacity-75 mt-1 italic flex items-center gap-1",children:[i.jsx(ms,{className:"animate-spin"}),"Sending..."]})]})},A._id||A.id||`reply-${V}`)),i.jsx("div",{ref:x})]}),i.jsxs("form",{onSubmit:L,className:"p-4 border-t border-white/10 flex gap-2",children:[i.jsx("input",{type:"text",className:"input bg-black/60 border border-white/20 text-white flex-1",placeholder:"Type a message",value:d,onChange:A=>f(A.target.value),disabled:p}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p||!d.trim(),children:p?i.jsx(ms,{className:"animate-spin"}):i.jsx(zy,{})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Select a conversation"})})]})]})},xM=()=>{const{userRole:t,loading:e}=nr();return e||!t?i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Loading..."}),i.jsx("div",{className:"loading loading-spinner loading-lg"})]}):t==="admin"?i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Dashboard"}),i.jsx("p",{children:"Welcome, Admin!"}),i.jsx(wu,{to:"/dashboard/admin",replace:!0})]}):t==="charity"?i.jsx(wu,{to:"/dashboard/charity",replace:!0}):i.jsx(wu,{to:"/dashboard/donor",replace:!0})},vM=()=>{const{currentUser:t}=nr(),[e,n]=z.useState([]),[s,o]=z.useState(!0),[c,d]=z.useState("all");z.useEffect(()=>{(async()=>{try{if(o(!0),t?.uid){const b=await iO(t.uid);n(b)}else n([])}catch(b){console.error("Error fetching campaigns:",b)}finally{o(!1)}})()},[t]);const f=()=>c==="all"?e:e.filter(x=>x.status===c),p=x=>{switch(x){case"pending":return i.jsxs("div",{className:"badge badge-warning gap-2",children:[i.jsx(bi,{})," Pending"]});case"approved":return i.jsxs("div",{className:"badge badge-success gap-2",children:[i.jsx(tr,{})," Approved"]});case"rejected":return i.jsxs("div",{className:"badge badge-error gap-2",children:[i.jsx(By,{})," Rejected"]});default:return i.jsx("div",{className:"badge",children:x})}},g=f();return s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"My Campaigns"}),i.jsx("p",{className:"text-lg opacity-95 mt-1",children:"Manage and track your fundraising campaigns"})]}),i.jsxs(Te,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[i.jsx(Pf,{className:"mr-2"})," Create New Campaign"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"card bg-gradient-to-br from-teal-500 via-cyan-500 to-teal-600 shadow-lg border-2 border-teal-400",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-sm text-white font-bold",children:"Total Campaigns"}),i.jsx("p",{className:"text-3xl font-black text-white",children:e.length})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-amber-500 via-orange-500 to-amber-600 shadow-lg border-2 border-amber-400",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-sm text-white font-bold",children:"Pending"}),i.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(x=>x.status==="pending").length})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 shadow-lg border-2 border-emerald-400",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-sm text-white font-bold",children:"Approved"}),i.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(x=>x.status==="approved").length})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-rose-500 via-red-500 to-rose-600 shadow-lg border-2 border-rose-400",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-sm text-white font-bold",children:"Rejected"}),i.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(x=>x.status==="rejected").length})]})})]}),i.jsxs("div",{className:"tabs tabs-boxed bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 text-white shadow-lg border-2 border-teal-600 w-fit",children:[i.jsxs("button",{className:`tab ${c==="all"?"tab-active":""}`,onClick:()=>d("all"),children:["All (",e.length,")"]}),i.jsxs("button",{className:`tab ${c==="pending"?"tab-active":""}`,onClick:()=>d("pending"),children:["Pending (",e.filter(x=>x.status==="pending").length,")"]}),i.jsxs("button",{className:`tab ${c==="approved"?"tab-active":""}`,onClick:()=>d("approved"),children:["Approved (",e.filter(x=>x.status==="approved").length,")"]}),i.jsxs("button",{className:`tab ${c==="rejected"?"tab-active":""}`,onClick:()=>d("rejected"),children:["Rejected (",e.filter(x=>x.status==="rejected").length,")"]})]}),g.length===0?i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsx("div",{className:"card-body text-center py-12",children:i.jsx("h3",{className:"text-xl font-bold text-teal-900",children:"No campaigns found"})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(x=>i.jsxs("div",{className:`card bg-black/70 backdrop-blur-md text-white
                                       shadow-xl border border-teal-500/30
                                       hover:border-cyan-400/60 hover:shadow-cyan-500/20
                                       hover:scale-[1.02] transition-all duration-300`,children:[i.jsxs("figure",{className:"relative",children:[i.jsx("img",{src:x.image,alt:x.title,className:"w-full h-48 object-cover opacity-90",onError:b=>{b.target.src="https://via.placeholder.com/400x200"}}),i.jsx("div",{className:"absolute top-2 right-2",children:p(x.status)})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title text-lg font-bold text-white",children:x.title}),i.jsxs("div",{className:"space-y-2 text-sm p-3 bg-black/60 rounded-lg border border-teal-500/30",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Goal:"}),i.jsxs("span",{className:"font-bold text-teal-300",children:["",x.goalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Raised:"}),i.jsxs("span",{className:"font-bold text-emerald-400",children:["",x.currentAmount.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Category:"}),i.jsx("span",{className:"capitalize font-bold text-cyan-300",children:x.category})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"End Date:"}),i.jsx("span",{className:"font-bold text-teal-300",children:new Date(x.endDate).toLocaleDateString()})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("progress",{className:"progress progress-secondary w-full h-3",value:x.currentAmount,max:x.goalAmount})}),i.jsxs("div",{className:"card-actions justify-end mt-4",children:[i.jsxs("button",{className:"btn btn-outline btn-sm border-gray-500 text-gray-200 hover:bg-white/10",children:[i.jsx(Ks,{className:"mr-1"})," View Details"]}),x.status==="approved"&&i.jsxs("button",{className:"btn btn-sm bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0",children:[i.jsx(Pf,{className:"mr-1"})," Edit"]})]})]})]},x.id))})]})},bM=()=>{const{currentUser:t}=nr(),e=Oi(),[n,s]=z.useState(!1),[o,c]=z.useState(""),[d,f]=z.useState(null),[p,g]=z.useState(null),{register:x,handleSubmit:b,formState:{errors:w}}=ox({defaultValues:{title:"",description:"",goalAmount:"",category:"education",endDate:"",bankAccount:""}}),D=A=>{const V=A.target.files[0];if(V){g(V);const B=new FileReader;B.onloadend=()=>{f(B.result)},B.readAsDataURL(V)}},L=async A=>{try{s(!0),c("");const V=d||"https://via.placeholder.com/800x400",B={...A,charityId:t.uid,charityName:t.displayName||t.email||"Unknown Charity",charityEmail:t.email||"",status:"pending",currentAmount:0,donors:0,image:V,goalAmount:parseFloat(A.goalAmount),endDate:new Date(A.endDate).toISOString()};if(!t?.uid){c("You must be signed in as a charity to create a campaign.");return}const M=await oO(B);console.log("Campaign submitted successfully:",M),await new Promise(k=>setTimeout(k,1e3)),e("/dashboard/charity",{state:{message:"Campaign submitted for approval! Admin will review it soon.",type:"success"}})}catch(V){console.error("Error creating campaign:",V);const B=V?.message||"Failed to create campaign. Please try again.";c(B.includes("Missing required campaign fields")?"Please fill in all required fields and try again.":B)}finally{s(!1)}};return i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-8 mb-8 shadow-xl border-2 border-teal-400/30",children:[i.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Create New Campaign"}),i.jsx("p",{className:"text-lg opacity-95",children:"Fill in the details below to launch your fundraising campaign"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-teal-50 via-cyan-50 to-teal-50 rounded-lg shadow-xl p-8 border-2 border-teal-300",children:[o&&i.jsxs("div",{className:"alert alert-error mb-6 shadow-lg",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:o})]}),i.jsxs("form",{onSubmit:b(L),className:"space-y-8",children:[i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(O7,{className:"text-2xl text-teal-700"}),i.jsx("h3",{className:"text-xl font-bold text-teal-900",children:"Campaign Image"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[i.jsx("div",{className:"avatar",children:i.jsx("div",{className:"w-48 h-48 rounded-xl bg-teal-100 border-4 border-teal-300 shadow-lg",children:d?i.jsx("img",{src:d,alt:"Campaign preview",className:"w-full h-full object-cover rounded-lg"}):i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[i.jsx(Lf,{className:"text-5xl mb-2"}),i.jsx("span",{className:"text-sm",children:"Upload Image"})]})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"file-input file-input-bordered file-input-primary w-full",required:!0}),i.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[i.jsx("p",{children:" Recommended size: 800x400px"}),i.jsx("p",{children:" Supported formats: JPG, PNG, WebP"}),i.jsx("p",{children:" Maximum file size: 5MB"})]})]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-teal-900",children:"Campaign Details"}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-base text-teal-900",children:"Campaign Title *"})}),i.jsx("input",{type:"text",...x("title",{required:"Title is required"}),className:"input input-bordered input-lg w-full  border-teal-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",placeholder:"E.g., Help Build a School in Rural Area"}),w.title&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error font-medium",children:w.title.message})})]}),i.jsxs("div",{className:"form-control mt-4",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-base text-teal-900",children:"Campaign Description *"})}),i.jsx("textarea",{...x("description",{required:"Description is required"}),className:"textarea textarea-bordered textarea-lg h-40  border-teal-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",placeholder:"Tell the story of your campaign... Why is this cause important? How will the funds be used?"}),w.description&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error font-medium",children:w.description.message})})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-cyan-100 via-teal-100 to-cyan-100 shadow-lg border-2 border-cyan-300",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-cyan-900",children:"Financial & Timeline Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[i.jsx(kf,{className:"text-emerald-600"}),"Goal Amount (BDT) *"]})}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2  -translate-y-1/2 text-lg font-bold text-emerald-600",children:""}),i.jsx("input",{type:"number",...x("goalAmount",{required:"Goal amount is required",min:{value:1e3,message:"Minimum amount is 1000 BDT"}}),className:"input input-bordered input-lg w-full pl-10  border-cyan-300 focus:border-emerald-500 focus:ring-emerald-500 text-gray-900",placeholder:"50000",min:"1000",step:"100"})]}),w.goalAmount&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error font-medium",children:w.goalAmount.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text font-bold text-base text-cyan-900",children:"Category *"})}),i.jsxs("select",{...x("category",{required:"Category is required"}),className:"select select-bordered select-lg w-full  border-cyan-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",children:[i.jsx("option",{value:"education",children:" Education"}),i.jsx("option",{value:"health",children:" Health"}),i.jsx("option",{value:"environment",children:" Environment"}),i.jsx("option",{value:"animals",children:" Animals"}),i.jsx("option",{value:"community",children:" Community"}),i.jsx("option",{value:"other",children:" Other"})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[i.jsx(gs,{className:"text-blue-600"}),"Campaign End Date *"]})}),i.jsx("input",{type:"date",...x("endDate",{required:"End date is required",validate:A=>{const V=new Date(A),B=new Date;return B.setHours(0,0,0,0),V>B||"End date must be in the future"}}),className:"input input-bordered input-lg w-full  border-cyan-300 focus:border-blue-500 focus:ring-blue-500 text-gray-900",min:new Date().toISOString().split("T")[0]}),w.endDate&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error font-medium",children:w.endDate.message})})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[i.jsx(z7,{className:"text-amber-600"}),"Bank Account Number or Other Payment Number*"]})}),i.jsx("input",{type:"text",...x("bankAccount",{required:"Bank account is required",pattern:{value:/^[0-9\-\s]+$/,message:"Please enter a valid bank account number"}}),className:"input input-bordered input-lg w-full  border-cyan-300 focus:border-amber-500 focus:ring-amber-500 text-gray-900",placeholder:"e.g., 1234-5678-9012-3456"}),w.bankAccount&&i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text-alt text-error font-medium",children:w.bankAccount.message})})]})]})]})}),i.jsx("div",{className:"card bg-teal-100 border-2 border-teal-300 shadow-lg",children:i.jsx("div",{className:"card-body",children:i.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[i.jsx("input",{type:"checkbox",className:"checkbox checkbox-lg border-teal-500 checked:bg-teal-600",required:!0}),i.jsxs("span",{className:"label-text text-base text-teal-900 font-medium",children:["I confirm that all information provided is accurate and I agree to the platform's ",i.jsx("span",{className:"text-teal-700 font-bold",children:"terms and conditions"}),"."]})]})})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6",children:[i.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn btn-outline btn-lg border-teal-400 text-teal-700 hover:bg-teal-100",disabled:n,children:"Cancel"}),i.jsx("button",{type:"submit",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 btn-lg shadow-lg hover:shadow-xl hover:from-teal-600 hover:to-cyan-700 transition-all",disabled:n,children:n?i.jsxs(i.Fragment,{children:[i.jsx(ms,{className:"animate-spin mr-2"}),"Submitting Campaign..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Lf,{className:"mr-2"}),"Submit for Approval"]})})]})]})]})]})},wM=()=>i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"About Us - Charity Donation Platform"}),i.jsx("meta",{name:"description",content:"Learn about our mission to connect donors with verified charity organizations and make a positive impact in communities across Bangladesh."})]}),i.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[i.jsx("section",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white py-20",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About Our Platform"}),i.jsx("p",{className:"text-xl max-w-3xl mx-auto",children:"Our Charity Donation Platform is a web-based system designed to bridge the gap between donors and verified charitable organizations. We focus on transparency, security, and accountability so people can donate with confidence and create real social impact."})]})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"rounded-lg p-8 bg-gradient-to-br from-pink-500/20 via-purple-500/20 to-indigo-500/20 border border-purple-400/30",children:[i.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Mission"}),i.jsx("p",{className:"text-lg text-white/80 mb-6",children:"Our mission is to simplify the donation process while ensuring transparency and trust. We empower donors with clear insights into how funds are collected, managed, and utilized, and support charitable organizations with efficient digital tools for campaign management."}),i.jsx("p",{className:"text-lg text-white/80",children:"We believe technology can be a powerful force for good, helping build stronger and more compassionate communities through reliable, accountable digital giving."})]}),i.jsx("div",{className:"rounded-lg p-8 bg-gradient-to-br from-pink-500/20 via-purple-500/20 to-indigo-500/20 border border-purple-400/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx(jt,{className:"text-6xl text-pink-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Making Impact"}),i.jsx("p",{className:"text-white/80 mb-3",children:"Every donation, no matter how small, creates ripples of positive change. We make it easy to discover causes, track progress, and contribute meaningfully."}),i.jsx("p",{className:"text-white/80 mb-3",children:"By connecting compassionate donors with verified charities, we ensure that help reaches the right people at the right time."}),i.jsx("p",{className:"text-white/70 text-sm",children:"Together, we turn kindness into action and transform generosity into lasting social impact."})]})})]})})}),i.jsx("section",{className:"py-20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[i.jsx("div",{className:"card bg-gradient-to-br from-indigo-500/20 via-purple-500/20 to-pink-500/20 shadow-xl border border-indigo-400/30",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Our Vision"}),i.jsx("p",{className:"text-white/80 leading-relaxed",children:"Our vision is to build a trustworthy digital ecosystem that encourages social responsibility and maximizes the positive impact of charitable contributions. We aspire to become a leading platform where technology and compassion work together to drive sustainable social change."})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-pink-500/20 via-purple-500/20 to-indigo-500/20 shadow-xl border border-pink-400/30",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Objectives of the Platform"}),i.jsxs("ul",{className:"space-y-3 text-white/80 font-medium",children:[i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-pink-400"}),"Provide a secure and user-friendly donation system"]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-indigo-400"}),"Ensure transparency through real-time fund tracking"]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-purple-400"}),"Verify charities and campaigns before public listing"]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-pink-400"}),"Facilitate fast and flexible donation methods"]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-indigo-400"}),"Support long-term engagement between donors and charities"]})]})]})})]})})}),i.jsx("section",{className:"py-20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"How the Platform Works"}),i.jsx("p",{className:"text-lg text-white/80 max-w-3xl mx-auto",children:"A simple flow that keeps both donors and charities informed, while admins maintain platform trust."})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:["Secure Authentication","Verified Campaigns","Donate & Track","Notifications & Updates","Admin Moderation","Long-Term Engagement"].map((t,e)=>i.jsx("div",{className:"card bg-gradient-to-br from-indigo-500/20 via-purple-500/20 to-pink-500/20 shadow-xl border border-purple-400/30",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h3",{className:"text-xl font-bold",children:[e+1,". ",t]}),i.jsx("p",{className:"text-white/80",children:"Built to ensure trust, transparency, and accountability across the platform."})]})},e))})]})}),i.jsx("section",{className:"py-20 border border-purple-400/20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Our Values"}),i.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[J0,Hn,id,jt].map((t,e)=>i.jsxs("div",{children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(t,{className:"text-3xl text-white"})}),i.jsx("h3",{className:"text-xl font-bold mb-4",children:["Trust & Transparency","Community First","Compassion","Impact"][e]}),i.jsx("p",{className:"text-white/80",children:["We verify all charities and provide complete transparency.","Built for the community and driven by real needs.","Empathy and understanding guide every interaction.","Every decision is made to maximize positive impact."][e]})]},e))})]})}),i.jsx("section",{className:"py-20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Our Team"}),i.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto",children:"Passionate individuals working together to make a difference"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[["Md. Ratan Chowdhury","Founder & CEO"],["Nayeem Khan","CTO"],["Golam Rabbi","Head of Operations"]].map(([t,e],n)=>i.jsx("div",{className:"card bg-gradient-to-br from-indigo-500/20 via-purple-500/20 to-pink-500/20 shadow-xl border border-purple-400/30",children:i.jsxs("div",{className:"card-body text-center",children:[i.jsx("h3",{className:"card-title justify-center",children:t}),i.jsx("p",{className:"text-pink-400 font-semibold",children:e}),i.jsx("p",{className:"text-white/80",children:"Passionate about using technology for social good."})]})},n))})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Join Our Mission"}),i.jsx("p",{className:"text-xl max-w-2xl mx-auto",children:"Whether you're a donor or a charity, together we can make a difference."})]})})]})]}),C_=["General Inquiry","Donation Support","Charity Registration","Technical Issue","Partnership Opportunity"],_M=()=>{const{currentUser:t,userRole:e}=nr(),[n,s]=z.useState({name:"",email:"",subject:C_[0],message:"",wantsReply:!1}),[o,c]=z.useState(!1),[d,f]=z.useState({type:"",text:""}),[p,g]=z.useState([]),[x,b]=z.useState(!1),[w,D]=z.useState({}),[L,A]=z.useState({}),V=z.useCallback((R,E,S)=>{const P=typeof window<"u"?window.Swal:null;P?P.fire({icon:R,title:E,text:S,timer:R==="success"?2e3:void 0,showConfirmButton:R!=="success"}):typeof window<"u"&&window.alert&&window.alert(`${E}${S?`
${S}`:""}`)},[]);z.useEffect(()=>{t&&s(R=>({...R,name:t.displayName||R.name,email:t.email||R.email,wantsReply:!0}))},[t]);const B=R=>{const{name:E,value:S,type:P,checked:C}=R.target;f({type:"",text:""}),s(N=>({...N,[E]:P==="checkbox"?C:S}))},M=z.useCallback(async()=>{if(!t){g([]);return}try{b(!0);const R=await cx(t.uid);g(R)}catch(R){console.error("Failed to load user messages",R)}finally{b(!1)}},[t]);z.useEffect(()=>{M()},[M]);const k=async R=>{if(R.preventDefault(),!n.name.trim()||!n.email.trim()||!n.message.trim()){f({type:"error",text:"Please complete every required field."}),V("warning","Missing information","Please fill out your name, email, and message.");return}c(!0);try{await cM({senderName:n.name.trim(),senderEmail:n.email.trim(),subject:n.subject,message:n.message.trim(),userId:t?.uid||null,userRole:e||"guest",wantsReply:!!(n.wantsReply&&t)}),f({type:"success",text:"Your message has been delivered to the admin team."}),V("success","Message sent!","Our admin team will reply as soon as possible."),s(E=>({...E,message:"",wantsReply:!!t})),M()}catch(E){console.error("Failed to send message",E),f({type:"error",text:"We could not send your message. Please try again."}),V("error","Message failed","We could not send your message. Please try again in a moment.")}finally{c(!1)}},q=(R,E)=>{D(S=>({...S,[R]:E}))},F=async R=>{const E=w[R];if(!t||!E||!E.trim()){f({type:"error",text:"Please enter a reply before sending."}),V("warning","Empty reply","Please write a message before sending.");return}A(S=>({...S,[R]:!0})),f({type:"",text:""});try{await fE(R,{reply:E.trim(),actorType:"user",userId:t.uid,userName:t.displayName||t.email||"You"}),D(S=>({...S,[R]:""})),M(),f({type:"success",text:"Reply sent successfully."}),V("success","Reply sent!","We will keep you updated here.")}catch(S){console.error("Failed to send thread reply",S),f({type:"error",text:"Failed to send reply. Please try again."}),V("error","Reply failed","Please try again.")}finally{A(S=>({...S,[R]:!1}))}},I=R=>[{message:R.message,actorType:R.userId?"user":"guest",actorName:R.senderName,createdAt:R.createdAt},...R.replies||[]].map((S,P)=>{const C=S.actorType==="admin"?S.actorName||"Admin":S.actorType==="user"?"You":S.actorName||"Guest",N=S.actorType==="admin";return i.jsxs("div",{className:`rounded-2xl p-4 text-sm leading-relaxed shadow-sm ${N?"bg-primary text-primary-content":"bg-base-200 text-base-content border border-base-300"}`,children:[i.jsxs("p",{className:`font-semibold text-xs mb-2 ${N?"text-primary-content/80":"text-gray-600"}`,children:[C,"  ",new Date(S.createdAt).toLocaleString()]}),i.jsx("p",{className:"whitespace-pre-line text-base",children:S.message})]},`${R.id}-reply-${P}`)});return i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{children:[i.jsx("title",{children:"Contact Us - Charity Donation Platform"}),i.jsx("meta",{name:"description",content:"Get in touch with our team. We're here to help with any questions about donations, charity registration, or platform features."})]}),i.jsx("div",{className:"min-h-screen  pt-24 pb-16",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("p",{className:"badge badge-primary badge-lg mb-4",children:"We usually reply in under 24 hours"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-3 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Let's build impact together"}),i.jsx("p",{className:"text-lg  max-w-3xl mx-auto font-medium",children:"Whether you're a donor, charity partner, or supporter, our team is here to help you keep campaigns healthy and communities supported."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[i.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center text-white",children:i.jsx(E7,{className:"text-xl"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"card-title text-white mb-0",children:"Send us a message"}),i.jsx("p",{className:"text-sm text-white/90 font-semibold",children:"We'll respond as quickly as possible"})]})]}),!t&&i.jsxs("div",{className:"alert alert-warning mb-4",children:[i.jsx(bu,{className:"text-xl"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Want a reply from admin?"}),i.jsx("p",{className:"text-sm",children:"Please log in first. Guests can still contact us, but replies are only sent to registered users."})]})]}),d.text&&i.jsx("div",{className:`alert ${d.type==="success"?"alert-success":"alert-error"} mb-4`,children:d.text}),i.jsxs("form",{className:"space-y-4",onSubmit:k,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-white font-bold text-base",children:"Name"})}),i.jsx("input",{type:"text",name:"name",value:n.name,onChange:B,placeholder:"Your full name",className:"input bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-white font-bold text-base",children:"Email"})}),i.jsx("input",{type:"email",name:"email",value:n.email,onChange:B,placeholder:"you@email.com",className:"input bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium",required:!0})]})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label ",children:i.jsx("span",{className:"label-text text-white font-bold text-base",children:"Subject"})}),i.jsx("select",{name:"subject",value:n.subject,onChange:B,className:"select bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white font-medium",children:C_.map(R=>i.jsx("option",{value:R,className:"bg-gray-800 text-white",children:R},R))})]}),i.jsxs("div",{className:"form-control",children:[i.jsx("label",{className:"label gap-4",children:i.jsx("span",{className:"label-text text-white font-bold text-base",children:"Message"})}),i.jsx("textarea",{name:"message",value:n.message,onChange:B,className:"textarea bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium h-32",placeholder:"Share how we can support you...",required:!0})]}),i.jsxs("div",{className:"form-control",children:[i.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[i.jsx("input",{type:"checkbox",name:"wantsReply",className:"checkbox checkbox-primary",checked:!!(n.wantsReply&&t),disabled:!t,onChange:B}),i.jsx("span",{className:"label-text text-white font-semibold text-sm",children:"I'd like the admin team to follow up with me via my dashboard inbox"})]}),!t&&i.jsx("p",{className:"text-xs text-white/80 font-semibold mt-1",children:"Login required to receive replies."})]}),i.jsx("button",{className:"btn btn-primary w-full",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zy,{}),"Send Message"]})})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl",children:i.jsxs("div",{className:"card-body",children:[i.jsx(mm,{className:"text-3xl opacity-80"}),i.jsx("p",{className:"uppercase text-xs tracking-wide mt-4 opacity-80",children:"Hotline"}),i.jsx("h3",{className:"text-2xl font-bold",children:"+880 1855745064"}),i.jsx("p",{className:"text-sm opacity-80",children:"24/7 emergency support"})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl",children:i.jsxs("div",{className:"card-body",children:[i.jsx(zl,{className:"text-3xl opacity-80"}),i.jsx("p",{className:"uppercase text-xs tracking-wide mt-4 opacity-80",children:"Email"}),i.jsx("h3",{className:"text-xl font-semibold break-all",children:"support@charitydonation.bd"}),i.jsx("p",{className:"text-sm opacity-80",children:"We reply within one business day"})]})})]}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:i.jsxs("div",{className:"card-body space-y-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(od,{className:"text-white text-xl"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-white",children:"Visit our hub"}),i.jsxs("p",{className:"text-white/90 leading-relaxed font-medium",children:["Charity Donation Platform",i.jsx("br",{}),"Gulshan-1, Dhaka 1212",i.jsx("br",{}),"Bangladesh"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(bi,{className:"text-white text-xl"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-white",children:"Support hours"}),i.jsxs("p",{className:"text-white/90 leading-relaxed font-medium",children:["Sunday - Thursday: 9:00 AM - 8:00 PM",i.jsx("br",{}),"Friday - Saturday: 10:00 AM - 6:00 PM",i.jsx("br",{}),i.jsx("span",{className:"text-white text-sm font-bold",children:"Emergency response available 24/7"})]})]})]})]})}),i.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h3",{className:"card-title mb-2 text-white",children:"Support policy"}),i.jsx("p",{className:"text-sm text-white/90 mb-4 font-medium",children:"All contact messages instantly reach the admin dashboard. Replies appear inside your donor or charity dashboard inbox as soon as an admin responds."}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(bu,{className:"mt-1 text-white text-lg"}),i.jsx("span",{className:"text-white/90 font-medium",children:"Log in before sending a message if you expect a reply."})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(bu,{className:"mt-1 text-white text-lg"}),i.jsx("span",{className:"text-white/90 font-medium",children:"Urgent donation or compliance issues automatically get priority handling."})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(bu,{className:"mt-1 text-white text-lg"}),i.jsx("span",{className:"text-white/90 font-medium",children:"We keep a full history of all conversations for transparency."})]})]})]})})]})]}),t&&i.jsx("div",{id:"inbox",className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-2xl border-2 border-primary/20 mt-12",children:i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"card-title mb-1 text-primary",children:"Your Support Inbox"}),i.jsx("p",{className:"text-sm  font-medium",children:"Continue the conversation with our admin team. Every reply stays in this thread."})]})}),x?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx("span",{className:"loading loading-spinner text-primary"})}):p.length===0?i.jsx("div",{className:"text-center py-10 text-gray-700 font-medium",children:"No previous messages yet. Use the form above to start a new conversation."}):i.jsx("div",{className:"space-y-6",children:p.map(R=>i.jsxs("div",{className:"border-2 border-primary/20 rounded-2xl p-5 bg-gradient-to-br from-white via-primary/5 to-secondary/5 shadow-lg hover:shadow-xl transition-all",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-primary font-semibold",children:R.status}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.subject})]}),i.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:["Updated ",new Date(R.updatedAt||R.createdAt).toLocaleString()]})]}),i.jsx("div",{className:"space-y-3",children:I(R)}),R.canReply?i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-sm font-semibold text-gray-900",children:"Reply to this thread"})}),i.jsx("textarea",{className:"textarea  border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 w-full h-24",placeholder:"Write your reply...",value:w[R.id]||"",onChange:E=>q(R.id,E.target.value)}),i.jsx("button",{className:"btn btn-primary btn-sm mt-2",type:"button",disabled:L[R.id],onClick:()=>F(R.id),children:L[R.id]?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zy,{}),"Send Reply"]})})]}):i.jsx("p",{className:"text-xs text-amber-600 font-semibold mt-3",children:"This conversation started without an account. Please use the contact form above to open a new, reply-enabled thread."})]},R.id))})]})})]})})]})},Qt=({children:t,requiredRole:e=null})=>{const{currentUser:n,userRole:s,loading:o}=nr(),c=Wr();return o?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"loading loading-spinner loading-lg"})}):n?e&&s!==e?i.jsx(wu,{to:"/unauthorized",replace:!0}):t:i.jsx(wu,{to:"/login",state:{from:c},replace:!0})},NM=()=>i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Page Not Found - Charity Platform"})}),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(Te,{to:"/",className:"btn btn-primary btn-lg",children:[i.jsx(D7,{className:"mr-2"}),"Go Home"]}),i.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline btn-lg",children:[i.jsx(Y3,{className:"mr-2"}),"Go Back"]})]})]})})]}),EM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0),[o,c]=z.useState(""),d="https://charity-donation-platform-server.vercel.app";z.useEffect(()=>{(async()=>{try{const g=await fetch(`${d}/users`);if(!g.ok)throw new Error(`Failed to load users: ${g.status}`);const b=(await g.json()).map((w,D)=>({id:w._id||w.id||`user-${D}`,uid:w.uid||"",email:w.email||"",displayName:w.displayName||w.name||"",photoURL:w.photoURL||"",role:w.role||"donor",providerId:w.providerId||"password",createdAt:w.createdAt||null}));e(b)}catch(g){console.error("Failed to load users:",g)}finally{s(!1)}})()},[d]);const f=t.filter(p=>{const g=o.toLowerCase();return p.displayName.toLowerCase().includes(g)||p.email.toLowerCase().includes(g)||p.role.toLowerCase().includes(g)});return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Admin Users - Charity Platform"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl
          bg-black/70 backdrop-blur-md
          shadow-xl border border-indigo-500/30 text-white`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hn,{className:"text-2xl text-indigo-300"}),i.jsx("h1",{className:"text-2xl font-semibold tracking-wide",children:"Users Management"})]}),i.jsxs("div",{className:"join",children:[i.jsx("input",{type:"text",placeholder:"Search name, email, role",value:o,onChange:p=>c(p.target.value),className:`input join-item w-72
                bg-black/60 text-gray-200 placeholder:text-gray-400
                border border-indigo-500/30
                focus:outline-none focus:ring-2 focus:ring-indigo-500`}),i.jsx("button",{className:"btn join-item bg-indigo-600/20 hover:bg-indigo-600/30 text-indigo-200 border border-indigo-500/30",children:i.jsx(Z0,{})})]})]}),i.jsx("div",{className:"card bg-black/70 backdrop-blur-md rounded-2xl shadow-xl border border-indigo-500/30",children:i.jsx("div",{className:"card-body p-0",children:n?i.jsx("div",{className:"p-10 flex justify-center",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-indigo-400"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"table text-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-black/60 text-indigo-300 border-b border-indigo-500/30",children:[i.jsx("th",{children:"#"}),i.jsx("th",{children:"User"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Role"}),i.jsx("th",{children:"Provider"}),i.jsx("th",{children:"Created"})]})}),i.jsx("tbody",{children:f.length>0?f.map((p,g)=>i.jsxs("tr",{className:"hover:bg-indigo-500/10 transition-colors border-b border-indigo-500/10",children:[i.jsx("td",{className:"font-medium text-indigo-400",children:g+1}),i.jsx("td",{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"avatar",children:i.jsx("div",{className:"mask mask-squircle w-10 h-10 ring-2 ring-indigo-500/30",children:i.jsx("img",{src:p.photoURL||"https://i.ibb.co/fH0ZCz1/user-placeholder.png",alt:p.displayName||"User"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-100",children:p.displayName||""}),i.jsx("div",{className:"text-xs text-gray-400",children:p.uid?p.uid.slice(0,8):""})]})]})}),i.jsx("td",{className:"text-gray-300",children:p.email||""}),i.jsx("td",{children:i.jsx("span",{className:"badge bg-indigo-600/20 text-indigo-300 border border-indigo-500/40",children:p.role})}),i.jsx("td",{className:"text-sm text-gray-400",children:p.providerId}),i.jsx("td",{className:"text-sm text-gray-400",children:p.createdAt?new Date(p.createdAt).toLocaleString():""})]},p.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-center py-12 text-gray-500",children:"No users found"})})})]})})})})]})]})},jM=()=>{const[t,e]=z.useState([]),[n,s]=z.useState(!0),[o,c]=z.useState("");z.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await mr(),g={};p.forEach(x=>{g[x.charityId]||(g[x.charityId]={id:x.charityId,name:x.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0,pendingCampaigns:0,rejectedCampaigns:0}),g[x.charityId].campaigns.push(x),g[x.charityId].totalCampaigns++,g[x.charityId].totalRaised+=x.currentAmount||0,x.status==="approved"?g[x.charityId].approvedCampaigns++:x.status==="pending"?g[x.charityId].pendingCampaigns++:x.status==="rejected"&&g[x.charityId].rejectedCampaigns++}),e(Object.values(g)),s(!1)}catch(p){console.error(p),s(!1)}},f=t.filter(p=>p.name.toLowerCase().includes(o.toLowerCase()));return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Admin Charities - Charity Platform"})}),i.jsxs("div",{className:"space-y-6 p-4 rounded-3xl bg-black/70 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between p-5 rounded-2xl bg-black/80 text-white backdrop-blur shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Mo,{className:"text-2xl opacity-90"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Charities Management"})]}),i.jsxs("div",{className:"join",children:[i.jsx("input",{type:"text",placeholder:"Search charities...",value:o,onChange:p=>c(p.target.value),className:"input join-item w-72 bg-black/60 text-white placeholder:text-gray-400 border border-white/20"}),i.jsx("button",{className:"btn join-item bg-white/10 hover:bg-white/20 text-white border-none",children:i.jsx(Z0,{})})]})]}),i.jsxs("div",{className:"stats shadow-lg rounded-2xl bg-black/60 backdrop-blur border border-white/10 text-white",children:[i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-title text-gray-400",children:"Total Charities"}),i.jsx("div",{className:"stat-value",children:t.length}),i.jsx("div",{className:"stat-desc text-gray-500",children:"Registered organizations"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-title text-gray-400",children:"Total Campaigns"}),i.jsx("div",{className:"stat-value",children:t.reduce((p,g)=>p+g.totalCampaigns,0)}),i.jsx("div",{className:"stat-desc text-gray-500",children:"All campaigns combined"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-title text-gray-400",children:"Total Raised"}),i.jsxs("div",{className:"stat-value",children:["",t.reduce((p,g)=>p+g.totalRaised,0).toLocaleString()]}),i.jsx("div",{className:"stat-desc text-gray-500",children:"Across all charities"})]})]}),i.jsx("div",{className:"card rounded-2xl shadow-lg bg-black/70 backdrop-blur border border-white/10 text-white",children:i.jsx("div",{className:"card-body p-0",children:n?i.jsx("div",{className:"p-10 text-center",children:i.jsx("span",{className:"loading loading-spinner loading-lg text-white"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"table",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-black/80 text-white",children:[i.jsx("th",{children:"#"}),i.jsx("th",{children:"Charity"}),i.jsx("th",{children:"Campaigns"}),i.jsx("th",{children:"Approved"}),i.jsx("th",{children:"Pending"}),i.jsx("th",{children:"Total Raised"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:f.map((p,g)=>i.jsxs("tr",{className:"hover:bg-white/10",children:[i.jsx("td",{children:g+1}),i.jsx("td",{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"avatar placeholder",children:i.jsx("div",{className:"bg-white/10 text-white rounded-full w-10",children:i.jsx("span",{children:p.name.charAt(0)})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:p.name}),i.jsxs("div",{className:"text-xs flex items-center gap-1 text-green-400",children:[i.jsx(tr,{})," Registered"]})]})]})}),i.jsx("td",{children:i.jsx("span",{className:"badge bg-white/10 text-white",children:p.totalCampaigns})}),i.jsx("td",{children:i.jsx("span",{className:"badge bg-white/10 text-white",children:p.approvedCampaigns})}),i.jsx("td",{children:i.jsx("span",{className:"badge bg-white/10 text-white",children:p.pendingCampaigns})}),i.jsxs("td",{className:"font-semibold",children:["",p.totalRaised.toLocaleString()]}),i.jsx("td",{children:i.jsx(Te,{to:`/campaigns?charity=${p.id}`,className:"btn btn-sm btn-ghost text-white hover:bg-white/10",children:i.jsx(Ks,{})})})]},p.id))})]})})})})]})]})},SM=()=>{const[t,e]=z.useState({notifications:{emailNotifications:!0,campaignApprovals:!0,newMessages:!0,weeklyReports:!1},platform:{maintenanceMode:!1,allowNewRegistrations:!0,requireEmailVerification:!1,autoApproveCharities:!1},appearance:{theme:"night",primaryColor:"blue",showBanner:!0},security:{sessionTimeout:30,requireStrongPasswords:!0,twoFactorAuth:!1}}),[n,s]=z.useState(!1),[o,c]=z.useState({type:"",text:""}),d=(p,g,x)=>{e(b=>({...b,[p]:{...b[p],[g]:x}}))},f=async()=>{s(!0),c({type:"",text:""}),setTimeout(()=>{c({type:"success",text:"Settings saved successfully!"}),s(!1),setTimeout(()=>c({type:"",text:""}),3e3)},1e3)};return i.jsxs(i.Fragment,{children:[i.jsx(Gt,{children:i.jsx("title",{children:"Admin Settings - Charity Platform"})}),i.jsxs("div",{className:"space-y-6 p-4 bg-black/70 backdrop-blur rounded-3xl text-white",children:[i.jsxs("div",{className:"bg-black/80 backdrop-blur rounded-2xl p-6 shadow-xl border border-white/10 flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[i.jsx(W3,{}),"Admin Settings"]}),i.jsx("p",{className:"text-gray-400",children:"Configure platform settings, notifications, security, and appearance preferences"})]}),o.text&&i.jsx("div",{className:`alert ${o.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-300":"bg-red-500/10 border border-red-500/30 text-red-300"} shadow-lg`,children:o.text}),i.jsx("div",{className:"card bg-black/70 backdrop-blur shadow-xl border border-white/10",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(b7,{className:"text-2xl text-blue-400"}),i.jsx("h2",{className:"card-title",children:"Notification Settings"})]}),i.jsx("div",{className:"space-y-4",children:[["Email Notifications","Receive email alerts","emailNotifications"],["Campaign Approvals","New campaigns need approval","campaignApprovals"],["New Messages","User support messages","newMessages"],["Weekly Reports","Weekly summaries","weeklyReports"]].map(([p,g,x])=>i.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:p}),i.jsx("p",{className:"text-sm text-gray-400",children:g})]}),i.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:t.notifications[x],onChange:b=>d("notifications",x,b.target.checked)})]},x))})]})}),i.jsx("div",{className:"card bg-black/70 backdrop-blur shadow-xl border border-white/10",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(S7,{className:"text-2xl text-purple-400"}),i.jsx("h2",{className:"card-title",children:"Platform Settings"})]}),i.jsx("div",{className:"space-y-4",children:[["Maintenance Mode","Disable public access","maintenanceMode"],["Allow New Registrations","Enable signups","allowNewRegistrations"],["Require Email Verification","Verify emails","requireEmailVerification"],["Auto-Approve Charities","Skip manual approval","autoApproveCharities"]].map(([p,g,x])=>i.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:p}),i.jsx("p",{className:"text-sm text-gray-400",children:g})]}),i.jsx("input",{type:"checkbox",className:"toggle toggle-secondary",checked:t.platform[x],onChange:b=>d("platform",x,b.target.checked)})]},x))})]})}),i.jsx("div",{className:"card bg-black/70 backdrop-blur shadow-xl border border-white/10",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(J0,{className:"text-2xl text-red-400"}),i.jsx("h2",{className:"card-title",children:"Security Settings"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-gray-300 font-semibold",children:"Session Timeout (minutes)"})}),i.jsx("input",{type:"number",min:"5",max:"120",className:"input bg-black/60 border border-white/20 text-white w-full max-w-xs",value:t.security.sessionTimeout,onChange:p=>d("security","sessionTimeout",parseInt(p.target.value))})]}),[["Require Strong Passwords","Enforce complexity","requireStrongPasswords"],["Two-Factor Authentication","Require 2FA","twoFactorAuth"]].map(([p,g,x])=>i.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:p}),i.jsx("p",{className:"text-sm text-gray-400",children:g})]}),i.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:t.security[x],onChange:b=>d("security",x,b.target.checked)})]},x))]})]})}),i.jsx("div",{className:"card bg-black/70 backdrop-blur shadow-xl border border-white/10",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(P7,{className:"text-2xl text-pink-400"}),i.jsx("h2",{className:"card-title",children:"Appearance Settings"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsx("label",{className:"label",children:i.jsx("span",{className:"label-text text-gray-300 font-semibold",children:"Theme"})}),i.jsxs("select",{className:"select bg-black/60 border border-white/20 text-white w-full max-w-xs",value:t.appearance.theme,onChange:p=>d("appearance","theme",p.target.value),children:[i.jsx("option",{value:"night",children:"Night"}),i.jsx("option",{value:"light",children:"Light"}),i.jsx("option",{value:"dark",children:"Dark"})]})]}),i.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Show Banner"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Homepage announcement banner"})]}),i.jsx("input",{type:"checkbox",className:"toggle toggle-secondary",checked:t.appearance.showBanner,onChange:p=>d("appearance","showBanner",p.target.checked)})]})]})]})}),i.jsx("div",{className:"card bg-black/60 backdrop-blur shadow-xl border border-blue-500/20",children:i.jsxs("div",{className:"card-body flex gap-3",children:[i.jsx(bu,{className:"text-2xl text-blue-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold mb-2",children:"About Settings"}),i.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"These settings control platform behavior and appearance. Changes take effect immediately after saving."})]})]})}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{className:"btn btn-primary btn-lg shadow-lg",onClick:f,disabled:n,children:n?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"loading loading-spinner"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(X3,{}),"Save All Settings"]})})})]})]})},TM=HT([{path:"/",element:i.jsx($7,{}),children:[{path:"/",element:i.jsx(jO,{})},{path:"/login",element:i.jsx(QO,{})},{path:"/signup",element:i.jsx(ZO,{})},{path:"/campaigns",element:i.jsx(JO,{})},{path:"/campaigns/:id",element:i.jsx(eM,{})},{path:"/campaigns/:id/donors",element:i.jsx(tM,{})},{path:"/campaigns/:id/donate",element:i.jsx(Qt,{children:i.jsx(nM,{})})},{path:"/campaigns/create",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(rM,{})})},{path:"/charities",element:i.jsx(sM,{})},{path:"/charities/:id",element:i.jsx(iM,{})},{path:"/charities/register",element:i.jsx(oM,{})},{path:"/about",element:i.jsx(wM,{})},{path:"/contact",element:i.jsx(_M,{})},{path:"/profile",element:i.jsx(Qt,{children:i.jsx(Hh,{})})},{path:"/dashboard",element:i.jsx(Qt,{children:i.jsx(G7,{})}),children:[{index:!0,element:i.jsx(xM,{})},{path:"/dashboard/charity",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(fM,{})})},{path:"/dashboard/charity/campaigns",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(vM,{})})},{path:"/dashboard/charity/campaigns/create",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(bM,{})})},{path:"/dashboard/charity/reviews",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(R_,{})})},{path:"/dashboard/charity/profile",element:i.jsx(Qt,{requiredRole:"charity",children:i.jsx(Hh,{})})},{path:"/dashboard/admin",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(mM,{})})},{path:"/dashboard/admin/users",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(EM,{})})},{path:"/dashboard/admin/charities",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(jM,{})})},{path:"/dashboard/admin/campaigns",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(pM,{})})},{path:"/dashboard/admin/campaigns/archived",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(gM,{})})},{path:"/dashboard/admin/messages",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(yM,{})})},{path:"/dashboard/admin/settings",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(SM,{})})},{path:"/dashboard/admin/profile",element:i.jsx(Qt,{requiredRole:"admin",children:i.jsx(Hh,{})})},{path:"/dashboard/donor",element:i.jsx(Qt,{requiredRole:"donor",children:i.jsx(uM,{})})},{path:"/dashboard/donor/donations",element:i.jsx(Qt,{requiredRole:"donor",children:i.jsx(dM,{})})},{path:"/dashboard/donor/saved",element:i.jsx(Qt,{requiredRole:"donor",children:i.jsx(hM,{})})},{path:"/dashboard/donor/reviews",element:i.jsx(Qt,{requiredRole:"donor",children:i.jsx(R_,{})})},{path:"/dashboard/donor/profile",element:i.jsx(Qt,{requiredRole:"donor",children:i.jsx(Hh,{})})}]},{path:"*",element:i.jsx(NM,{})}]}],{basename:"/"}),AM=new R6({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function RM(){return i.jsx(g4,{children:i.jsx(D6,{client:AM,children:i.jsx(q3,{children:i.jsx(r6,{router:TM})})})})}Gj.createRoot(document.getElementById("root")).render(i.jsx(z.StrictMode,{children:i.jsx(q3,{children:i.jsx(RM,{})})}));
