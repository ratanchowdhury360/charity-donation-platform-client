(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},Hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function jS(){if(ib)return Hc;ib=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,c){var d=null;if(c!==void 0&&(d=""+c),i.key!==void 0&&(d=""+i.key),"key"in i){c={};for(var f in i)f!=="key"&&(c[f]=i[f])}else c=i;return i=c.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:c}}return Hc.Fragment=e,Hc.jsx=n,Hc.jsxs=n,Hc}var lb;function RS(){return lb||(lb=1,tg.exports=jS()),tg.exports}var l=RS(),ng={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function CS(){if(ob)return rt;ob=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function L(U,oe,xe){this.props=U,this.context=oe,this.refs=D,this.updater=xe||R}L.prototype.isReactComponent={},L.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function B(U,oe,xe){this.props=U,this.context=oe,this.refs=D,this.updater=xe||R}var q=B.prototype=new Y;q.constructor=B,M(q,L.prototype),q.isPureReactComponent=!0;var G=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function P(U,oe,xe,ve,Ae,Ge){return xe=Ge.ref,{$$typeof:t,type:U,key:oe,ref:xe!==void 0?xe:null,props:Ge}}function N(U,oe){return P(U.type,oe,void 0,void 0,void 0,U.props)}function T(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function k(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return oe[xe]})}var I=/\/+/g;function A(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):oe.toString(36)}function S(){}function ae(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(S,S):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function V(U,oe,xe,ve,Ae){var Ge=typeof U;(Ge==="undefined"||Ge==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Ge){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case t:case e:Fe=!0;break;case v:return Fe=U._init,V(Fe(U._payload),oe,xe,ve,Ae)}}if(Fe)return Ae=Ae(U),Fe=ve===""?"."+A(U,0):ve,G(Ae)?(xe="",Fe!=null&&(xe=Fe.replace(I,"$&/")+"/"),V(Ae,oe,xe,"",function(Ln){return Ln})):Ae!=null&&(T(Ae)&&(Ae=N(Ae,xe+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(I,"$&/")+"/")+Fe)),oe.push(Ae)),1;Fe=0;var Ut=ve===""?".":ve+":";if(G(U))for(var gt=0;gt<U.length;gt++)ve=U[gt],Ge=Ut+A(ve,gt),Fe+=V(ve,oe,xe,Ge,Ae);else if(gt=_(U),typeof gt=="function")for(U=gt.call(U),gt=0;!(ve=U.next()).done;)ve=ve.value,Ge=Ut+A(ve,gt++),Fe+=V(ve,oe,xe,Ge,Ae);else if(Ge==="object"){if(typeof U.then=="function")return V(ae(U),oe,xe,ve,Ae);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function $(U,oe,xe){if(U==null)return U;var ve=[],Ae=0;return V(U,ve,"","",function(Ge){return oe.call(xe,Ge,Ae++)}),ve}function Z(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Se(){}return rt.Children={map:$,forEach:function(U,oe,xe){$(U,function(){oe.apply(this,arguments)},xe)},count:function(U){var oe=0;return $(U,function(){oe++}),oe},toArray:function(U){return $(U,function(oe){return oe})||[]},only:function(U){if(!T(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},rt.Component=L,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=B,rt.StrictMode=s,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,rt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return z.H.useMemoCache(U)}},rt.cache=function(U){return function(){return U.apply(null,arguments)}},rt.cloneElement=function(U,oe,xe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ve=M({},U.props),Ae=U.key,Ge=void 0;if(oe!=null)for(Fe in oe.ref!==void 0&&(Ge=void 0),oe.key!==void 0&&(Ae=""+oe.key),oe)!O.call(oe,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&oe.ref===void 0||(ve[Fe]=oe[Fe]);var Fe=arguments.length-2;if(Fe===1)ve.children=xe;else if(1<Fe){for(var Ut=Array(Fe),gt=0;gt<Fe;gt++)Ut[gt]=arguments[gt+2];ve.children=Ut}return P(U.type,Ae,void 0,void 0,Ge,ve)},rt.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},rt.createElement=function(U,oe,xe){var ve,Ae={},Ge=null;if(oe!=null)for(ve in oe.key!==void 0&&(Ge=""+oe.key),oe)O.call(oe,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ae[ve]=oe[ve]);var Fe=arguments.length-2;if(Fe===1)Ae.children=xe;else if(1<Fe){for(var Ut=Array(Fe),gt=0;gt<Fe;gt++)Ut[gt]=arguments[gt+2];Ae.children=Ut}if(U&&U.defaultProps)for(ve in Fe=U.defaultProps,Fe)Ae[ve]===void 0&&(Ae[ve]=Fe[ve]);return P(U,Ge,void 0,void 0,null,Ae)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(U){return{$$typeof:f,render:U}},rt.isValidElement=T,rt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Z}},rt.memo=function(U,oe){return{$$typeof:g,type:U,compare:oe===void 0?null:oe}},rt.startTransition=function(U){var oe=z.T,xe={};z.T=xe;try{var ve=U(),Ae=z.S;Ae!==null&&Ae(xe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Se,ue)}catch(Ge){ue(Ge)}finally{z.T=oe}},rt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},rt.use=function(U){return z.H.use(U)},rt.useActionState=function(U,oe,xe){return z.H.useActionState(U,oe,xe)},rt.useCallback=function(U,oe){return z.H.useCallback(U,oe)},rt.useContext=function(U){return z.H.useContext(U)},rt.useDebugValue=function(){},rt.useDeferredValue=function(U,oe){return z.H.useDeferredValue(U,oe)},rt.useEffect=function(U,oe,xe){var ve=z.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ve.useEffect(U,oe)},rt.useId=function(){return z.H.useId()},rt.useImperativeHandle=function(U,oe,xe){return z.H.useImperativeHandle(U,oe,xe)},rt.useInsertionEffect=function(U,oe){return z.H.useInsertionEffect(U,oe)},rt.useLayoutEffect=function(U,oe){return z.H.useLayoutEffect(U,oe)},rt.useMemo=function(U,oe){return z.H.useMemo(U,oe)},rt.useOptimistic=function(U,oe){return z.H.useOptimistic(U,oe)},rt.useReducer=function(U,oe,xe){return z.H.useReducer(U,oe,xe)},rt.useRef=function(U){return z.H.useRef(U)},rt.useState=function(U){return z.H.useState(U)},rt.useSyncExternalStore=function(U,oe,xe){return z.H.useSyncExternalStore(U,oe,xe)},rt.useTransition=function(){return z.H.useTransition()},rt.version="19.1.1",rt}var cb;function Ci(){return cb||(cb=1,ng.exports=CS()),ng.exports}var F=Ci();const Dt=jf(F);var rg={exports:{}},Gc={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function IS(){return ub||(ub=1,(function(t){function e($,Z){var ue=$.length;$.push(Z);e:for(;0<ue;){var Se=ue-1>>>1,U=$[Se];if(0<i(U,Z))$[Se]=Z,$[ue]=U,ue=Se;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var Z=$[0],ue=$.pop();if(ue!==Z){$[0]=ue;e:for(var Se=0,U=$.length,oe=U>>>1;Se<oe;){var xe=2*(Se+1)-1,ve=$[xe],Ae=xe+1,Ge=$[Ae];if(0>i(ve,ue))Ae<U&&0>i(Ge,ve)?($[Se]=Ge,$[Ae]=ue,Se=Ae):($[Se]=ve,$[xe]=ue,Se=xe);else if(Ae<U&&0>i(Ge,ue))$[Se]=Ge,$[Ae]=ue,Se=Ae;else break e}}return Z}function i($,Z){var ue=$.sortIndex-Z.sortIndex;return ue!==0?ue:$.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],g=[],v=1,b=null,_=3,R=!1,M=!1,D=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G($){for(var Z=n(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=$)s(g),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(g)}}function z($){if(D=!1,G($),!M)if(n(p)!==null)M=!0,O||(O=!0,A());else{var Z=n(g);Z!==null&&V(z,Z.startTime-$)}}var O=!1,P=-1,N=5,T=-1;function k(){return L?!0:!(t.unstable_now()-T<N)}function I(){if(L=!1,O){var $=t.unstable_now();T=$;var Z=!0;try{e:{M=!1,D&&(D=!1,B(P),P=-1),R=!0;var ue=_;try{t:{for(G($),b=n(p);b!==null&&!(b.expirationTime>$&&k());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,_=b.priorityLevel;var U=Se(b.expirationTime<=$);if($=t.unstable_now(),typeof U=="function"){b.callback=U,G($),Z=!0;break t}b===n(p)&&s(p),G($)}else s(p);b=n(p)}if(b!==null)Z=!0;else{var oe=n(g);oe!==null&&V(z,oe.startTime-$),Z=!1}}break e}finally{b=null,_=ue,R=!1}Z=void 0}}finally{Z?A():O=!1}}}var A;if(typeof q=="function")A=function(){q(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ae=S.port2;S.port1.onmessage=I,A=function(){ae.postMessage(null)}}else A=function(){Y(I,0)};function V($,Z){P=Y(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ue=_;_=Z;try{return $()}finally{_=ue}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=_;_=$;try{return Z()}finally{_=ue}},t.unstable_scheduleCallback=function($,Z,ue){var Se=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ue+U,$={id:v++,callback:Z,priorityLevel:$,startTime:ue,expirationTime:U,sortIndex:-1},ue>Se?($.sortIndex=ue,e(g,$),n(p)===null&&$===n(g)&&(D?(B(P),P=-1):D=!0,V(z,ue-Se))):($.sortIndex=U,e(p,$),M||R||(M=!0,O||(O=!0,A()))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var Z=_;return function(){var ue=_;_=Z;try{return $.apply(this,arguments)}finally{_=ue}}}})(ag)),ag}var db;function DS(){return db||(db=1,sg.exports=IS()),sg.exports}var ig={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function OS(){if(hb)return Vn;hb=1;var t=Ci();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,v)},Vn.flushSync=function(p){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=v,s.d.f()}},Vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:_,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Vn.requestFormReset=function(p){s.d.r(p)},Vn.unstable_batchedUpdates=function(p,g){return p(g)},Vn.useFormState=function(p,g,v){return d.H.useFormState(p,g,v)},Vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Vn.version="19.1.1",Vn}var fb;function mw(){if(fb)return ig.exports;fb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=OS(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function MS(){if(mb)return Gc;mb=1;var t=DS(),e=Ci(),n=mw();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function d(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(c(r)!==r)throw Error(s(188))}function p(r){var a=r.alternate;if(!a){if(a=c(r),a===null)throw Error(s(188));return a!==r?null:r}for(var o=r,u=a;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===u)return f(m),a;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=y;else{for(var E=!1,j=m.child;j;){if(j===o){E=!0,o=m,u=y;break}if(j===u){E=!0,u=m,o=y;break}j=j.sibling}if(!E){for(j=y.child;j;){if(j===o){E=!0,o=y,u=m;break}if(j===u){E=!0,u=y,o=m;break}j=j.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function A(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var S=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===S?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList";case T:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case q:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case G:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:ae(r.type)||"Memo";case N:a=r._payload,r=r._init;try{return ae(r(a))}catch{}}return null}var V=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Se=[],U=-1;function oe(r){return{current:r}}function xe(r){0>U||(r.current=Se[U],Se[U]=null,U--)}function ve(r,a){U++,Se[U]=r.current,r.current=a}var Ae=oe(null),Ge=oe(null),Fe=oe(null),Ut=oe(null);function gt(r,a){switch(ve(Fe,a),ve(Ge,r),ve(Ae,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?M1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=M1(a),r=P1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(Ae),ve(Ae,r)}function Ln(){xe(Ae),xe(Ge),xe(Fe)}function Tt(r){r.memoizedState!==null&&ve(Ut,r);var a=Ae.current,o=P1(a,r.type);a!==o&&(ve(Ge,r),ve(Ae,o))}function yn(r){Ge.current===r&&(xe(Ae),xe(Ge)),Ut.current===r&&(xe(Ut),Uc._currentValue=ue)}var mr=Object.prototype.hasOwnProperty,Wr=t.unstable_scheduleCallback,vn=t.unstable_cancelCallback,gs=t.unstable_shouldYield,Ra=t.unstable_requestPaint,An=t.unstable_now,Ol=t.unstable_getCurrentPriorityLevel,ys=t.unstable_ImmediatePriority,Q=t.unstable_UserBlockingPriority,ne=t.unstable_NormalPriority,de=t.unstable_LowPriority,Te=t.unstable_IdlePriority,Ee=t.log,_e=t.unstable_setDisableYieldValue,we=null,Ce=null;function tt(r){if(typeof Ee=="function"&&_e(r),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(we,r)}catch{}}var yt=Math.clz32?Math.clz32:Ar,Xr=Math.log,Qt=Math.LN2;function Ar(r){return r>>>=0,r===0?32:31-(Xr(r)/Qt|0)|0}var rr=256,sr=4194304;function Gn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function jr(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var m=0,y=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var j=u&134217727;return j!==0?(u=j&~y,u!==0?m=Gn(u):(E&=j,E!==0?m=Gn(E):o||(o=j&~r,o!==0&&(m=Gn(o))))):(j=u&~y,j!==0?m=Gn(j):E!==0?m=Gn(E):o||(o=u&~r,o!==0&&(m=Gn(o)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,o=a&-a,y>=o||y===32&&(o&4194048)!==0)?a:m}function ar(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Zr(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var r=rr;return rr<<=1,(rr&4194048)===0&&(rr=256),r}function Pi(){var r=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),r}function Rr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Jr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ca(r,a,o,u,m,y){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var j=r.entanglements,H=r.expirationTimes,re=r.hiddenUpdates;for(o=E&~o;0<o;){var he=31-yt(o),pe=1<<he;j[he]=0,H[he]=-1;var ie=re[he];if(ie!==null)for(re[he]=null,he=0;he<ie.length;he++){var le=ie[he];le!==null&&(le.lane&=-536870913)}o&=~pe}u!==0&&$n(r,u,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~a))}function $n(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function vs(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-yt(o),m=1<<u;m&a|r[u]&a&&(r[u]|=a),o&=~m}}function xs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ia(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function K(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:eb(r.type))}function J(r,a){var o=Z.p;try{return Z.p=r,a()}finally{Z.p=o}}var se=Math.random().toString(36).slice(2),ge="__reactFiber$"+se,be="__reactProps$"+se,Ie="__reactContainer$"+se,Ve="__reactEvents$"+se,Me="__reactListeners$"+se,Pe="__reactHandles$"+se,qe="__reactResources$"+se,Le="__reactMarker$"+se;function ke(r){delete r[ge],delete r[be],delete r[Ve],delete r[Me],delete r[Pe]}function nt(r){var a=r[ge];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Ie]||o[ge]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=U1(r);r!==null;){if(o=r[ge])return o;r=U1(r)}return a}r=o,o=r.parentNode}return null}function vt(r){if(r=r[ge]||r[Ie]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ot(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function bt(r){var a=r[qe];return a||(a=r[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Je(r){r[Le]=!0}var _t=new Set,ir={};function jn(r,a){xn(r,a),xn(r+"Capture",a)}function xn(r,a){for(ir[r]=a,r=0;r<a.length;r++)_t.add(a[r])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Da={},pr={};function Cr(r){return mr.call(pr,r)?!0:mr.call(Da,r)?!1:Kn.test(r)?pr[r]=!0:(Da[r]=!0,!1)}function gr(r,a,o){if(Cr(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Qn(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function We(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Ft,Ys;function Yn(r){if(Ft===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Ft=a&&a[1]||"",Ys=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+r+Ys}var Pt=!1;function es(r,a){if(!r||Pt)return"";Pt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var ie=le}Reflect.construct(r,[],pe)}else{try{pe.call()}catch(le){ie=le}r.call(pe.prototype)}}else{try{throw Error()}catch(le){ie=le}(pe=r())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],j=y[1];if(E&&j){var H=E.split(`
`),re=j.split(`
`);for(m=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;m<re.length&&!re[m].includes("DetermineComponentFrameRoot");)m++;if(u===H.length||m===re.length)for(u=H.length-1,m=re.length-1;1<=u&&0<=m&&H[u]!==re[m];)m--;for(;1<=u&&0<=m;u--,m--)if(H[u]!==re[m]){if(u!==1||m!==1)do if(u--,m--,0>m||H[u]!==re[m]){var he=`
`+H[u].replace(" at new "," at ");return r.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",r.displayName)),he}while(1<=u&&0<=m);break}}}finally{Pt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Yn(o):""}function Oa(r){switch(r.tag){case 26:case 27:case 5:return Yn(r.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return es(r.type,!1);case 11:return es(r.type.render,!1);case 1:return es(r.type,!0);case 31:return Yn("Activity");default:return""}}function Ma(r){try{var a="";do a+=Oa(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ko(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function am(r){var a=Ko(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ml(r){r._valueTracker||(r._valueTracker=am(r))}function Qo(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Ko(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Li(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var im=/[\n"\\]/g;function en(r){return r.replace(im,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function yr(r,a,o,u,m,y,E,j){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Wn(a)):r.value!==""+Wn(a)&&(r.value=""+Wn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Pa(r,E,Wn(a)):o!=null?Pa(r,E,Wn(o)):u!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+Wn(j):r.removeAttribute("name")}function ki(r,a,o,u,m,y,E,j){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;o=o!=null?""+Wn(o):"",a=a!=null?""+Wn(a):o,j||a===r.value||(r.value=a),r.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=j?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Pa(r,a,o){a==="number"&&Li(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ws(r,a,o,u){if(r=r.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=a.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Wn(o),a=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function jt(r,a,o){if(a!=null&&(a=""+Wn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Wn(o):""}function Vi(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(s(92));if(V(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Wn(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Ir(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Ui=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Ui.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Yo(r,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&o[m]!==u&&ad(r,m,u)}else for(var y in a)a.hasOwnProperty(y)&&ad(r,y,a[y])}function Wo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(r){return om.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xs=null;function Dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zs=null,Js=null;function Xo(r){var a=vt(r);if(a&&(r=a.stateNode)){var o=r[be]||null;e:switch(r=a.stateNode,a.type){case"input":if(yr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var m=u[be]||null;if(!m)throw Error(s(90));yr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Qo(u)}break e;case"textarea":jt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ws(r,!!o.multiple,a,!1)}}}var bs=!1;function id(r,a,o){if(bs)return r(a,o);bs=!0;try{var u=r(a);return u}finally{if(bs=!1,(Zs!==null||Js!==null)&&(Jd(),Zs&&(a=Zs,r=Js,Js=Zs=null,Xo(a),r)))for(a=0;a<r.length;a++)Xo(r[a])}}function zi(r,a){var o=r.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(ts)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Or=!1}var _s=null,La=null,ea=null;function Zo(){if(ea)return ea;var r,a=La,o=a.length,u,m="value"in _s?_s.value:_s.textContent,y=m.length;for(r=0;r<o&&a[r]===m[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===m[y-u];u++);return ea=m.slice(r,1<u?1-u:void 0)}function ws(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Es(){return!0}function Jo(){return!1}function bn(r){function a(o,u,m,y,E){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(o=r[j],this[j]=o?o(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Es:Jo,this.isPropagationStopped=Jo,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),a}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=bn(Nt),Bi=v({},Nt,{view:0,detail:0}),ld=bn(Bi),kl,Vl,Ns,qi=v({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ns&&(Ns&&r.type==="mousemove"?(kl=r.screenX-Ns.screenX,Vl=r.screenY-Ns.screenY):Vl=kl=0,Ns=r),kl)},movementY:function(r){return"movementY"in r?r.movementY:Vl}}),Mr=bn(qi),od=v({},qi,{dataTransfer:0}),cm=bn(od),Hi=v({},Bi,{relatedTarget:0}),Ul=bn(Hi),ec=v({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),zl=bn(ec),cd=v({},Nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fl=bn(cd),um=v({},Nt,{data:0}),tc=bn(um),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=dd[r])?!!a[r]:!1}function $i(){return nc}var hd=v({},Bi,{key:function(r){if(r.key){var a=Gi[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ud[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(r){return r.type==="keypress"?ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bl=bn(hd),fd=v({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=bn(fd),ta=v({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),md=bn(ta),pd=v({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gd=bn(pd),yd=v({},qi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ql=bn(yd),Xn=v({},Nt,{newState:0,oldState:0}),vd=bn(Xn),xd=[9,13,27,32],Ts=ts&&"CompositionEvent"in window,h=null;ts&&"documentMode"in document&&(h=document.documentMode);var x=ts&&"TextEvent"in window&&!h,w=ts&&(!Ts||h&&8<h&&11>=h),C=" ",ee=!1;function ce(r,a){switch(r){case"keyup":return xd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ne(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ht=!1;function un(r,a){switch(r){case"compositionend":return Ne(a);case"keypress":return a.which!==32?null:(ee=!0,C);case"textInput":return r=a.data,r===C&&ee?null:r;default:return null}}function ft(r,a){if(ht)return r==="compositionend"||!Ts&&ce(r,a)?(r=Zo(),ea=La=_s=null,ht=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!_n[r.type]:a==="textarea"}function na(r,a,o,u){Zs?Js?Js.push(u):Js=[u]:Zs=u,a=ah(a,"onChange"),0<a.length&&(o=new Ll("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Rn=null,Ss=null;function sc(r){R1(r,0)}function bd(r){var a=Ot(r);if(Qo(a))return r}function Wv(r,a){if(r==="change")return a}var Xv=!1;if(ts){var dm;if(ts){var hm="oninput"in document;if(!hm){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),hm=typeof Zv.oninput=="function"}dm=hm}else dm=!1;Xv=dm&&(!document.documentMode||9<document.documentMode)}function Jv(){Rn&&(Rn.detachEvent("onpropertychange",e0),Ss=Rn=null)}function e0(r){if(r.propertyName==="value"&&bd(Ss)){var a=[];na(a,Ss,r,Dr(r)),id(sc,a)}}function sT(r,a,o){r==="focusin"?(Jv(),Rn=a,Ss=o,Rn.attachEvent("onpropertychange",e0)):r==="focusout"&&Jv()}function aT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bd(Ss)}function iT(r,a){if(r==="click")return bd(a)}function lT(r,a){if(r==="input"||r==="change")return bd(a)}function oT(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var vr=typeof Object.is=="function"?Object.is:oT;function ac(r,a){if(vr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!mr.call(a,m)||!vr(r[m],a[m]))return!1}return!0}function t0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function n0(r,a){var o=t0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=t0(o)}}function r0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?r0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function s0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Li(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Li(r.document)}return a}function fm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var cT=ts&&"documentMode"in document&&11>=document.documentMode,Hl=null,mm=null,ic=null,pm=!1;function a0(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||Hl==null||Hl!==Li(u)||(u=Hl,"selectionStart"in u&&fm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ic&&ac(ic,u)||(ic=u,u=ah(mm,"onSelect"),0<u.length&&(a=new Ll("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Hl)))}function Ki(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Gl={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},gm={},i0={};ts&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function Qi(r){if(gm[r])return gm[r];if(!Gl[r])return r;var a=Gl[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in i0)return gm[r]=a[o];return r}var l0=Qi("animationend"),o0=Qi("animationiteration"),c0=Qi("animationstart"),uT=Qi("transitionrun"),dT=Qi("transitionstart"),hT=Qi("transitioncancel"),u0=Qi("transitionend"),d0=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function ns(r,a){d0.set(r,a),jn(a,[r])}var h0=new WeakMap;function Pr(r,a){if(typeof r=="object"&&r!==null){var o=h0.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Ma(a)},h0.set(r,a),a)}return{value:r,source:a,stack:Ma(a)}}var Lr=[],$l=0,vm=0;function _d(){for(var r=$l,a=vm=$l=0;a<r;){var o=Lr[a];Lr[a++]=null;var u=Lr[a];Lr[a++]=null;var m=Lr[a];Lr[a++]=null;var y=Lr[a];if(Lr[a++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}y!==0&&f0(o,m,y)}}function wd(r,a,o,u){Lr[$l++]=r,Lr[$l++]=a,Lr[$l++]=o,Lr[$l++]=u,vm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function xm(r,a,o,u){return wd(r,a,o,u),Ed(r)}function Kl(r,a){return wd(r,null,null,a),Ed(r)}function f0(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&a!==null&&(m=31-yt(o),r=y.hiddenUpdates,u=r[m],u===null?r[m]=[a]:u.push(a),a.lane=o|536870912),y):null}function Ed(r){if(50<Ic)throw Ic=0,Tp=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Ql={};function fT(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(r,a,o,u){return new fT(r,a,o,u)}function bm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ra(r,a){var o=r.alternate;return o===null?(o=xr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function m0(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Nd(r,a,o,u,m,y){var E=0;if(u=r,typeof r=="function")bm(r)&&(E=1);else if(typeof r=="string")E=pS(r,o,Ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case T:return r=xr(31,o,a,m),r.elementType=T,r.lanes=y,r;case M:return Yi(o.children,m,y,a);case D:E=8,m|=24;break;case L:return r=xr(12,o,a,m|2),r.elementType=L,r.lanes=y,r;case z:return r=xr(13,o,a,m),r.elementType=z,r.lanes=y,r;case O:return r=xr(19,o,a,m),r.elementType=O,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case q:E=10;break e;case B:E=9;break e;case G:E=11;break e;case P:E=14;break e;case N:E=16,u=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return a=xr(E,o,a,m),a.elementType=r,a.type=u,a.lanes=y,a}function Yi(r,a,o,u){return r=xr(7,r,u,a),r.lanes=o,r}function _m(r,a,o){return r=xr(6,r,null,a),r.lanes=o,r}function wm(r,a,o){return a=xr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Yl=[],Wl=0,Td=null,Sd=0,kr=[],Vr=0,Wi=null,sa=1,aa="";function Xi(r,a){Yl[Wl++]=Sd,Yl[Wl++]=Td,Td=r,Sd=a}function p0(r,a,o){kr[Vr++]=sa,kr[Vr++]=aa,kr[Vr++]=Wi,Wi=r;var u=sa;r=aa;var m=32-yt(u)-1;u&=~(1<<m),o+=1;var y=32-yt(a)+m;if(30<y){var E=m-m%5;y=(u&(1<<E)-1).toString(32),u>>=E,m-=E,sa=1<<32-yt(a)+m|o<<m|u,aa=y+r}else sa=1<<y|o<<m|u,aa=r}function Em(r){r.return!==null&&(Xi(r,1),p0(r,1,0))}function Nm(r){for(;r===Td;)Td=Yl[--Wl],Yl[Wl]=null,Sd=Yl[--Wl],Yl[Wl]=null;for(;r===Wi;)Wi=kr[--Vr],kr[Vr]=null,aa=kr[--Vr],kr[Vr]=null,sa=kr[--Vr],kr[Vr]=null}var Zn=null,$t=null,wt=!1,Zi=null,As=!1,Tm=Error(s(519));function Ji(r){var a=Error(s(418,""));throw cc(Pr(a,r)),Tm}function g0(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[ge]=r,a[be]=u,o){case"dialog":ot("cancel",a),ot("close",a);break;case"iframe":case"object":case"embed":ot("load",a);break;case"video":case"audio":for(o=0;o<Oc.length;o++)ot(Oc[o],a);break;case"source":ot("error",a);break;case"img":case"image":case"link":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"input":ot("invalid",a),ki(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ml(a);break;case"select":ot("invalid",a);break;case"textarea":ot("invalid",a),Vi(a,u.value,u.defaultValue,u.children),Ml(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||O1(a.textContent,o)?(u.popover!=null&&(ot("beforetoggle",a),ot("toggle",a)),u.onScroll!=null&&ot("scroll",a),u.onScrollEnd!=null&&ot("scrollend",a),u.onClick!=null&&(a.onclick=ih),a=!0):a=!1,a||Ji(r)}function y0(r){for(Zn=r.return;Zn;)switch(Zn.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Zn=Zn.return}}function lc(r){if(r!==Zn)return!1;if(!wt)return y0(r),wt=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fp(r.type,r.memoizedProps)),o=!o),o&&$t&&Ji(r),y0(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){$t=ss(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}$t=null}}else a===27?(a=$t,Za(r.type)?(r=Gp,Gp=null,$t=r):$t=a):$t=Zn?ss(r.stateNode.nextSibling):null;return!0}function oc(){$t=Zn=null,wt=!1}function v0(){var r=Zi;return r!==null&&(cr===null?cr=r:cr.push.apply(cr,r),Zi=null),r}function cc(r){Zi===null?Zi=[r]:Zi.push(r)}var Sm=oe(null),el=null,ia=null;function ka(r,a,o){ve(Sm,a._currentValue),a._currentValue=o}function la(r){r._currentValue=Sm.current,xe(Sm)}function Am(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function jm(r,a,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var j=y;y=m;for(var H=0;H<a.length;H++)if(j.context===a[H]){y.lanes|=o,j=y.alternate,j!==null&&(j.lanes|=o),Am(y.return,o,r),u||(E=null);break e}y=j.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Am(E,o,r),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===r){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function uc(r,a,o,u){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var j=m.type;vr(m.pendingProps.value,E.value)||(r!==null?r.push(j):r=[j])}}else if(m===Ut.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Uc):r=[Uc])}m=m.return}r!==null&&jm(a,r,o,u),a.flags|=262144}function Ad(r){for(r=r.firstContext;r!==null;){if(!vr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function tl(r){el=r,ia=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function kn(r){return x0(el,r)}function jd(r,a){return el===null&&tl(r),x0(r,a)}function x0(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},ia===null){if(r===null)throw Error(s(308));ia=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ia=ia.next=a;return o}var mT=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},pT=t.unstable_scheduleCallback,gT=t.unstable_NormalPriority,hn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new mT,data:new Map,refCount:0}}function dc(r){r.refCount--,r.refCount===0&&pT(gT,function(){r.controller.abort()})}var hc=null,Cm=0,Xl=0,Zl=null;function yT(r,a){if(hc===null){var o=hc=[];Cm=0,Xl=Dp(),Zl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,a.then(b0,b0),a}function b0(){if(--Cm===0&&hc!==null){Zl!==null&&(Zl.status="fulfilled");var r=hc;hc=null,Xl=0,Zl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function vT(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var _0=$.S;$.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&yT(r,a),_0!==null&&_0(r,a)};var nl=oe(null);function Im(){var r=nl.current;return r!==null?r:Lt.pooledCache}function Rd(r,a){a===null?ve(nl,nl.current):ve(nl,a.pool)}function w0(){var r=Im();return r===null?null:{parent:hn._currentValue,pool:r}}var fc=Error(s(460)),E0=Error(s(474)),Cd=Error(s(542)),Dm={then:function(){}};function N0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Id(){}function T0(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Id,Id),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,A0(r),r;default:if(typeof a.status=="string")a.then(Id,Id);else{if(r=Lt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,A0(r),r}throw mc=a,fc}}var mc=null;function S0(){if(mc===null)throw Error(s(459));var r=mc;return mc=null,r}function A0(r){if(r===fc||r===Cd)throw Error(s(483))}var Va=!1;function Om(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ua(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function za(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(St&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Ed(r),f0(r,null,o),a}return wd(r,u,a,o),Ed(r)}function pc(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,vs(r,o)}}function Pm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?m=y=a:y=y.next=a}else m=y=a;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Lm=!1;function gc(){if(Lm){var r=Zl;if(r!==null)throw r}}function yc(r,a,o,u){Lm=!1;var m=r.updateQueue;Va=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var H=j,re=H.next;H.next=null,E===null?y=re:E.next=re,E=H;var he=r.alternate;he!==null&&(he=he.updateQueue,j=he.lastBaseUpdate,j!==E&&(j===null?he.firstBaseUpdate=re:j.next=re,he.lastBaseUpdate=H))}if(y!==null){var pe=m.baseState;E=0,he=re=H=null,j=y;do{var ie=j.lane&-536870913,le=ie!==j.lane;if(le?(mt&ie)===ie:(u&ie)===ie){ie!==0&&ie===Xl&&(Lm=!0),he!==null&&(he=he.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Xe=r,He=j;ie=a;var It=o;switch(He.tag){case 1:if(Xe=He.payload,typeof Xe=="function"){pe=Xe.call(It,pe,ie);break e}pe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=He.payload,ie=typeof Xe=="function"?Xe.call(It,pe,ie):Xe,ie==null)break e;pe=v({},pe,ie);break e;case 2:Va=!0}}ie=j.callback,ie!==null&&(r.flags|=64,le&&(r.flags|=8192),le=m.callbacks,le===null?m.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:j.tag,payload:j.payload,callback:j.callback,next:null},he===null?(re=he=le,H=pe):he=he.next=le,E|=ie;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;le=j,j=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);he===null&&(H=pe),m.baseState=H,m.firstBaseUpdate=re,m.lastBaseUpdate=he,y===null&&(m.shared.lanes=0),Qa|=E,r.lanes=E,r.memoizedState=pe}}function j0(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function R0(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)j0(o[r],a)}var Jl=oe(null),Dd=oe(0);function C0(r,a){r=ma,ve(Dd,r),ve(Jl,a),ma=r|a.baseLanes}function km(){ve(Dd,ma),ve(Jl,Jl.current)}function Vm(){ma=Dd.current,xe(Jl),xe(Dd)}var Fa=0,st=null,Rt=null,tn=null,Od=!1,eo=!1,rl=!1,Md=0,vc=0,to=null,xT=0;function Yt(){throw Error(s(321))}function Um(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!vr(r[o],a[o]))return!1;return!0}function zm(r,a,o,u,m,y){return Fa=y,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=r===null||r.memoizedState===null?fx:mx,rl=!1,y=o(u,m),rl=!1,eo&&(y=D0(a,o,u,m)),I0(r),y}function I0(r){$.H=zd;var a=Rt!==null&&Rt.next!==null;if(Fa=0,tn=Rt=st=null,Od=!1,vc=0,to=null,a)throw Error(s(300));r===null||wn||(r=r.dependencies,r!==null&&Ad(r)&&(wn=!0))}function D0(r,a,o,u){st=r;var m=0;do{if(eo&&(to=null),vc=0,eo=!1,25<=m)throw Error(s(301));if(m+=1,tn=Rt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=ST,y=a(o,u)}while(eo);return y}function bT(){var r=$.H,a=r.useState()[0];return a=typeof a.then=="function"?xc(a):a,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(st.flags|=1024),a}function Fm(){var r=Md!==0;return Md=0,r}function Bm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function qm(r){if(Od){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Od=!1}Fa=0,tn=Rt=st=null,eo=!1,vc=Md=0,to=null}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?st.memoizedState=tn=r:tn=tn.next=r,tn}function nn(){if(Rt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var a=tn===null?st.memoizedState:tn.next;if(a!==null)tn=a,Rt=r;else{if(r===null)throw st.alternate===null?Error(s(467)):Error(s(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},tn===null?st.memoizedState=tn=r:tn=tn.next=r}return tn}function Hm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(r){var a=vc;return vc+=1,to===null&&(to=[]),r=T0(to,r,a),a=st,(tn===null?a.memoizedState:tn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?fx:mx),r}function Pd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xc(r);if(r.$$typeof===q)return kn(r)}throw Error(s(438,String(r)))}function Gm(r){var a=null,o=st.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Hm(),st.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=k;return a.index++,o}function oa(r,a){return typeof a=="function"?a(r):a}function Ld(r){var a=nn();return $m(a,Rt,r)}function $m(r,a,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=r.baseQueue,y=u.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}a.baseQueue=m=y,u.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var j=E=null,H=null,re=a,he=!1;do{var pe=re.lane&-536870913;if(pe!==re.lane?(mt&pe)===pe:(Fa&pe)===pe){var ie=re.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),pe===Xl&&(he=!0);else if((Fa&ie)===ie){re=re.next,ie===Xl&&(he=!0);continue}else pe={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},H===null?(j=H=pe,E=y):H=H.next=pe,st.lanes|=ie,Qa|=ie;pe=re.action,rl&&o(y,pe),y=re.hasEagerState?re.eagerState:o(y,pe)}else ie={lane:pe,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},H===null?(j=H=ie,E=y):H=H.next=ie,st.lanes|=pe,Qa|=pe;re=re.next}while(re!==null&&re!==a);if(H===null?E=y:H.next=j,!vr(y,r.memoizedState)&&(wn=!0,he&&(o=Zl,o!==null)))throw o;r.memoizedState=y,r.baseState=E,r.baseQueue=H,u.lastRenderedState=y}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Km(r){var a=nn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,y=a.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do y=r(y,E.action),E=E.next;while(E!==m);vr(y,a.memoizedState)||(wn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),o.lastRenderedState=y}return[y,u]}function O0(r,a,o){var u=st,m=nn(),y=wt;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=a();var E=!vr((Rt||m).memoizedState,o);E&&(m.memoizedState=o,wn=!0),m=m.queue;var j=L0.bind(null,u,m,r);if(bc(2048,8,j,[r]),m.getSnapshot!==a||E||tn!==null&&tn.memoizedState.tag&1){if(u.flags|=2048,no(9,kd(),P0.bind(null,u,m,o,a),null),Lt===null)throw Error(s(349));y||(Fa&124)!==0||M0(u,a,o)}return o}function M0(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=st.updateQueue,a===null?(a=Hm(),st.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function P0(r,a,o,u){a.value=o,a.getSnapshot=u,k0(a)&&V0(r)}function L0(r,a,o){return o(function(){k0(a)&&V0(r)})}function k0(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!vr(r,o)}catch{return!0}}function V0(r){var a=Kl(r,2);a!==null&&Nr(a,r,2)}function Qm(r){var a=lr();if(typeof r=="function"){var o=r;if(r=o(),rl){tt(!0);try{o()}finally{tt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:r},a}function U0(r,a,o,u){return r.baseState=o,$m(r,Rt,typeof u=="function"?u:oa)}function _T(r,a,o,u,m){if(Ud(r))throw Error(s(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};$.T!==null?o(!0):y.isTransition=!1,u(y),o=a.pending,o===null?(y.next=a.pending=y,z0(a,y)):(y.next=o.next,a.pending=o.next=y)}}function z0(r,a){var o=a.action,u=a.payload,m=r.state;if(a.isTransition){var y=$.T,E={};$.T=E;try{var j=o(m,u),H=$.S;H!==null&&H(E,j),F0(r,a,j)}catch(re){Ym(r,a,re)}finally{$.T=y}}else try{y=o(m,u),F0(r,a,y)}catch(re){Ym(r,a,re)}}function F0(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){B0(r,a,u)},function(u){return Ym(r,a,u)}):B0(r,a,o)}function B0(r,a,o){a.status="fulfilled",a.value=o,q0(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,z0(r,o)))}function Ym(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,q0(a),a=a.next;while(a!==u)}r.action=null}function q0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function H0(r,a){return a}function G0(r,a){if(wt){var o=Lt.formState;if(o!==null){e:{var u=st;if(wt){if($t){t:{for(var m=$t,y=As;m.nodeType!==8;){if(!y){m=null;break t}if(m=ss(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){$t=ss(m.nextSibling),u=m.data==="F!";break e}}Ji(u)}u=!1}u&&(a=o[0])}}return o=lr(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:a},o.queue=u,o=ux.bind(null,st,u),u.dispatch=o,u=Qm(!1),y=ep.bind(null,st,!1,u.queue),u=lr(),m={state:a,dispatch:null,action:r,pending:null},u.queue=m,o=_T.bind(null,st,m,y,o),m.dispatch=o,u.memoizedState=r,[a,o,!1]}function $0(r){var a=nn();return K0(a,Rt,r)}function K0(r,a,o){if(a=$m(r,a,H0)[0],r=Ld(oa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=xc(a)}catch(E){throw E===fc?Cd:E}else u=a;a=nn();var m=a.queue,y=m.dispatch;return o!==a.memoizedState&&(st.flags|=2048,no(9,kd(),wT.bind(null,m,o),null)),[u,y,r]}function wT(r,a){r.action=a}function Q0(r){var a=nn(),o=Rt;if(o!==null)return K0(a,o,r);nn(),a=a.memoizedState,o=nn();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function no(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=st.updateQueue,a===null&&(a=Hm(),st.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function Y0(){return nn().memoizedState}function Vd(r,a,o,u){var m=lr();u=u===void 0?null:u,st.flags|=r,m.memoizedState=no(1|a,kd(),o,u)}function bc(r,a,o,u){var m=nn();u=u===void 0?null:u;var y=m.memoizedState.inst;Rt!==null&&u!==null&&Um(u,Rt.memoizedState.deps)?m.memoizedState=no(a,y,o,u):(st.flags|=r,m.memoizedState=no(1|a,y,o,u))}function W0(r,a){Vd(8390656,8,r,a)}function X0(r,a){bc(2048,8,r,a)}function Z0(r,a){return bc(4,2,r,a)}function J0(r,a){return bc(4,4,r,a)}function ex(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function tx(r,a,o){o=o!=null?o.concat([r]):null,bc(4,4,ex.bind(null,a,r),o)}function Wm(){}function nx(r,a){var o=nn();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Um(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function rx(r,a){var o=nn();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Um(a,u[1]))return u[0];if(u=r(),rl){tt(!0);try{r()}finally{tt(!1)}}return o.memoizedState=[u,a],u}function Xm(r,a,o){return o===void 0||(Fa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=i1(),st.lanes|=r,Qa|=r,o)}function sx(r,a,o,u){return vr(o,a)?o:Jl.current!==null?(r=Xm(r,o,u),vr(r,a)||(wn=!0),r):(Fa&42)===0?(wn=!0,r.memoizedState=o):(r=i1(),st.lanes|=r,Qa|=r,a)}function ax(r,a,o,u,m){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=$.T,j={};$.T=j,ep(r,!1,a,o);try{var H=m(),re=$.S;if(re!==null&&re(j,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var he=vT(H,u);_c(r,a,he,Er(r))}else _c(r,a,u,Er(r))}catch(pe){_c(r,a,{then:function(){},status:"rejected",reason:pe},Er())}finally{Z.p=y,$.T=E}}function ET(){}function Zm(r,a,o,u){if(r.tag!==5)throw Error(s(476));var m=ix(r).queue;ax(r,m,a,ue,o===null?ET:function(){return lx(r),o(u)})}function ix(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:ue},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function lx(r){var a=ix(r).next.queue;_c(r,a,{},Er())}function Jm(){return kn(Uc)}function ox(){return nn().memoizedState}function cx(){return nn().memoizedState}function NT(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Er();r=Ua(o);var u=za(a,r,o);u!==null&&(Nr(u,a,o),pc(u,a,o)),a={cache:Rm()},r.payload=a;return}a=a.return}}function TT(r,a,o){var u=Er();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ud(r)?dx(a,o):(o=xm(r,a,o,u),o!==null&&(Nr(o,r,u),hx(o,a,u)))}function ux(r,a,o){var u=Er();_c(r,a,o,u)}function _c(r,a,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ud(r))dx(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,j=y(E,o);if(m.hasEagerState=!0,m.eagerState=j,vr(j,E))return wd(r,a,m,0),Lt===null&&_d(),!1}catch{}finally{}if(o=xm(r,a,m,u),o!==null)return Nr(o,r,u),hx(o,a,u),!0}return!1}function ep(r,a,o,u){if(u={lane:2,revertLane:Dp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ud(r)){if(a)throw Error(s(479))}else a=xm(r,o,u,2),a!==null&&Nr(a,r,2)}function Ud(r){var a=r.alternate;return r===st||a!==null&&a===st}function dx(r,a){eo=Od=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function hx(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,vs(r,o)}}var zd={readContext:kn,use:Pd,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},fx={readContext:kn,use:Pd,useCallback:function(r,a){return lr().memoizedState=[r,a===void 0?null:a],r},useContext:kn,useEffect:W0,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Vd(4194308,4,ex.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Vd(4194308,4,r,a)},useInsertionEffect:function(r,a){Vd(4,2,r,a)},useMemo:function(r,a){var o=lr();a=a===void 0?null:a;var u=r();if(rl){tt(!0);try{r()}finally{tt(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=lr();if(o!==void 0){var m=o(a);if(rl){tt(!0);try{o(a)}finally{tt(!1)}}}else m=a;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=TT.bind(null,st,r),[u.memoizedState,r]},useRef:function(r){var a=lr();return r={current:r},a.memoizedState=r},useState:function(r){r=Qm(r);var a=r.queue,o=ux.bind(null,st,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Wm,useDeferredValue:function(r,a){var o=lr();return Xm(o,r,a)},useTransition:function(){var r=Qm(!1);return r=ax.bind(null,st,r.queue,!0,!1),lr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=st,m=lr();if(wt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Lt===null)throw Error(s(349));(mt&124)!==0||M0(u,a,o)}m.memoizedState=o;var y={value:o,getSnapshot:a};return m.queue=y,W0(L0.bind(null,u,y,r),[r]),u.flags|=2048,no(9,kd(),P0.bind(null,u,y,o,a),null),o},useId:function(){var r=lr(),a=Lt.identifierPrefix;if(wt){var o=aa,u=sa;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Md++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=xT++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Jm,useFormState:G0,useActionState:G0,useOptimistic:function(r){var a=lr();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=ep.bind(null,st,!0,o),o.dispatch=a,[r,a]},useMemoCache:Gm,useCacheRefresh:function(){return lr().memoizedState=NT.bind(null,st)}},mx={readContext:kn,use:Pd,useCallback:nx,useContext:kn,useEffect:X0,useImperativeHandle:tx,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:rx,useReducer:Ld,useRef:Y0,useState:function(){return Ld(oa)},useDebugValue:Wm,useDeferredValue:function(r,a){var o=nn();return sx(o,Rt.memoizedState,r,a)},useTransition:function(){var r=Ld(oa)[0],a=nn().memoizedState;return[typeof r=="boolean"?r:xc(r),a]},useSyncExternalStore:O0,useId:ox,useHostTransitionStatus:Jm,useFormState:$0,useActionState:$0,useOptimistic:function(r,a){var o=nn();return U0(o,Rt,r,a)},useMemoCache:Gm,useCacheRefresh:cx},ST={readContext:kn,use:Pd,useCallback:nx,useContext:kn,useEffect:X0,useImperativeHandle:tx,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:rx,useReducer:Km,useRef:Y0,useState:function(){return Km(oa)},useDebugValue:Wm,useDeferredValue:function(r,a){var o=nn();return Rt===null?Xm(o,r,a):sx(o,Rt.memoizedState,r,a)},useTransition:function(){var r=Km(oa)[0],a=nn().memoizedState;return[typeof r=="boolean"?r:xc(r),a]},useSyncExternalStore:O0,useId:ox,useHostTransitionStatus:Jm,useFormState:Q0,useActionState:Q0,useOptimistic:function(r,a){var o=nn();return Rt!==null?U0(o,Rt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:cx},ro=null,wc=0;function Fd(r){var a=wc;return wc+=1,ro===null&&(ro=[]),T0(ro,r,a)}function Ec(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Bd(r,a){throw a.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function px(r){var a=r._init;return a(r._payload)}function gx(r){function a(X,W){if(r){var te=X.deletions;te===null?(X.deletions=[W],X.flags|=16):te.push(W)}}function o(X,W){if(!r)return null;for(;W!==null;)a(X,W),W=W.sibling;return null}function u(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function m(X,W){return X=ra(X,W),X.index=0,X.sibling=null,X}function y(X,W,te){return X.index=te,r?(te=X.alternate,te!==null?(te=te.index,te<W?(X.flags|=67108866,W):te):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function E(X){return r&&X.alternate===null&&(X.flags|=67108866),X}function j(X,W,te,fe){return W===null||W.tag!==6?(W=_m(te,X.mode,fe),W.return=X,W):(W=m(W,te),W.return=X,W)}function H(X,W,te,fe){var Oe=te.type;return Oe===M?he(X,W,te.props.children,fe,te.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&px(Oe)===W.type)?(W=m(W,te.props),Ec(W,te),W.return=X,W):(W=Nd(te.type,te.key,te.props,null,X.mode,fe),Ec(W,te),W.return=X,W)}function re(X,W,te,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=wm(te,X.mode,fe),W.return=X,W):(W=m(W,te.children||[]),W.return=X,W)}function he(X,W,te,fe,Oe){return W===null||W.tag!==7?(W=Yi(te,X.mode,fe,Oe),W.return=X,W):(W=m(W,te),W.return=X,W)}function pe(X,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=_m(""+W,X.mode,te),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return te=Nd(W.type,W.key,W.props,null,X.mode,te),Ec(te,W),te.return=X,te;case R:return W=wm(W,X.mode,te),W.return=X,W;case N:var fe=W._init;return W=fe(W._payload),pe(X,W,te)}if(V(W)||A(W))return W=Yi(W,X.mode,te,null),W.return=X,W;if(typeof W.then=="function")return pe(X,Fd(W),te);if(W.$$typeof===q)return pe(X,jd(X,W),te);Bd(X,W)}return null}function ie(X,W,te,fe){var Oe=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Oe!==null?null:j(X,W,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===Oe?H(X,W,te,fe):null;case R:return te.key===Oe?re(X,W,te,fe):null;case N:return Oe=te._init,te=Oe(te._payload),ie(X,W,te,fe)}if(V(te)||A(te))return Oe!==null?null:he(X,W,te,fe,null);if(typeof te.then=="function")return ie(X,W,Fd(te),fe);if(te.$$typeof===q)return ie(X,W,jd(X,te),fe);Bd(X,te)}return null}function le(X,W,te,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(te)||null,j(W,X,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return X=X.get(fe.key===null?te:fe.key)||null,H(W,X,fe,Oe);case R:return X=X.get(fe.key===null?te:fe.key)||null,re(W,X,fe,Oe);case N:var at=fe._init;return fe=at(fe._payload),le(X,W,te,fe,Oe)}if(V(fe)||A(fe))return X=X.get(te)||null,he(W,X,fe,Oe,null);if(typeof fe.then=="function")return le(X,W,te,Fd(fe),Oe);if(fe.$$typeof===q)return le(X,W,te,jd(W,fe),Oe);Bd(W,fe)}return null}function Xe(X,W,te,fe){for(var Oe=null,at=null,ze=W,$e=W=0,Nn=null;ze!==null&&$e<te.length;$e++){ze.index>$e?(Nn=ze,ze=null):Nn=ze.sibling;var xt=ie(X,ze,te[$e],fe);if(xt===null){ze===null&&(ze=Nn);break}r&&ze&&xt.alternate===null&&a(X,ze),W=y(xt,W,$e),at===null?Oe=xt:at.sibling=xt,at=xt,ze=Nn}if($e===te.length)return o(X,ze),wt&&Xi(X,$e),Oe;if(ze===null){for(;$e<te.length;$e++)ze=pe(X,te[$e],fe),ze!==null&&(W=y(ze,W,$e),at===null?Oe=ze:at.sibling=ze,at=ze);return wt&&Xi(X,$e),Oe}for(ze=u(ze);$e<te.length;$e++)Nn=le(ze,X,$e,te[$e],fe),Nn!==null&&(r&&Nn.alternate!==null&&ze.delete(Nn.key===null?$e:Nn.key),W=y(Nn,W,$e),at===null?Oe=Nn:at.sibling=Nn,at=Nn);return r&&ze.forEach(function(ri){return a(X,ri)}),wt&&Xi(X,$e),Oe}function He(X,W,te,fe){if(te==null)throw Error(s(151));for(var Oe=null,at=null,ze=W,$e=W=0,Nn=null,xt=te.next();ze!==null&&!xt.done;$e++,xt=te.next()){ze.index>$e?(Nn=ze,ze=null):Nn=ze.sibling;var ri=ie(X,ze,xt.value,fe);if(ri===null){ze===null&&(ze=Nn);break}r&&ze&&ri.alternate===null&&a(X,ze),W=y(ri,W,$e),at===null?Oe=ri:at.sibling=ri,at=ri,ze=Nn}if(xt.done)return o(X,ze),wt&&Xi(X,$e),Oe;if(ze===null){for(;!xt.done;$e++,xt=te.next())xt=pe(X,xt.value,fe),xt!==null&&(W=y(xt,W,$e),at===null?Oe=xt:at.sibling=xt,at=xt);return wt&&Xi(X,$e),Oe}for(ze=u(ze);!xt.done;$e++,xt=te.next())xt=le(ze,X,$e,xt.value,fe),xt!==null&&(r&&xt.alternate!==null&&ze.delete(xt.key===null?$e:xt.key),W=y(xt,W,$e),at===null?Oe=xt:at.sibling=xt,at=xt);return r&&ze.forEach(function(AS){return a(X,AS)}),wt&&Xi(X,$e),Oe}function It(X,W,te,fe){if(typeof te=="object"&&te!==null&&te.type===M&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var Oe=te.key;W!==null;){if(W.key===Oe){if(Oe=te.type,Oe===M){if(W.tag===7){o(X,W.sibling),fe=m(W,te.props.children),fe.return=X,X=fe;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&px(Oe)===W.type){o(X,W.sibling),fe=m(W,te.props),Ec(fe,te),fe.return=X,X=fe;break e}o(X,W);break}else a(X,W);W=W.sibling}te.type===M?(fe=Yi(te.props.children,X.mode,fe,te.key),fe.return=X,X=fe):(fe=Nd(te.type,te.key,te.props,null,X.mode,fe),Ec(fe,te),fe.return=X,X=fe)}return E(X);case R:e:{for(Oe=te.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){o(X,W.sibling),fe=m(W,te.children||[]),fe.return=X,X=fe;break e}else{o(X,W);break}else a(X,W);W=W.sibling}fe=wm(te,X.mode,fe),fe.return=X,X=fe}return E(X);case N:return Oe=te._init,te=Oe(te._payload),It(X,W,te,fe)}if(V(te))return Xe(X,W,te,fe);if(A(te)){if(Oe=A(te),typeof Oe!="function")throw Error(s(150));return te=Oe.call(te),He(X,W,te,fe)}if(typeof te.then=="function")return It(X,W,Fd(te),fe);if(te.$$typeof===q)return It(X,W,jd(X,te),fe);Bd(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(o(X,W.sibling),fe=m(W,te),fe.return=X,X=fe):(o(X,W),fe=_m(te,X.mode,fe),fe.return=X,X=fe),E(X)):o(X,W)}return function(X,W,te,fe){try{wc=0;var Oe=It(X,W,te,fe);return ro=null,Oe}catch(ze){if(ze===fc||ze===Cd)throw ze;var at=xr(29,ze,null,X.mode);return at.lanes=fe,at.return=X,at}finally{}}}var so=gx(!0),yx=gx(!1),Ur=oe(null),js=null;function Ba(r){var a=r.alternate;ve(fn,fn.current&1),ve(Ur,r),js===null&&(a===null||Jl.current!==null||a.memoizedState!==null)&&(js=r)}function vx(r){if(r.tag===22){if(ve(fn,fn.current),ve(Ur,r),js===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(js=r)}}else qa()}function qa(){ve(fn,fn.current),ve(Ur,Ur.current)}function ca(r){xe(Ur),js===r&&(js=null),xe(fn)}var fn=oe(0);function qd(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Hp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function tp(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var np={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=Er(),m=Ua(u);m.payload=a,o!=null&&(m.callback=o),a=za(r,m,u),a!==null&&(Nr(a,r,u),pc(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=Er(),m=Ua(u);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=za(r,m,u),a!==null&&(Nr(a,r,u),pc(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Er(),u=Ua(o);u.tag=2,a!=null&&(u.callback=a),a=za(r,u,o),a!==null&&(Nr(a,r,o),pc(a,r,o))}};function xx(r,a,o,u,m,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,E):a.prototype&&a.prototype.isPureReactComponent?!ac(o,u)||!ac(m,y):!0}function bx(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&np.enqueueReplaceState(a,a.state,null)}function sl(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Hd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function _x(r){Hd(r)}function wx(r){console.error(r)}function Ex(r){Hd(r)}function Gd(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Nx(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rp(r,a,o){return o=Ua(o),o.tag=3,o.payload={element:null},o.callback=function(){Gd(r,a)},o}function Tx(r){return r=Ua(r),r.tag=3,r}function Sx(r,a,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;r.payload=function(){return m(y)},r.callback=function(){Nx(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Nx(a,o,u),typeof m!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function AT(r,a,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&uc(a,o,m,!0),o=Ur.current,o!==null){switch(o.tag){case 13:return js===null?Ap():o.alternate===null&&Kt===0&&(Kt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Dm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Rp(r,u,m)),!1;case 22:return o.flags|=65536,u===Dm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Rp(r,u,m)),!1}throw Error(s(435,o.tag))}return Rp(r,u,m),Ap(),!1}if(wt)return a=Ur.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Tm&&(r=Error(s(422),{cause:u}),cc(Pr(r,o)))):(u!==Tm&&(a=Error(s(423),{cause:u}),cc(Pr(a,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=Pr(u,o),m=rp(r.stateNode,u,m),Pm(r,m),Kt!==4&&(Kt=2)),!1;var y=Error(s(520),{cause:u});if(y=Pr(y,o),Cc===null?Cc=[y]:Cc.push(y),Kt!==4&&(Kt=2),a===null)return!0;u=Pr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=rp(o.stateNode,u,r),Pm(o,r),!1;case 1:if(a=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ya===null||!Ya.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Tx(m),Sx(m,r,o,u),Pm(o,m),!1}o=o.return}while(o!==null);return!1}var Ax=Error(s(461)),wn=!1;function Cn(r,a,o,u){a.child=r===null?yx(a,null,o,u):so(a,r.child,o,u)}function jx(r,a,o,u,m){o=o.render;var y=a.ref;if("ref"in u){var E={};for(var j in u)j!=="ref"&&(E[j]=u[j])}else E=u;return tl(a),u=zm(r,a,o,E,y,m),j=Fm(),r!==null&&!wn?(Bm(r,a,m),ua(r,a,m)):(wt&&j&&Em(a),a.flags|=1,Cn(r,a,u,m),a.child)}function Rx(r,a,o,u,m){if(r===null){var y=o.type;return typeof y=="function"&&!bm(y)&&y.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=y,Cx(r,a,y,u,m)):(r=Nd(o.type,null,u,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!dp(r,m)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:ac,o(E,u)&&r.ref===a.ref)return ua(r,a,m)}return a.flags|=1,r=ra(y,u),r.ref=a.ref,r.return=a,a.child=r}function Cx(r,a,o,u,m){if(r!==null){var y=r.memoizedProps;if(ac(y,u)&&r.ref===a.ref)if(wn=!1,a.pendingProps=u=y,dp(r,m))(r.flags&131072)!==0&&(wn=!0);else return a.lanes=r.lanes,ua(r,a,m)}return sp(r,a,o,u,m)}function Ix(r,a,o){var u=a.pendingProps,m=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return Dx(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rd(a,y!==null?y.cachePool:null),y!==null?C0(a,y):km(),vx(a);else return a.lanes=a.childLanes=536870912,Dx(r,a,y!==null?y.baseLanes|o:o,o)}else y!==null?(Rd(a,y.cachePool),C0(a,y),qa(),a.memoizedState=null):(r!==null&&Rd(a,null),km(),qa());return Cn(r,a,m,o),a.child}function Dx(r,a,o,u){var m=Im();return m=m===null?null:{parent:hn._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},r!==null&&Rd(a,null),km(),vx(a),r!==null&&uc(r,a,u,!0),null}function $d(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function sp(r,a,o,u,m){return tl(a),o=zm(r,a,o,u,void 0,m),u=Fm(),r!==null&&!wn?(Bm(r,a,m),ua(r,a,m)):(wt&&u&&Em(a),a.flags|=1,Cn(r,a,o,m),a.child)}function Ox(r,a,o,u,m,y){return tl(a),a.updateQueue=null,o=D0(a,u,o,m),I0(r),u=Fm(),r!==null&&!wn?(Bm(r,a,y),ua(r,a,y)):(wt&&u&&Em(a),a.flags|=1,Cn(r,a,o,y),a.child)}function Mx(r,a,o,u,m){if(tl(a),a.stateNode===null){var y=Ql,E=o.contextType;typeof E=="object"&&E!==null&&(y=kn(E)),y=new o(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=np,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Om(a),E=o.contextType,y.context=typeof E=="object"&&E!==null?kn(E):Ql,y.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(tp(a,o,E,u),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&np.enqueueReplaceState(y,y.state,null),yc(a,u,y,m),gc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){y=a.stateNode;var j=a.memoizedProps,H=sl(o,j);y.props=H;var re=y.context,he=o.contextType;E=Ql,typeof he=="object"&&he!==null&&(E=kn(he));var pe=o.getDerivedStateFromProps;he=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j||re!==E)&&bx(a,y,u,E),Va=!1;var ie=a.memoizedState;y.state=ie,yc(a,u,y,m),gc(),re=a.memoizedState,j||ie!==re||Va?(typeof pe=="function"&&(tp(a,o,pe,u),re=a.memoizedState),(H=Va||xx(a,o,H,u,ie,re,E))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=re),y.props=u,y.state=re,y.context=E,u=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Mm(r,a),E=a.memoizedProps,he=sl(o,E),y.props=he,pe=a.pendingProps,ie=y.context,re=o.contextType,H=Ql,typeof re=="object"&&re!==null&&(H=kn(re)),j=o.getDerivedStateFromProps,(re=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==pe||ie!==H)&&bx(a,y,u,H),Va=!1,ie=a.memoizedState,y.state=ie,yc(a,u,y,m),gc();var le=a.memoizedState;E!==pe||ie!==le||Va||r!==null&&r.dependencies!==null&&Ad(r.dependencies)?(typeof j=="function"&&(tp(a,o,j,u),le=a.memoizedState),(he=Va||xx(a,o,he,u,ie,le,H)||r!==null&&r.dependencies!==null&&Ad(r.dependencies))?(re||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&ie===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ie===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=le),y.props=u,y.state=le,y.context=H,u=he):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&ie===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ie===r.memoizedState||(a.flags|=1024),u=!1)}return y=u,$d(r,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&u?(a.child=so(a,r.child,null,m),a.child=so(a,null,o,m)):Cn(r,a,o,m),a.memoizedState=y.state,r=a.child):r=ua(r,a,m),r}function Px(r,a,o,u){return oc(),a.flags|=256,Cn(r,a,o,u),a.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(r){return{baseLanes:r,cachePool:w0()}}function lp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=zr),r}function Lx(r,a,o){var u=a.pendingProps,m=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(wt){if(m?Ba(a):qa(),wt){var j=$t,H;if(H=j){e:{for(H=j,j=As;H.nodeType!==8;){if(!j){j=null;break e}if(H=ss(H.nextSibling),H===null){j=null;break e}}j=H}j!==null?(a.memoizedState={dehydrated:j,treeContext:Wi!==null?{id:sa,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},H=xr(18,null,null,0),H.stateNode=j,H.return=a,a.child=H,Zn=a,$t=null,H=!0):H=!1}H||Ji(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Hp(j)?a.lanes=32:a.lanes=536870912,null;ca(a)}return j=u.children,u=u.fallback,m?(qa(),m=a.mode,j=Kd({mode:"hidden",children:j},m),u=Yi(u,m,o,null),j.return=a,u.return=a,j.sibling=u,a.child=j,m=a.child,m.memoizedState=ip(o),m.childLanes=lp(r,E,o),a.memoizedState=ap,u):(Ba(a),op(a,j))}if(H=r.memoizedState,H!==null&&(j=H.dehydrated,j!==null)){if(y)a.flags&256?(Ba(a),a.flags&=-257,a=cp(r,a,o)):a.memoizedState!==null?(qa(),a.child=r.child,a.flags|=128,a=null):(qa(),m=u.fallback,j=a.mode,u=Kd({mode:"visible",children:u.children},j),m=Yi(m,j,o,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,so(a,r.child,null,o),u=a.child,u.memoizedState=ip(o),u.childLanes=lp(r,E,o),a.memoizedState=ap,a=m);else if(Ba(a),Hp(j)){if(E=j.nextSibling&&j.nextSibling.dataset,E)var re=E.dgst;E=re,u=Error(s(419)),u.stack="",u.digest=E,cc({value:u,source:null,stack:null}),a=cp(r,a,o)}else if(wn||uc(r,a,o,!1),E=(o&r.childLanes)!==0,wn||E){if(E=Lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:xs(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,Kl(r,u),Nr(E,r,u),Ax;j.data==="$?"||Ap(),a=cp(r,a,o)}else j.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,$t=ss(j.nextSibling),Zn=a,wt=!0,Zi=null,As=!1,r!==null&&(kr[Vr++]=sa,kr[Vr++]=aa,kr[Vr++]=Wi,sa=r.id,aa=r.overflow,Wi=a),a=op(a,u.children),a.flags|=4096);return a}return m?(qa(),m=u.fallback,j=a.mode,H=r.child,re=H.sibling,u=ra(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,re!==null?m=ra(re,m):(m=Yi(m,j,o,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,j=r.child.memoizedState,j===null?j=ip(o):(H=j.cachePool,H!==null?(re=hn._currentValue,H=H.parent!==re?{parent:re,pool:re}:H):H=w0(),j={baseLanes:j.baseLanes|o,cachePool:H}),m.memoizedState=j,m.childLanes=lp(r,E,o),a.memoizedState=ap,u):(Ba(a),o=r.child,r=o.sibling,o=ra(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function op(r,a){return a=Kd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Kd(r,a){return r=xr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cp(r,a,o){return so(a,r.child,null,o),r=op(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function kx(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Am(r.return,a,o)}function up(r,a,o,u,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function Vx(r,a,o){var u=a.pendingProps,m=u.revealOrder,y=u.tail;if(Cn(r,a,u.children,o),u=fn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kx(r,o,a);else if(r.tag===19)kx(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ve(fn,u),m){case"forwards":for(o=a.child,m=null;o!==null;)r=o.alternate,r!==null&&qd(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),up(a,!1,m,o,y);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&qd(r)===null){a.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}up(a,!0,o,null,y);break;case"together":up(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ua(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Qa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(uc(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,o=ra(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ra(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function dp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Ad(r)))}function jT(r,a,o){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),ka(a,hn,r.memoizedState.cache),oc();break;case 27:case 5:Tt(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:ka(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ba(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Lx(r,a,o):(Ba(a),r=ua(r,a,o),r!==null?r.sibling:null);Ba(a);break;case 19:var m=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(uc(r,a,o,!1),u=(o&a.childLanes)!==0),m){if(u)return Vx(r,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ve(fn,fn.current),u)break;return null;case 22:case 23:return a.lanes=0,Ix(r,a,o);case 24:ka(a,hn,r.memoizedState.cache)}return ua(r,a,o)}function Ux(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)wn=!0;else{if(!dp(r,o)&&(a.flags&128)===0)return wn=!1,jT(r,a,o);wn=(r.flags&131072)!==0}else wn=!1,wt&&(a.flags&1048576)!==0&&p0(a,Sd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")bm(u)?(r=sl(u,r),a.tag=1,a=Mx(null,a,u,r,o)):(a.tag=0,a=sp(null,a,u,r,o));else{if(u!=null){if(m=u.$$typeof,m===G){a.tag=11,a=jx(null,a,u,r,o);break e}else if(m===P){a.tag=14,a=Rx(null,a,u,r,o);break e}}throw a=ae(u)||u,Error(s(306,a,""))}}return a;case 0:return sp(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,m=sl(u,a.pendingProps),Mx(r,a,u,m,o);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(s(387));u=a.pendingProps;var y=a.memoizedState;m=y.element,Mm(r,a),yc(a,u,null,o);var E=a.memoizedState;if(u=E.cache,ka(a,hn,u),u!==y.cache&&jm(a,[hn],o,!0),gc(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Px(r,a,u,o);break e}else if(u!==m){m=Pr(Error(s(424)),a),cc(m),a=Px(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for($t=ss(r.firstChild),Zn=a,wt=!0,Zi=null,As=!0,o=yx(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(oc(),u===m){a=ua(r,a,o);break e}Cn(r,a,u,o)}a=a.child}return a;case 26:return $d(r,a),r===null?(o=q1(a.type,null,a.pendingProps,null))?a.memoizedState=o:wt||(o=a.type,r=a.pendingProps,u=lh(Fe.current).createElement(o),u[ge]=a,u[be]=r,Dn(u,o,r),Je(u),a.stateNode=u):a.memoizedState=q1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Tt(a),r===null&&wt&&(u=a.stateNode=z1(a.type,a.pendingProps,Fe.current),Zn=a,As=!0,m=$t,Za(a.type)?(Gp=m,$t=ss(u.firstChild)):$t=m),Cn(r,a,a.pendingProps.children,o),$d(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&wt&&((m=u=$t)&&(u=nS(u,a.type,a.pendingProps,As),u!==null?(a.stateNode=u,Zn=a,$t=ss(u.firstChild),As=!1,m=!0):m=!1),m||Ji(a)),Tt(a),m=a.type,y=a.pendingProps,E=r!==null?r.memoizedProps:null,u=y.children,Fp(m,y)?u=null:E!==null&&Fp(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=zm(r,a,bT,null,null,o),Uc._currentValue=m),$d(r,a),Cn(r,a,u,o),a.child;case 6:return r===null&&wt&&((r=o=$t)&&(o=rS(o,a.pendingProps,As),o!==null?(a.stateNode=o,Zn=a,$t=null,r=!0):r=!1),r||Ji(a)),null;case 13:return Lx(r,a,o);case 4:return gt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=so(a,null,u,o):Cn(r,a,u,o),a.child;case 11:return jx(r,a,a.type,a.pendingProps,o);case 7:return Cn(r,a,a.pendingProps,o),a.child;case 8:return Cn(r,a,a.pendingProps.children,o),a.child;case 12:return Cn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ka(a,a.type,u.value),Cn(r,a,u.children,o),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,tl(a),m=kn(m),u=u(m),a.flags|=1,Cn(r,a,u,o),a.child;case 14:return Rx(r,a,a.type,a.pendingProps,o);case 15:return Cx(r,a,a.type,a.pendingProps,o);case 19:return Vx(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Kd(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ra(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Ix(r,a,o);case 24:return tl(a),u=kn(hn),r===null?(m=Im(),m===null&&(m=Lt,y=Rm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),a.memoizedState={parent:u,cache:m},Om(a),ka(a,hn,m)):((r.lanes&o)!==0&&(Mm(r,a),yc(a,null,null,o),gc()),m=r.memoizedState,y=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ka(a,hn,u)):(u=y.cache,ka(a,hn,u),u!==m.cache&&jm(a,[hn],o,!0))),Cn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function da(r){r.flags|=4}function zx(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Q1(a)){if(a=Ur.current,a!==null&&((mt&4194048)===mt?js!==null:(mt&62914560)!==mt&&(mt&536870912)===0||a!==js))throw mc=Dm,E0;r.flags|=8192}}function Qd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Pi():536870912,r.lanes|=a,oo|=a)}function Nc(r,a){if(!wt)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Ht(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function RT(r,a,o){var u=a.pendingProps;switch(Nm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(a),null;case 1:return Ht(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),la(hn),Ln(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(lc(a)?da(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,v0())),Ht(a),null;case 26:return o=a.memoizedState,r===null?(da(a),o!==null?(Ht(a),zx(a,o)):(Ht(a),a.flags&=-16777217)):o?o!==r.memoizedState?(da(a),Ht(a),zx(a,o)):(Ht(a),a.flags&=-16777217):(r.memoizedProps!==u&&da(a),Ht(a),a.flags&=-16777217),null;case 27:yn(a),o=Fe.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&da(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ht(a),null}r=Ae.current,lc(a)?g0(a):(r=z1(m,u,o),a.stateNode=r,da(a))}return Ht(a),null;case 5:if(yn(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&da(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ht(a),null}if(r=Ae.current,lc(a))g0(a);else{switch(m=lh(Fe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}r[ge]=a,r[be]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(Dn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&da(a)}}return Ht(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&da(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(r=Fe.current,lc(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,m=Zn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[ge]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||O1(r.nodeValue,o)),r||Ji(a)}else r=lh(r).createTextNode(u),r[ge]=a,a.stateNode=r}return Ht(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=lc(a),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ge]=a}else oc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ht(a),m=!1}else m=v0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ca(a),a):(ca(a),null)}if(ca(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),Qd(a,a.updateQueue),Ht(a),null;case 4:return Ln(),r===null&&Lp(a.stateNode.containerInfo),Ht(a),null;case 10:return la(a.type),Ht(a),null;case 19:if(xe(fn),m=a.memoizedState,m===null)return Ht(a),null;if(u=(a.flags&128)!==0,y=m.rendering,y===null)if(u)Nc(m,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=qd(r),y!==null){for(a.flags|=128,Nc(m,!1),r=y.updateQueue,a.updateQueue=r,Qd(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)m0(o,r),o=o.sibling;return ve(fn,fn.current&1|2),a.child}r=r.sibling}m.tail!==null&&An()>Xd&&(a.flags|=128,u=!0,Nc(m,!1),a.lanes=4194304)}else{if(!u)if(r=qd(y),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Qd(a,r),Nc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!wt)return Ht(a),null}else 2*An()-m.renderingStartTime>Xd&&o!==536870912&&(a.flags|=128,u=!0,Nc(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=An(),a.sibling=null,r=fn.current,ve(fn,u?r&1|2:r&1),a):(Ht(a),null);case 22:case 23:return ca(a),Vm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Ht(a),a.subtreeFlags&6&&(a.flags|=8192)):Ht(a),o=a.updateQueue,o!==null&&Qd(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&xe(nl),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),la(hn),Ht(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function CT(r,a){switch(Nm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return la(hn),Ln(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return yn(a),null;case 13:if(ca(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));oc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(fn),null;case 4:return Ln(),null;case 10:return la(a.type),null;case 22:case 23:return ca(a),Vm(),r!==null&&xe(nl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return la(hn),null;case 25:return null;default:return null}}function Fx(r,a){switch(Nm(a),a.tag){case 3:la(hn),Ln();break;case 26:case 27:case 5:yn(a);break;case 4:Ln();break;case 13:ca(a);break;case 19:xe(fn);break;case 10:la(a.type);break;case 22:case 23:ca(a),Vm(),r!==null&&xe(nl);break;case 24:la(hn)}}function Tc(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var y=o.create,E=o.inst;u=y(),E.destroy=u}o=o.next}while(o!==m)}}catch(j){Mt(a,a.return,j)}}function Ha(r,a,o){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){var E=u.inst,j=E.destroy;if(j!==void 0){E.destroy=void 0,m=a;var H=o,re=j;try{re()}catch(he){Mt(m,H,he)}}}u=u.next}while(u!==y)}}catch(he){Mt(a,a.return,he)}}function Bx(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{R0(a,o)}catch(u){Mt(r,r.return,u)}}}function qx(r,a,o){o.props=sl(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Mt(r,a,u)}}function Sc(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(m){Mt(r,a,m)}}function Rs(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Mt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Mt(r,a,m)}else o.current=null}function Hx(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Mt(r,r.return,m)}}function hp(r,a,o){try{var u=r.stateNode;XT(u,r.type,o,a),u[be]=a}catch(m){Mt(r,r.return,m)}}function Gx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Za(r.type)||r.tag===4}function fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Za(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mp(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ih));else if(u!==4&&(u===27&&Za(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(mp(r,a,o),r=r.sibling;r!==null;)mp(r,a,o),r=r.sibling}function Yd(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Za(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Yd(r,a,o),r=r.sibling;r!==null;)Yd(r,a,o),r=r.sibling}function $x(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,u,o),a[ge]=r,a[be]=o}catch(y){Mt(r,r.return,y)}}var ha=!1,Wt=!1,pp=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,En=null;function IT(r,a){if(r=r.containerInfo,Up=fh,r=s0(r),fm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,j=-1,H=-1,re=0,he=0,pe=r,ie=null;t:for(;;){for(var le;pe!==o||m!==0&&pe.nodeType!==3||(j=E+m),pe!==y||u!==0&&pe.nodeType!==3||(H=E+u),pe.nodeType===3&&(E+=pe.nodeValue.length),(le=pe.firstChild)!==null;)ie=pe,pe=le;for(;;){if(pe===r)break t;if(ie===o&&++re===m&&(j=E),ie===y&&++he===u&&(H=E),(le=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=le}o=j===-1||H===-1?null:{start:j,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(zp={focusedElem:r,selectionRange:o},fh=!1,En=a;En!==null;)if(a=En,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,En=r;else for(;En!==null;){switch(a=En,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=a,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Xe=sl(o.type,m,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Xe,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(He){Mt(o,o.return,He)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)qp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,En=r;break}En=a.return}}function Qx(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ga(r,o),u&4&&Tc(5,o);break;case 1:if(Ga(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){Mt(o,o.return,E)}else{var m=sl(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){Mt(o,o.return,E)}}u&64&&Bx(o),u&512&&Sc(o,o.return);break;case 3:if(Ga(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{R0(r,a)}catch(E){Mt(o,o.return,E)}}break;case 27:a===null&&u&4&&$x(o);case 26:case 5:Ga(r,o),a===null&&u&4&&Hx(o),u&512&&Sc(o,o.return);break;case 12:Ga(r,o);break;case 13:Ga(r,o),u&4&&Xx(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=zT.bind(null,o),sS(r,o))));break;case 22:if(u=o.memoizedState!==null||ha,!u){a=a!==null&&a.memoizedState!==null||Wt,m=ha;var y=Wt;ha=u,(Wt=a)&&!y?$a(r,o,(o.subtreeFlags&8772)!==0):Ga(r,o),ha=m,Wt=y}break;case 30:break;default:Ga(r,o)}}function Yx(r){var a=r.alternate;a!==null&&(r.alternate=null,Yx(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ke(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,or=!1;function fa(r,a,o){for(o=o.child;o!==null;)Wx(r,a,o),o=o.sibling}function Wx(r,a,o){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(we,o)}catch{}switch(o.tag){case 26:Wt||Rs(o,a),fa(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||Rs(o,a);var u=Bt,m=or;Za(o.type)&&(Bt=o.stateNode,or=!1),fa(r,a,o),Pc(o.stateNode),Bt=u,or=m;break;case 5:Wt||Rs(o,a);case 6:if(u=Bt,m=or,Bt=null,fa(r,a,o),Bt=u,or=m,Bt!==null)if(or)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(o.stateNode)}catch(y){Mt(o,a,y)}else try{Bt.removeChild(o.stateNode)}catch(y){Mt(o,a,y)}break;case 18:Bt!==null&&(or?(r=Bt,V1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),qc(r)):V1(Bt,o.stateNode));break;case 4:u=Bt,m=or,Bt=o.stateNode.containerInfo,or=!0,fa(r,a,o),Bt=u,or=m;break;case 0:case 11:case 14:case 15:Wt||Ha(2,o,a),Wt||Ha(4,o,a),fa(r,a,o);break;case 1:Wt||(Rs(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qx(o,a,u)),fa(r,a,o);break;case 21:fa(r,a,o);break;case 22:Wt=(u=Wt)||o.memoizedState!==null,fa(r,a,o),Wt=u;break;default:fa(r,a,o)}}function Xx(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qc(r)}catch(o){Mt(a,a.return,o)}}function DT(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Kx),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Kx),a;default:throw Error(s(435,r.tag))}}function gp(r,a){var o=DT(r);a.forEach(function(u){var m=FT.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}function br(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=r,E=a,j=E;e:for(;j!==null;){switch(j.tag){case 27:if(Za(j.type)){Bt=j.stateNode,or=!1;break e}break;case 5:Bt=j.stateNode,or=!1;break e;case 3:case 4:Bt=j.stateNode.containerInfo,or=!0;break e}j=j.return}if(Bt===null)throw Error(s(160));Wx(y,E,m),Bt=null,or=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Zx(a,r),a=a.sibling}var rs=null;function Zx(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:br(a,r),_r(r),u&4&&(Ha(3,r,r.return),Tc(3,r),Ha(5,r,r.return));break;case 1:br(a,r),_r(r),u&512&&(Wt||o===null||Rs(o,o.return)),u&64&&ha&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=rs;if(br(a,r),_r(r),u&512&&(Wt||o===null||Rs(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Le]||y[ge]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,u,o),y[ge]=r,Je(y),u=y;break e;case"link":var E=$1("link","href",m).get(u+(o.href||""));if(E){for(var j=0;j<E.length;j++)if(y=E[j],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(j,1);break t}}y=m.createElement(u),Dn(y,u,o),m.head.appendChild(y);break;case"meta":if(E=$1("meta","content",m).get(u+(o.content||""))){for(j=0;j<E.length;j++)if(y=E[j],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(j,1);break t}}y=m.createElement(u),Dn(y,u,o),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[ge]=r,Je(y),u=y}r.stateNode=u}else K1(m,r.type,r.stateNode);else r.stateNode=G1(m,u,r.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?K1(m,r.type,r.stateNode):G1(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&hp(r,r.memoizedProps,o.memoizedProps)}break;case 27:br(a,r),_r(r),u&512&&(Wt||o===null||Rs(o,o.return)),o!==null&&u&4&&hp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(br(a,r),_r(r),u&512&&(Wt||o===null||Rs(o,o.return)),r.flags&32){m=r.stateNode;try{Ir(m,"")}catch(le){Mt(r,r.return,le)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,hp(r,m,o!==null?o.memoizedProps:m)),u&1024&&(pp=!0);break;case 6:if(br(a,r),_r(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(le){Mt(r,r.return,le)}}break;case 3:if(uh=null,m=rs,rs=oh(a.containerInfo),br(a,r),rs=m,_r(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{qc(a.containerInfo)}catch(le){Mt(r,r.return,le)}pp&&(pp=!1,Jx(r));break;case 4:u=rs,rs=oh(r.stateNode.containerInfo),br(a,r),_r(r),rs=u;break;case 12:br(a,r),_r(r);break;case 13:br(a,r),_r(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wp=An()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,gp(r,u)));break;case 22:m=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,re=ha,he=Wt;if(ha=re||m,Wt=he||H,br(a,r),Wt=he,ha=re,_r(r),u&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(o===null||H||ha||Wt||al(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){H=o=a;try{if(y=H.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{j=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;j.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(le){Mt(H,H.return,le)}}}else if(a.tag===6){if(o===null){H=a;try{H.stateNode.nodeValue=m?"":H.memoizedProps}catch(le){Mt(H,H.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gp(r,o))));break;case 19:br(a,r),_r(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,gp(r,u)));break;case 30:break;case 21:break;default:br(a,r),_r(r)}}function _r(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(Gx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=fp(r);Yd(r,y,m);break;case 5:var E=o.stateNode;o.flags&32&&(Ir(E,""),o.flags&=-33);var j=fp(r);Yd(r,j,E);break;case 3:case 4:var H=o.stateNode.containerInfo,re=fp(r);mp(r,re,H);break;default:throw Error(s(161))}}catch(he){Mt(r,r.return,he)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Jx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Jx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ga(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qx(r,a.alternate,a),a=a.sibling}function al(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ha(4,a,a.return),al(a);break;case 1:Rs(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&qx(a,a.return,o),al(a);break;case 27:Pc(a.stateNode);case 26:case 5:Rs(a,a.return),al(a);break;case 22:a.memoizedState===null&&al(a);break;case 30:al(a);break;default:al(a)}r=r.sibling}}function $a(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=r,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:$a(m,y,o),Tc(4,y);break;case 1:if($a(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(re){Mt(u,u.return,re)}if(u=y,m=u.updateQueue,m!==null){var j=u.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)j0(H[m],j)}catch(re){Mt(u,u.return,re)}}o&&E&64&&Bx(y),Sc(y,y.return);break;case 27:$x(y);case 26:case 5:$a(m,y,o),o&&u===null&&E&4&&Hx(y),Sc(y,y.return);break;case 12:$a(m,y,o);break;case 13:$a(m,y,o),o&&E&4&&Xx(m,y);break;case 22:y.memoizedState===null&&$a(m,y,o),Sc(y,y.return);break;case 30:break;default:$a(m,y,o)}a=a.sibling}}function yp(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&dc(o))}function vp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dc(r))}function Cs(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e1(r,a,o,u),a=a.sibling}function e1(r,a,o,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Cs(r,a,o,u),m&2048&&Tc(9,a);break;case 1:Cs(r,a,o,u);break;case 3:Cs(r,a,o,u),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&dc(r)));break;case 12:if(m&2048){Cs(r,a,o,u),r=a.stateNode;try{var y=a.memoizedProps,E=y.id,j=y.onPostCommit;typeof j=="function"&&j(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){Mt(a,a.return,H)}}else Cs(r,a,o,u);break;case 13:Cs(r,a,o,u);break;case 23:break;case 22:y=a.stateNode,E=a.alternate,a.memoizedState!==null?y._visibility&2?Cs(r,a,o,u):Ac(r,a):y._visibility&2?Cs(r,a,o,u):(y._visibility|=2,ao(r,a,o,u,(a.subtreeFlags&10256)!==0)),m&2048&&yp(E,a);break;case 24:Cs(r,a,o,u),m&2048&&vp(a.alternate,a);break;default:Cs(r,a,o,u)}}function ao(r,a,o,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,E=a,j=o,H=u,re=E.flags;switch(E.tag){case 0:case 11:case 15:ao(y,E,j,H,m),Tc(8,E);break;case 23:break;case 22:var he=E.stateNode;E.memoizedState!==null?he._visibility&2?ao(y,E,j,H,m):Ac(y,E):(he._visibility|=2,ao(y,E,j,H,m)),m&&re&2048&&yp(E.alternate,E);break;case 24:ao(y,E,j,H,m),m&&re&2048&&vp(E.alternate,E);break;default:ao(y,E,j,H,m)}a=a.sibling}}function Ac(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,m=u.flags;switch(u.tag){case 22:Ac(o,u),m&2048&&yp(u.alternate,u);break;case 24:Ac(o,u),m&2048&&vp(u.alternate,u);break;default:Ac(o,u)}a=a.sibling}}var jc=8192;function io(r){if(r.subtreeFlags&jc)for(r=r.child;r!==null;)t1(r),r=r.sibling}function t1(r){switch(r.tag){case 26:io(r),r.flags&jc&&r.memoizedState!==null&&yS(rs,r.memoizedState,r.memoizedProps);break;case 5:io(r);break;case 3:case 4:var a=rs;rs=oh(r.stateNode.containerInfo),io(r),rs=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=jc,jc=16777216,io(r),jc=a):io(r));break;default:io(r)}}function n1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Rc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];En=u,s1(u,r)}n1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r1(r),r=r.sibling}function r1(r){switch(r.tag){case 0:case 11:case 15:Rc(r),r.flags&2048&&Ha(9,r,r.return);break;case 3:Rc(r);break;case 12:Rc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Wd(r)):Rc(r);break;default:Rc(r)}}function Wd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];En=u,s1(u,r)}n1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ha(8,a,a.return),Wd(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Wd(a));break;default:Wd(a)}r=r.sibling}}function s1(r,a){for(;En!==null;){var o=En;switch(o.tag){case 0:case 11:case 15:Ha(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,En=u;else e:for(o=r;En!==null;){u=En;var m=u.sibling,y=u.return;if(Yx(u),u===o){En=null;break e}if(m!==null){m.return=y,En=m;break e}En=y}}}var OT={getCacheForType:function(r){var a=kn(hn),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},MT=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,lt=null,mt=0,At=0,wr=null,Ka=!1,lo=!1,xp=!1,ma=0,Kt=0,Qa=0,il=0,bp=0,zr=0,oo=0,Cc=null,cr=null,_p=!1,wp=0,Xd=1/0,Zd=null,Ya=null,In=0,Wa=null,co=null,uo=0,Ep=0,Np=null,a1=null,Ic=0,Tp=null;function Er(){if((St&2)!==0&&mt!==0)return mt&-mt;if($.T!==null){var r=Xl;return r!==0?r:Dp()}return K()}function i1(){zr===0&&(zr=(mt&536870912)===0||wt?Qs():536870912);var r=Ur.current;return r!==null&&(r.flags|=32),zr}function Nr(r,a,o){(r===Lt&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(ho(r,0),Xa(r,mt,zr,!1)),Jr(r,o),((St&2)===0||r!==Lt)&&(r===Lt&&((St&2)===0&&(il|=o),Kt===4&&Xa(r,mt,zr,!1)),Is(r))}function l1(r,a,o){if((St&6)!==0)throw Error(s(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||ar(r,a),m=u?kT(r,a):jp(r,a,!0),y=u;do{if(m===0){lo&&!u&&Xa(r,a,0,!1);break}else{if(o=r.current.alternate,y&&!PT(o)){m=jp(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var j=r;m=Cc;var H=j.current.memoizedState.isDehydrated;if(H&&(ho(j,E).flags|=256),E=jp(j,E,!1),E!==2){if(xp&&!H){j.errorRecoveryDisabledLanes|=y,il|=y,m=4;break e}y=cr,cr=m,y!==null&&(cr===null?cr=y:cr.push.apply(cr,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){ho(r,0),Xa(r,a,0,!0);break}e:{switch(u=r,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Xa(u,a,zr,!Ka);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=wp+300-An(),10<m)){if(Xa(u,a,zr,!Ka),jr(u,0,!0)!==0)break e;u.timeoutHandle=L1(o1.bind(null,u,o,cr,Zd,_p,a,zr,il,oo,Ka,y,2,-0,0),m);break e}o1(u,o,cr,Zd,_p,a,zr,il,oo,Ka,y,0,-0,0)}}break}while(!0);Is(r)}function o1(r,a,o,u,m,y,E,j,H,re,he,pe,ie,le){if(r.timeoutHandle=-1,pe=a.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Vc={stylesheets:null,count:0,unsuspend:gS},t1(a),pe=vS(),pe!==null)){r.cancelPendingCommit=pe(p1.bind(null,r,a,y,o,u,m,E,j,H,he,1,ie,le)),Xa(r,y,E,!re);return}p1(r,a,y,o,u,m,E,j,H)}function PT(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!vr(y(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xa(r,a,o,u){a&=~bp,a&=~il,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var m=a;0<m;){var y=31-yt(m),E=1<<y;u[y]=-1,m&=~E}o!==0&&$n(r,o,a)}function Jd(){return(St&6)===0?(Dc(0),!1):!0}function Sp(){if(lt!==null){if(At===0)var r=lt.return;else r=lt,ia=el=null,qm(r),ro=null,wc=0,r=lt;for(;r!==null;)Fx(r.alternate,r),r=r.return;lt=null}}function ho(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,JT(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Sp(),Lt=r,lt=o=ra(r.current,null),mt=a,At=0,wr=null,Ka=!1,lo=ar(r,a),xp=!1,oo=zr=bp=il=Qa=Kt=0,cr=Cc=null,_p=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var m=31-yt(u),y=1<<m;a|=r[m],u&=~y}return ma=a,_d(),o}function c1(r,a){st=null,$.H=zd,a===fc||a===Cd?(a=S0(),At=3):a===E0?(a=S0(),At=4):At=a===Ax?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,wr=a,lt===null&&(Kt=1,Gd(r,Pr(a,r.current)))}function u1(){var r=$.H;return $.H=zd,r===null?zd:r}function d1(){var r=$.A;return $.A=OT,r}function Ap(){Kt=4,Ka||(mt&4194048)!==mt&&Ur.current!==null||(lo=!0),(Qa&134217727)===0&&(il&134217727)===0||Lt===null||Xa(Lt,mt,zr,!1)}function jp(r,a,o){var u=St;St|=2;var m=u1(),y=d1();(Lt!==r||mt!==a)&&(Zd=null,ho(r,a)),a=!1;var E=Kt;e:do try{if(At!==0&&lt!==null){var j=lt,H=wr;switch(At){case 8:Sp(),E=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(a=!0);var re=At;if(At=0,wr=null,fo(r,j,H,re),o&&lo){E=0;break e}break;default:re=At,At=0,wr=null,fo(r,j,H,re)}}LT(),E=Kt;break}catch(he){c1(r,he)}while(!0);return a&&r.shellSuspendCounter++,ia=el=null,St=u,$.H=m,$.A=y,lt===null&&(Lt=null,mt=0,_d()),E}function LT(){for(;lt!==null;)h1(lt)}function kT(r,a){var o=St;St|=2;var u=u1(),m=d1();Lt!==r||mt!==a?(Zd=null,Xd=An()+500,ho(r,a)):lo=ar(r,a);e:do try{if(At!==0&&lt!==null){a=lt;var y=wr;t:switch(At){case 1:At=0,wr=null,fo(r,a,y,1);break;case 2:case 9:if(N0(y)){At=0,wr=null,f1(a);break}a=function(){At!==2&&At!==9||Lt!==r||(At=7),Is(r)},y.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:N0(y)?(At=0,wr=null,f1(a)):(At=0,wr=null,fo(r,a,y,7));break;case 5:var E=null;switch(lt.tag){case 26:E=lt.memoizedState;case 5:case 27:var j=lt;if(!E||Q1(E)){At=0,wr=null;var H=j.sibling;if(H!==null)lt=H;else{var re=j.return;re!==null?(lt=re,eh(re)):lt=null}break t}}At=0,wr=null,fo(r,a,y,5);break;case 6:At=0,wr=null,fo(r,a,y,6);break;case 8:Sp(),Kt=6;break e;default:throw Error(s(462))}}VT();break}catch(he){c1(r,he)}while(!0);return ia=el=null,$.H=u,$.A=m,St=o,lt!==null?0:(Lt=null,mt=0,_d(),Kt)}function VT(){for(;lt!==null&&!gs();)h1(lt)}function h1(r){var a=Ux(r.alternate,r,ma);r.memoizedProps=r.pendingProps,a===null?eh(r):lt=a}function f1(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=Ox(o,a,a.pendingProps,a.type,void 0,mt);break;case 11:a=Ox(o,a,a.pendingProps,a.type.render,a.ref,mt);break;case 5:qm(a);default:Fx(o,a),a=lt=m0(a,ma),a=Ux(o,a,ma)}r.memoizedProps=r.pendingProps,a===null?eh(r):lt=a}function fo(r,a,o,u){ia=el=null,qm(a),ro=null,wc=0;var m=a.return;try{if(AT(r,m,a,o,mt)){Kt=1,Gd(r,Pr(o,r.current)),lt=null;return}}catch(y){if(m!==null)throw lt=m,y;Kt=1,Gd(r,Pr(o,r.current)),lt=null;return}a.flags&32768?(wt||u===1?r=!0:lo||(mt&536870912)!==0?r=!1:(Ka=r=!0,(u===2||u===9||u===3||u===6)&&(u=Ur.current,u!==null&&u.tag===13&&(u.flags|=16384))),m1(a,r)):eh(a)}function eh(r){var a=r;do{if((a.flags&32768)!==0){m1(a,Ka);return}r=a.return;var o=RT(a.alternate,a,ma);if(o!==null){lt=o;return}if(a=a.sibling,a!==null){lt=a;return}lt=a=r}while(a!==null);Kt===0&&(Kt=5)}function m1(r,a){do{var o=CT(r.alternate,r);if(o!==null){o.flags&=32767,lt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){lt=r;return}lt=r=o}while(r!==null);Kt=6,lt=null}function p1(r,a,o,u,m,y,E,j,H){r.cancelPendingCommit=null;do th();while(In!==0);if((St&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=vm,Ca(r,o,y,E,j,H),r===Lt&&(lt=Lt=null,mt=0),co=a,Wa=r,uo=o,Ep=y,Np=m,a1=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,BT(ne,function(){return b1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=Z.p,Z.p=2,E=St,St|=4;try{IT(r,a,o)}finally{St=E,Z.p=m,$.T=u}}In=1,g1(),y1(),v1()}}function g1(){if(In===1){In=0;var r=Wa,a=co,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=Z.p;Z.p=2;var m=St;St|=4;try{Zx(a,r);var y=zp,E=s0(r.containerInfo),j=y.focusedElem,H=y.selectionRange;if(E!==j&&j&&j.ownerDocument&&r0(j.ownerDocument.documentElement,j)){if(H!==null&&fm(j)){var re=H.start,he=H.end;if(he===void 0&&(he=re),"selectionStart"in j)j.selectionStart=re,j.selectionEnd=Math.min(he,j.value.length);else{var pe=j.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Xe=j.textContent.length,He=Math.min(H.start,Xe),It=H.end===void 0?He:Math.min(H.end,Xe);!le.extend&&He>It&&(E=It,It=He,He=E);var X=n0(j,He),W=n0(j,It);if(X&&W&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var te=pe.createRange();te.setStart(X.node,X.offset),le.removeAllRanges(),He>It?(le.addRange(te),le.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),le.addRange(te))}}}}for(pe=[],le=j;le=le.parentNode;)le.nodeType===1&&pe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<pe.length;j++){var fe=pe[j];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}fh=!!Up,zp=Up=null}finally{St=m,Z.p=u,$.T=o}}r.current=a,In=2}}function y1(){if(In===2){In=0;var r=Wa,a=co,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=Z.p;Z.p=2;var m=St;St|=4;try{Qx(r,a.alternate,a)}finally{St=m,Z.p=u,$.T=o}}In=3}}function v1(){if(In===4||In===3){In=0,Ra();var r=Wa,a=co,o=uo,u=a1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?In=5:(In=0,co=Wa=null,x1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Ya=null),Ia(o),a=a.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(we,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,m=Z.p,Z.p=2,$.T=null;try{for(var y=r.onRecoverableError,E=0;E<u.length;E++){var j=u[E];y(j.value,{componentStack:j.stack})}}finally{$.T=a,Z.p=m}}(uo&3)!==0&&th(),Is(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Tp?Ic++:(Ic=0,Tp=r):Ic=0,Dc(0)}}function x1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,dc(a)))}function th(r){return g1(),y1(),v1(),b1()}function b1(){if(In!==5)return!1;var r=Wa,a=Ep;Ep=0;var o=Ia(uo),u=$.T,m=Z.p;try{Z.p=32>o?32:o,$.T=null,o=Np,Np=null;var y=Wa,E=uo;if(In=0,co=Wa=null,uo=0,(St&6)!==0)throw Error(s(331));var j=St;if(St|=4,r1(y.current),e1(y,y.current,E,o),St=j,Dc(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(we,y)}catch{}return!0}finally{Z.p=m,$.T=u,x1(r,a)}}function _1(r,a,o){a=Pr(o,a),a=rp(r.stateNode,a,2),r=za(r,a,2),r!==null&&(Jr(r,2),Is(r))}function Mt(r,a,o){if(r.tag===3)_1(r,r,o);else for(;a!==null;){if(a.tag===3){_1(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ya===null||!Ya.has(u))){r=Pr(o,r),o=Tx(2),u=za(a,o,2),u!==null&&(Sx(o,u,a,r),Jr(u,2),Is(u));break}}a=a.return}}function Rp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new MT;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(o)||(xp=!0,m.add(o),r=UT.bind(null,r,a,o),a.then(r,r))}function UT(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Lt===r&&(mt&o)===o&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>An()-wp?(St&2)===0&&ho(r,0):bp|=o,oo===mt&&(oo=0)),Is(r)}function w1(r,a){a===0&&(a=Pi()),r=Kl(r,a),r!==null&&(Jr(r,a),Is(r))}function zT(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),w1(r,o)}function FT(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),w1(r,o)}function BT(r,a){return Wr(r,a)}var nh=null,mo=null,Cp=!1,rh=!1,Ip=!1,ll=0;function Is(r){r!==mo&&r.next===null&&(mo===null?nh=mo=r:mo=mo.next=r),rh=!0,Cp||(Cp=!0,HT())}function Dc(r,a){if(!Ip&&rh){Ip=!0;do for(var o=!1,u=nh;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var E=u.suspendedLanes,j=u.pingedLanes;y=(1<<31-yt(42|r)+1)-1,y&=m&~(E&~j),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,S1(u,y))}else y=mt,y=jr(u,u===Lt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ar(u,y)||(o=!0,S1(u,y));u=u.next}while(o);Ip=!1}}function qT(){E1()}function E1(){rh=Cp=!1;var r=0;ll!==0&&(ZT()&&(r=ll),ll=0);for(var a=An(),o=null,u=nh;u!==null;){var m=u.next,y=N1(u,a);y===0?(u.next=null,o===null?nh=m:o.next=m,m===null&&(mo=o)):(o=u,(r!==0||(y&3)!==0)&&(rh=!0)),u=m}Dc(r)}function N1(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-yt(y),j=1<<E,H=m[E];H===-1?((j&o)===0||(j&u)!==0)&&(m[E]=Zr(j,a)):H<=a&&(r.expiredLanes|=j),y&=~j}if(a=Lt,o=mt,o=jr(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(At===2||At===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&vn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ar(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&vn(u),Ia(o)){case 2:case 8:o=Q;break;case 32:o=ne;break;case 268435456:o=Te;break;default:o=ne}return u=T1.bind(null,r),o=Wr(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&vn(u),r.callbackPriority=2,r.callbackNode=null,2}function T1(r,a){if(In!==0&&In!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(th()&&r.callbackNode!==o)return null;var u=mt;return u=jr(r,r===Lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(l1(r,u,a),N1(r,An()),r.callbackNode!=null&&r.callbackNode===o?T1.bind(null,r):null)}function S1(r,a){if(th())return null;l1(r,a,!0)}function HT(){eS(function(){(St&6)!==0?Wr(ys,qT):E1()})}function Dp(){return ll===0&&(ll=Qs()),ll}function A1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pl(""+r)}function j1(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function GT(r,a,o,u,m){if(a==="submit"&&o&&o.stateNode===m){var y=A1((m[be]||null).action),E=u.submitter;E&&(a=(a=E[be]||null)?A1(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var j=new Ll("action","action",null,u,m);r.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ll!==0){var H=E?j1(m,E):new FormData(m);Zm(o,{pending:!0,data:H,method:m.method,action:y},null,H)}}else typeof y=="function"&&(j.preventDefault(),H=E?j1(m,E):new FormData(m),Zm(o,{pending:!0,data:H,method:m.method,action:y},y,H))},currentTarget:m}]})}}for(var Op=0;Op<ym.length;Op++){var Mp=ym[Op],$T=Mp.toLowerCase(),KT=Mp[0].toUpperCase()+Mp.slice(1);ns($T,"on"+KT)}ns(l0,"onAnimationEnd"),ns(o0,"onAnimationIteration"),ns(c0,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(uT,"onTransitionRun"),ns(dT,"onTransitionStart"),ns(hT,"onTransitionCancel"),ns(u0,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function R1(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var E=u.length-1;0<=E;E--){var j=u[E],H=j.instance,re=j.currentTarget;if(j=j.listener,H!==y&&m.isPropagationStopped())break e;y=j,m.currentTarget=re;try{y(m)}catch(he){Hd(he)}m.currentTarget=null,y=H}else for(E=0;E<u.length;E++){if(j=u[E],H=j.instance,re=j.currentTarget,j=j.listener,H!==y&&m.isPropagationStopped())break e;y=j,m.currentTarget=re;try{y(m)}catch(he){Hd(he)}m.currentTarget=null,y=H}}}}function ot(r,a){var o=a[Ve];o===void 0&&(o=a[Ve]=new Set);var u=r+"__bubble";o.has(u)||(C1(a,r,2,!1),o.add(u))}function Pp(r,a,o){var u=0;a&&(u|=4),C1(o,r,u,a)}var sh="_reactListening"+Math.random().toString(36).slice(2);function Lp(r){if(!r[sh]){r[sh]=!0,_t.forEach(function(o){o!=="selectionchange"&&(QT.has(o)||Pp(o,!1,r),Pp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[sh]||(a[sh]=!0,Pp("selectionchange",!1,a))}}function C1(r,a,o,u){switch(eb(a)){case 2:var m=_S;break;case 8:m=wS;break;default:m=Wp}o=m.bind(null,a,o,r),m=void 0,!Or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(a,o,{capture:!0,passive:m}):r.addEventListener(a,o,!0):m!==void 0?r.addEventListener(a,o,{passive:m}):r.addEventListener(a,o,!1)}function kp(r,a,o,u,m){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var j=u.stateNode.containerInfo;if(j===m)break;if(E===4)for(E=u.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;j!==null;){if(E=nt(j),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){u=y=E;continue e}j=j.parentNode}}u=u.return}id(function(){var re=y,he=Dr(o),pe=[];e:{var ie=d0.get(r);if(ie!==void 0){var le=Ll,Xe=r;switch(r){case"keypress":if(ws(o)===0)break e;case"keydown":case"keyup":le=Bl;break;case"focusin":Xe="focus",le=Ul;break;case"focusout":Xe="blur",le=Ul;break;case"beforeblur":case"afterblur":le=Ul;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=md;break;case l0:case o0:case c0:le=zl;break;case u0:le=gd;break;case"scroll":case"scrollend":le=ld;break;case"wheel":le=ql;break;case"copy":case"cut":case"paste":le=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=rc;break;case"toggle":case"beforetoggle":le=vd}var He=(a&4)!==0,It=!He&&(r==="scroll"||r==="scrollend"),X=He?ie!==null?ie+"Capture":null:ie;He=[];for(var W=re,te;W!==null;){var fe=W;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||X===null||(fe=zi(W,X),fe!=null&&He.push(Mc(W,fe,te))),It)break;W=W.return}0<He.length&&(ie=new le(ie,Xe,null,o,he),pe.push({event:ie,listeners:He}))}}if((a&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",ie&&o!==Xs&&(Xe=o.relatedTarget||o.fromElement)&&(nt(Xe)||Xe[Ie]))break e;if((le||ie)&&(ie=he.window===he?he:(ie=he.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Xe=o.relatedTarget||o.toElement,le=re,Xe=Xe?nt(Xe):null,Xe!==null&&(It=c(Xe),He=Xe.tag,Xe!==It||He!==5&&He!==27&&He!==6)&&(Xe=null)):(le=null,Xe=re),le!==Xe)){if(He=Mr,fe="onMouseLeave",X="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(He=rc,fe="onPointerLeave",X="onPointerEnter",W="pointer"),It=le==null?ie:Ot(le),te=Xe==null?ie:Ot(Xe),ie=new He(fe,W+"leave",le,o,he),ie.target=It,ie.relatedTarget=te,fe=null,nt(he)===re&&(He=new He(X,W+"enter",Xe,o,he),He.target=te,He.relatedTarget=It,fe=He),It=fe,le&&Xe)t:{for(He=le,X=Xe,W=0,te=He;te;te=po(te))W++;for(te=0,fe=X;fe;fe=po(fe))te++;for(;0<W-te;)He=po(He),W--;for(;0<te-W;)X=po(X),te--;for(;W--;){if(He===X||X!==null&&He===X.alternate)break t;He=po(He),X=po(X)}He=null}else He=null;le!==null&&I1(pe,ie,le,He,!1),Xe!==null&&It!==null&&I1(pe,It,Xe,He,!0)}}e:{if(ie=re?Ot(re):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var Oe=Wv;else if(dn(ie))if(Xv)Oe=lT;else{Oe=aT;var at=sT}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Wo(re.elementType)&&(Oe=Wv):Oe=iT;if(Oe&&(Oe=Oe(r,re))){na(pe,Oe,o,he);break e}at&&at(r,ie,re),r==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&Pa(ie,"number",ie.value)}switch(at=re?Ot(re):window,r){case"focusin":(dn(at)||at.contentEditable==="true")&&(Hl=at,mm=re,ic=null);break;case"focusout":ic=mm=Hl=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,a0(pe,o,he);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":a0(pe,o,he)}var ze;if(Ts)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ht?ce(r,o)&&($e="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(w&&o.locale!=="ko"&&(ht||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ht&&(ze=Zo()):(_s=he,La="value"in _s?_s.value:_s.textContent,ht=!0)),at=ah(re,$e),0<at.length&&($e=new tc($e,r,null,o,he),pe.push({event:$e,listeners:at}),ze?$e.data=ze:(ze=Ne(o),ze!==null&&($e.data=ze)))),(ze=x?un(r,o):ft(r,o))&&($e=ah(re,"onBeforeInput"),0<$e.length&&(at=new tc("onBeforeInput","beforeinput",null,o,he),pe.push({event:at,listeners:$e}),at.data=ze)),GT(pe,r,re,o,he)}R1(pe,a)})}function Mc(r,a,o){return{instance:r,listener:a,currentTarget:o}}function ah(r,a){for(var o=a+"Capture",u=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=zi(r,o),m!=null&&u.unshift(Mc(r,m,y)),m=zi(r,a),m!=null&&u.push(Mc(r,m,y))),r.tag===3)return u;r=r.return}return[]}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function I1(r,a,o,u,m){for(var y=a._reactName,E=[];o!==null&&o!==u;){var j=o,H=j.alternate,re=j.stateNode;if(j=j.tag,H!==null&&H===u)break;j!==5&&j!==26&&j!==27||re===null||(H=re,m?(re=zi(o,y),re!=null&&E.unshift(Mc(o,re,H))):m||(re=zi(o,y),re!=null&&E.push(Mc(o,re,H)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var YT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function D1(r){return(typeof r=="string"?r:""+r).replace(YT,`
`).replace(WT,"")}function O1(r,a){return a=D1(a),D1(r)===a}function ih(){}function Ct(r,a,o,u,m,y){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ir(r,""+u);break;case"className":Qn(r,"class",u);break;case"tabIndex":Qn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(r,o,u);break;case"style":Yo(r,u,y);break;case"data":if(a!=="object"){Qn(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pl(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(a!=="input"&&Ct(r,a,"name",m.name,m,null),Ct(r,a,"formEncType",m.formEncType,m,null),Ct(r,a,"formMethod",m.formMethod,m,null),Ct(r,a,"formTarget",m.formTarget,m,null)):(Ct(r,a,"encType",m.encType,m,null),Ct(r,a,"method",m.method,m,null),Ct(r,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pl(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ih);break;case"onScroll":u!=null&&ot("scroll",r);break;case"onScrollEnd":u!=null&&ot("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Pl(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ot("beforetoggle",r),ot("toggle",r),gr(r,"popover",u);break;case"xlinkActuate":We(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":gr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lm.get(o)||o,gr(r,o,u))}}function Vp(r,a,o,u,m,y){switch(o){case"style":Yo(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&Ir(r,""+u);break;case"onScroll":u!=null&&ot("scroll",r);break;case"onScrollEnd":u!=null&&ot("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),y=r[be]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):gr(r,o,u)}}}function Dn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",r),ot("load",r);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ct(r,a,y,E,o,null)}}m&&Ct(r,a,"srcSet",o.srcSet,o,null),u&&Ct(r,a,"src",o.src,o,null);return;case"input":ot("invalid",r);var j=y=E=m=null,H=null,re=null;for(u in o)if(o.hasOwnProperty(u)){var he=o[u];if(he!=null)switch(u){case"name":m=he;break;case"type":E=he;break;case"checked":H=he;break;case"defaultChecked":re=he;break;case"value":y=he;break;case"defaultValue":j=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,a));break;default:Ct(r,a,u,he,o,null)}}ki(r,y,j,H,re,E,m,!1),Ml(r);return;case"select":ot("invalid",r),u=E=y=null;for(m in o)if(o.hasOwnProperty(m)&&(j=o[m],j!=null))switch(m){case"value":y=j;break;case"defaultValue":E=j;break;case"multiple":u=j;default:Ct(r,a,m,j,o,null)}a=y,o=E,r.multiple=!!u,a!=null?Ws(r,!!u,a,!1):o!=null&&Ws(r,!!u,o,!0);return;case"textarea":ot("invalid",r),y=m=u=null;for(E in o)if(o.hasOwnProperty(E)&&(j=o[E],j!=null))switch(E){case"value":u=j;break;case"defaultValue":m=j;break;case"children":y=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:Ct(r,a,E,j,o,null)}Vi(r,u,m,y),Ml(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ct(r,a,H,u,o,null)}return;case"dialog":ot("beforetoggle",r),ot("toggle",r),ot("cancel",r),ot("close",r);break;case"iframe":case"object":ot("load",r);break;case"video":case"audio":for(u=0;u<Oc.length;u++)ot(Oc[u],r);break;case"image":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"embed":case"source":case"link":ot("error",r),ot("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in o)if(o.hasOwnProperty(re)&&(u=o[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ct(r,a,re,u,o,null)}return;default:if(Wo(a)){for(he in o)o.hasOwnProperty(he)&&(u=o[he],u!==void 0&&Vp(r,a,he,u,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null&&Ct(r,a,j,u,o,null))}function XT(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,j=null,H=null,re=null,he=null;for(le in o){var pe=o[le];if(o.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=pe;default:u.hasOwnProperty(le)||Ct(r,a,le,null,u,pe)}}for(var ie in u){var le=u[ie];if(pe=o[ie],u.hasOwnProperty(ie)&&(le!=null||pe!=null))switch(ie){case"type":y=le;break;case"name":m=le;break;case"checked":re=le;break;case"defaultChecked":he=le;break;case"value":E=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,a));break;default:le!==pe&&Ct(r,a,ie,le,u,pe)}}yr(r,E,j,H,re,he,y,m);return;case"select":le=E=j=ie=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":le=H;default:u.hasOwnProperty(y)||Ct(r,a,y,null,u,H)}for(m in u)if(y=u[m],H=o[m],u.hasOwnProperty(m)&&(y!=null||H!=null))switch(m){case"value":ie=y;break;case"defaultValue":j=y;break;case"multiple":E=y;default:y!==H&&Ct(r,a,m,y,u,H)}a=j,o=E,u=le,ie!=null?Ws(r,!!o,ie,!1):!!u!=!!o&&(a!=null?Ws(r,!!o,a,!0):Ws(r,!!o,o?[]:"",!1));return;case"textarea":le=ie=null;for(j in o)if(m=o[j],o.hasOwnProperty(j)&&m!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ct(r,a,j,null,u,m)}for(E in u)if(m=u[E],y=o[E],u.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":ie=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Ct(r,a,E,m,u,y)}jt(r,ie,le);return;case"option":for(var Xe in o)if(ie=o[Xe],o.hasOwnProperty(Xe)&&ie!=null&&!u.hasOwnProperty(Xe))switch(Xe){case"selected":r.selected=!1;break;default:Ct(r,a,Xe,null,u,ie)}for(H in u)if(ie=u[H],le=o[H],u.hasOwnProperty(H)&&ie!==le&&(ie!=null||le!=null))switch(H){case"selected":r.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ct(r,a,H,ie,u,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in o)ie=o[He],o.hasOwnProperty(He)&&ie!=null&&!u.hasOwnProperty(He)&&Ct(r,a,He,null,u,ie);for(re in u)if(ie=u[re],le=o[re],u.hasOwnProperty(re)&&ie!==le&&(ie!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,a));break;default:Ct(r,a,re,ie,u,le)}return;default:if(Wo(a)){for(var It in o)ie=o[It],o.hasOwnProperty(It)&&ie!==void 0&&!u.hasOwnProperty(It)&&Vp(r,a,It,void 0,u,ie);for(he in u)ie=u[he],le=o[he],!u.hasOwnProperty(he)||ie===le||ie===void 0&&le===void 0||Vp(r,a,he,ie,u,le);return}}for(var X in o)ie=o[X],o.hasOwnProperty(X)&&ie!=null&&!u.hasOwnProperty(X)&&Ct(r,a,X,null,u,ie);for(pe in u)ie=u[pe],le=o[pe],!u.hasOwnProperty(pe)||ie===le||ie==null&&le==null||Ct(r,a,pe,ie,u,le)}var Up=null,zp=null;function lh(r){return r.nodeType===9?r:r.ownerDocument}function M1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Fp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=null;function ZT(){var r=window.event;return r&&r.type==="popstate"?r===Bp?!1:(Bp=r,!0):(Bp=null,!1)}var L1=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(r){return k1.resolve(null).then(r).catch(tS)}:L1;function tS(r){setTimeout(function(){throw r})}function Za(r){return r==="head"}function V1(r,a){var o=a,u=0,m=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Pc(E.documentElement),o&2&&Pc(E.body),o&4)for(o=E.head,Pc(o),E=o.firstChild;E;){var j=E.nextSibling,H=E.nodeName;E[Le]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=j}}if(m===0){r.removeChild(y),qc(a);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);qc(a)}function qp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qp(o),ke(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function nS(r,a,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Le])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=ss(r.nextSibling),r===null)break}return null}function rS(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ss(r.nextSibling),r===null))return null;return r}function Hp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sS(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ss(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Gp=null;function U1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function z1(r,a,o){switch(a=lh(o),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Pc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ke(r)}var Fr=new Map,F1=new Set;function oh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var pa=Z.d;Z.d={f:aS,r:iS,D:lS,C:oS,L:cS,m:uS,X:hS,S:dS,M:fS};function aS(){var r=pa.f(),a=Jd();return r||a}function iS(r){var a=vt(r);a!==null&&a.tag===5&&a.type==="form"?lx(a):pa.r(r)}var go=typeof document>"u"?null:document;function B1(r,a,o){var u=go;if(u&&typeof a=="string"&&a){var m=en(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),F1.has(m)||(F1.add(m),r={rel:r,crossOrigin:o,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),Dn(a,"link",r),Je(a),u.head.appendChild(a)))}}function lS(r){pa.D(r),B1("dns-prefetch",r,null)}function oS(r,a){pa.C(r,a),B1("preconnect",r,a)}function cS(r,a,o){pa.L(r,a,o);var u=go;if(u&&r&&a){var m='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+en(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+en(o.imageSizes)+'"]')):m+='[href="'+en(r)+'"]';var y=m;switch(a){case"style":y=yo(r);break;case"script":y=vo(r)}Fr.has(y)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Fr.set(y,r),u.querySelector(m)!==null||a==="style"&&u.querySelector(Lc(y))||a==="script"&&u.querySelector(kc(y))||(a=u.createElement("link"),Dn(a,"link",r),Je(a),u.head.appendChild(a)))}}function uS(r,a){pa.m(r,a);var o=go;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(r)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vo(r)}if(!Fr.has(y)&&(r=v({rel:"modulepreload",href:r},a),Fr.set(y,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(kc(y)))return}u=o.createElement("link"),Dn(u,"link",r),Je(u),o.head.appendChild(u)}}}function dS(r,a,o){pa.S(r,a,o);var u=go;if(u&&r){var m=bt(u).hoistableStyles,y=yo(r);a=a||"default";var E=m.get(y);if(!E){var j={loading:0,preload:null};if(E=u.querySelector(Lc(y)))j.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Fr.get(y))&&$p(r,o);var H=E=u.createElement("link");Je(H),Dn(H,"link",r),H._p=new Promise(function(re,he){H.onload=re,H.onerror=he}),H.addEventListener("load",function(){j.loading|=1}),H.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ch(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:j},m.set(y,E)}}}function hS(r,a){pa.X(r,a);var o=go;if(o&&r){var u=bt(o).hoistableScripts,m=vo(r),y=u.get(m);y||(y=o.querySelector(kc(m)),y||(r=v({src:r,async:!0},a),(a=Fr.get(m))&&Kp(r,a),y=o.createElement("script"),Je(y),Dn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function fS(r,a){pa.M(r,a);var o=go;if(o&&r){var u=bt(o).hoistableScripts,m=vo(r),y=u.get(m);y||(y=o.querySelector(kc(m)),y||(r=v({src:r,async:!0,type:"module"},a),(a=Fr.get(m))&&Kp(r,a),y=o.createElement("script"),Je(y),Dn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function q1(r,a,o,u){var m=(m=Fe.current)?oh(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=yo(o.href),o=bt(m).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=yo(o.href);var y=bt(m).hoistableStyles,E=y.get(r);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=m.querySelector(Lc(r)))&&!y._p&&(E.instance=y,E.state.loading=5),Fr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fr.set(r,o),y||mS(m,r,o,E.state))),a&&u===null)throw Error(s(528,""));return E}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vo(o),o=bt(m).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function yo(r){return'href="'+en(r)+'"'}function Lc(r){return'link[rel="stylesheet"]['+r+"]"}function H1(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function mS(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Dn(a,"link",o),Je(a),r.head.appendChild(a))}function vo(r){return'[src="'+en(r)+'"]'}function kc(r){return"script[async]"+r}function G1(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+en(o.href)+'"]');if(u)return a.instance=u,Je(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Je(u),Dn(u,"style",m),ch(u,o.precedence,r),a.instance=u;case"stylesheet":m=yo(o.href);var y=r.querySelector(Lc(m));if(y)return a.state.loading|=4,a.instance=y,Je(y),y;u=H1(o),(m=Fr.get(m))&&$p(u,m),y=(r.ownerDocument||r).createElement("link"),Je(y);var E=y;return E._p=new Promise(function(j,H){E.onload=j,E.onerror=H}),Dn(y,"link",u),a.state.loading|=4,ch(y,o.precedence,r),a.instance=y;case"script":return y=vo(o.src),(m=r.querySelector(kc(y)))?(a.instance=m,Je(m),m):(u=o,(m=Fr.get(y))&&(u=v({},o),Kp(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),Je(m),Dn(m,"link",u),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,ch(u,o.precedence,r));return a.instance}function ch(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,E=0;E<u.length;E++){var j=u[E];if(j.dataset.precedence===a)y=j;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function $p(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Kp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var uh=null;function $1(r,a,o){if(uh===null){var u=new Map,m=uh=new Map;m.set(o,u)}else m=uh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[Le]||y[ge]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=r+E;var j=u.get(E);j?j.push(y):u.set(E,[y])}}return u}function K1(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function pS(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Q1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vc=null;function gS(){}function yS(r,a,o){if(Vc===null)throw Error(s(475));var u=Vc;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=yo(o.href),y=r.querySelector(Lc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=dh.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=y,Je(y);return}y=r.ownerDocument||r,o=H1(o),(m=Fr.get(m))&&$p(o,m),y=y.createElement("link"),Je(y);var E=y;E._p=new Promise(function(j,H){E.onload=j,E.onerror=H}),Dn(y,"link",o),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=dh.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function vS(){if(Vc===null)throw Error(s(475));var r=Vc;return r.stylesheets&&r.count===0&&Qp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Qp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function dh(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hh=null;function Qp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hh=new Map,a.forEach(xS,r),hh=null,dh.call(r))}function xS(r,a){if(!(a.state.loading&4)){var o=hh.get(r);if(o)var u=o.get(null);else{o=new Map,hh.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}m=a.instance,E=m.getAttribute("data-precedence"),y=o.get(E)||u,y===u&&o.set(null,m),o.set(E,m),this.count++,u=dh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Uc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function bS(r,a,o,u,m,y,E,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Y1(r,a,o,u,m,y,E,j,H,re,he,pe){return r=new bS(r,a,o,E,j,H,re,pe),a=1,y===!0&&(a|=24),y=xr(3,null,null,a),r.current=y,y.stateNode=r,a=Rm(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:a},Om(y),r}function W1(r){return r?(r=Ql,r):Ql}function X1(r,a,o,u,m,y){m=W1(m),u.context===null?u.context=m:u.pendingContext=m,u=Ua(a),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=za(r,u,a),o!==null&&(Nr(o,r,a),pc(o,r,a))}function Z1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Yp(r,a){Z1(r,a),(r=r.alternate)&&Z1(r,a)}function J1(r){if(r.tag===13){var a=Kl(r,67108864);a!==null&&Nr(a,r,67108864),Yp(r,67108864)}}var fh=!0;function _S(r,a,o,u){var m=$.T;$.T=null;var y=Z.p;try{Z.p=2,Wp(r,a,o,u)}finally{Z.p=y,$.T=m}}function wS(r,a,o,u){var m=$.T;$.T=null;var y=Z.p;try{Z.p=8,Wp(r,a,o,u)}finally{Z.p=y,$.T=m}}function Wp(r,a,o,u){if(fh){var m=Xp(u);if(m===null)kp(r,a,u,mh,o),tb(r,u);else if(NS(m,r,a,o,u))u.stopPropagation();else if(tb(r,u),a&4&&-1<ES.indexOf(r)){for(;m!==null;){var y=vt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Gn(y.pendingLanes);if(E!==0){var j=y;for(j.pendingLanes|=2,j.entangledLanes|=2;E;){var H=1<<31-yt(E);j.entanglements[1]|=H,E&=~H}Is(y),(St&6)===0&&(Xd=An()+500,Dc(0))}}break;case 13:j=Kl(y,2),j!==null&&Nr(j,y,2),Jd(),Yp(y,2)}if(y=Xp(u),y===null&&kp(r,a,u,mh,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else kp(r,a,u,null,o)}}function Xp(r){return r=Dr(r),Zp(r)}var mh=null;function Zp(r){if(mh=null,r=nt(r),r!==null){var a=c(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=d(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return mh=r,null}function eb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case ys:return 2;case Q:return 8;case ne:case de:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Jp=!1,Ja=null,ei=null,ti=null,zc=new Map,Fc=new Map,ni=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(r,a){switch(r){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":zc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(a.pointerId)}}function Bc(r,a,o,u,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},a!==null&&(a=vt(a),a!==null&&J1(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function NS(r,a,o,u,m){switch(a){case"focusin":return Ja=Bc(Ja,r,a,o,u,m),!0;case"dragenter":return ei=Bc(ei,r,a,o,u,m),!0;case"mouseover":return ti=Bc(ti,r,a,o,u,m),!0;case"pointerover":var y=m.pointerId;return zc.set(y,Bc(zc.get(y)||null,r,a,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Fc.set(y,Bc(Fc.get(y)||null,r,a,o,u,m)),!0}return!1}function nb(r){var a=nt(r.target);if(a!==null){var o=c(a);if(o!==null){if(a=o.tag,a===13){if(a=d(o),a!==null){r.blockedOn=a,J(r.priority,function(){if(o.tag===13){var u=Er();u=xs(u);var m=Kl(o,u);m!==null&&Nr(m,o,u),Yp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ph(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Xp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Xs=u,o.target.dispatchEvent(u),Xs=null}else return a=vt(o),a!==null&&J1(a),r.blockedOn=o,!1;a.shift()}return!0}function rb(r,a,o){ph(r)&&o.delete(a)}function TS(){Jp=!1,Ja!==null&&ph(Ja)&&(Ja=null),ei!==null&&ph(ei)&&(ei=null),ti!==null&&ph(ti)&&(ti=null),zc.forEach(rb),Fc.forEach(rb)}function gh(r,a){r.blockedOn===a&&(r.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TS)))}var yh=null;function sb(r){yh!==r&&(yh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yh===r&&(yh=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],m=r[a+2];if(typeof u!="function"){if(Zp(u||o)===null)continue;break}var y=vt(o);y!==null&&(r.splice(a,3),a-=3,Zm(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function qc(r){function a(H){return gh(H,r)}Ja!==null&&gh(Ja,r),ei!==null&&gh(ei,r),ti!==null&&gh(ti,r),zc.forEach(a),Fc.forEach(a);for(var o=0;o<ni.length;o++){var u=ni[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ni.length&&(o=ni[0],o.blockedOn===null);)nb(o),o.blockedOn===null&&ni.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],E=m[be]||null;if(typeof y=="function")E||sb(o);else if(E){var j=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[be]||null)j=E.formAction;else if(Zp(m)!==null)continue}else j=E.action;typeof j=="function"?o[u+1]=j:(o.splice(u,3),u-=3),sb(o)}}}function eg(r){this._internalRoot=r}vh.prototype.render=eg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,u=Er();X1(o,u,r,a,null,null)},vh.prototype.unmount=eg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;X1(r.current,2,null,r,null,null),Jd(),a[Ie]=null}};function vh(r){this._internalRoot=r}vh.prototype.unstable_scheduleHydration=function(r){if(r){var a=K();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ni.length&&a!==0&&a<ni[o].priority;o++);ni.splice(o,0,r),o===0&&nb(r)}};var ab=e.version;if(ab!=="19.1.1")throw Error(s(527,ab,"19.1.1"));Z.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var SS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{we=xh.inject(SS),Ce=xh}catch{}}return Gc.createRoot=function(r,a){if(!i(r))throw Error(s(299));var o=!1,u="",m=_x,y=wx,E=Ex,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=Y1(r,1,!1,null,null,o,u,m,y,E,j,null),r[Ie]=a.current,Lp(r),new eg(a)},Gc.hydrateRoot=function(r,a,o){if(!i(r))throw Error(s(299));var u=!1,m="",y=_x,E=wx,j=Ex,H=null,re=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(re=o.formState)),a=Y1(r,1,!0,a,o??null,u,m,y,E,j,H,re),a.context=W1(null),o=a.current,u=Er(),u=xs(u),m=Ua(u),m.callback=null,za(o,m,u),o=u,a.current.lanes=o,Jr(a,o),Is(a),r[Ie]=a.current,Lp(r),new vh(a)},Gc.version="19.1.1",Gc}var pb;function PS(){if(pb)return rg.exports;pb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=MS(),rg.exports}var LS=PS();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pw=t=>{throw TypeError(t)},kS=(t,e,n)=>e.has(t)||pw("Cannot "+n),lg=(t,e,n)=>(kS(t,e,"read from private field"),n?n.call(t):e.get(t)),VS=(t,e,n)=>e.has(t)?pw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gb="popstate";function US(t={}){function e(s,i){let{pathname:c,search:d,hash:f}=s.location;return Nu("",{pathname:c,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:bi(i)}return FS(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Nu(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ii(e):e,state:n,key:e&&e.key||s||zS()}}function bi({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function FS(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:c=!1}=s,d=i.history,f="POP",p=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function b(){f="POP";let L=v(),Y=L==null?null:L-g;g=L,p&&p({action:f,location:D.location,delta:Y})}function _(L,Y){f="PUSH";let B=Nu(D.location,L,Y);g=v()+1;let q=yb(B,g),G=D.createHref(B);try{d.pushState(q,"",G)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(G)}c&&p&&p({action:f,location:D.location,delta:1})}function R(L,Y){f="REPLACE";let B=Nu(D.location,L,Y);g=v();let q=yb(B,g),G=D.createHref(B);d.replaceState(q,"",G),c&&p&&p({action:f,location:D.location,delta:0})}function M(L){return gw(L)}let D={get action(){return f},get location(){return t(i,d)},listen(L){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(gb,b),p=L,()=>{i.removeEventListener(gb,b),p=null}},createHref(L){return e(i,L)},createURL:M,encodeLocation(L){let Y=M(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:_,replace:R,go(L){return d.go(L)}};return D}function gw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:bi(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var ou,vb=class{constructor(t){if(VS(this,ou,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(lg(this,ou).has(t))return lg(this,ou).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){lg(this,ou).set(t,e)}};ou=new WeakMap;var BS=new Set(["lazy","caseSensitive","path","id","index","children"]);function qS(t){return BS.has(t)}var HS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function GS(t){return HS.has(t)}function $S(t){return t.index===!0}function Tu(t,e,n=[],s={},i=!1){return t.map((c,d)=>{let f=[...n,String(d)],p=typeof c.id=="string"?c.id:f.join("-");if(it(c.index!==!0||!c.children,"Cannot specify children on an index route"),it(i||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),$S(c)){let g={...c,...e(c),id:p};return s[p]=g,g}else{let g={...c,...e(c),id:p,children:void 0};return s[p]=g,c.children&&(g.children=Tu(c.children,e,f,s,i)),g}})}function li(t,e,n="/"){return Mh(t,e,n,!1)}function Mh(t,e,n,s){let i=typeof e=="string"?Ii(e):e,c=$r(i.pathname||"/",n);if(c==null)return null;let d=yw(t);QS(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=aA(c);f=rA(d[p],g,s)}return f}function KS(t,e){let{route:n,pathname:s,params:i}=t;return{id:n.id,pathname:s,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function yw(t,e=[],n=[],s="",i=!1){let c=(d,f,p=i,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;it(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ls([s,v.relativePath]),_=n.concat(v);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),yw(d.children,e,_,b,p)),!(d.path==null&&!d.index)&&e.push({path:b,score:tA(b,d.index),routesMeta:_})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let p of vw(d.path))c(d,f,!0,p)}),e}function vw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return i?[c,""]:[c];let d=vw(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),i&&f.push(...d),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function QS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var YS=/^:[\w-]+$/,WS=3,XS=2,ZS=1,JS=10,eA=-2,xb=t=>t==="*";function tA(t,e){let n=t.split("/"),s=n.length;return n.some(xb)&&(s+=eA),e&&(s+=XS),n.filter(i=>!xb(i)).reduce((i,c)=>i+(YS.test(c)?WS:c===""?ZS:JS),s)}function nA(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function rA(t,e,n=!1){let{routesMeta:s}=t,i={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),_=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(i,b.params),d.push({params:i,pathname:Ls([c,b.pathname]),pathnameBase:cA(Ls([c,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(c=Ls([c,b.pathnameBase]))}return d}function Wh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=sA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},_)=>{if(v==="*"){let M=f[_]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const R=f[_];return b&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function sA(t,e=!1,n=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function aA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $r(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function iA({basename:t,pathname:e}){return e==="/"?t:Ls([t,e])}function lA(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:oA(n,e):e,search:uA(s),hash:dA(i)}}function oA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function og(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rf(t){let e=xw(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cf(t,e,n,s=!1){let i;typeof t=="string"?i=Ii(t):(i={...t},it(!i.pathname||!i.pathname.includes("?"),og("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),og("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),og("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,f;if(d==null)f=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}f=b>=0?e[b]:"/"}let p=lA(i,f),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ls=t=>t.join("/").replace(/\/\/+/g,"/"),cA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xh=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Su(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bw=["POST","PUT","PATCH","DELETE"],hA=new Set(bw),fA=["GET",...bw],mA=new Set(fA),pA=new Set([301,302,303,307,308]),gA=new Set([307,308]),cg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$c={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jy=t=>vA.test(t),xA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_w="remix-router-transitions",ww=Symbol("ResetLoaderData");function bA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],i=t.mapRouteProperties||xA,c={},d=Tu(t.routes,i,void 0,c),f,p=t.basename||"/",g=t.dataStrategy||TA,v={unstable_middleware:!1,...t.future},b=null,_=new Set,R=null,M=null,D=null,L=t.hydrationData!=null,Y=li(d,t.history.location,p),B=!1,q=null,G;if(Y==null&&!t.patchRoutesOnNavigation){let K=qr(404,{pathname:t.history.location.pathname}),{matches:J,route:se}=Ib(d);G=!0,Y=J,q={[se.id]:K}}else if(Y&&!t.hydrationData&&$n(Y,d,t.history.location.pathname).active&&(Y=null),Y)if(Y.some(K=>K.route.lazy))G=!1;else if(!Y.some(K=>K.route.loader))G=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,J=t.hydrationData?t.hydrationData.errors:null;if(J){let se=Y.findIndex(ge=>J[ge.route.id]!==void 0);G=Y.slice(0,se+1).every(ge=>!Ug(ge.route,K,J))}else G=Y.every(se=>!Ug(se.route,K,J))}else{G=!1,Y=[];let K=$n(null,d,t.history.location.pathname);K.active&&K.matches&&(B=!0,Y=K.matches)}let z,O={historyAction:t.history.action,location:t.history.location,matches:Y,initialized:G,navigation:cg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||q,fetchers:new Map,blockers:new Map},P="POP",N=!1,T,k=!1,I=new Map,A=null,S=!1,ae=!1,V=new Set,$=new Map,Z=0,ue=-1,Se=new Map,U=new Set,oe=new Map,xe=new Map,ve=new Set,Ae=new Map,Ge,Fe=null;function Ut(){if(b=t.history.listen(({action:K,location:J,delta:se})=>{if(Ge){Ge(),Ge=void 0;return}Zt(Ae.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=Zr({currentLocation:O.location,nextLocation:J,historyAction:K});if(ge&&se!=null){let be=new Promise(Ie=>{Ge=Ie});t.history.go(se*-1),ar(ge,{state:"blocked",location:J,proceed(){ar(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),be.then(()=>t.history.go(se))},reset(){let Ie=new Map(O.blockers);Ie.set(ge,$c),Tt({blockers:Ie})}});return}return vn(K,J)}),n){kA(e,I);let K=()=>VA(e,I);e.addEventListener("pagehide",K),A=()=>e.removeEventListener("pagehide",K)}return O.initialized||vn("POP",O.location,{initialHydration:!0}),z}function gt(){b&&b(),A&&A(),_.clear(),T&&T.abort(),O.fetchers.forEach((K,J)=>yt(J)),O.blockers.forEach((K,J)=>jr(J))}function Ln(K){return _.add(K),()=>_.delete(K)}function Tt(K,J={}){K.matches&&(K.matches=K.matches.map(be=>{let Ie=c[be.route.id],Ve=be.route;return Ve.element!==Ie.element||Ve.errorElement!==Ie.errorElement||Ve.hydrateFallbackElement!==Ie.hydrateFallbackElement?{...be,route:Ie}:be})),O={...O,...K};let se=[],ge=[];O.fetchers.forEach((be,Ie)=>{be.state==="idle"&&(ve.has(Ie)?se.push(Ie):ge.push(Ie))}),ve.forEach(be=>{!O.fetchers.has(be)&&!$.has(be)&&se.push(be)}),[..._].forEach(be=>be(O,{deletedFetchers:se,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),se.forEach(be=>yt(be)),ge.forEach(be=>O.fetchers.delete(be))}function yn(K,J,{flushSync:se}={}){let ge=O.actionData!=null&&O.navigation.formMethod!=null&&hr(O.navigation.formMethod)&&O.navigation.state==="loading"&&K.state?._isRedirect!==!0,be;J.actionData?Object.keys(J.actionData).length>0?be=J.actionData:be=null:ge?be=O.actionData:be=null;let Ie=J.loaderData?Rb(O.loaderData,J.loaderData,J.matches||[],J.errors):O.loaderData,Ve=O.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Le,ke)=>Ve.set(ke,$c)));let Me=S?!1:Ca(K,J.matches||O.matches),Pe=N===!0||O.navigation.formMethod!=null&&hr(O.navigation.formMethod)&&K.state?._isRedirect!==!0;f&&(d=f,f=void 0),S||P==="POP"||(P==="PUSH"?t.history.push(K,K.state):P==="REPLACE"&&t.history.replace(K,K.state));let qe;if(P==="POP"){let Le=I.get(O.location.pathname);Le&&Le.has(K.pathname)?qe={currentLocation:O.location,nextLocation:K}:I.has(K.pathname)&&(qe={currentLocation:K,nextLocation:O.location})}else if(k){let Le=I.get(O.location.pathname);Le?Le.add(K.pathname):(Le=new Set([K.pathname]),I.set(O.location.pathname,Le)),qe={currentLocation:O.location,nextLocation:K}}Tt({...J,actionData:be,loaderData:Ie,historyAction:P,location:K,initialized:!0,navigation:cg,revalidation:"idle",restoreScrollPosition:Me,preventScrollReset:Pe,blockers:Ve},{viewTransitionOpts:qe,flushSync:se===!0}),P="POP",N=!1,k=!1,S=!1,ae=!1,Fe?.resolve(),Fe=null}async function mr(K,J){if(typeof K=="number"){t.history.go(K);return}let se=Vg(O.location,O.matches,p,K,J?.fromRouteId,J?.relative),{path:ge,submission:be,error:Ie}=bb(!1,se,J),Ve=O.location,Me=Nu(O.location,ge,J&&J.state);Me={...Me,...t.history.encodeLocation(Me)};let Pe=J&&J.replace!=null?J.replace:void 0,qe="PUSH";Pe===!0?qe="REPLACE":Pe===!1||be!=null&&hr(be.formMethod)&&be.formAction===O.location.pathname+O.location.search&&(qe="REPLACE");let Le=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,ke=(J&&J.flushSync)===!0,nt=Zr({currentLocation:Ve,nextLocation:Me,historyAction:qe});if(nt){ar(nt,{state:"blocked",location:Me,proceed(){ar(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),mr(K,J)},reset(){let vt=new Map(O.blockers);vt.set(nt,$c),Tt({blockers:vt})}});return}await vn(qe,Me,{submission:be,pendingError:Ie,preventScrollReset:Le,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:ke})}function Wr(){Fe||(Fe=UA()),_e(),Tt({revalidation:"loading"});let K=Fe.promise;return O.navigation.state==="submitting"?K:O.navigation.state==="idle"?(vn(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),K):(vn(P||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:k===!0}),K)}async function vn(K,J,se){T&&T.abort(),T=null,P=K,S=(se&&se.startUninterruptedRevalidation)===!0,Jr(O.location,O.matches),N=(se&&se.preventScrollReset)===!0,k=(se&&se.enableViewTransition)===!0;let ge=f||d,be=se&&se.overrideNavigation,Ie=se?.initialHydration&&O.matches&&O.matches.length>0&&!B?O.matches:li(ge,J,p),Ve=(se&&se.flushSync)===!0;if(Ie&&O.initialized&&!ae&&DA(O.location,J)&&!(se&&se.submission&&hr(se.submission.formMethod))){yn(J,{matches:Ie},{flushSync:Ve});return}let Me=$n(Ie,ge,J.pathname);if(Me.active&&Me.matches&&(Ie=Me.matches),!Ie){let{error:bt,notFoundMatches:Je,route:_t}=Qs(J.pathname);yn(J,{matches:Je,loaderData:{},errors:{[_t.id]:bt}},{flushSync:Ve});return}T=new AbortController;let Pe=_o(t.history,J,T.signal,se&&se.submission),qe=t.unstable_getContext?await t.unstable_getContext():new vb,Le;if(se&&se.pendingError)Le=[oi(Ie).route.id,{type:"error",error:se.pendingError}];else if(se&&se.submission&&hr(se.submission.formMethod)){let bt=await gs(Pe,J,se.submission,Ie,qe,Me.active,se&&se.initialHydration===!0,{replace:se.replace,flushSync:Ve});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[Je,_t]=bt.pendingActionResult;if(Sr(_t)&&Su(_t.error)&&_t.error.status===404){T=null,yn(J,{matches:bt.matches,loaderData:{},errors:{[Je]:_t.error}});return}}Ie=bt.matches||Ie,Le=bt.pendingActionResult,be=ug(J,se.submission),Ve=!1,Me.active=!1,Pe=_o(t.history,Pe.url,Pe.signal)}let{shortCircuited:ke,matches:nt,loaderData:vt,errors:Ot}=await Ra(Pe,J,Ie,qe,Me.active,be,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,Ve,Le);ke||(T=null,yn(J,{matches:nt||Ie,...Cb(Le),loaderData:vt,errors:Ot}))}async function gs(K,J,se,ge,be,Ie,Ve,Me={}){_e();let Pe=PA(J,se);if(Tt({navigation:Pe},{flushSync:Me.flushSync===!0}),Ie){let ke=await vs(ge,J.pathname,K.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let nt=oi(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[nt,{type:"error",error:ke.error}]}}else if(ke.matches)ge=ke.matches;else{let{notFoundMatches:nt,error:vt,route:Ot}=Qs(J.pathname);return{matches:nt,pendingActionResult:[Ot.id,{type:"error",error:vt}]}}}let qe,Le=Ph(ge,J);if(!Le.route.action&&!Le.route.lazy)qe={type:"error",error:qr(405,{method:K.method,pathname:J.pathname,routeId:Le.route.id})};else{let ke=To(i,c,K,ge,Le,Ve?[]:s,be),nt=await Te(K,ke,be,null);if(qe=nt[Le.route.id],!qe){for(let vt of ge)if(nt[vt.route.id]){qe=nt[vt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(cl(qe)){let ke;return Me&&Me.replace!=null?ke=Me.replace:ke=Sb(qe.response.headers.get("Location"),new URL(K.url),p)===O.location.pathname+O.location.search,await de(K,qe,!0,{submission:se,replace:ke}),{shortCircuited:!0}}if(Sr(qe)){let ke=oi(ge,Le.route.id);return(Me&&Me.replace)!==!0&&(P="PUSH"),{matches:ge,pendingActionResult:[ke.route.id,qe,Le.route.id]}}return{matches:ge,pendingActionResult:[Le.route.id,qe]}}async function Ra(K,J,se,ge,be,Ie,Ve,Me,Pe,qe,Le,ke){let nt=Ie||ug(J,Ve),vt=Ve||Me||Ob(nt),Ot=!S&&!qe;if(be){if(Ot){let Ft=An(ke);Tt({navigation:nt,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:Le})}let We=await vs(se,J.pathname,K.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Ft=oi(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Ft]:We.error}}}else if(We.matches)se=We.matches;else{let{error:Ft,notFoundMatches:Ys,route:Yn}=Qs(J.pathname);return{matches:Ys,loaderData:{},errors:{[Yn.id]:Ft}}}}let bt=f||d,{dsMatches:Je,revalidatingFetchers:_t}=_b(K,ge,i,c,t.history,O,se,vt,J,qe?[]:s,qe===!0,ae,V,ve,oe,U,bt,p,t.patchRoutesOnNavigation!=null,ke);if(ue=++Z,!t.dataStrategy&&!Je.some(We=>We.shouldLoad)&&!Je.some(We=>We.route.unstable_middleware)&&_t.length===0){let We=rr();return yn(J,{matches:se,loaderData:{},errors:ke&&Sr(ke[1])?{[ke[0]]:ke[1].error}:null,...Cb(ke),...We?{fetchers:new Map(O.fetchers)}:{}},{flushSync:Le}),{shortCircuited:!0}}if(Ot){let We={};if(!be){We.navigation=nt;let Ft=An(ke);Ft!==void 0&&(We.actionData=Ft)}_t.length>0&&(We.fetchers=Ol(_t)),Tt(We,{flushSync:Le})}_t.forEach(We=>{Qt(We.key),We.controller&&$.set(We.key,We.controller)});let ir=()=>_t.forEach(We=>Qt(We.key));T&&T.signal.addEventListener("abort",ir);let{loaderResults:jn,fetcherResults:xn}=await Ee(Je,_t,K,ge);if(K.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",ir),_t.forEach(We=>$.delete(We.key));let Kn=bh(jn);if(Kn)return await de(K,Kn.result,!0,{replace:Pe}),{shortCircuited:!0};if(Kn=bh(xn),Kn)return U.add(Kn.key),await de(K,Kn.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Da,errors:pr}=jb(O,se,jn,ke,_t,xn);qe&&O.errors&&(pr={...O.errors,...pr});let Cr=rr(),gr=sr(ue),Qn=Cr||gr||_t.length>0;return{matches:se,loaderData:Da,errors:pr,...Qn?{fetchers:new Map(O.fetchers)}:{}}}function An(K){if(K&&!Sr(K[1]))return{[K[0]]:K[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Ol(K){return K.forEach(J=>{let se=O.fetchers.get(J.key),ge=Kc(void 0,se?se.data:void 0);O.fetchers.set(J.key,ge)}),new Map(O.fetchers)}async function ys(K,J,se,ge){Qt(K);let be=(ge&&ge.flushSync)===!0,Ie=f||d,Ve=Vg(O.location,O.matches,p,se,J,ge?.relative),Me=li(Ie,Ve,p),Pe=$n(Me,Ie,Ve);if(Pe.active&&Pe.matches&&(Me=Pe.matches),!Me){Ce(K,J,qr(404,{pathname:Ve}),{flushSync:be});return}let{path:qe,submission:Le,error:ke}=bb(!0,Ve,ge);if(ke){Ce(K,J,ke,{flushSync:be});return}let nt=t.unstable_getContext?await t.unstable_getContext():new vb,vt=(ge&&ge.preventScrollReset)===!0;if(Le&&hr(Le.formMethod)){await Q(K,J,qe,Me,nt,Pe.active,be,vt,Le);return}oe.set(K,{routeId:J,path:qe}),await ne(K,J,qe,Me,nt,Pe.active,be,vt,Le)}async function Q(K,J,se,ge,be,Ie,Ve,Me,Pe){_e(),oe.delete(K);let qe=O.fetchers.get(K);we(K,LA(Pe,qe),{flushSync:Ve});let Le=new AbortController,ke=_o(t.history,se,Le.signal,Pe);if(Ie){let Pt=await vs(ge,new URL(ke.url).pathname,ke.signal,K);if(Pt.type==="aborted")return;if(Pt.type==="error"){Ce(K,J,Pt.error,{flushSync:Ve});return}else if(Pt.matches)ge=Pt.matches;else{Ce(K,J,qr(404,{pathname:se}),{flushSync:Ve});return}}let nt=Ph(ge,se);if(!nt.route.action&&!nt.route.lazy){let Pt=qr(405,{method:Pe.formMethod,pathname:se,routeId:J});Ce(K,J,Pt,{flushSync:Ve});return}$.set(K,Le);let vt=Z,Ot=To(i,c,ke,ge,nt,s,be),Je=(await Te(ke,Ot,be,K))[nt.route.id];if(ke.signal.aborted){$.get(K)===Le&&$.delete(K);return}if(ve.has(K)){if(cl(Je)||Sr(Je)){we(K,ii(void 0));return}}else{if(cl(Je))if($.delete(K),ue>vt){we(K,ii(void 0));return}else return U.add(K),we(K,Kc(Pe)),de(ke,Je,!1,{fetcherSubmission:Pe,preventScrollReset:Me});if(Sr(Je)){Ce(K,J,Je.error);return}}let _t=O.navigation.location||O.location,ir=_o(t.history,_t,Le.signal),jn=f||d,xn=O.navigation.state!=="idle"?li(jn,O.navigation.location,p):O.matches;it(xn,"Didn't find any matches after fetcher action");let Kn=++Z;Se.set(K,Kn);let Da=Kc(Pe,Je.data);O.fetchers.set(K,Da);let{dsMatches:pr,revalidatingFetchers:Cr}=_b(ir,be,i,c,t.history,O,xn,Pe,_t,s,!1,ae,V,ve,oe,U,jn,p,t.patchRoutesOnNavigation!=null,[nt.route.id,Je]);Cr.filter(Pt=>Pt.key!==K).forEach(Pt=>{let es=Pt.key,Oa=O.fetchers.get(es),Ma=Kc(void 0,Oa?Oa.data:void 0);O.fetchers.set(es,Ma),Qt(es),Pt.controller&&$.set(es,Pt.controller)}),Tt({fetchers:new Map(O.fetchers)});let gr=()=>Cr.forEach(Pt=>Qt(Pt.key));Le.signal.addEventListener("abort",gr);let{loaderResults:Qn,fetcherResults:We}=await Ee(pr,Cr,ir,be);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",gr),Se.delete(K),$.delete(K),Cr.forEach(Pt=>$.delete(Pt.key)),O.fetchers.has(K)){let Pt=ii(Je.data);O.fetchers.set(K,Pt)}let Ft=bh(Qn);if(Ft)return de(ir,Ft.result,!1,{preventScrollReset:Me});if(Ft=bh(We),Ft)return U.add(Ft.key),de(ir,Ft.result,!1,{preventScrollReset:Me});let{loaderData:Ys,errors:Yn}=jb(O,xn,Qn,void 0,Cr,We);sr(Kn),O.navigation.state==="loading"&&Kn>ue?(it(P,"Expected pending action"),T&&T.abort(),yn(O.navigation.location,{matches:xn,loaderData:Ys,errors:Yn,fetchers:new Map(O.fetchers)})):(Tt({errors:Yn,loaderData:Rb(O.loaderData,Ys,xn,Yn),fetchers:new Map(O.fetchers)}),ae=!1)}async function ne(K,J,se,ge,be,Ie,Ve,Me,Pe){let qe=O.fetchers.get(K);we(K,Kc(Pe,qe?qe.data:void 0),{flushSync:Ve});let Le=new AbortController,ke=_o(t.history,se,Le.signal);if(Ie){let _t=await vs(ge,new URL(ke.url).pathname,ke.signal,K);if(_t.type==="aborted")return;if(_t.type==="error"){Ce(K,J,_t.error,{flushSync:Ve});return}else if(_t.matches)ge=_t.matches;else{Ce(K,J,qr(404,{pathname:se}),{flushSync:Ve});return}}let nt=Ph(ge,se);$.set(K,Le);let vt=Z,Ot=To(i,c,ke,ge,nt,s,be),Je=(await Te(ke,Ot,be,K))[nt.route.id];if($.get(K)===Le&&$.delete(K),!ke.signal.aborted){if(ve.has(K)){we(K,ii(void 0));return}if(cl(Je))if(ue>vt){we(K,ii(void 0));return}else{U.add(K),await de(ke,Je,!1,{preventScrollReset:Me});return}if(Sr(Je)){Ce(K,J,Je.error);return}we(K,ii(Je.data))}}async function de(K,J,se,{submission:ge,fetcherSubmission:be,preventScrollReset:Ie,replace:Ve}={}){J.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let Me=J.response.headers.get("Location");it(Me,"Expected a Location header on the redirect Response"),Me=Sb(Me,new URL(K.url),p);let Pe=Nu(O.location,Me,{_isRedirect:!0});if(n){let Ot=!1;if(J.response.headers.has("X-Remix-Reload-Document"))Ot=!0;else if(jy(Me)){const bt=gw(Me,!0);Ot=bt.origin!==e.location.origin||$r(bt.pathname,p)==null}if(Ot){Ve?e.location.replace(Me):e.location.assign(Me);return}}T=null;let qe=Ve===!0||J.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:ke,formEncType:nt}=O.navigation;!ge&&!be&&Le&&ke&&nt&&(ge=Ob(O.navigation));let vt=ge||be;if(gA.has(J.response.status)&&vt&&hr(vt.formMethod))await vn(qe,Pe,{submission:{...vt,formAction:Me},preventScrollReset:Ie||N,enableViewTransition:se?k:void 0});else{let Ot=ug(Pe,ge);await vn(qe,Pe,{overrideNavigation:Ot,fetcherSubmission:be,preventScrollReset:Ie||N,enableViewTransition:se?k:void 0})}}async function Te(K,J,se,ge){let be,Ie={};try{be=await SA(g,K,J,ge,se,!1)}catch(Ve){return J.filter(Me=>Me.shouldLoad).forEach(Me=>{Ie[Me.route.id]={type:"error",error:Ve}}),Ie}if(K.signal.aborted)return Ie;for(let[Ve,Me]of Object.entries(be))if(OA(Me)){let Pe=Me.result;Ie[Ve]={type:"redirect",response:CA(Pe,K,Ve,J,p)}}else Ie[Ve]=await RA(Me);return Ie}async function Ee(K,J,se,ge){let be=Te(se,K,ge,null),Ie=Promise.all(J.map(async Pe=>{if(Pe.matches&&Pe.match&&Pe.request&&Pe.controller){let Le=(await Te(Pe.request,Pe.matches,ge,Pe.key))[Pe.match.route.id];return{[Pe.key]:Le}}else return Promise.resolve({[Pe.key]:{type:"error",error:qr(404,{pathname:Pe.path})}})})),Ve=await be,Me=(await Ie).reduce((Pe,qe)=>Object.assign(Pe,qe),{});return{loaderResults:Ve,fetcherResults:Me}}function _e(){ae=!0,oe.forEach((K,J)=>{$.has(J)&&V.add(J),Qt(J)})}function we(K,J,se={}){O.fetchers.set(K,J),Tt({fetchers:new Map(O.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Ce(K,J,se,ge={}){let be=oi(O.matches,J);yt(K),Tt({errors:{[be.route.id]:se},fetchers:new Map(O.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function tt(K){return xe.set(K,(xe.get(K)||0)+1),ve.has(K)&&ve.delete(K),O.fetchers.get(K)||yA}function yt(K){let J=O.fetchers.get(K);$.has(K)&&!(J&&J.state==="loading"&&Se.has(K))&&Qt(K),oe.delete(K),Se.delete(K),U.delete(K),ve.delete(K),V.delete(K),O.fetchers.delete(K)}function Xr(K){let J=(xe.get(K)||0)-1;J<=0?(xe.delete(K),ve.add(K)):xe.set(K,J),Tt({fetchers:new Map(O.fetchers)})}function Qt(K){let J=$.get(K);J&&(J.abort(),$.delete(K))}function Ar(K){for(let J of K){let se=tt(J),ge=ii(se.data);O.fetchers.set(J,ge)}}function rr(){let K=[],J=!1;for(let se of U){let ge=O.fetchers.get(se);it(ge,`Expected fetcher: ${se}`),ge.state==="loading"&&(U.delete(se),K.push(se),J=!0)}return Ar(K),J}function sr(K){let J=[];for(let[se,ge]of Se)if(ge<K){let be=O.fetchers.get(se);it(be,`Expected fetcher: ${se}`),be.state==="loading"&&(Qt(se),Se.delete(se),J.push(se))}return Ar(J),J.length>0}function Gn(K,J){let se=O.blockers.get(K)||$c;return Ae.get(K)!==J&&Ae.set(K,J),se}function jr(K){O.blockers.delete(K),Ae.delete(K)}function ar(K,J){let se=O.blockers.get(K)||$c;it(se.state==="unblocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="proceeding"||se.state==="blocked"&&J.state==="unblocked"||se.state==="proceeding"&&J.state==="unblocked",`Invalid blocker state transition: ${se.state} -> ${J.state}`);let ge=new Map(O.blockers);ge.set(K,J),Tt({blockers:ge})}function Zr({currentLocation:K,nextLocation:J,historyAction:se}){if(Ae.size===0)return;Ae.size>1&&Zt(!1,"A router only supports one blocker at a time");let ge=Array.from(Ae.entries()),[be,Ie]=ge[ge.length-1],Ve=O.blockers.get(be);if(!(Ve&&Ve.state==="proceeding")&&Ie({currentLocation:K,nextLocation:J,historyAction:se}))return be}function Qs(K){let J=qr(404,{pathname:K}),se=f||d,{matches:ge,route:be}=Ib(se);return{notFoundMatches:ge,route:be,error:J}}function Pi(K,J,se){if(R=K,D=J,M=se||null,!L&&O.navigation===cg){L=!0;let ge=Ca(O.location,O.matches);ge!=null&&Tt({restoreScrollPosition:ge})}return()=>{R=null,D=null,M=null}}function Rr(K,J){return M&&M(K,J.map(ge=>KS(ge,O.loaderData)))||K.key}function Jr(K,J){if(R&&D){let se=Rr(K,J);R[se]=D()}}function Ca(K,J){if(R){let se=Rr(K,J),ge=R[se];if(typeof ge=="number")return ge}return null}function $n(K,J,se){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Mh(J,se,p,!0)}}else return{active:!0,matches:Mh(J,se,p,!0)||[]};return{active:!1,matches:null}}async function vs(K,J,se,ge){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let be=K;for(;;){let Ie=f==null,Ve=f||d,Me=c;try{await t.patchRoutesOnNavigation({signal:se,path:J,matches:be,fetcherKey:ge,patch:(Le,ke)=>{se.aborted||wb(Le,ke,Ve,Me,i,!1)}})}catch(Le){return{type:"error",error:Le,partialMatches:be}}finally{Ie&&!se.aborted&&(d=[...d])}if(se.aborted)return{type:"aborted"};let Pe=li(Ve,J,p);if(Pe)return{type:"success",matches:Pe};let qe=Mh(Ve,J,p,!0);if(!qe||be.length===qe.length&&be.every((Le,ke)=>Le.route.id===qe[ke].route.id))return{type:"success",matches:null};be=qe}}function xs(K){c={},f=Tu(K,i,void 0,c)}function Ia(K,J,se=!1){let ge=f==null;wb(K,J,f||d,c,i,se),ge&&(d=[...d],Tt({}))}return z={get basename(){return p},get future(){return v},get state(){return O},get routes(){return d},get window(){return e},initialize:Ut,subscribe:Ln,enableScrollRestoration:Pi,navigate:mr,fetch:ys,revalidate:Wr,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:tt,deleteFetcher:Xr,dispose:gt,getBlocker:Gn,deleteBlocker:jr,patchRoutes:Ia,_internalFetchControllers:$,_internalSetRoutes:xs,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){Tt(K)}},z}function _A(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vg(t,e,n,s,i,c){let d,f;if(i){d=[];for(let g of e)if(d.push(g),g.route.id===i){f=g;break}}else d=e,f=e[e.length-1];let p=Cf(s||".",Rf(d),$r(t.pathname,n)||t.pathname,c==="path");if(s==null&&(p.search=t.search,p.hash=t.hash),(s==null||s===""||s===".")&&f){let g=Ry(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let v=new URLSearchParams(p.search),b=v.getAll("index");v.delete("index"),b.filter(R=>R).forEach(R=>v.append("index",R));let _=v.toString();p.search=_?`?${_}`:""}}return n!=="/"&&(p.pathname=iA({basename:n,pathname:p.pathname})),bi(p)}function bb(t,e,n){if(!n||!_A(n))return{path:e};if(n.formMethod&&!MA(n.formMethod))return{path:e,error:qr(405,{method:n.formMethod})};let s=()=>({path:e,error:qr(400,{type:"invalid-body"})}),c=(n.formMethod||"get").toUpperCase(),d=Rw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!hr(c))return s();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((_,[R,M])=>`${_}${R}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!hr(c))return s();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}it(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=Fg(n.formData),p=n.formData;else if(n.body instanceof FormData)f=Fg(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=Ab(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=Ab(f)}catch{return s()}let g={formMethod:c,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(hr(g.formMethod))return{path:e,submission:g};let v=Ii(e);return t&&v.search&&Ry(v.search)&&f.append("index",""),v.search=`?${f}`,{path:bi(v),submission:g}}function _b(t,e,n,s,i,c,d,f,p,g,v,b,_,R,M,D,L,Y,B,q){let G=q?Sr(q[1])?q[1].error:q[1].data:void 0,z=i.createURL(c.location),O=i.createURL(p),P;if(v&&c.errors){let S=Object.keys(c.errors)[0];P=d.findIndex(ae=>ae.route.id===S)}else if(q&&Sr(q[1])){let S=q[0];P=d.findIndex(ae=>ae.route.id===S)-1}let N=q?q[1].statusCode:void 0,T=N&&N>=400,k={currentUrl:z,currentParams:c.matches[0]?.params||{},nextUrl:O,nextParams:d[0].params,...f,actionResult:G,actionStatus:N},I=d.map((S,ae)=>{let{route:V}=S,$=null;if(P!=null&&ae>P?$=!1:V.lazy?$=!0:V.loader==null?$=!1:v?$=Ug(V,c.loaderData,c.errors):wA(c.loaderData,c.matches[ae],S)&&($=!0),$!==null)return zg(n,s,t,S,g,e,$);let Z=T?!1:b||z.pathname+z.search===O.pathname+O.search||z.search!==O.search||EA(c.matches[ae],S),ue={...k,defaultShouldRevalidate:Z},Se=Zh(S,ue);return zg(n,s,t,S,g,e,Se,ue)}),A=[];return M.forEach((S,ae)=>{if(v||!d.some(xe=>xe.route.id===S.routeId)||R.has(ae))return;let V=c.fetchers.get(ae),$=V&&V.state!=="idle"&&V.data===void 0,Z=li(L,S.path,Y);if(!Z){if(B&&$)return;A.push({key:ae,routeId:S.routeId,path:S.path,matches:null,match:null,request:null,controller:null});return}if(D.has(ae))return;let ue=Ph(Z,S.path),Se=new AbortController,U=_o(i,S.path,Se.signal),oe=null;if(_.has(ae))_.delete(ae),oe=To(n,s,U,Z,ue,g,e);else if($)b&&(oe=To(n,s,U,Z,ue,g,e));else{let xe={...k,defaultShouldRevalidate:T?!1:b};Zh(ue,xe)&&(oe=To(n,s,U,Z,ue,g,e,xe))}oe&&A.push({key:ae,routeId:S.routeId,path:S.path,matches:oe,match:ue,request:U,controller:Se})}),{dsMatches:I,revalidatingFetchers:A}}function Ug(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!s&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!i}function wA(t,e,n){let s=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return s||i}function EA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zh(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wb(t,e,n,s,i,c){let d;if(t){let g=s[t];it(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),d=g.children}else d=n;let f=[],p=[];if(e.forEach(g=>{let v=d.find(b=>Ew(g,b));v?p.push({existingRoute:v,newRoute:g}):f.push(g)}),f.length>0){let g=Tu(f,i,[t||"_","patch",String(d?.length||"0")],s);d.push(...g)}if(c&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:b}=p[g],_=v,[R]=Tu([b],i,[],{},!0);Object.assign(_,{element:R.element?R.element:_.element,errorElement:R.errorElement?R.errorElement:_.errorElement,hydrateFallbackElement:R.hydrateFallbackElement?R.hydrateFallbackElement:_.hydrateFallbackElement})}}function Ew(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(i=>Ew(n,i))):!1}var Eb=new WeakMap,Nw=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let i=n[e.id];if(it(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let c=i.lazy[t];if(!c)return;let d=Eb.get(i);d||(d={},Eb.set(i,d));let f=d[t];if(f)return f;let p=(async()=>{let g=qS(t),b=i[t]!==void 0&&t!=="hasErrorBoundary";if(g)Zt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),d[t]=Promise.resolve();else if(b)Zt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let _=await c();_!=null&&(Object.assign(i,{[t]:_}),Object.assign(i,s(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(_=>_===void 0)&&(i.lazy=void 0))})();return d[t]=p,p},Nb=new WeakMap;function NA(t,e,n,s,i){let c=n[t.id];if(it(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=Nb.get(c);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{it(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),R={};for(let M in _){let D=_[M];if(D===void 0)continue;let L=GS(M),B=c[M]!==void 0&&M!=="hasErrorBoundary";L?Zt(!L,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?Zt(!B,`Route "${c.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):R[M]=D}Object.assign(c,R),Object.assign(c,{...s(c),lazy:void 0})})();return Nb.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(t.lazy),f=[],p;for(let v of d){if(i&&i.includes(v))continue;let b=Nw({key:v,route:t,manifest:n,mapRouteProperties:s});b&&(f.push(b),v===e&&(p=b))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Tb(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,c)=>{n[e[c].route.id]=i}),n}async function TA(t){if(!t.matches.some(n=>n.route.unstable_middleware))return Tb(t);let e=!1;return Sw(t,()=>(e=!0,Tb(t)),(n,s)=>Tw(n,s,t.matches,e))}function Tw(t,e,n,s){if(s)return{[e]:{type:"error",result:t}};{let i=Math.min(n.findIndex(d=>d.route.id===e)||0,n.findIndex(d=>d.unstable_shouldCallHandler())||0);return{[oi(n,n[i].route.id).route.id]:{type:"error",result:t}}}}async function Sw(t,e,n){let{matches:s,request:i,params:c,context:d}=t,f=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(v=>[g.route.id,v]):[]),p={};return await Aw({request:i,params:c,context:d},f,e,n,p),p}async function Aw(t,e,n,s,i={},c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=e[c];if(!f){let _=await n();Object.assign(i,_);return}let[p,g]=f,v=!1,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0;try{let _=await Aw(t,e,n,s,i,c+1);Object.assign(i,_)}catch(_){let R=await s(_,p);Object.assign(i,R)}};try{let _=await g({request:t.request,params:t.params,context:t.context},b);typeof _<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",_),v||await b()}catch(_){let R=await s(_,p);Object.assign(i,R)}}function jw(t,e,n,s,i){let c=Nw({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),d=NA(s.route,hr(n.method)?"action":"loader",e,t,i);return{middleware:c,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function zg(t,e,n,s,i,c,d,f=null){let p=!1,g=jw(t,e,n,s,i);return{...s,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(v){return p=!0,f?typeof v=="boolean"?Zh(s,{...f,defaultShouldRevalidate:v}):Zh(s,f):d},resolve(v){return p||d||v&&!hr(n.method)&&(s.route.lazy||s.route.loader)?AA({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function To(t,e,n,s,i,c,d,f=null){return s.map(p=>p.route.id!==i.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:jw(t,e,n,p,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:zg(t,e,n,p,c,d,!0,f))}async function SA(t,e,n,s,i,c){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let d={request:e,params:n[0].params,context:i,matches:n},p=await t({...d,fetcherKey:s,unstable_runClientMiddleware:g=>{let v=d,b=!1;return Sw(v,()=>(b=!0,g({...v,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(_,R)=>Tw(_,R,n,b))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function AA({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:c}){let d,f,p=hr(t.method),g=p?"action":"loader",v=b=>{let _,R=new Promise((L,Y)=>_=Y);f=()=>_(),t.signal.addEventListener("abort",f);let M=L=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):b({request:t,params:e.params,context:c},...L!==void 0?[L]:[]),D=(async()=>{try{return{type:"data",result:await(i?i(Y=>M(Y)):M())}}catch(L){return{type:"error",result:L}}})();return Promise.race([D,R])};try{let b=p?e.route.action:e.route.loader;if(n||s)if(b){let _,[R]=await Promise.all([v(b).catch(M=>{_=M}),n,s]);if(_!==void 0)throw _;d=R}else{await n;let _=p?e.route.action:e.route.loader;if(_)[d]=await Promise.all([v(_),s]);else if(g==="action"){let R=new URL(t.url),M=R.pathname+R.search;throw qr(405,{method:t.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)d=await v(b);else{let _=new URL(t.url),R=_.pathname+_.search;throw qr(404,{pathname:R})}}catch(b){return{type:"error",result:b}}finally{f&&t.signal.removeEventListener("abort",f)}return d}async function jA(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function RA(t){let{result:e,type:n}=t;if(Cw(e)){let s;try{s=await jA(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Xh(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?Db(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xh(e.init?.status||500,void 0,e.data),statusCode:Su(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Su(e)?e.status:void 0}:Db(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function CA(t,e,n,s,i){let c=t.headers.get("Location");if(it(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!jy(c)){let d=s.slice(0,s.findIndex(f=>f.route.id===n)+1);c=Vg(new URL(e.url),d,i,c),t.headers.set("Location",c)}return t}function Sb(t,e,n){if(jy(t)){let s=t,i=s.startsWith("//")?new URL(e.protocol+s):new URL(s),c=$r(i.pathname,n)!=null;if(i.origin===e.origin&&c)return i.pathname+i.search+i.hash}return t}function _o(t,e,n,s){let i=t.createURL(Rw(e)).toString(),c={signal:n};if(s&&hr(s.formMethod)){let{formMethod:d,formEncType:f}=s;c.method=d.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(s.json)):f==="text/plain"?c.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?c.body=Fg(s.formData):c.body=s.formData}return new Request(i,c)}function Fg(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function Ab(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function IA(t,e,n,s=!1,i=!1){let c={},d=null,f,p=!1,g={},v=n&&Sr(n[1])?n[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,R=e[_];if(it(!cl(R),"Cannot handle redirect results in processLoaderData"),Sr(R)){let M=R.error;if(v!==void 0&&(M=v,v=void 0),d=d||{},i)d[_]=M;else{let D=oi(t,_);d[D.route.id]==null&&(d[D.route.id]=M)}s||(c[_]=ww),p||(p=!0,f=Su(R.error)?R.error.status:500),R.headers&&(g[_]=R.headers)}else c[_]=R.data,R.statusCode&&R.statusCode!==200&&!p&&(f=R.statusCode),R.headers&&(g[_]=R.headers)}),v!==void 0&&n&&(d={[n[0]]:v},n[2]&&(c[n[2]]=void 0)),{loaderData:c,errors:d,statusCode:f||200,loaderHeaders:g}}function jb(t,e,n,s,i,c){let{loaderData:d,errors:f}=IA(e,n,s);return i.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:b}=p;if(b&&b.signal.aborted)return;let _=c[g];if(it(_,"Did not find corresponding fetcher result"),Sr(_)){let R=oi(t.matches,v?.route.id);f&&f[R.route.id]||(f={...f,[R.route.id]:_.error}),t.fetchers.delete(g)}else if(cl(_))it(!1,"Unhandled fetcher revalidation redirect");else{let R=ii(_.data);t.fetchers.set(g,R)}}),{loaderData:d,errors:f}}function Rb(t,e,n,s){let i=Object.entries(e).filter(([,c])=>c!==ww).reduce((c,[d,f])=>(c[d]=f,c),{});for(let c of n){let d=c.route.id;if(!e.hasOwnProperty(d)&&t.hasOwnProperty(d)&&c.route.loader&&(i[d]=t[d]),s&&s.hasOwnProperty(d))break}return i}function Cb(t){return t?Sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oi(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function Ib(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qr(t,{pathname:e,routeId:n,method:s,type:i,message:c}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(d="Bad Request",s&&e&&n?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(d="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(d="Not Found",f=`No route matches URL "${e}"`):t===405&&(d="Method Not Allowed",s&&e&&n?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Xh(t||500,d,new Error(f),!0)}function bh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,i]=e[n];if(cl(i))return{key:s,result:i}}}function Rw(t){let e=typeof t=="string"?Ii(t):t;return bi({...e,hash:""})}function DA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function OA(t){return Cw(t.result)&&pA.has(t.result.status)}function Sr(t){return t.type==="error"}function cl(t){return(t&&t.type)==="redirect"}function Db(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Cw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function MA(t){return mA.has(t.toUpperCase())}function hr(t){return hA.has(t.toUpperCase())}function Ry(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ph(t,e){let n=typeof e=="string"?Ii(e).search:e.search;if(t[t.length-1].route.index&&Ry(n||""))return t[t.length-1];let s=xw(t);return s[s.length-1]}function Ob(t){let{formMethod:e,formAction:n,formEncType:s,text:i,formData:c,json:d}=t;if(!(!e||!n||!s)){if(i!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:i};if(c!=null)return{formMethod:e,formAction:n,formEncType:s,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:d,text:void 0}}}function ug(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Kc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ii(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kA(t,e){try{let n=t.sessionStorage.getItem(_w);if(n){let s=JSON.parse(n);for(let[i,c]of Object.entries(s||{}))c&&Array.isArray(c)&&e.set(i,new Set(c||[]))}}catch{}}function VA(t,e){if(e.size>0){let n={};for(let[s,i]of e)n[s]=[...i];try{t.sessionStorage.setItem(_w,JSON.stringify(n))}catch(s){Zt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function UA(){let t,e,n=new Promise((s,i)=>{t=async c=>{s(c);try{await n}catch{}},e=async c=>{i(c);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Nl=F.createContext(null);Nl.displayName="DataRouter";var Fu=F.createContext(null);Fu.displayName="DataRouterState";F.createContext(!1);var Cy=F.createContext({isTransitioning:!1});Cy.displayName="ViewTransition";var Iw=F.createContext(new Map);Iw.displayName="Fetchers";var zA=F.createContext(null);zA.displayName="Await";var ps=F.createContext(null);ps.displayName="Navigation";var If=F.createContext(null);If.displayName="Location";var Qr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var Iy=F.createContext(null);Iy.displayName="RouteError";function FA(t,{relative:e}={}){it(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(ps),{hash:i,pathname:c,search:d}=Bu(t,{relative:e}),f=c;return n!=="/"&&(f=c==="/"?n:Ls([n,c])),s.createHref({pathname:f,search:d,hash:i})}function zo(){return F.useContext(If)!=null}function Yr(){return it(zo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(If).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ow(t){F.useContext(ps).static||F.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=F.useContext(Qr);return t?nj():BA()}function BA(){it(zo(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Nl),{basename:e,navigator:n}=F.useContext(ps),{matches:s}=F.useContext(Qr),{pathname:i}=Yr(),c=JSON.stringify(Rf(s)),d=F.useRef(!1);return Ow(()=>{d.current=!0}),F.useCallback((p,g={})=>{if(Zt(d.current,Dw),!d.current)return;if(typeof p=="number"){n.go(p);return}let v=Cf(p,JSON.parse(c),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ls([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,c,i,t])}var qA=F.createContext(null);function HA(t){let e=F.useContext(Qr).outlet;return e&&F.createElement(qA.Provider,{value:t},e)}function Dy(){let{matches:t}=F.useContext(Qr),e=t[t.length-1];return e?e.params:{}}function Bu(t,{relative:e}={}){let{matches:n}=F.useContext(Qr),{pathname:s}=Yr(),i=JSON.stringify(Rf(n));return F.useMemo(()=>Cf(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function GA(t,e,n,s){it(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(ps),{matches:c}=F.useContext(Qr),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let Y=v&&v.path||"";Mw(p,!v||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let b=Yr(),_;_=b;let R=_.pathname||"/",M=R;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(Y.length).join("/")}let D=li(t,{pathname:M});return Zt(v||D!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Zt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WA(D&&D.map(Y=>Object.assign({},Y,{params:Object.assign({},f,Y.params),pathname:Ls([g,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:Ls([g,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,n,s)}function $A(){let t=tj(),e=Su(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:c},"ErrorBoundary")," or"," ",F.createElement("code",{style:c},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,d)}var KA=F.createElement($A,null),QA=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Qr.Provider,{value:this.props.routeContext},F.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:t,match:e,children:n}){let s=F.useContext(Nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Qr.Provider,{value:t},n)}function WA(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,c=n?.errors;if(c!=null){let p=i.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:b}=n,_=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||_){d=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((p,g,v)=>{let b,_=!1,R=null,M=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,R=g.route.errorElement||KA,d&&(f<0&&v===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,M=null):f===v&&(_=!0,M=g.route.hydrateFallbackElement||null)));let D=e.concat(i.slice(0,v+1)),L=()=>{let Y;return b?Y=R:_?Y=M:g.route.Component?Y=F.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,F.createElement(YA,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(QA,{location:n.location,revalidation:n.revalidation,component:R,error:b,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):L()},null)}function Oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(t){let e=F.useContext(Nl);return it(e,Oy(t)),e}function ZA(t){let e=F.useContext(Fu);return it(e,Oy(t)),e}function JA(t){let e=F.useContext(Qr);return it(e,Oy(t)),e}function My(t){let e=JA(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ej(){return My("useRouteId")}function tj(){let t=F.useContext(Iy),e=ZA("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function nj(){let{router:t}=XA("useNavigate"),e=My("useNavigate"),n=F.useRef(!1);return Ow(()=>{n.current=!0}),F.useCallback(async(i,c={})=>{Zt(n.current,Dw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...c}))},[t,e])}var Mb={};function Mw(t,e,n){!e&&!Mb[t]&&(Mb[t]=!0,Zt(!1,n))}var Pb={};function Lb(t,e){!t&&!Pb[e]&&(Pb[e]=!0,console.warn(e))}function rj(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var sj=["HydrateFallback","hydrateFallbackElement"],aj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function ij({router:t,flushSync:e}){let[n,s]=F.useState(t.state),[i,c]=F.useState(),[d,f]=F.useState({isTransitioning:!1}),[p,g]=F.useState(),[v,b]=F.useState(),[_,R]=F.useState(),M=F.useRef(new Map),D=F.useCallback((q,{deletedFetchers:G,flushSync:z,viewTransitionOpts:O})=>{q.fetchers.forEach((N,T)=>{N.data!==void 0&&M.current.set(T,N.data)}),G.forEach(N=>M.current.delete(N)),Lb(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Lb(O==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!P){e&&z?e(()=>s(q)):F.startTransition(()=>s(q));return}if(e&&z){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>s(q))});N.finished.finally(()=>{e(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})})}),e(()=>b(N));return}v?(p&&p.resolve(),v.skipTransition(),R({state:q,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(c(q),f({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,v,p]);F.useLayoutEffect(()=>t.subscribe(D),[t,D]),F.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new aj)},[d]),F.useEffect(()=>{if(p&&i&&t.window){let q=i,G=p.promise,z=t.window.document.startViewTransition(async()=>{F.startTransition(()=>s(q)),await G});z.finished.finally(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})}),b(z)}},[i,p,t.window]),F.useEffect(()=>{p&&i&&n.location.key===i.location.key&&p.resolve()},[p,v,n.location,i]),F.useEffect(()=>{!d.isTransitioning&&_&&(c(_.state),f({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),R(void 0))},[d.isTransitioning,_]);let L=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:q=>t.navigate(q),push:(q,G,z)=>t.navigate(q,{state:G,preventScrollReset:z?.preventScrollReset}),replace:(q,G,z)=>t.navigate(q,{replace:!0,state:G,preventScrollReset:z?.preventScrollReset})}),[t]),Y=t.basename||"/",B=F.useMemo(()=>({router:t,navigator:L,static:!1,basename:Y}),[t,L,Y]);return F.createElement(F.Fragment,null,F.createElement(Nl.Provider,{value:B},F.createElement(Fu.Provider,{value:n},F.createElement(Iw.Provider,{value:M.current},F.createElement(Cy.Provider,{value:d},F.createElement(cj,{basename:Y,location:n.location,navigationType:n.historyAction,navigator:L},F.createElement(lj,{routes:t.routes,future:t.future,state:n})))))),null)}var lj=F.memo(oj);function oj({routes:t,future:e,state:n}){return GA(t,void 0,n,e)}function pu({to:t,replace:e,state:n,relative:s}){it(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(ps);Zt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=F.useContext(Qr),{pathname:d}=Yr(),f=Tl(),p=Cf(t,Rf(c),d,s==="path"),g=JSON.stringify(p);return F.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function Pw(t){return HA(t.context)}function cj({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:c=!1}){it(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:d,navigator:i,static:c,future:{}}),[d,i,c]);typeof n=="string"&&(n=Ii(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:_="default"}=n,R=F.useMemo(()=>{let M=$r(p,d);return M==null?null:{location:{pathname:M,search:g,hash:v,state:b,key:_},navigationType:s}},[d,p,g,v,b,_,s]);return Zt(R!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:F.createElement(ps.Provider,{value:f},F.createElement(If.Provider,{children:e,value:R}))}var Lh="get",kh="application/x-www-form-urlencoded";function Df(t){return t!=null&&typeof t.tagName=="string"}function uj(t){return Df(t)&&t.tagName.toLowerCase()==="button"}function dj(t){return Df(t)&&t.tagName.toLowerCase()==="form"}function hj(t){return Df(t)&&t.tagName.toLowerCase()==="input"}function fj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mj(t,e){return t.button===0&&(!e||e==="_self")&&!fj(t)}var _h=null;function pj(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var gj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(t){return t!=null&&!gj.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):t}function yj(t,e){let n,s,i,c,d;if(dj(t)){let f=t.getAttribute("action");s=f?$r(f,e):null,n=t.getAttribute("method")||Lh,i=dg(t.getAttribute("enctype"))||kh,c=new FormData(t)}else if(uj(t)||hj(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?$r(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Lh,i=dg(t.getAttribute("formenctype"))||dg(f.getAttribute("enctype"))||kh,c=new FormData(f,t),!pj()){let{name:g,type:v,value:b}=t;if(v==="image"){let _=g?`${g}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else g&&c.append(g,b)}}else{if(Df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,s=null,i=kh,d=t}return c&&i==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vj(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&$r(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _j(t,e,n){let s=await Promise.all(t.map(async i=>{let c=e.routes[i.route.id];if(c){let d=await xj(c,n);return d.links?d.links():[]}return[]}));return Tj(s.flat(1).filter(bj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kb(t,e,n,s,i,c){let d=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wj(t,e,{includeHydrateFallback:n}={}){return Ej(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function Ej(t){return[...new Set(t)]}function Nj(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Tj(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let c=JSON.stringify(Nj(i));return n.has(c)||(n.add(c),s.push({key:c,link:i})),s},[])}function Lw(){let t=F.useContext(Nl);return Py(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sj(){let t=F.useContext(Fu);return Py(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=F.createContext(void 0);Ly.displayName="FrameworkContext";function kw(){let t=F.useContext(Ly);return Py(t,"You must render this element inside a <HydratedRouter> element"),t}function Aj(t,e){let n=F.useContext(Ly),[s,i]=F.useState(!1),[c,d]=F.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,_=F.useRef(null);F.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let D=Y=>{Y.forEach(B=>{d(B.isIntersecting)})},L=new IntersectionObserver(D,{threshold:.5});return _.current&&L.observe(_.current),()=>{L.disconnect()}}},[t]),F.useEffect(()=>{if(s){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[s]);let R=()=>{i(!0)},M=()=>{i(!1),d(!1)};return n?t!=="intent"?[c,_,{}]:[c,_,{onFocus:Qc(f,R),onBlur:Qc(p,M),onMouseEnter:Qc(g,R),onMouseLeave:Qc(v,M),onTouchStart:Qc(b,R)}]:[!1,_,{}]}function Qc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jj({page:t,...e}){let{router:n}=Lw(),s=F.useMemo(()=>li(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?F.createElement(Cj,{page:t,matches:s,...e}):null}function Rj(t){let{manifest:e,routeModules:n}=kw(),[s,i]=F.useState([]);return F.useEffect(()=>{let c=!1;return _j(t,e,n).then(d=>{c||i(d)}),()=>{c=!0}},[t,e,n]),s}function Cj({page:t,matches:e,...n}){let s=Yr(),{manifest:i,routeModules:c}=kw(),{basename:d}=Lw(),{loaderData:f,matches:p}=Sj(),g=F.useMemo(()=>kb(t,e,p,i,s,"data"),[t,e,p,i,s]),v=F.useMemo(()=>kb(t,e,p,i,s,"assets"),[t,e,p,i,s]),b=F.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,D=!1;if(e.forEach(Y=>{let B=i.routes[Y.route.id];!B||!B.hasLoader||(!g.some(q=>q.route.id===Y.route.id)&&Y.route.id in f&&c[Y.route.id]?.shouldRevalidate||B.hasClientLoader?D=!0:M.add(Y.route.id))}),M.size===0)return[];let L=vj(t,d,"data");return D&&M.size>0&&L.searchParams.set("_routes",e.filter(Y=>M.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[d,f,s,i,g,e,t,c]),_=F.useMemo(()=>wj(v,i),[v,i]),R=Rj(v);return F.createElement(F.Fragment,null,b.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),_.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),R.map(({key:M,link:D})=>F.createElement("link",{key:M,nonce:n.nonce,...D})))}function Ij(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.8.1")}catch{}function Dj(t,e){return bA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:US({window:e?.window}),hydrationData:e?.hydrationData||Oj(),routes:t,mapRouteProperties:rj,hydrationRouteProperties:sj,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function Oj(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Mj(t.errors)}),t}function Mj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,i]of e)if(i&&i.__type==="RouteErrorResponse")n[s]=new Xh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let c=window[i.__subType];if(typeof c=="function")try{let d=new c(i.message);d.stack="",n[s]=d}catch{}}if(n[s]==null){let c=new Error(i.message);c.stack="",n[s]=c}}else n[s]=i;return n}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,..._},R){let{basename:M}=F.useContext(ps),D=typeof g=="string"&&Uw.test(g),L,Y=!1;if(typeof g=="string"&&D&&(L=g,Vw))try{let T=new URL(window.location.href),k=g.startsWith("//")?new URL(T.protocol+g):new URL(g),I=$r(k.pathname,M);k.origin===T.origin&&I!=null?g=I+k.search+k.hash:Y=!0}catch{Zt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=FA(g,{relative:i}),[q,G,z]=Aj(s,_),O=Vj(g,{replace:d,state:f,target:p,preventScrollReset:v,relative:i,viewTransition:b});function P(T){e&&e(T),T.defaultPrevented||O(T)}let N=F.createElement("a",{..._,...z,href:L||B,onClick:Y||c?e:P,ref:Ij(R,G),target:p,"data-discover":!D&&n==="render"?"true":void 0});return q&&!D?F.createElement(F.Fragment,null,N,F.createElement(jj,{page:B})):N});je.displayName="Link";var Pj=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:c,to:d,viewTransition:f,children:p,...g},v){let b=Bu(d,{relative:g.relative}),_=Yr(),R=F.useContext(Fu),{navigator:M,basename:D}=F.useContext(ps),L=R!=null&&qj(b)&&f===!0,Y=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,B=_.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(B=B.toLowerCase(),q=q?q.toLowerCase():null,Y=Y.toLowerCase()),q&&D&&(q=$r(q,D)||q);const G=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let z=B===Y||!i&&B.startsWith(Y)&&B.charAt(G)==="/",O=q!=null&&(q===Y||!i&&q.startsWith(Y)&&q.charAt(Y.length)==="/"),P={isActive:z,isPending:O,isTransitioning:L},N=z?e:void 0,T;typeof s=="function"?T=s(P):T=[s,z?"active":null,O?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(P):c;return F.createElement(je,{...g,"aria-current":N,className:T,ref:v,style:k,to:d,viewTransition:f},typeof p=="function"?p(P):p)});Pj.displayName="NavLink";var Lj=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:c,method:d=Lh,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,..._},R)=>{let M=Fj(),D=Bj(f,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&Uw.test(f),B=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let G=q.nativeEvent.submitter,z=G?.getAttribute("formmethod")||d;M(G||q.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:c,relative:g,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:R,method:L,action:D,onSubmit:s?p:B,..._,"data-discover":!Y&&t==="render"?"true":void 0})});Lj.displayName="Form";function kj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(t){let e=F.useContext(Nl);return it(e,kj(t)),e}function Vj(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:c,viewTransition:d}={}){let f=Tl(),p=Yr(),g=Bu(t,{relative:c});return F.useCallback(v=>{if(mj(v,e)){v.preventDefault();let b=n!==void 0?n:bi(p)===bi(g);f(t,{replace:b,state:s,preventScrollReset:i,relative:c,viewTransition:d})}},[p,f,g,n,s,e,t,i,c,d])}var Uj=0,zj=()=>`__${String(++Uj)}__`;function Fj(){let{router:t}=zw("useSubmit"),{basename:e}=F.useContext(ps),n=ej();return F.useCallback(async(s,i={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=yj(s,e);if(i.navigate===!1){let v=i.fetcherKey||zj();await t.fetch(v,n,i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Bj(t,{relative:e}={}){let{basename:n}=F.useContext(ps),s=F.useContext(Qr);it(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),c={...Bu(t||".",{relative:e})},d=Yr();if(t==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();c.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ls([n,c.pathname])),bi(c)}function qj(t,{relative:e}={}){let n=F.useContext(Cy);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zw("useViewTransitionState"),i=Bu(t,{relative:e});if(!n.isTransitioning)return!1;let c=$r(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=$r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wh(i.pathname,d)!=null||Wh(i.pathname,c)!=null}var Hj=mw();function Gj(t){return F.createElement(ij,{flushSync:Hj.flushSync,...t})}var Of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$j={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Kj=class{#e=$j;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Bg=new Kj;function Qj(t){setTimeout(t,0)}var Mf=typeof window>"u"||"Deno"in globalThis;function is(){}function Yj(t,e){return typeof t=="function"?t(e):t}function Wj(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qg(t,e){return typeof t=="function"?t(e):t}function Zj(t,e){return typeof t=="function"?t(e):t}function Vb(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:c,queryKey:d,stale:f}=t;if(d){if(s){if(e.queryHash!==ky(d,e.options))return!1}else if(!ju(e.queryKey,d))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||i&&i!==e.state.fetchStatus||c&&!c(e))}function Ub(t,e){const{exact:n,status:s,predicate:i,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Au(e.options.mutationKey)!==Au(c))return!1}else if(!ju(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function ky(t,e){return(e?.queryKeyHashFn||Au)(t)}function Au(t){return JSON.stringify(t,(e,n)=>Hg(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ju(t[n],e[n])):!1}var Jj=Object.prototype.hasOwnProperty;function Fw(t,e){if(t===e)return t;const n=zb(t)&&zb(e);if(!n&&!(Hg(t)&&Hg(e)))return e;const i=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),d=c.length,f=n?new Array(d):{};let p=0;for(let g=0;g<d;g++){const v=n?g:c[g],b=t[v],_=e[v];if(b===_){f[v]=b,(n?g<i:Jj.call(t,v))&&p++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){f[v]=_;continue}const R=Fw(b,_);f[v]=R,R===b&&p++}return i===d&&p===i?t:f}function zb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hg(t){if(!Fb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Fb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Fb(t){return Object.prototype.toString.call(t)==="[object Object]"}function e6(t){return new Promise(e=>{Bg.setTimeout(e,t)})}function t6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Fw(t,e):e}function n6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function r6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Vy=Symbol();function Bw(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Vy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var s6=class extends Of{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Mf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},qw=new s6;function a6(){let t,e;const n=new Promise((i,c)=>{t=i,e=c});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}var i6=Qj;function l6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},i=i6;const c=f=>{e?t.push(f):i(()=>{n(f)})},d=()=>{const f=t;t=[],f.length&&i(()=>{s(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||d()}return p},batchCalls:f=>(...p)=>{c(()=>{f(...p)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{i=f}}}var er=l6(),o6=class extends Of{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Mf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Jh=new o6;function c6(t){return Math.min(1e3*2**t,3e4)}function Hw(t){return(t??"online")==="online"?Jh.isOnline():!0}var Gg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Gw(t){let e=!1,n=0,s;const i=a6(),c=()=>i.status!=="pending",d=D=>{if(!c()){const L=new Gg(D);_(L),t.onCancel?.(L)}},f=()=>{e=!0},p=()=>{e=!1},g=()=>qw.isFocused()&&(t.networkMode==="always"||Jh.isOnline())&&t.canRun(),v=()=>Hw(t.networkMode)&&t.canRun(),b=D=>{c()||(s?.(),i.resolve(D))},_=D=>{c()||(s?.(),i.reject(D))},R=()=>new Promise(D=>{s=L=>{(c()||g())&&D(L)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),M=()=>{if(c())return;let D;const L=n===0?t.initialPromise:void 0;try{D=L??t.fn()}catch(Y){D=Promise.reject(Y)}Promise.resolve(D).then(b).catch(Y=>{if(c())return;const B=t.retry??(Mf?0:3),q=t.retryDelay??c6,G=typeof q=="function"?q(n,Y):q,z=B===!0||typeof B=="number"&&n<B||typeof B=="function"&&B(n,Y);if(e||!z){_(Y);return}n++,t.onFail?.(n,Y),e6(G).then(()=>g()?void 0:R()).then(()=>{e?_(Y):M()})})};return{promise:i,status:()=>i.status,cancel:d,continue:()=>(s?.(),i),cancelRetry:f,continueRetry:p,canStart:v,start:()=>(v()?M():R().then(M),i)}}var $w=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wj(this.gcTime)&&(this.#e=Bg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Bg.clearTimeout(this.#e),this.#e=void 0)}},u6=class extends $w{#e;#t;#n;#s;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Bb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Bb(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=t6(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Zj(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Xj(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#l=!0,s.signal)})},c=()=>{const p=Bw(this.options,n),v=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#l=!1,this.options.persister?this.options.persister(p,v,this):p(v)},f=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return i(p),p})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#a({type:"fetch",meta:f.fetchOptions?.meta}),this.#r=Gw({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:p=>{p instanceof Gg&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(p,g)=>{this.#a({type:"failed",failureCount:p,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const p=await this.#r.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof Gg){if(p.silent)return this.#r.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#a({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#a(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...d6(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),er.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function d6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function qb(t){return{onFetch:(e,n)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const g=async()=>{let v=!1;const b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=Bw(e.options,e.fetchOptions),R=async(M,D,L)=>{if(v)return Promise.reject();if(D==null&&M.pages.length)return Promise.resolve(M);const B=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:D,direction:L?"backward":"forward",meta:e.options.meta};return b(O),O})(),q=await _(B),{maxPages:G}=e.options,z=L?r6:n6;return{pages:z(M.pages,q,G),pageParams:z(M.pageParams,D,G)}};if(i&&c.length){const M=i==="backward",D=M?h6:Hb,L={pages:c,pageParams:d},Y=D(s,L);f=await R(L,Y,M)}else{const M=t??c.length;do{const D=p===0?d[0]??s.initialPageParam:Hb(s,f);if(p>0&&D==null)break;f=await R(f,D),p++}while(p<M)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Hb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function h6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var f6=class extends $w{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||m6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})};this.#n=Gw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",i=!this.#n.canStart();try{if(s)n();else{this.#s({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const d=await this.options.onMutate?.(e);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:i})}const c=await this.#n.start();return await this.#t.config.onSuccess?.(c,e,this.state.context,this),await this.options.onSuccess?.(c,e,this.state.context),await this.#t.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,e,this.state.context),this.#s({type:"success",data:c}),c}catch(c){try{throw await this.#t.config.onError?.(c,e,this.state.context,this),await this.options.onError?.(c,e,this.state.context),await this.#t.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,e,this.state.context),c}finally{this.#s({type:"error",error:c})}}finally{this.#t.runNext(this)}}#s(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),er.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function m6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p6=class extends Of{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new f6({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=wh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=wh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=wh(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=wh(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Ub(e,n))}findAll(t={}){return this.getAll().filter(e=>Ub(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(is))))}};function wh(t){return t.options.scope?.id}var g6=class extends Of{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,i=e.queryHash??ky(s,e);let c=this.get(i);return c||(c=new u6({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Vb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Vb(t,n)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},y6=class{#e;#t;#n;#s;#r;#i;#l;#a;constructor(t={}){this.#e=t.queryCache||new g6,this.#t=t.mutationCache||new p6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=qw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Jh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(qg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,d=Yj(e,c);if(d!==void 0)return this.#e.build(this,s).setData(d,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return er.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(s).then(is).catch(is)}invalidateQueries(t,e={}){return er.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let c=i.fetch(void 0,n);return n.throwOnError||(c=c.catch(is)),i.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(is)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(qg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(is).catch(is)}fetchInfiniteQuery(t){return t.behavior=qb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(is).catch(is)}ensureInfiniteQueryData(t){return t.behavior=qb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Au(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{ju(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Au(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{ju(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ky(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},v6=F.createContext(void 0),x6=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(v6.Provider,{value:t,children:e})),hg,Gb;function b6(){if(Gb)return hg;Gb=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var f,p,g;if(Array.isArray(c)){if(f=c.length,f!=d.length)return!1;for(p=f;p--!==0;)if(!i(c[p],d[p]))return!1;return!0}var v;if(e&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(v=c.entries();!(p=v.next()).done;)if(!d.has(p.value[0]))return!1;for(v=c.entries();!(p=v.next()).done;)if(!i(p.value[1],d.get(p.value[0])))return!1;return!0}if(n&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(v=c.entries();!(p=v.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if(f=c.length,f!=d.length)return!1;for(p=f;p--!==0;)if(c[p]!==d[p])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if(g=Object.keys(c),f=g.length,f!==Object.keys(d).length)return!1;for(p=f;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(t&&c instanceof Element)return!1;for(p=f;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&c.$$typeof)&&!i(c[g[p]],d[g[p]]))return!1;return!0}return c!==c&&d!==d}return hg=function(d,f){try{return i(d,f)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},hg}var _6=b6();const w6=jf(_6);var fg,$b;function E6(){if($b)return fg;$b=1;var t=function(e,n,s,i,c,d,f,p){if(!e){var g;if(n===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[s,i,c,d,f,p],b=0;g=new Error(n.replace(/%s/g,function(){return v[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return fg=t,fg}var N6=E6();const Kb=jf(N6);var mg,Qb;function T6(){return Qb||(Qb=1,mg=function(e,n,s,i){var c=s?s.call(i,e,n):void 0;if(c!==void 0)return!!c;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(n),g=0;g<d.length;g++){var v=d[g];if(!p(v))return!1;var b=e[v],_=n[v];if(c=s?s.call(i,b,_,v):void 0,c===!1||c===void 0&&b!==_)return!1}return!0}),mg}var S6=T6();const A6=jf(S6);var Kw=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Kw||{}),pg={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Yb=Object.values(Kw),Uy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},j6=Object.entries(Uy).reduce((t,[e,n])=>(t[n]=e,t),{}),cs="data-rh",So={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ao=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const s=t[n];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},R6=t=>{let e=Ao(t,"title");const n=Ao(t,So.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const s=Ao(t,So.DEFAULT_TITLE);return e||s||void 0},C6=t=>Ao(t,So.ON_CHANGE_CLIENT_STATE)||(()=>{}),gg=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,s)=>({...n,...s}),{}),I6=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const i=Object.keys(s);for(let c=0;c<i.length;c+=1){const f=i[c].toLowerCase();if(t.indexOf(f)!==-1&&s[f])return n.concat(s)}}return n},[]),D6=t=>console&&typeof console.warn=="function"&&console.warn(t),Yc=(t,e,n)=>{const s={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&D6(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,c)=>{const d={};c.filter(p=>{let g;const v=Object.keys(p);for(let _=0;_<v.length;_+=1){const R=v[_],M=R.toLowerCase();e.indexOf(M)!==-1&&!(g==="rel"&&p[g].toLowerCase()==="canonical")&&!(M==="rel"&&p[M].toLowerCase()==="stylesheet")&&(g=M),e.indexOf(R)!==-1&&(R==="innerHTML"||R==="cssText"||R==="itemprop")&&(g=R)}if(!g||!p[g])return!1;const b=p[g].toLowerCase();return s[g]||(s[g]={}),d[g]||(d[g]={}),s[g][b]?!1:(d[g][b]=!0,!0)}).reverse().forEach(p=>i.push(p));const f=Object.keys(d);for(let p=0;p<f.length;p+=1){const g=f[p],v={...s[g],...d[g]};s[g]=v}return i},[]).reverse()},O6=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},M6=t=>({baseTag:I6(["href"],t),bodyAttributes:gg("bodyAttributes",t),defer:Ao(t,So.DEFER),encode:Ao(t,So.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:gg("htmlAttributes",t),linkTags:Yc("link",["rel","href"],t),metaTags:Yc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Yc("noscript",["innerHTML"],t),onChangeClientState:C6(t),scriptTags:Yc("script",["src","innerHTML"],t),styleTags:Yc("style",["cssText"],t),title:R6(t),titleAttributes:gg("titleAttributes",t),prioritizeSeoTags:O6(t,So.PRIORITIZE_SEO_TAGS)}),Qw=t=>Array.isArray(t)?t.join(""):t,P6=(t,e)=>{const n=Object.keys(t);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(t[n[s]]))return!0;return!1},yg=(t,e)=>Array.isArray(t)?t.reduce((n,s)=>(P6(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:t,priority:[]},Wb=(t,e)=>({...t,[e]:void 0}),L6=["noscript","script","style"],$g=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Yw=t=>Object.keys(t).reduce((e,n)=>{const s=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),k6=(t,e,n,s)=>{const i=Yw(n),c=Qw(e);return i?`<${t} ${cs}="true" ${i}>${$g(c,s)}</${t}>`:`<${t} ${cs}="true">${$g(c,s)}</${t}>`},V6=(t,e,n=!0)=>e.reduce((s,i)=>{const c=i,d=Object.keys(c).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,v)=>{const b=typeof c[v]>"u"?v:`${v}="${$g(c[v],n)}"`;return g?`${g} ${b}`:b},""),f=c.innerHTML||c.cssText||"",p=L6.indexOf(t)===-1;return`${s}<${t} ${cs}="true" ${d}${p?"/>":`>${f}</${t}>`}`},""),Ww=(t,e={})=>Object.keys(t).reduce((n,s)=>{const i=Uy[s];return n[i||s]=t[s],n},e),U6=(t,e,n)=>{const s={key:e,[cs]:!0},i=Ww(n,s);return[Dt.createElement("title",i,e)]},Vh=(t,e)=>e.map((n,s)=>{const i={key:s,[cs]:!0};return Object.keys(n).forEach(c=>{const f=Uy[c]||c;if(f==="innerHTML"||f==="cssText"){const p=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:p}}else i[f]=n[c]}),Dt.createElement(t,i)}),Br=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>U6(t,e.title,e.titleAttributes),toString:()=>k6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Ww(e),toString:()=>Yw(e)};default:return{toComponent:()=>Vh(t,e),toString:()=>V6(t,e,n)}}},z6=({metaTags:t,linkTags:e,scriptTags:n,encode:s})=>{const i=yg(t,pg.meta),c=yg(e,pg.link),d=yg(n,pg.script);return{priorityMethods:{toComponent:()=>[...Vh("meta",i.priority),...Vh("link",c.priority),...Vh("script",d.priority)],toString:()=>`${Br("meta",i.priority,s)} ${Br("link",c.priority,s)} ${Br("script",d.priority,s)}`},metaTags:i.default,linkTags:c.default,scriptTags:d.default}},F6=t=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:i,noscriptTags:c,styleTags:d,title:f="",titleAttributes:p,prioritizeSeoTags:g}=t;let{linkTags:v,metaTags:b,scriptTags:_}=t,R={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:R,linkTags:v,metaTags:b,scriptTags:_}=z6(t)),{priority:R,base:Br("base",e,s),bodyAttributes:Br("bodyAttributes",n,s),htmlAttributes:Br("htmlAttributes",i,s),link:Br("link",v,s),meta:Br("meta",b,s),noscript:Br("noscript",c,s),script:Br("script",_,s),style:Br("style",d,s),title:Br("title",{title:f,titleAttributes:p},s)}},Kg=F6,Eh=[],Xw=!!(typeof window<"u"&&window.document&&window.document.createElement),Qg=class{instances=[];canUseDOM=Xw;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Eh:this.instances,add:t=>{(this.canUseDOM?Eh:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Eh:this.instances).indexOf(t);(this.canUseDOM?Eh:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Kg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},B6={},Zw=Dt.createContext(B6),Jw=class eE extends F.Component{static canUseDOM=Xw;helmetData;constructor(e){super(e),this.helmetData=new Qg(this.props.context||{},eE.canUseDOM)}render(){return Dt.createElement(Zw.Provider,{value:this.helmetData.value},this.props.children)}},xo=(t,e)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${t}[${cs}]`),i=[].slice.call(s),c=[];let d;return e&&e.length&&e.forEach(f=>{const p=document.createElement(t);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g))if(g==="innerHTML")p.innerHTML=f.innerHTML;else if(g==="cssText")p.styleSheet?p.styleSheet.cssText=f.cssText:p.appendChild(document.createTextNode(f.cssText));else{const v=g,b=typeof f[v]>"u"?"":f[v];p.setAttribute(g,b)}p.setAttribute(cs,"true"),i.some((g,v)=>(d=v,p.isEqualNode(g)))?i.splice(d,1):c.push(p)}),i.forEach(f=>f.parentNode?.removeChild(f)),c.forEach(f=>n.appendChild(f)),{oldTags:i,newTags:c}},Yg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const s=n.getAttribute(cs),i=s?s.split(","):[],c=[...i],d=Object.keys(e);for(const f of d){const p=e[f]||"";n.getAttribute(f)!==p&&n.setAttribute(f,p),i.indexOf(f)===-1&&i.push(f);const g=c.indexOf(f);g!==-1&&c.splice(g,1)}for(let f=c.length-1;f>=0;f-=1)n.removeAttribute(c[f]);i.length===c.length?n.removeAttribute(cs):n.getAttribute(cs)!==d.join(",")&&n.setAttribute(cs,d.join(","))},q6=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Qw(t)),Yg("title",e)},Xb=(t,e)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:i,linkTags:c,metaTags:d,noscriptTags:f,onChangeClientState:p,scriptTags:g,styleTags:v,title:b,titleAttributes:_}=t;Yg("body",s),Yg("html",i),q6(b,_);const R={baseTag:xo("base",n),linkTags:xo("link",c),metaTags:xo("meta",d),noscriptTags:xo("noscript",f),scriptTags:xo("script",g),styleTags:xo("style",v)},M={},D={};Object.keys(R).forEach(L=>{const{newTags:Y,oldTags:B}=R[L];Y.length&&(M[L]=Y),B.length&&(D[L]=R[L].oldTags)}),e&&e(),p(t,M,D)},Wc=null,H6=t=>{Wc&&cancelAnimationFrame(Wc),t.defer?Wc=requestAnimationFrame(()=>{Xb(t,()=>{Wc=null})}):(Xb(t),Wc=null)},G6=H6,Zb=class extends F.Component{rendered=!1;shouldComponentUpdate(t){return!A6(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const s=M6(t.get().map(i=>{const c={...i.props};return delete c.context,c}));Jw.canUseDOM?G6(s):Kg&&(n=Kg(s)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},gn=class extends F.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!w6(Wb(this.props,"helmetData"),Wb(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,s){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,n,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(s=>{n={...n,[s]:t[s]}}),n}warnOnInvalidChildren(t,e){return Kb(Yb.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Yb.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Kb(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Dt.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:i,...c}=s.props,d=Object.keys(c).reduce((p,g)=>(p[j6[g]||g]=c[g],p),{});let{type:f}=s;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(s,i),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,d,i);break;default:e=this.mapObjectTypeChildren(s,e,d,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:s}=e;if(t&&(n=this.mapChildrenToProps(t,n)),s&&!(s instanceof Qg)){const i=s;s=new Qg(i.context,!0),delete n.helmetData}return s?Dt.createElement(Zb,{...n,context:s.value}):Dt.createElement(Zw.Consumer,null,i=>Dt.createElement(Zb,{...n,context:i}))}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>{};var Jb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K6=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const c=t[n++];e[s++]=String.fromCharCode((i&31)<<6|c&63)}else if(i>239&&i<365){const c=t[n++],d=t[n++],f=t[n++],p=((i&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=t[n++],d=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(c&63)<<6|d&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const c=t[i],d=i+1<t.length,f=d?t[i+1]:0,p=i+2<t.length,g=p?t[i+2]:0,v=c>>2,b=(c&3)<<4|f>>4;let _=(f&15)<<2|g>>6,R=g&63;p||(R=64,d||(_=64)),s.push(n[v],n[b],n[_],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const c=n[t.charAt(i++)],f=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,c==null||f==null||g==null||b==null)throw new Q6;const _=c<<2|f>>4;if(s.push(_),g!==64){const R=f<<4&240|g>>2;if(s.push(R),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y6=function(t){const e=tE(t);return nE.encodeByteArray(e,!0)},ef=function(t){return Y6(t).replace(/\./g,"")},rE=function(t){try{return nE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=()=>W6().__FIREBASE_DEFAULTS__,Z6=()=>{if(typeof process>"u"||typeof Jb>"u")return;const t=Jb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rE(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return $6()||X6()||Z6()||J6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sE=t=>Pf()?.emulatorHosts?.[t],aE=t=>{const e=sE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iE=()=>Pf()?.config,lE=t=>Pf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ef(JSON.stringify(n)),ef(JSON.stringify(d)),""].join(".")}const gu={};function t3(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function n3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e2=!1;function Fy(t,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||gu[t]===e||gu[t]||e2)return;gu[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",c=t3().prod.length>0;function d(){const _=document.getElementById(s);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function p(_,R){_.setAttribute("width","24"),_.setAttribute("id",R),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{e2=!0,d()},_}function v(_,R){_.setAttribute("id",R),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=n3(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),D=n("learnmore"),L=document.getElementById(D)||document.createElement("a"),Y=n("preprendIcon"),B=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;f(q),v(L,D);const G=g();p(B,Y),q.append(B,M,L,G),document.body.appendChild(q)}c?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function s3(){const t=Pf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function l3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o3(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c3(){return!s3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u3(){try{return typeof indexedDB=="object"}catch{return!1}}function d3(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="FirebaseError";class $s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=h3,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,c=this.errors[e],d=c?f3(c,s):"Error",f=`${this.serviceName}: ${d} (${i}).`;return new $s(i,f,s)}}function f3(t,e){return t.replace(m3,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const m3=/\{\$([^}]+)}/g;function p3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const c=t[i],d=e[i];if(t2(c)&&t2(d)){if(!ml(c,d))return!1}else if(c!==d)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function t2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,c]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(c)}}),e}function uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g3(t,e){const n=new y3(t,e);return n.subscribe.bind(n)}class y3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");v3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=vg),i.error===void 0&&(i.error=vg),i.complete===void 0&&(i.complete=vg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new e3;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_3(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:i});s.resolve(c)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const c=this.instances.get(s);return c&&e(c,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b3(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b3(t){return t===ol?void 0:t}function _3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const E3={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},N3=ct.INFO,T3={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},S3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=T3[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=N3,this._logHandler=S3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const A3=(t,e)=>e.some(n=>t instanceof n);let n2,r2;function j3(){return n2||(n2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R3(){return r2||(r2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Wg=new WeakMap,uE=new WeakMap,xg=new WeakMap,qy=new WeakMap;function C3(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(pi(t.result)),i()},d=()=>{s(t.error),i()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&cE.set(n,t)}).catch(()=>{}),qy.set(e,t),e}function I3(t){if(Wg.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),i()},d=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});Wg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D3(t){Xg=t(Xg)}function O3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bg(this),e,...n);return uE.set(s,e.sort?e.sort():[e]),pi(s)}:R3().includes(t)?function(...e){return t.apply(bg(this),e),pi(cE.get(this))}:function(...e){return pi(t.apply(bg(this),e))}}function M3(t){return typeof t=="function"?O3(t):(t instanceof IDBTransaction&&I3(t),A3(t,j3())?new Proxy(t,Xg):t)}function pi(t){if(t instanceof IDBRequest)return C3(t);if(xg.has(t))return xg.get(t);const e=M3(t);return e!==t&&(xg.set(t,e),qy.set(e,t)),e}const bg=t=>qy.get(t);function P3(t,e,{blocked:n,upgrade:s,blocking:i,terminated:c}={}){const d=indexedDB.open(t,e),f=pi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(pi(d.result),p.oldVersion,p.newVersion,pi(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const L3=["get","getKey","getAll","getAllKeys","count"],k3=["put","add","delete","clear"],_g=new Map;function s2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=k3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||L3.includes(n)))return;const c=async function(d,...f){const p=this.transaction(d,i?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),i&&p.done]))[0]};return _g.set(e,c),c}D3(t=>({...t,get:(e,n,s)=>s2(e,n)||t.get(e,n,s),has:(e,n)=>!!s2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function U3(t){return t.getComponent()?.type==="VERSION"}const Zg="@firebase/app",a2="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new By("@firebase/app"),z3="@firebase/app-compat",F3="@firebase/analytics-compat",B3="@firebase/analytics",q3="@firebase/app-check-compat",H3="@firebase/app-check",G3="@firebase/auth",$3="@firebase/auth-compat",K3="@firebase/database",Q3="@firebase/data-connect",Y3="@firebase/database-compat",W3="@firebase/functions",X3="@firebase/functions-compat",Z3="@firebase/installations",J3="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",rR="@firebase/performance-compat",sR="@firebase/remote-config",aR="@firebase/remote-config-compat",iR="@firebase/storage",lR="@firebase/storage-compat",oR="@firebase/firestore",cR="@firebase/ai",uR="@firebase/firestore-compat",dR="firebase",hR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",fR={[Zg]:"fire-core",[z3]:"fire-core-compat",[B3]:"fire-analytics",[F3]:"fire-analytics-compat",[H3]:"fire-app-check",[q3]:"fire-app-check-compat",[G3]:"fire-auth",[$3]:"fire-auth-compat",[K3]:"fire-rtdb",[Q3]:"fire-data-connect",[Y3]:"fire-rtdb-compat",[W3]:"fire-fn",[X3]:"fire-fn-compat",[Z3]:"fire-iid",[J3]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[rR]:"fire-perf-compat",[sR]:"fire-rc",[aR]:"fire-rc-compat",[iR]:"fire-gcs",[lR]:"fire-gcs-compat",[oR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,mR=new Map,ey=new Map;function i2(t,e){try{t.container.addComponent(e)}catch(n){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(ey.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of tf.values())i2(n,t);for(const n of mR.values())i2(n,t);return!0}function Lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new qu("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=hR;function dE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Jg,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=iE()),!n)throw gi.create("no-options");const c=tf.get(i);if(c){if(ml(n,c.options)&&ml(s,c.config))return c;throw gi.create("duplicate-app",{appName:i})}const d=new w3(i);for(const p of ey.values())d.addComponent(p);const f=new gR(n,s,d);return tf.set(i,f),f}function Hy(t=Jg){const e=tf.get(t);if(!e&&t===Jg&&iE())return dE();if(!e)throw gi.create("no-app",{appName:t});return e}function ks(t,e,n){let s=fR[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),c=e.match(/\s|\//);if(i||c){const d=[`Unable to register library "${s}" with version "${e}":`];i&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(d.join(" "));return}pl(new _i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",vR=1,Ru="firebase-heartbeat-store";let wg=null;function hE(){return wg||(wg=P3(yR,vR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),wg}async function xR(t){try{const n=(await hE()).transaction(Ru),s=await n.objectStore(Ru).get(fE(t));return await n.done,s}catch(e){if(e instanceof $s)Ea.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e?.message});Ea.warn(n.message)}}}async function l2(t,e){try{const s=(await hE()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,fE(t)),await s.done}catch(n){if(n instanceof $s)Ea.warn(n.message);else{const s=gi.create("idb-set",{originalErrorMessage:n?.message});Ea.warn(s.message)}}}function fE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,_R=30;class wR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_R){const i=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ea.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o2(),{heartbeatsToSend:n,unsentEntries:s}=ER(this._heartbeatsCache.heartbeats),i=ef(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ea.warn(e),""}}}function o2(){return new Date().toISOString().substring(0,10)}function ER(t,e=bR){const n=[];let s=t.slice();for(const i of t){const c=n.find(d=>d.agent===i.agent);if(c){if(c.dates.push(i.date),c2(n)>e){c.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),c2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u3()?d3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c2(t){return ef(JSON.stringify({version:2,heartbeats:t})).length}function TR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){pl(new _i("platform-logger",e=>new V3(e),"PRIVATE")),pl(new _i("heartbeat",e=>new wR(e),"PRIVATE")),ks(Zg,a2,t),ks(Zg,a2,"esm2020"),ks("fire-js","")}SR("");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=mE,pE=new qu("auth","Firebase",mE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new By("@firebase/auth");function jR(t,...e){nf.logLevel<=ct.WARN&&nf.warn(`Auth (${Al}): ${t}`,...e)}function Uh(t,...e){nf.logLevel<=ct.ERROR&&nf.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,...e){throw $y(t,...e)}function fs(t,...e){return $y(t,...e)}function Gy(t,e,n){const s={...AR(),[e]:n};return new qu("auth","Firebase",s).create(e,{appName:t.name})}function ba(t){return Gy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RR(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kr(t,"argument-error"),Gy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $y(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return pE.create(t,...e)}function Qe(t,e,...n){if(!t)throw $y(e,...n)}function va(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uh(e),new Error(e)}function Na(t,e){t||va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){return typeof self<"u"&&self.location?.href||""}function CR(){return u2()==="http:"||u2()==="https:"}function u2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CR()||i3()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Na(n>e,"Short delay should be less than long delay!"),this.isMobile=r3()||l3()}get(){return IR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){Na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PR=new Gu(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,s,i={}){return yE(t,i,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=Hu({key:t.config.apiKey,...d}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...c};return a3()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(await vE(t,t.config.apiHost,n,f),g)})}async function yE(t,e,n){t._canInitEmulator=!1;const s={...OR,...e};try{const i=new kR(t),c=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nh(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",d);if(p==="USER_DISABLED")throw Nh(t,"user-disabled",d);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Gy(t,v,g);Kr(t,v)}}catch(i){if(i instanceof $s)throw i;Kr(t,"network-request-failed",{message:String(i)})}}async function $u(t,e,n,s,i={}){const c=await Oi(t,e,n,s,i);return"mfaPendingCredential"in c&&Kr(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function vE(t,e,n,s){const i=`${e}${n}?${s}`,c=t,d=c.config.emulator?Ky(t.config,i):`${t.config.apiScheme}://${i}`;return MR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function LR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),PR.get())})}}function Nh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=fs(t,e,s);return i.customData._tokenResponse=n,i}function d2(t){return t!==void 0&&t.enterprise!==void 0}class VR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UR(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function rf(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FR(t,e=!1){const n=qn(t),s=await n.getIdToken(e),i=Qy(s);Qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const c=typeof i.firebase=="object"?i.firebase:void 0,d=c?.sign_in_provider;return{claims:i,token:s,authTime:yu(Eg(i.auth_time)),issuedAtTime:yu(Eg(i.iat)),expirationTime:yu(Eg(i.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Eg(t){return Number(t)*1e3}function Qy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=rE(n);return i?JSON.parse(i):(Uh("Failed to decode base64 JWT payload"),null)}catch(i){return Uh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function h2(t){const e=Qy(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $s&&BR(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function BR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){const e=t.auth,n=await t.getIdToken(),s=await Cu(t,rf(e,{idToken:n}));Qe(s?.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const c=i.providerUserInfo?.length?xE(i.providerUserInfo):[],d=GR(t.providerData,c),f=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!d?.length,g=f?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:d,metadata:new ny(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function HR(t){const e=qn(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GR(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function xE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e){const n=await yE(t,{},async()=>{const s=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:c}=t.config,d=await vE(t,i,"/v1/token",`key=${c}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&Sl(t.emulatorConfig.host)&&(p.credentials="include"),gE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KR(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=h2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:c}=await $R(e,n);this.updateTokensAndExpiration(s,i,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:c}=n,d=new jo;return s&&(Qe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),i&&(Qe(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),c&&(Qe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ny(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Cu(this,zR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:R,providerData:M,stsTokenManager:D}=n;Qe(b&&D,e,"internal-error");const L=jo.fromJSON(this.name,D);Qe(typeof b=="string",e,"internal-error"),si(s,e.name),si(i,e.name),Qe(typeof _=="boolean",e,"internal-error"),Qe(typeof R=="boolean",e,"internal-error"),si(c,e.name),si(d,e.name),si(f,e.name),si(p,e.name),si(g,e.name),si(v,e.name);const Y=new us({uid:b,auth:e,email:i,emailVerified:_,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:L,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(Y.providerData=M.map(B=>({...B}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const i=new jo;i.updateFromServerResponse(n);const c=new us({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await sf(c),c}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Qe(i.localId!==void 0,"internal-error");const c=i.providerUserInfo!==void 0?xE(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!c?.length,f=new jo;f.updateFromIdToken(s);const p=new us({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function xa(t){Na(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(Na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bE.type="NONE";const m2=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:c}=this.auth;this.fullUserKey=zh(this.userKey,i.apiKey,c),this.fullPersistenceKey=zh("persistence",i.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ro(xa(m2),e,s);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=i[0]||xa(m2);const d=zh(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(d);if(v){let b;if(typeof v=="string"){const _=await rf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await us._fromGetAccountInfoResponse(e,_,v)}else b=us._fromJSON(e,v);g!==c&&(f=b),c=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ro(c,e,s):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ro(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SE(e))return"Blackberry";if(AE(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||EE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _E(t=Bn()){return/firefox\//i.test(t)}function wE(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EE(t=Bn()){return/crios\//i.test(t)}function NE(t=Bn()){return/iemobile/i.test(t)}function TE(t=Bn()){return/android/i.test(t)}function SE(t=Bn()){return/blackberry/i.test(t)}function AE(t=Bn()){return/webos/i.test(t)}function Yy(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QR(t=Bn()){return Yy(t)&&!!window.navigator?.standalone}function YR(){return o3()&&document.documentMode===10}function jE(t=Bn()){return Yy(t)||TE(t)||AE(t)||SE(t)||/windows phone/i.test(t)||NE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e=[]){let n;switch(t){case"Browser":n=p2(Bn());break;case"Worker":n=`${p2(Bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6;class JR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g2(this),this.idTokenSubscription=new g2(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(s=f.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(ba(this));const n=e?qn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new JR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xa(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,i);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mi(t){return qn(t)}class g2{constructor(e){this.auth=e,this.observer=null,this.addObserver=g3(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(t){kf=t}function CE(t){return kf.loadJS(t)}function nC(){return kf.recaptchaEnterpriseScript}function rC(){return kf.gapiScript}function sC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aC{constructor(){this.enterprise=new iC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lC="recaptcha-enterprise",IE="NO_RECAPTCHA";class oC{constructor(e){this.type=lC,this.auth=Mi(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{UR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new VR(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function i(c,d,f){const p=window.grecaptcha;d2(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(IE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!n&&d2(window.grecaptcha))i(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nC();p.length!==0&&(p+=f),CE(p).then(()=>{i(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function y2(t,e,n,s=!1,i=!1){const c=new oC(t);let d;if(i)d=IE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ry(t,e,n,s,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await y2(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await y2(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){const n=Lf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),c=n.getOptions();if(ml(c,e??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:e})}function uC(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function dC(t,e,n){const s=Mi(t);Qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,c=DE(e),{host:d,port:f}=hC(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},v=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Qe(ml(g,s.config.emulator)&&ml(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Sl(d)?(zy(`${c}//${d}${p}`),Fy("Auth",!0)):fC()}function DE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hC(t){const e=DE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const c=i[1];return{host:c,port:v2(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:v2(d)}}}function v2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return va("not implemented")}_getIdTokenResponse(e){return va("not implemented")}_linkToIdToken(e,n){return va("not implemented")}_getReauthenticationResolver(e){return va("not implemented")}}async function mC(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function yC(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Wy{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,n,"signInWithPassword",pC);case"emailLink":return gC(e,{email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,s,"signUpPassword",mC);case"emailLink":return yC(e,{idToken:n,email:this._email,oobCode:this._password});default:Kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class gl extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...c}=n;if(!s||!i)return null;const d=new gl(s,i);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bC(t){const e=cu(uu(t)).link,n=e?cu(uu(e)).deep_link_id:null,s=cu(uu(t)).deep_link_id;return(s?cu(uu(s)).link:null)||s||n||e||t}class Xy{constructor(e){const n=cu(uu(e)),s=n.apiKey??null,i=n.oobCode??null,c=xC(n.mode??null);Qe(s&&i&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bC(e);try{return new Xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return Iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Xy.parseLink(n);return Qe(s,"argument-error"),Iu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Ku{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Ku{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ku{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return di.credential(n,s)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e){return $u(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const c=await us._fromIdTokenResponse(e,s,i),d=x2(s);return new yl({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=x2(s);return new yl({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function x2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends $s{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new af(e,n,s,i)}}function OE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(t,c,e,s):c})}async function wC(t,e,n=!1){const s=await Cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t,e,n=!1){const{auth:s}=t;if(fr(s.app))return Promise.reject(ba(s));const i="reauthenticate";try{const c=await Cu(t,OE(s,i,e,t),n);Qe(c.idToken,s,"internal-error");const d=Qy(c.idToken);Qe(d,s,"internal-error");const{sub:f}=d;return Qe(t.uid===f,s,"user-mismatch"),yl._forOperation(t,i,c)}catch(c){throw c?.code==="auth/user-not-found"&&Kr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(t,e,n=!1){if(fr(t.app))return Promise.reject(ba(t));const s="signIn",i=await OE(t,s,e),c=await yl._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(c.user),c}async function NC(t,e){return ME(Mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(t){const e=Mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TC(t,e,n){if(fr(t.app))return Promise.reject(ba(t));const s=Mi(t),d=await ry(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_C).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&PE(t),p}),f=await yl._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(f.user),f}function SC(t,e,n){return fr(t.app)?Promise.reject(ba(t)):NC(qn(t),Fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&PE(t),s})}function AC(t,e,n,s){return qn(t).onIdTokenChanged(e,n,s)}function jC(t,e,n){return qn(t).beforeAuthStateChanged(e,n)}function RC(t,e,n,s){return qn(t).onAuthStateChanged(e,n,s)}function CC(t){return qn(t).signOut()}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,DC=10;class kE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);YR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DC):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kE.type="LOCAL";const OC=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const UE=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Vf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:c}=n.data,d=this.handlersMap[i];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const f=Array.from(d).map(async g=>g(n.origin,c)),p=await MC(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=Jy("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:i,onMessage(b){const _=b;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(_.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function LC(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function UC(){return zE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",zC=1,of="firebaseLocalStorage",BE="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function FC(){const t=indexedDB.deleteDatabase(FE);return new Qu(t).toPromise()}function sy(){const t=indexedDB.open(FE,zC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(of,{keyPath:BE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(of)?e(s):(s.close(),await FC(),e(await sy()))})})}async function b2(t,e,n){const s=Uf(t,!0).put({[BE]:e,value:n});return new Qu(s).toPromise()}async function BC(t,e){const n=Uf(t,!1).get(e),s=await new Qu(n).toPromise();return s===void 0?null:s.value}function _2(t,e){const n=Uf(t,!0).delete(e);return new Qu(n).toPromise()}const qC=800,HC=3;class qE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await b2(e,lf,"1"),await _2(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const c=Uf(i,!1).getAll();return new Qu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:c}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(c)&&(this.notifyListeners(i,c),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qE.type="LOCAL";const GC=qE;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){return e?xa(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $C(t){return ME(t.auth,new ev(t),t.bypassAuthState)}function KC(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),EC(n,new ev(t),t.bypassAuthState)}async function QC(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),wC(n,new ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,s,i,c=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:Kr(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Gu(2e3,1e4);async function WC(t,e,n){if(fr(t.app))return Promise.reject(fs(t,"operation-not-supported-in-this-environment"));const s=Mi(t);RR(t,e,Zy);const i=HE(s,n);return new ul(s,"signInViaPopup",e,i).executeNotNull()}class ul extends GE{constructor(e,n,s,i,c){super(e,n,i,c),this.provider=s,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YC.get())};e()}}ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="pendingRedirect",Fh=new Map;class ZC extends GE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await JC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(t,e){const n=nI(e),s=tI(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function eI(t,e){Fh.set(t._key(),e)}function tI(t){return xa(t._redirectPersistence)}function nI(t){return zh(XC,t.config.apiKey,t.name)}async function rI(t,e,n=!1){if(fr(t.app))return Promise.reject(ba(t));const s=Mi(t),i=HE(s,e),d=await new ZC(s,i,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$E(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(w2(e))}saveEventToCache(e){this.cachedEventUids.add(w2(e)),this.lastProcessedEventTime=Date.now()}}function w2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $E({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cI=/^https?/;async function uI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lI(t);for(const n of e)try{if(dI(n))return}catch{}Kr(t,"unauthorized-domain")}function dI(t){const e=ty(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!cI.test(n))return!1;if(oI.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Gu(3e4,6e4);function E2(){const t=Vs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fI(t){return new Promise((e,n)=>{function s(){E2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E2(),n(fs(t,"network-request-failed"))},timeout:hI.get()})}if(Vs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vs().gapi?.load)s();else{const i=sC("iframefcb");return Vs()[i]=()=>{gapi.load?s():n(fs(t,"network-request-failed"))},CE(`${rC()}?onload=${i}`).catch(c=>n(c))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function mI(t){return Bh=Bh||fI(t),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Gu(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",vI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bI(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ky(e,yI):`https://${t.config.authDomain}/${gI}`,s={apiKey:e.apiKey,appName:t.name,v:Al},i=xI.get(t.config.apiHost);i&&(s.eid=i);const c=t._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Hu(s).slice(1)}`}async function _I(t){const e=await mI(t),n=Vs().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:bI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vI,dontclear:!0},s=>new Promise(async(i,c)=>{await s.restyle({setHideOnLeave:!1});const d=fs(t,"network-request-failed"),f=Vs().setTimeout(()=>{c(d)},pI.get());function p(){Vs().clearTimeout(f),i(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EI=500,NI=600,TI="_blank",SI="http://localhost";class N2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AI(t,e,n,s=EI,i=NI){const c=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...wI,width:s.toString(),height:i.toString(),top:c,left:d},g=Bn().toLowerCase();n&&(f=EE(g)?TI:n),_E(g)&&(e=e||SI,p.scrollbars="yes");const v=Object.entries(p).reduce((_,[R,M])=>`${_}${R}=${M},`,"");if(QR(g)&&f!=="_self")return jI(e||"",f),new N2(null);const b=window.open(e||"",f,v);Qe(b,t,"popup-blocked");try{b.focus()}catch{}return new N2(b)}function jI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="__/auth/handler",CI="emulator/auth/handler",II=encodeURIComponent("fac");async function T2(t,e,n,s,i,c){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Al,eventId:i};if(e instanceof Zy){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",p3(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))d[v]=b}if(e instanceof Ku){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(d.scopes=v.join(","))}t.tenantId&&(d.tid=t.tenantId);const f=d;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await t._getAppCheckToken(),g=p?`#${II}=${encodeURIComponent(p)}`:"";return`${DI(t)}?${Hu(f).slice(1)}${g}`}function DI({config:t}){return t.emulator?Ky(t,CI):`https://${t.authDomain}/${RI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class OI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=rI,this._overrideRedirectResult=eI}async _openPopup(e,n,s,i){Na(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T2(e,n,s,ty(),i);return AI(e,c,Jy())}async _openRedirect(e,n,s,i){await this._originValidation(e);const c=await T2(e,n,s,ty(),i);return LC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:c}=this.eventManagers[n];return i?Promise.resolve(i):(Na(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _I(e),s=new aI(e);return n.register("authEvent",i=>(Qe(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},i=>{const c=i?.[0]?.[Ng];c!==void 0&&n(!!c),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jE()||wE()||Yy()}}const MI=OI;var S2="@firebase/auth",A2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kI(t){pl(new _i("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Qe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(t)},g=new eC(s,i,c,p);return uC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pl(new _i("auth-internal",e=>{const n=Mi(e.getProvider("auth").getImmediate());return(s=>new PI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(S2,A2,LI(t)),ks(S2,A2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=300,UI=lE("authIdTokenMaxAge")||VI;let j2=null;const zI=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UI)return;const i=n?.token;j2!==i&&(j2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FI(t=Hy()){const e=Lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cC(t,{popupRedirectResolver:MI,persistence:[GC,OC,UE]}),s=lE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=zI(c.toString());jC(n,d,()=>d(n.currentUser)),AC(n,f=>d(f))}}const i=sE("auth");return i&&dC(n,`http://${i}`),n}function BI(){return document.getElementsByTagName("head")?.[0]??document}tC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const c=fs("internal-error");c.customData=i,n(c)},s.type="text/javascript",s.charset="UTF-8",BI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kI("Browser");var qI="firebase",HI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(qI,HI,"app");var R2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,KE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function T(){}T.prototype=N.prototype,P.D=N.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(k,I,A){for(var S=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)S[ae-2]=arguments[ae];return N.prototype[I].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,T){T||(T=0);var k=Array(16);if(typeof N=="string")for(var I=0;16>I;++I)k[I]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(I=0;16>I;++I)k[I]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=P.g[0],T=P.g[1],I=P.g[2];var A=P.g[3],S=N+(A^T&(I^A))+k[0]+3614090360&4294967295;N=T+(S<<7&4294967295|S>>>25),S=A+(I^N&(T^I))+k[1]+3905402710&4294967295,A=N+(S<<12&4294967295|S>>>20),S=I+(T^A&(N^T))+k[2]+606105819&4294967295,I=A+(S<<17&4294967295|S>>>15),S=T+(N^I&(A^N))+k[3]+3250441966&4294967295,T=I+(S<<22&4294967295|S>>>10),S=N+(A^T&(I^A))+k[4]+4118548399&4294967295,N=T+(S<<7&4294967295|S>>>25),S=A+(I^N&(T^I))+k[5]+1200080426&4294967295,A=N+(S<<12&4294967295|S>>>20),S=I+(T^A&(N^T))+k[6]+2821735955&4294967295,I=A+(S<<17&4294967295|S>>>15),S=T+(N^I&(A^N))+k[7]+4249261313&4294967295,T=I+(S<<22&4294967295|S>>>10),S=N+(A^T&(I^A))+k[8]+1770035416&4294967295,N=T+(S<<7&4294967295|S>>>25),S=A+(I^N&(T^I))+k[9]+2336552879&4294967295,A=N+(S<<12&4294967295|S>>>20),S=I+(T^A&(N^T))+k[10]+4294925233&4294967295,I=A+(S<<17&4294967295|S>>>15),S=T+(N^I&(A^N))+k[11]+2304563134&4294967295,T=I+(S<<22&4294967295|S>>>10),S=N+(A^T&(I^A))+k[12]+1804603682&4294967295,N=T+(S<<7&4294967295|S>>>25),S=A+(I^N&(T^I))+k[13]+4254626195&4294967295,A=N+(S<<12&4294967295|S>>>20),S=I+(T^A&(N^T))+k[14]+2792965006&4294967295,I=A+(S<<17&4294967295|S>>>15),S=T+(N^I&(A^N))+k[15]+1236535329&4294967295,T=I+(S<<22&4294967295|S>>>10),S=N+(I^A&(T^I))+k[1]+4129170786&4294967295,N=T+(S<<5&4294967295|S>>>27),S=A+(T^I&(N^T))+k[6]+3225465664&4294967295,A=N+(S<<9&4294967295|S>>>23),S=I+(N^T&(A^N))+k[11]+643717713&4294967295,I=A+(S<<14&4294967295|S>>>18),S=T+(A^N&(I^A))+k[0]+3921069994&4294967295,T=I+(S<<20&4294967295|S>>>12),S=N+(I^A&(T^I))+k[5]+3593408605&4294967295,N=T+(S<<5&4294967295|S>>>27),S=A+(T^I&(N^T))+k[10]+38016083&4294967295,A=N+(S<<9&4294967295|S>>>23),S=I+(N^T&(A^N))+k[15]+3634488961&4294967295,I=A+(S<<14&4294967295|S>>>18),S=T+(A^N&(I^A))+k[4]+3889429448&4294967295,T=I+(S<<20&4294967295|S>>>12),S=N+(I^A&(T^I))+k[9]+568446438&4294967295,N=T+(S<<5&4294967295|S>>>27),S=A+(T^I&(N^T))+k[14]+3275163606&4294967295,A=N+(S<<9&4294967295|S>>>23),S=I+(N^T&(A^N))+k[3]+4107603335&4294967295,I=A+(S<<14&4294967295|S>>>18),S=T+(A^N&(I^A))+k[8]+1163531501&4294967295,T=I+(S<<20&4294967295|S>>>12),S=N+(I^A&(T^I))+k[13]+2850285829&4294967295,N=T+(S<<5&4294967295|S>>>27),S=A+(T^I&(N^T))+k[2]+4243563512&4294967295,A=N+(S<<9&4294967295|S>>>23),S=I+(N^T&(A^N))+k[7]+1735328473&4294967295,I=A+(S<<14&4294967295|S>>>18),S=T+(A^N&(I^A))+k[12]+2368359562&4294967295,T=I+(S<<20&4294967295|S>>>12),S=N+(T^I^A)+k[5]+4294588738&4294967295,N=T+(S<<4&4294967295|S>>>28),S=A+(N^T^I)+k[8]+2272392833&4294967295,A=N+(S<<11&4294967295|S>>>21),S=I+(A^N^T)+k[11]+1839030562&4294967295,I=A+(S<<16&4294967295|S>>>16),S=T+(I^A^N)+k[14]+4259657740&4294967295,T=I+(S<<23&4294967295|S>>>9),S=N+(T^I^A)+k[1]+2763975236&4294967295,N=T+(S<<4&4294967295|S>>>28),S=A+(N^T^I)+k[4]+1272893353&4294967295,A=N+(S<<11&4294967295|S>>>21),S=I+(A^N^T)+k[7]+4139469664&4294967295,I=A+(S<<16&4294967295|S>>>16),S=T+(I^A^N)+k[10]+3200236656&4294967295,T=I+(S<<23&4294967295|S>>>9),S=N+(T^I^A)+k[13]+681279174&4294967295,N=T+(S<<4&4294967295|S>>>28),S=A+(N^T^I)+k[0]+3936430074&4294967295,A=N+(S<<11&4294967295|S>>>21),S=I+(A^N^T)+k[3]+3572445317&4294967295,I=A+(S<<16&4294967295|S>>>16),S=T+(I^A^N)+k[6]+76029189&4294967295,T=I+(S<<23&4294967295|S>>>9),S=N+(T^I^A)+k[9]+3654602809&4294967295,N=T+(S<<4&4294967295|S>>>28),S=A+(N^T^I)+k[12]+3873151461&4294967295,A=N+(S<<11&4294967295|S>>>21),S=I+(A^N^T)+k[15]+530742520&4294967295,I=A+(S<<16&4294967295|S>>>16),S=T+(I^A^N)+k[2]+3299628645&4294967295,T=I+(S<<23&4294967295|S>>>9),S=N+(I^(T|~A))+k[0]+4096336452&4294967295,N=T+(S<<6&4294967295|S>>>26),S=A+(T^(N|~I))+k[7]+1126891415&4294967295,A=N+(S<<10&4294967295|S>>>22),S=I+(N^(A|~T))+k[14]+2878612391&4294967295,I=A+(S<<15&4294967295|S>>>17),S=T+(A^(I|~N))+k[5]+4237533241&4294967295,T=I+(S<<21&4294967295|S>>>11),S=N+(I^(T|~A))+k[12]+1700485571&4294967295,N=T+(S<<6&4294967295|S>>>26),S=A+(T^(N|~I))+k[3]+2399980690&4294967295,A=N+(S<<10&4294967295|S>>>22),S=I+(N^(A|~T))+k[10]+4293915773&4294967295,I=A+(S<<15&4294967295|S>>>17),S=T+(A^(I|~N))+k[1]+2240044497&4294967295,T=I+(S<<21&4294967295|S>>>11),S=N+(I^(T|~A))+k[8]+1873313359&4294967295,N=T+(S<<6&4294967295|S>>>26),S=A+(T^(N|~I))+k[15]+4264355552&4294967295,A=N+(S<<10&4294967295|S>>>22),S=I+(N^(A|~T))+k[6]+2734768916&4294967295,I=A+(S<<15&4294967295|S>>>17),S=T+(A^(I|~N))+k[13]+1309151649&4294967295,T=I+(S<<21&4294967295|S>>>11),S=N+(I^(T|~A))+k[4]+4149444226&4294967295,N=T+(S<<6&4294967295|S>>>26),S=A+(T^(N|~I))+k[11]+3174756917&4294967295,A=N+(S<<10&4294967295|S>>>22),S=I+(N^(A|~T))+k[2]+718787259&4294967295,I=A+(S<<15&4294967295|S>>>17),S=T+(A^(I|~N))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+A&4294967295}s.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var T=N-this.blockSize,k=this.B,I=this.h,A=0;A<N;){if(I==0)for(;A<=T;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<N;)if(k[I++]=P.charCodeAt(A++),I==this.blockSize){i(this,k),I=0;break}}else for(;A<N;)if(k[I++]=P[A++],I==this.blockSize){i(this,k),I=0;break}}this.h=I,this.o+=N},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var T=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=T&255,T/=256;for(this.u(P),P=Array(16),N=T=0;4>N;++N)for(var k=0;32>k;k+=8)P[T++]=this.g[N]>>>k&255;return P};function c(P,N){var T=f;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=N(P)}function d(P,N){this.h=N;for(var T=[],k=!0,I=P.length-1;0<=I;I--){var A=P[I]|0;k&&A==N||(T[I]=A,k=!1)}this.g=T}var f={};function p(P){return-128<=P&&128>P?c(P,function(N){return new d([N|0],0>N?-1:0)}):new d([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return L(g(-P));for(var N=[],T=1,k=0;P>=T;k++)N[k]=P/T|0,T*=4294967296;return new d(N,0)}function v(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return L(v(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=g(Math.pow(N,8)),k=b,I=0;I<P.length;I+=8){var A=Math.min(8,P.length-I),S=parseInt(P.substring(I,I+A),N);8>A?(A=g(Math.pow(N,A)),k=k.j(A).add(g(S))):(k=k.j(T),k=k.add(g(S)))}return k}var b=p(0),_=p(1),R=p(16777216);t=d.prototype,t.m=function(){if(D(this))return-L(this).m();for(var P=0,N=1,T=0;T<this.g.length;T++){var k=this.i(T);P+=(0<=k?k:4294967296+k)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(D(this))return"-"+L(this).toString(P);for(var N=g(Math.pow(P,6)),T=this,k="";;){var I=G(T,N).g;T=Y(T,I.j(N));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=I,M(T))return A+k;for(;6>A.length;)A="0"+A;k=A+k}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function D(P){return P.h==-1}t.l=function(P){return P=Y(this,P),D(P)?-1:M(P)?0:1};function L(P){for(var N=P.g.length,T=[],k=0;k<N;k++)T[k]=~P.g[k];return new d(T,~P.h).add(_)}t.abs=function(){return D(this)?L(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),T=[],k=0,I=0;I<=N;I++){var A=k+(this.i(I)&65535)+(P.i(I)&65535),S=(A>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);k=S>>>16,A&=65535,S&=65535,T[I]=S<<16|A}return new d(T,T[T.length-1]&-2147483648?-1:0)};function Y(P,N){return P.add(L(N))}t.j=function(P){if(M(this)||M(P))return b;if(D(this))return D(P)?L(this).j(L(P)):L(L(this).j(P));if(D(P))return L(this.j(L(P)));if(0>this.l(R)&&0>P.l(R))return g(this.m()*P.m());for(var N=this.g.length+P.g.length,T=[],k=0;k<2*N;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<P.g.length;I++){var A=this.i(k)>>>16,S=this.i(k)&65535,ae=P.i(I)>>>16,V=P.i(I)&65535;T[2*k+2*I]+=S*V,B(T,2*k+2*I),T[2*k+2*I+1]+=A*V,B(T,2*k+2*I+1),T[2*k+2*I+1]+=S*ae,B(T,2*k+2*I+1),T[2*k+2*I+2]+=A*ae,B(T,2*k+2*I+2)}for(k=0;k<N;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=N;k<2*N;k++)T[k]=0;return new d(T,0)};function B(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function q(P,N){this.g=P,this.h=N}function G(P,N){if(M(N))throw Error("division by zero");if(M(P))return new q(b,b);if(D(P))return N=G(L(P),N),new q(L(N.g),L(N.h));if(D(N))return N=G(P,L(N)),new q(L(N.g),N.h);if(30<P.g.length){if(D(P)||D(N))throw Error("slowDivide_ only works with positive integers.");for(var T=_,k=N;0>=k.l(P);)T=z(T),k=z(k);var I=O(T,1),A=O(k,1);for(k=O(k,2),T=O(T,2);!M(k);){var S=A.add(k);0>=S.l(P)&&(I=I.add(T),A=S),k=O(k,1),T=O(T,1)}return N=Y(P,I.j(N)),new q(I,N)}for(I=b;0<=P.l(N);){for(T=Math.max(1,Math.floor(P.m()/N.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),A=g(T),S=A.j(N);D(S)||0<S.l(P);)T-=k,A=g(T),S=A.j(N);M(A)&&(A=_),I=I.add(A),P=Y(P,S)}return new q(I,P)}t.A=function(P){return G(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)&P.i(k);return new d(T,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)|P.i(k);return new d(T,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)^P.i(k);return new d(T,this.h^P.h)};function z(P){for(var N=P.g.length+1,T=[],k=0;k<N;k++)T[k]=P.i(k)<<1|P.i(k-1)>>>31;return new d(T,P.h)}function O(P,N){var T=N>>5;N%=32;for(var k=P.g.length-T,I=[],A=0;A<k;A++)I[A]=0<N?P.i(A+T)>>>N|P.i(A+T+1)<<32-N:P.i(A+T);return new d(I,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,KE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=v,yi=d}).apply(typeof R2<"u"?R2:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QE,du,YE,qh,ay,WE,XE,ZE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function i(h,x){if(x)e:{var w=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var ee=h[C];if(!(ee in w))break e;w=w[ee]}h=h[h.length-1],C=w[h],x=x(C),x!=C&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function c(h,x){h instanceof String&&(h+="");var w=0,C=!1,ee={next:function(){if(!C&&w<h.length){var ce=w++;return{value:x(ce,h[ce]),done:!1}}return C=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(h){return h||function(){return c(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function v(h,x,w){return h.call.apply(h.bind,arguments)}function b(h,x,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,C),h.apply(x,ee)}}return function(){return h.apply(x,arguments)}}function _(h,x,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,_.apply(null,arguments)}function R(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function M(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,ee,ce){for(var Ne=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Ne[ht-2]=arguments[ht];return x.prototype[ee].apply(C,Ne)}}function D(h){const x=h.length;if(0<x){const w=Array(x);for(let C=0;C<x;C++)w[C]=h[C];return w}return[]}function L(h,x){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(p(C)){const ee=h.length||0,ce=C.length||0;h.length=ee+ce;for(let Ne=0;Ne<ce;Ne++)h[ee+Ne]=C[Ne]}else h.push(C)}}class Y{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var z=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function O(h,x,w){for(const C in h)x.call(w,h[C],C,h)}function P(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function N(h){const x={};for(const w in h)x[w]=h[w];return x}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,x){let w,C;for(let ee=1;ee<arguments.length;ee++){C=arguments[ee];for(w in C)h[w]=C[w];for(let ce=0;ce<T.length;ce++)w=T[ce],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function I(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function A(h){f.setTimeout(()=>{throw h},0)}function S(){var h=Se;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class ae{constructor(){this.h=this.g=null}add(x,w){const C=V.get();C.set(x,w),this.h?this.h.next=C:this.g=C,this.h=C}}var V=new Y(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ue=!1,Se=new ae,U=()=>{const h=f.Promise.resolve(void 0);Z=()=>{h.then(oe)}};var oe=()=>{for(var h;h=S();){try{h.h.call(h.g)}catch(w){A(w)}var x=V;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ue=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,x),f.removeEventListener("test",w,x)}catch{}return h})();function Ge(h,x){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(z){e:{try{G(x.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ge.aa.h.call(this)}}M(Ge,ve);var Fe={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),gt=0;function Ln(h,x,w,C,ee){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!C,this.ha=ee,this.key=++gt,this.da=this.fa=!1}function Tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yn(h){this.src=h,this.g={},this.h=0}yn.prototype.add=function(h,x,w,C,ee){var ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);var Ne=Wr(h,x,C,ee);return-1<Ne?(x=h[Ne],w||(x.fa=!1)):(x=new Ln(x,this.src,ce,!!C,ee),x.fa=w,h.push(x)),x};function mr(h,x){var w=x.type;if(w in h.g){var C=h.g[w],ee=Array.prototype.indexOf.call(C,x,void 0),ce;(ce=0<=ee)&&Array.prototype.splice.call(C,ee,1),ce&&(Tt(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Wr(h,x,w,C){for(var ee=0;ee<h.length;++ee){var ce=h[ee];if(!ce.da&&ce.listener==x&&ce.capture==!!w&&ce.ha==C)return ee}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),gs={};function Ra(h,x,w,C,ee){if(Array.isArray(x)){for(var ce=0;ce<x.length;ce++)Ra(h,x[ce],w,C,ee);return null}return w=_e(w),h&&h[Ut]?h.K(x,w,g(C)?!!C.capture:!1,ee):An(h,x,w,!1,C,ee)}function An(h,x,w,C,ee,ce){if(!x)throw Error("Invalid event type");var Ne=g(ee)?!!ee.capture:!!ee,ht=Te(h);if(ht||(h[vn]=ht=new yn(h)),w=ht.add(x,w,C,Ne,ce),w.proxy)return w;if(C=Ol(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)Ae||(ee=Ne),ee===void 0&&(ee=!1),h.addEventListener(x.toString(),C,ee);else if(h.attachEvent)h.attachEvent(ne(x.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ol(){function h(w){return x.call(h.src,h.listener,w)}const x=de;return h}function ys(h,x,w,C,ee){if(Array.isArray(x))for(var ce=0;ce<x.length;ce++)ys(h,x[ce],w,C,ee);else C=g(C)?!!C.capture:!!C,w=_e(w),h&&h[Ut]?(h=h.i,x=String(x).toString(),x in h.g&&(ce=h.g[x],w=Wr(ce,w,C,ee),-1<w&&(Tt(ce[w]),Array.prototype.splice.call(ce,w,1),ce.length==0&&(delete h.g[x],h.h--)))):h&&(h=Te(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Wr(x,w,C,ee)),(w=-1<h?x[h]:null)&&Q(w))}function Q(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ut])mr(x.i,h);else{var w=h.type,C=h.proxy;x.removeEventListener?x.removeEventListener(w,C,h.capture):x.detachEvent?x.detachEvent(ne(w),C):x.addListener&&x.removeListener&&x.removeListener(C),(w=Te(x))?(mr(w,h),w.h==0&&(w.src=null,x[vn]=null)):Tt(h)}}}function ne(h){return h in gs?gs[h]:gs[h]="on"+h}function de(h,x){if(h.da)h=!0;else{x=new Ge(x,this);var w=h.listener,C=h.ha||h.src;h.fa&&Q(h),h=w.call(C,x)}return h}function Te(h){return h=h[vn],h instanceof yn?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(x){return h.handleEvent(x)}),h[Ee])}function we(){xe.call(this),this.i=new yn(this),this.M=this,this.F=null}M(we,xe),we.prototype[Ut]=!0,we.prototype.removeEventListener=function(h,x,w,C){ys(this,h,x,w,C)};function Ce(h,x){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=x.type||x,typeof x=="string")x=new ve(x,h);else if(x instanceof ve)x.target=x.target||h;else{var ee=x;x=new ve(C,h),k(x,ee)}if(ee=!0,w)for(var ce=w.length-1;0<=ce;ce--){var Ne=x.g=w[ce];ee=tt(Ne,C,!0,x)&&ee}if(Ne=x.g=h,ee=tt(Ne,C,!0,x)&&ee,ee=tt(Ne,C,!1,x)&&ee,w)for(ce=0;ce<w.length;ce++)Ne=x.g=w[ce],ee=tt(Ne,C,!1,x)&&ee}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],C=0;C<w.length;C++)Tt(w[C]);delete h.g[x],h.h--}}this.F=null},we.prototype.K=function(h,x,w,C){return this.i.add(String(h),x,!1,w,C)},we.prototype.L=function(h,x,w,C){return this.i.add(String(h),x,!0,w,C)};function tt(h,x,w,C){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var ee=!0,ce=0;ce<x.length;++ce){var Ne=x[ce];if(Ne&&!Ne.da&&Ne.capture==w){var ht=Ne.listener,un=Ne.ha||Ne.src;Ne.fa&&mr(h.i,Ne),ee=ht.call(un,C)!==!1&&ee}}return ee&&!C.defaultPrevented}function yt(h,x,w){if(typeof h=="function")w&&(h=_(h,w));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(h,x||0)}function Xr(h){h.g=yt(()=>{h.g=null,h.i&&(h.i=!1,Xr(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Qt extends xe{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Xr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(h){xe.call(this),this.h=h,this.g={}}M(Ar,xe);var rr=[];function sr(h){O(h.g,function(x,w){this.g.hasOwnProperty(w)&&Q(x)},h),h.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),sr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=f.JSON.stringify,jr=f.JSON.parse,ar=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Zr(){}Zr.prototype.h=null;function Qs(h){return h.h||(h.h=h.i())}function Pi(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){ve.call(this,"d")}M(Jr,ve);function Ca(){ve.call(this,"c")}M(Ca,ve);var $n={},vs=null;function xs(){return vs=vs||new we}$n.La="serverreachability";function Ia(h){ve.call(this,$n.La,h)}M(Ia,ve);function K(h){const x=xs();Ce(x,new Ia(x))}$n.STAT_EVENT="statevent";function J(h,x){ve.call(this,$n.STAT_EVENT,h),this.stat=x}M(J,ve);function se(h){const x=xs();Ce(x,new J(x,h))}$n.Ma="timingevent";function ge(h,x){ve.call(this,$n.Ma,h),this.size=x}M(ge,ve);function be(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},x)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ve(h,x,w,C,ee,ce){h.info(function(){if(h.g)if(ce)for(var Ne="",ht=ce.split("&"),un=0;un<ht.length;un++){var ft=ht[un].split("=");if(1<ft.length){var _n=ft[0];ft=ft[1];var dn=_n.split("_");Ne=2<=dn.length&&dn[1]=="type"?Ne+(_n+"="+ft+"&"):Ne+(_n+"=redacted&")}}else Ne=null;else Ne=ce;return"XMLHTTP REQ ("+C+") [attempt "+ee+"]: "+x+`
`+w+`
`+Ne})}function Me(h,x,w,C,ee,ce,Ne){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+ee+"]: "+x+`
`+w+`
`+ce+" "+Ne})}function Pe(h,x,w,C){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Le(h,w)+(C?" "+C:"")})}function qe(h,x){h.info(function(){return"TIMEOUT: "+x})}Ie.prototype.info=function(){};function Le(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var ee=C[1];if(Array.isArray(ee)&&!(1>ee.length)){var ce=ee[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ne=1;Ne<ee.length;Ne++)ee[Ne]=""}}}}return Gn(w)}catch{return x}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vt;function Ot(){}M(Ot,Zr),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},vt=new Ot;function bt(h,x,w,C){this.j=h,this.i=x,this.l=w,this.R=C||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var _t={},ir={};function jn(h,x,w){h.L=1,h.v=Vi(yr(x)),h.m=w,h.P=!0,xn(h,null)}function xn(h,x){h.F=Date.now(),pr(h),h.A=yr(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Xo(w.i,"t",C),h.C=0,w=h.j.J,h.h=new Je,h.g=gd(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Qt(_(h.Y,h,h.g),h.O)),x=h.U,w=h.g,C=h.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(rr[0]=ee.toString()),ee=rr);for(var ce=0;ce<ee.length;ce++){var Ne=Ra(w,ee[ce],C||x.handleEvent,!1,x.h||x);if(!Ne)break;x.g[Ne.key]=Ne}x=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),K(),Ve(h.i,h.u,h.A,h.l,h.R,h.m)}bt.prototype.ca=function(h){h=h.target;const x=this.M;x&&Mr(h)==3?x.j():this.Y(h)},bt.prototype.Y=function(h){try{if(h==this.g)e:{const dn=Mr(this.g);var x=this.g.Ba();const na=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||od(this.g)))){this.J||dn!=4||x==7||(x==8||0>=na?K(3):K(2)),gr(this);var w=this.g.Z();this.X=w;t:if(Kn(this)){var C=od(this.g);h="";var ee=C.length,ce=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Qn(this);var Ne="";break t}this.h.i=new f.TextDecoder}for(x=0;x<ee;x++)this.h.h=!0,h+=this.h.i.decode(C[x],{stream:!(ce&&x==ee-1)});C.length=0,this.h.g+=h,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=w==200,Me(this.i,this.u,this.A,this.l,this.R,dn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,un=this.g;if((ht=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ht)){var ft=ht;break t}}ft=null}if(w=ft)Pe(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,w);else{this.o=!1,this.s=3,se(12),We(this),Qn(this);break e}}if(this.P){w=!0;let Rn;for(;!this.J&&this.C<Ne.length;)if(Rn=Da(this,Ne),Rn==ir){dn==4&&(this.s=4,se(14),w=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==_t){this.s=4,se(15),Pe(this.i,this.l,Ne,"[Invalid Chunk]"),w=!1;break}else Pe(this.i,this.l,Rn,null),Ft(this,Rn);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||Ne.length!=0||this.h.h||(this.s=1,se(16),w=!1),this.o=this.o&&w,!w)Pe(this.i,this.l,Ne,"[Invalid Chunked Response]"),We(this),Qn(this);else if(0<Ne.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),$i(_n),_n.M=!0,se(11))}}else Pe(this.i,this.l,Ne,null),Ft(this,Ne);dn==4&&We(this),this.o&&!this.J&&(dn==4?fd(this.j,this):(this.o=!1,pr(this)))}else cm(this.g),w==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),Qn(this)}}}catch{}finally{}};function Kn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Da(h,x){var w=h.C,C=x.indexOf(`
`,w);return C==-1?ir:(w=Number(x.substring(w,C)),isNaN(w)?_t:(C+=1,C+w>x.length?ir:(x=x.slice(C,C+w),h.C=C+w,x)))}bt.prototype.cancel=function(){this.J=!0,We(this)};function pr(h){h.S=Date.now()+h.I,Cr(h,h.I)}function Cr(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(_(h.ba,h),x)}function gr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}bt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qe(this.i,this.A),this.L!=2&&(K(),se(17)),We(this),this.s=2,Qn(this)):Cr(this,this.S-h)};function Qn(h){h.j.G==0||h.J||fd(h.j,h)}function We(h){gr(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,sr(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Ft(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Oa(w.h,h))){if(!h.K&&Oa(w.h,h)&&w.G==3){try{var C=w.Da.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var ee=C;if(ee[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Bl(w),zl(w);else break e;nc(w),se(18)}}else w.za=ee[1],0<w.za-w.T&&37500>ee[2]&&w.F&&w.v==0&&!w.C&&(w.C=be(_(w.Za,w),6e3));if(1>=es(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ta(w,11)}else if((h.K||w.g==h)&&Bl(w),!B(x))for(ee=w.Da.g.parse(x),x=0;x<ee.length;x++){let ft=ee[x];if(w.T=ft[0],ft=ft[1],w.G==2)if(ft[0]=="c"){w.K=ft[1],w.ia=ft[2];const _n=ft[3];_n!=null&&(w.la=_n,w.j.info("VER="+w.la));const dn=ft[4];dn!=null&&(w.Aa=dn,w.j.info("SVER="+w.Aa));const na=ft[5];na!=null&&typeof na=="number"&&0<na&&(C=1.5*na,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Rn=h.g;if(Rn){const Ss=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var ce=C.h;ce.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ma(ce,ce.h),ce.h=null))}if(C.D){const sc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(C.ya=sc,jt(C.I,C.D,sc))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var Ne=h;if(C.qa=pd(C,C.J?C.ia:null,C.W),Ne.K){Wn(C.h,Ne);var ht=Ne,un=C.L;un&&(ht.I=un),ht.B&&(gr(ht),pr(ht)),C.g=Ne}else dd(C);0<w.i.length&&Fl(w)}else ft[0]!="stop"&&ft[0]!="close"||ta(w,7);else w.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?ta(w,7):ec(w):ft[0]!="noop"&&w.l&&w.l.ta(ft),w.v=0)}}K(4)}catch{}}var Ys=class{constructor(h,x){this.g=h,this.map=x}};function Yn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function es(h){return h.h?1:h.g?h.g.size:0}function Oa(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ma(h,x){h.g?h.g.add(x):h.h=x}function Wn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Yn.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return D(h.i)}function am(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,C=0;C<w;C++)x.push(h[C]);return x}x=[],w=0;for(C in h)x[w++]=h[C];return x}function Ml(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const C in h)x[w++]=C;return x}}}function Qo(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=Ml(h),C=am(h),ee=C.length,ce=0;ce<ee;ce++)x.call(void 0,C[ce],w&&w[ce],h)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),ee=null;if(0<=C){var ce=h[w].substring(0,C);ee=h[w].substring(C+1)}else ce=h[w];x(ce,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function en(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof en){this.h=h.h,ki(this,h.j),this.o=h.o,this.g=h.g,Pa(this,h.s),this.l=h.l;var x=h.i,w=new Xs;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),Ws(this,w),this.m=h.m}else h&&(x=String(h).match(Li))?(this.h=!1,ki(this,x[1]||"",!0),this.o=Ir(x[2]||""),this.g=Ir(x[3]||"",!0),Pa(this,x[4]),this.l=Ir(x[5]||"",!0),Ws(this,x[6]||"",!0),this.m=Ir(x[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}en.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Ui(x,Yo,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ui(x,Yo,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Ui(w,w.charAt(0)=="/"?lm:Wo,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Ui(w,Pl)),h.join("")};function yr(h){return new en(h)}function ki(h,x,w){h.j=w?Ir(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Pa(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Ws(h,x,w){x instanceof Xs?(h.i=x,id(h.i,h.h)):(w||(x=Ui(x,om)),h.i=new Xs(x,h.h))}function jt(h,x,w){h.i.set(x,w)}function Vi(h){return jt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ir(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ui(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,ad),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ad(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Yo=/[#\/\?@]/g,Wo=/[#\?:]/g,lm=/[#\?]/g,om=/[#\?@]/g,Pl=/#/g;function Xs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Dr(h){h.g||(h.g=new Map,h.h=0,h.i&&im(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=Xs.prototype,t.add=function(h,x){Dr(this),this.i=null,h=bs(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Zs(h,x){Dr(h),x=bs(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Js(h,x){return Dr(h),x=bs(h,x),h.g.has(x)}t.forEach=function(h,x){Dr(this),this.g.forEach(function(w,C){w.forEach(function(ee){h.call(x,ee,C,this)},this)},this)},t.na=function(){Dr(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let C=0;C<x.length;C++){const ee=h[C];for(let ce=0;ce<ee.length;ce++)w.push(x[C])}return w},t.V=function(h){Dr(this);let x=[];if(typeof h=="string")Js(this,h)&&(x=x.concat(this.g.get(bs(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},t.set=function(h,x){return Dr(this),this.i=null,h=bs(this,h),Js(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Xo(h,x,w){Zs(h,x),0<w.length&&(h.i=null,h.g.set(bs(h,x),D(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var C=x[w];const ce=encodeURIComponent(String(C)),Ne=this.V(C);for(C=0;C<Ne.length;C++){var ee=ce;Ne[C]!==""&&(ee+="="+encodeURIComponent(String(Ne[C]))),h.push(ee)}}return this.i=h.join("&")};function bs(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function id(h,x){x&&!h.j&&(Dr(h),h.i=null,h.g.forEach(function(w,C){var ee=C.toLowerCase();C!=ee&&(Zs(this,C),Xo(this,ee,w))},h)),h.j=x}function zi(h,x){const w=new Ie;if(f.Image){const C=new Image;C.onload=R(Or,w,"TestLoadImage: loaded",!0,x,C),C.onerror=R(Or,w,"TestLoadImage: error",!1,x,C),C.onabort=R(Or,w,"TestLoadImage: abort",!1,x,C),C.ontimeout=R(Or,w,"TestLoadImage: timeout",!1,x,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else x(!1)}function ts(h,x){const w=new Ie,C=new AbortController,ee=setTimeout(()=>{C.abort(),Or(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:C.signal}).then(ce=>{clearTimeout(ee),ce.ok?Or(w,"TestPingServer: ok",!0,x):Or(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ee),Or(w,"TestPingServer: error",!1,x)})}function Or(h,x,w,C,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),C(w)}catch{}}function Fi(){this.g=new ar}function _s(h,x,w){const C=w||"";try{Qo(h,function(ee,ce){let Ne=ee;g(ee)&&(Ne=Gn(ee)),x.push(C+ce+"="+encodeURIComponent(Ne))})}catch(ee){throw x.push(C+"type="+encodeURIComponent("_badmap")),ee}}function La(h){this.l=h.Ub||null,this.j=h.eb||!1}M(La,Zr),La.prototype.g=function(){return new ea(this.l,this.j)},La.prototype.i=(function(h){return function(){return h}})({});function ea(h,x){we.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ea,we),t=ea.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Es(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?ws(this):Es(this),this.readyState==3&&Zo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ws(this))},t.Qa=function(h){this.g&&(this.response=h,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Es(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Es(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jo(h){let x="";return O(h,function(w,C){x+=C,x+=":",x+=w,x+=`\r
`}),x}function bn(h,x,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Jo(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):jt(h,x,w))}function Nt(h){we.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Nt,we);var Ll=/^https?$/i,Bi=["POST","PUT"];t=Nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vt.g(),this.v=this.o?Qs(this.o):Qs(vt),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ce){ld(this,ce);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var ee in C)w.set(ee,C[ee]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ce of C.keys())w.set(ce,C.get(ce));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(ce=>ce.toLowerCase()=="content-type"),ee=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Bi,x,void 0))||C||ee||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ne]of w)this.g.setRequestHeader(ce,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(h),this.u=!1}catch(ce){ld(this,ce)}};function ld(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,kl(h),Ns(h)}function kl(h){h.A||(h.A=!0,Ce(h,"complete"),Ce(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ce(this,"complete"),Ce(this,"abort"),Ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vl(this):this.bb())},t.bb=function(){Vl(this)};function Vl(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Mr(h)!=4||h.Z()!=2)){if(h.u&&Mr(h)==4)yt(h.Ea,0,h);else if(Ce(h,"readystatechange"),Mr(h)==4){h.h=!1;try{const Ne=h.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var C;if(C=Ne===0){var ee=String(h.D).match(Li)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),C=!Ll.test(ee?ee.toLowerCase():"")}w=C}if(w)Ce(h,"complete"),Ce(h,"success");else{h.m=6;try{var ce=2<Mr(h)?h.g.statusText:""}catch{ce=""}h.l=ce+" ["+h.Z()+"]",kl(h)}}finally{Ns(h)}}}}function Ns(h,x){if(h.g){qi(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ce(h,"ready");try{w.onreadystatechange=C}catch{}}}function qi(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Mr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),jr(x)}};function od(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cm(h){const x={};h=(h.g&&2<=Mr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(B(h[C]))continue;var w=I(h[C]);const ee=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ce=x[ee]||[];x[ee]=ce,ce.push(w)}P(x,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Ul(h){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,h),this.cb=Hi("retryDelaySeedMs",1e4,h),this.Wa=Hi("forwardChannelMaxRetries",2,h),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Yn(h&&h.concurrentRequestLimit),this.Da=new Fi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ul.prototype,t.la=8,t.G=1,t.connect=function(h,x,w,C){se(0),this.W=h,this.H=x||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=pd(this,null,this.W),Fl(this)};function ec(h){if(cd(h),h.G==3){var x=h.U++,w=yr(h.I);if(jt(w,"SID",h.K),jt(w,"RID",x),jt(w,"TYPE","terminate"),Gi(h,w),x=new bt(h,h.j,x),x.L=2,x.v=Vi(yr(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=x.v,w=!0),w||(x.g=gd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),pr(x)}md(h)}function zl(h){h.g&&($i(h),h.g.cancel(),h.g=null)}function cd(h){zl(h),h.u&&(f.clearTimeout(h.u),h.u=null),Bl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Fl(h){if(!Pt(h.h)&&!h.s){h.s=!0;var x=h.Ga;Z||U(),ue||(Z(),ue=!0),Se.add(x,h),h.B=0}}function um(h,x){return es(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(_(h.Ga,h,x),rc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ee=new bt(this,this.j,h);let ce=this.o;if(this.S&&(ce?(ce=N(ce),k(ce,this.S)):ce=this.S),this.m!==null||this.O||(ee.H=ce,ce=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(x+=C,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=ud(this,ee,x),w=yr(this.I),jt(w,"RID",h),jt(w,"CVER",22),this.D&&jt(w,"X-HTTP-Session-Id",this.D),Gi(this,w),ce&&(this.O?x="headers="+encodeURIComponent(String(Jo(ce)))+"&"+x:this.m&&bn(w,this.m,ce)),Ma(this.h,ee),this.Ua&&jt(w,"TYPE","init"),this.P?(jt(w,"$req",x),jt(w,"SID","null"),ee.T=!0,jn(ee,w,null)):jn(ee,w,x),this.G=2}}else this.G==3&&(h?tc(this,h):this.i.length==0||Pt(this.h)||tc(this))};function tc(h,x){var w;x?w=x.l:w=h.U++;const C=yr(h.I);jt(C,"SID",h.K),jt(C,"RID",w),jt(C,"AID",h.T),Gi(h,C),h.m&&h.o&&bn(C,h.m,h.o),w=new bt(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=ud(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ma(h.h,w),jn(w,C,x)}function Gi(h,x){h.H&&O(h.H,function(w,C){jt(x,C,w)}),h.l&&Qo({},function(w,C){jt(x,C,w)})}function ud(h,x,w){w=Math.min(h.i.length,w);var C=h.l?_(h.l.Na,h.l,h):null;e:{var ee=h.i;let ce=-1;for(;;){const Ne=["count="+w];ce==-1?0<w?(ce=ee[0].g,Ne.push("ofs="+ce)):ce=0:Ne.push("ofs="+ce);let ht=!0;for(let un=0;un<w;un++){let ft=ee[un].g;const _n=ee[un].map;if(ft-=ce,0>ft)ce=Math.max(0,ee[un].g-100),ht=!1;else try{_s(_n,Ne,"req"+ft+"_")}catch{C&&C(_n)}}if(ht){C=Ne.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,C}function dd(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;Z||U(),ue||(Z(),ue=!0),Se.add(x,h),h.v=0}}function nc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(_(h.Fa,h),rc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),zl(this),hd(this))};function $i(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function hd(h){h.g=new bt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=yr(h.qa);jt(x,"RID","rpc"),jt(x,"SID",h.K),jt(x,"AID",h.T),jt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&jt(x,"TO",h.ja),jt(x,"TYPE","xmlhttp"),Gi(h,x),h.m&&h.o&&bn(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Vi(yr(x)),w.m=null,w.P=!0,xn(w,h)}t.Za=function(){this.C!=null&&(this.C=null,zl(this),nc(this),se(19))};function Bl(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function fd(h,x){var w=null;if(h.g==x){Bl(h),$i(h),h.g=null;var C=2}else if(Oa(h.h,x))w=x.D,Wn(h.h,x),C=1;else return;if(h.G!=0){if(x.o)if(C==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var ee=h.B;C=xs(),Ce(C,new ge(C,w)),Fl(h)}else dd(h);else if(ee=x.s,ee==3||ee==0&&0<x.X||!(C==1&&um(h,x)||C==2&&nc(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),ee){case 1:ta(h,5);break;case 4:ta(h,10);break;case 3:ta(h,6);break;default:ta(h,2)}}}function rc(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function ta(h,x){if(h.j.info("Error code "+x),x==2){var w=_(h.fb,h),C=h.Xa;const ee=!C;C=new en(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ki(C,"https"),Vi(C),ee?zi(C.toString(),w):ts(C.toString(),w)}else se(2);h.G=0,h.l&&h.l.sa(x),md(h),cd(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function md(h){if(h.G=0,h.ka=[],h.l){const x=Ko(h.h);(x.length!=0||h.i.length!=0)&&(L(h.ka,x),L(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function pd(h,x,w){var C=w instanceof en?yr(w):new en(w);if(C.g!="")x&&(C.g=x+"."+C.g),Pa(C,C.s);else{var ee=f.location;C=ee.protocol,x=x?x+"."+ee.hostname:ee.hostname,ee=+ee.port;var ce=new en(null);C&&ki(ce,C),x&&(ce.g=x),ee&&Pa(ce,ee),w&&(ce.l=w),C=ce}return w=h.D,x=h.ya,w&&x&&jt(C,w,x),jt(C,"VER",h.la),Gi(h,C),C}function gd(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Nt(new La({eb:w})):new Nt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yd(){}t=yd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(h,x){return new Xn(h,x)};function Xn(h,x){we.call(this),this.g=new Ul(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!B(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ts(this)}M(Xn,we),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){ec(this.g)},Xn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Gn(h),h=w);x.i.push(new Ys(x.Ya++,h)),x.G==3&&Fl(x)},Xn.prototype.N=function(){this.g.l=null,delete this.j,ec(this.g),delete this.g,Xn.aa.N.call(this)};function vd(h){Jr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}M(vd,Jr);function xd(){Ca.call(this),this.status=1}M(xd,Ca);function Ts(h){this.g=h}M(Ts,yd),Ts.prototype.ua=function(){Ce(this.g,"a")},Ts.prototype.ta=function(h){Ce(this.g,new vd(h))},Ts.prototype.sa=function(h){Ce(this.g,new xd)},Ts.prototype.ra=function(){Ce(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,ZE=function(){return new ql},XE=function(){return xs()},WE=$n,ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,qh=ke,nt.COMPLETE="complete",YE=nt,Pi.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",we.prototype.listen=we.prototype.K,du=Pi,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,QE=Nt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const C2="@firebase/firestore",I2="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new By("@firebase/firestore");function wo(){return vl.logLevel}function De(t,...e){if(vl.logLevel<=ct.DEBUG){const n=e.map(tv);vl.debug(`Firestore (${Bo}): ${t}`,...n)}}function Ta(t,...e){if(vl.logLevel<=ct.ERROR){const n=e.map(tv);vl.error(`Firestore (${Bo}): ${t}`,...n)}}function Mo(t,...e){if(vl.logLevel<=ct.WARN){const n=e.map(tv);vl.warn(`Firestore (${Bo}): ${t}`,...n)}}function tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JE(t,s,n)}function JE(t,e,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ta(s),new Error(s)}function Et(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||JE(e,i,s)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class $I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KI{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let s=this.i;const i=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Us,e.enqueueRetryable((()=>i(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},f=p=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Us)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et(typeof s.accessToken=="string",31837,{l:s}),new eN(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const s=c=>{c.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,De("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const i=c=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>i(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?i(c):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=XI(40);for(let c=0;c<i.length;++c)s.length<20&&i[c]<n&&(s+=e.charAt(i[c]%62))}return s}}function ut(t,e){return t<e?-1:t>e?1:0}function iy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),c=e.charAt(s);if(i!==c)return Tg(i)===Tg(c)?ut(i,c):Tg(i)?1:-1}return ut(t.length,e.length)}const ZI=55296,JI=57343;function Tg(t){const e=t.charCodeAt(0);return e>=ZI&&e<=JI}function Po(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__name__";class Ds{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const c=Ds.compareSegments(e.get(i),n.get(i));if(c!==0)return c}return ut(e.length,n.length)}static compareSegments(e,n){const s=Ds.isNumericId(e),i=Ds.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class kt extends Ds{construct(e,n,s){return new kt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new kt(n)}static emptyPath(){return new kt([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Ds{construct(e,n,s){return new Mn(e,n,s)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new Mn([O2])}static fromServerFormat(e){const n=[];let s="",i=0;const c=()=>{if(s.length===0)throw new Re(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,i+=2}else f==="`"?(d=!d,i++):f!=="."||d?(s+=f,i++):(c(),i++)}if(c(),d)throw new Re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(kt.fromString(e))}static fromName(e){return new Be(kt.fromString(e).popFirst(5))}static empty(){return new Be(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e,n){if(!n)throw new Re(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tD(t,e,n,s){if(e===!0&&s===!0)throw new Re(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M2(t){if(!Be.isDocumentKey(t))throw new Re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P2(t){if(Be.isDocumentKey(t))throw new Re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new Re(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yu(t,e){if(!nN(t))throw new Re(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const d=t[s];if(i&&typeof d!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Re(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=-62135596800,k2=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*k2);return new zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L2)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k2}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yu(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:on("string",zt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new zt(0,0))}static max(){return new et(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function nD(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new Ei(i,Be.empty(),e)}function rD(t){return new Ei(t.readTime,t.key,Du)}class Ei{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ei(et.min(),Be.empty(),Du)}static max(){return new Ei(et.max(),Be.empty(),Du)}}function sD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==aD)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((s,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,i)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,s)=>{n(e)}))}static reject(e){return new ye(((n,s)=>{s(e)}))}static waitFor(e){return new ye(((n,s)=>{let i=0,c=0,d=!1;e.forEach((f=>{++i,f.next((()=>{++c,d&&c===i&&n()}),(p=>s(p)))})),d=!0,c===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const s of e)n=n.next((i=>i?ye.resolve(i):s()));return n}static forEach(e,n){const s=[];return e.forEach(((i,c)=>{s.push(n.call(this,i,c))})),this.waitFor(s)}static mapArray(e,n){return new ye(((s,i)=>{const c=e.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((v=>{d[g]=v,++f,f===c&&s(d)}),(v=>i(v)))}}))}static doWhile(e,n){return new ye(((s,i)=>{const c=()=>{e()===!0?n().next((()=>{c()}),i):s()};c()}))}}function lD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=-1;function Bf(t){return t==null}function cf(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="";function cD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=V2(e)),e=uD(t.get(n),e);return V2(e)}function uD(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const c=t.charAt(i);switch(c){case"\0":n+="";break;case rN:n+="";break;default:n+=c}}return n}function V2(t){return t+rN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dD(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function sN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,s,i,c){this.key=e,this.value=n,this.color=s??On.RED,this.left=i??On.EMPTY,this.right=c??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,c){return new On(e??this.key,n??this.value,s??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const c=s(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,n,s),null):c===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,s,i,c){return this}insert(e,n,s){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=s.getNext().key;if(this.comparator(i,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new ds([])}unionWith(e){let n=new pn(Mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aN("Invalid base64 string: "+c):c}})(e);return new Pn(n)}static fromUint8Array(e){const n=(function(i){let c="";for(let d=0;d<i.length;++d)c+=String.fromCharCode(i[d]);return c})(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=hD.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="server_timestamp",lN="__type__",oN="__previous_value__",cN="__local_write_time__";function sv(t){return(t?.mapValue?.fields||{})[lN]?.stringValue===iN}function qf(t){const e=t.mapValue.fields[oN];return sv(e)?qf(e):e}function Ou(t){const e=Ni(t.mapValue.fields[cN].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s,i,c,d,f,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const uf="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||uf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__type__",mD="__max__",Ah={mapValue:{}},dN="__vector__",df="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:gD(t)?9007199254740991:pD(t)?10:11:Ye(28295,{value:t})}function Hs(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ou(t).isEqual(Ou(e));case 3:return(function(i,c){if(typeof i.timestampValue=="string"&&typeof c.timestampValue=="string"&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const d=Ni(i.timestampValue),f=Ni(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,c){return Ti(i.bytesValue).isEqual(Ti(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,c){return Xt(i.geoPointValue.latitude)===Xt(c.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(c.geoPointValue.longitude)})(t,e);case 2:return(function(i,c){if("integerValue"in i&&"integerValue"in c)return Xt(i.integerValue)===Xt(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const d=Xt(i.doubleValue),f=Xt(c.doubleValue);return d===f?cf(d)===cf(f):isNaN(d)&&isNaN(f)}return!1})(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(i,c){const d=i.mapValue.fields||{},f=c.mapValue.fields||{};if(U2(d)!==U2(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!Hs(d[p],f[p])))return!1;return!0})(t,e);default:return Ye(52216,{left:t})}}function Pu(t,e){return(t.values||[]).find((n=>Hs(n,e)))!==void 0}function Lo(t,e){if(t===e)return 0;const n=Si(t),s=Si(e);if(n!==s)return ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(c,d){const f=Xt(c.integerValue||c.doubleValue),p=Xt(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return F2(t.timestampValue,e.timestampValue);case 4:return F2(Ou(t),Ou(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return(function(c,d){const f=Ti(c),p=Ti(d);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(c,d){const f=c.split("/"),p=d.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=ut(f[g],p[g]);if(v!==0)return v}return ut(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,d){const f=ut(Xt(c.latitude),Xt(d.latitude));return f!==0?f:ut(Xt(c.longitude),Xt(d.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return B2(t.arrayValue,e.arrayValue);case 10:return(function(c,d){const f=c.fields||{},p=d.fields||{},g=f[df]?.arrayValue,v=p[df]?.arrayValue,b=ut(g?.values?.length||0,v?.values?.length||0);return b!==0?b:B2(g,v)})(t.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ah.mapValue&&d===Ah.mapValue)return 0;if(c===Ah.mapValue)return 1;if(d===Ah.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),g=d.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const _=iy(p[b],v[b]);if(_!==0)return _;const R=Lo(f[p[b]],g[v[b]]);if(R!==0)return R}return ut(p.length,v.length)})(t.mapValue,e.mapValue);default:throw Ye(23264,{he:n})}}function F2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Ni(t),s=Ni(e),i=ut(n.seconds,s.seconds);return i!==0?i:ut(n.nanos,s.nanos)}function B2(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const c=Lo(n[i],s[i]);if(c)return c}return ut(n.length,s.length)}function ko(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ni(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ti(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(const c of n.values||[])i?i=!1:s+=",",s+=ly(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",c=!0;for(const d of s)c?c=!1:i+=",",i+=`${d}:${ly(n.fields[d])}`;return i+"}"})(t.mapValue):Ye(61005,{value:t})}function Hh(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(t);return e?16+Hh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((i,c)=>i+Hh(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let i=0;return jl(s.fields,((c,d)=>{i+=c.length+Hh(d)})),i})(t.mapValue);default:throw Ye(13486,{value:t})}}function q2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function oy(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function H2(t){return!!t&&"nullValue"in t}function G2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function pD(t){return(t?.mapValue?.fields||{})[uN]?.stringValue===dN}function vu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return jl(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=vu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return{...t}}function gD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Mn.emptyPath(),s={},i=[];e.forEach(((d,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,i),s={},i=[],n=f.popLast()}d?s[f.lastSegment()]=vu(d):i.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,i)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){jl(n,((i,c)=>e[i]=c));for(const i of s)delete e[i]}clone(){return new Hr(vu(this.value))}}function hN(t){const e=[];return jl(t.fields,((n,s)=>{const i=new Mn([n]);if(Gh(s)){const c=hN(s.mapValue).fields;if(c.length===0)e.push(i);else for(const d of c)e.push(i.child(d))}else e.push(i)})),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,s,i,c,d,f){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Fn(e,0,et.min(),et.min(),et.min(),Hr.empty(),0)}static newFoundDocument(e,n,s,i){return new Fn(e,1,n,et.min(),s,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,et.min(),et.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,et.min(),et.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.position=e,this.inclusive=n}}function $2(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const c=e[i],d=t.position[i];if(c.field.isKeyField()?s=Be.comparator(Be.fromName(d.referenceValue),n.key):s=Lo(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function K2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function yD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{}class ln extends fN{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xD(e,n,s):n==="array-contains"?new wD(e,s):n==="in"?new ED(e,s):n==="not-in"?new ND(e,s):n==="array-contains-any"?new TD(e,s):new ln(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bD(e,s):new _D(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends fN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ms(e,n)}matches(e){return mN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mN(t){return t.op==="and"}function pN(t){return vD(t)&&mN(t)}function vD(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function cy(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(pN(t))return t.filters.map((e=>cy(e))).join(",");{const e=t.filters.map((n=>cy(n))).join(",");return`${t.op}(${e})`}}function gN(t,e){return t instanceof ln?(function(s,i){return i instanceof ln&&s.op===i.op&&s.field.isEqual(i.field)&&Hs(s.value,i.value)})(t,e):t instanceof ms?(function(s,i){return i instanceof ms&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((c,d,f)=>c&&gN(d,i.filters[f])),!0):!1})(t,e):void Ye(19439)}function yN(t){return t instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(t):t instanceof ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(yN).join(" ,")+"}"})(t):"Filter"}class xD extends ln{constructor(e,n,s){super(e,n,s),this.key=Be.fromName(s.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class bD extends ln{constructor(e,n){super(e,"in",n),this.keys=vN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _D extends ln{constructor(e,n){super(e,"not-in",n),this.keys=vN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vN(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class wD extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&Pu(n.arrayValue,this.value)}}class ED extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class ND extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class TD extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n=null,s=[],i=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=c,this.startAt=d,this.endAt=f,this.Te=null}}function Q2(t,e=null,n=[],s=[],i=null,c=null,d=null){return new SD(t,e,n,s,i,c,d)}function iv(t){const e=Ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>cy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ko(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ko(s))).join(",")),e.Te=n}return e.Te}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K2(t.startAt,e.startAt)&&K2(t.endAt,e.endAt)}function uy(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,s=[],i=[],c=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AD(t,e,n,s,i,c,d,f){return new Go(t,e,n,s,i,c,d,f)}function ov(t){return new Go(t)}function Y2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xN(t){return t.collectionGroup!==null}function xu(t){const e=Ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new pn(Mn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Lu(c,s))})),n.has(Mn.keyField().canonicalString())||e.Ie.push(new Lu(Mn.keyField(),s))}return e.Ie}function zs(t){const e=Ze(t);return e.Ee||(e.Ee=bN(e,xu(t))),e.Ee}function jD(t){const e=Ze(t);return e.de||(e.de=bN(e,t.explicitOrderBy)),e.de}function bN(t,e){if(t.limitType==="F")return Q2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const c=i.dir==="desc"?"asc":"desc";return new Lu(i.field,c)}));const n=t.endAt?new hf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new hf(t.startAt.position,t.startAt.inclusive):null;return Q2(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function dy(t,e){const n=t.filters.concat([e]);return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hy(t,e,n){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return lv(zs(t),zs(e))&&t.limitType===e.limitType}function _N(t){return`${iv(zs(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>yN(i))).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>ko(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>ko(i))).join(",")),`Target(${s})`})(zs(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&(function(s,i){const c=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,i){for(const c of xu(s))if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(const c of s.filters)if(!c.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(d,f,p){const g=$2(d,f,p);return d.inclusive?g<=0:g<0})(s.startAt,xu(s),i)||s.endAt&&!(function(d,f,p){const g=$2(d,f,p);return d.inclusive?g>=0:g>0})(s.endAt,xu(s),i))})(t,e)}function RD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wN(t){return(e,n)=>{let s=!1;for(const i of xu(t)){const c=CD(i,e,n);if(c!==0)return c;s=s||i.field.isKeyField()}return 0}}function CD(t,e,n){const s=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(c,d,f){const p=d.data.field(c),g=f.data.field(c);return p!==null&&g!==null?Lo(p,g):Ye(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,c]of s)if(this.equalsFn(i,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jl(this.inner,((n,s)=>{for(const[i,c]of s)e(i,c)}))}isEmpty(){return sN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Gt(Be.comparator);function Sa(){return ID}const EN=new Gt(Be.comparator);function hu(...t){let e=EN;for(const n of t)e=e.insert(n.key,n);return e}function NN(t){let e=EN;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function dl(){return bu()}function TN(){return bu()}function bu(){return new Rl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DD=new Gt(Be.comparator),OD=new pn(Be.comparator);function dt(...t){let e=OD;for(const n of t)e=e.add(n);return e}const MD=new pn(ut);function PD(){return MD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function SN(t){return{integerValue:""+t}}function LD(t,e){return oD(e)?SN(e):cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function kD(t,e,n){return t instanceof ku?(function(i,c){const d={fields:{[lN]:{stringValue:iN},[cN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&sv(c)&&(c=qf(c)),c&&(d.fields[oN]=c),{mapValue:d}})(n,e):t instanceof Vu?jN(t,e):t instanceof Uu?RN(t,e):(function(i,c){const d=AN(i,c),f=W2(d)+W2(i.Ae);return oy(d)&&oy(i.Ae)?SN(f):cv(i.serializer,f)})(t,e)}function VD(t,e,n){return t instanceof Vu?jN(t,e):t instanceof Uu?RN(t,e):n}function AN(t,e){return t instanceof ff?(function(s){return oy(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ku extends $f{}class Vu extends $f{constructor(e){super(),this.elements=e}}function jN(t,e){const n=CN(e);for(const s of t.elements)n.some((i=>Hs(i,s)))||n.push(s);return{arrayValue:{values:n}}}class Uu extends $f{constructor(e){super(),this.elements=e}}function RN(t,e){let n=CN(e);for(const s of t.elements)n=n.filter((i=>!Hs(i,s)));return{arrayValue:{values:n}}}class ff extends $f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W2(t){return Xt(t.integerValue||t.doubleValue)}function CN(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.field=e,this.transform=n}}function zD(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof Vu&&i instanceof Vu||s instanceof Uu&&i instanceof Uu?Po(s.elements,i.elements,Hs):s instanceof ff&&i instanceof ff?Hs(s.Ae,i.Ae):s instanceof ku&&i instanceof ku})(t.transform,e.transform)}class FD{constructor(e,n){this.version=e,this.transformResults=n}}class _a{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _a}static exists(e){return new _a(void 0,e)}static updateTime(e){return new _a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function IN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ON(t.key,_a.none()):new Wu(t.key,t.data,_a.none());{const n=t.data,s=Hr.empty();let i=new pn(Mn.comparator);for(let c of e.fields)if(!i.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),i=i.add(c)}return new Cl(t.key,s,new ds(i.toArray()),_a.none())}}function BD(t,e,n){t instanceof Wu?(function(i,c,d){const f=i.value.clone(),p=Z2(i.fieldTransforms,c,d.transformResults);f.setAll(p),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Cl?(function(i,c,d){if(!$h(i.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Z2(i.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(DN(i)),p.setAll(f),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(t,e,n):(function(i,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function _u(t,e,n,s){return t instanceof Wu?(function(c,d,f,p){if(!$h(c.precondition,d))return f;const g=c.value.clone(),v=J2(c.fieldTransforms,p,d);return g.setAll(v),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Cl?(function(c,d,f,p){if(!$h(c.precondition,d))return f;const g=J2(c.fieldTransforms,p,d),v=d.data;return v.setAll(DN(c)),v.setAll(g),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(c,d,f){return $h(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(t,e,n)}function qD(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),c=AN(s.transform,i||null);c!=null&&(n===null&&(n=Hr.empty()),n.set(s.field,c))}return n||null}function X2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Po(s,i,((c,d)=>zD(c,d)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends Kf{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cl extends Kf{constructor(e,n,s,i,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Z2(t,e,n){const s=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const c=t[i],d=c.transform,f=e.data.field(c.field);s.set(c.field,VD(d,f,n[i]))}return s}function J2(t,e,n){const s=new Map;for(const i of t){const c=i.transform,d=n.data.field(i.field);s.set(i.field,kD(c,d,e))}return s}class ON extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&BD(c,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TN();return this.mutations.forEach((i=>{const c=e.get(i.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=n.has(i.key)?null:f;const p=IN(d,f);p!==null&&s.set(i.key,p),d.isValidDocument()||d.convertToNoDocument(et.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,s)=>X2(n,s)))&&Po(this.baseMutations,e.baseMutations,((n,s)=>X2(n,s)))}}class uv{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=(function(){return DD})();const c=e.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,s[d].version);return new uv(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,pt;function YD(t){switch(t){case me.OK:return Ye(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ye(15467,{code:t})}}function MN(t){if(t===void 0)return Ta("GRPC error has no .code"),me.UNKNOWN;switch(t){case sn.OK:return me.OK;case sn.CANCELLED:return me.CANCELLED;case sn.UNKNOWN:return me.UNKNOWN;case sn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case sn.INTERNAL:return me.INTERNAL;case sn.UNAVAILABLE:return me.UNAVAILABLE;case sn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case sn.NOT_FOUND:return me.NOT_FOUND;case sn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case sn.ABORTED:return me.ABORTED;case sn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case sn.DATA_LOSS:return me.DATA_LOSS;default:return Ye(39323,{code:t})}}(pt=sn||(sn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new yi([4294967295,4294967295],0);function e_(t){const e=WD().encode(t),n=new KE;return n.update(e),new Uint8Array(n.digest())}function t_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yi([n,s],0),new yi([i,c],0)]}class dv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yi.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(yi.fromNumber(s)));return i.compare(XD)===1&&(i=new yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e_(e),[s,i]=t_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,i,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dv(c,i,n);return s.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const n=e_(e),[s,i]=t_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,i,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,s,i,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qf(et.min(),i,new Gt(ut),Sa(),dt())}}class Xu{constructor(e,n,s,i,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Xu(s,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class PN{constructor(e,n){this.targetId=e,this.Ce=n}}class LN{constructor(e,n,s=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class n_{constructor(){this.ve=0,this.Fe=r_(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),s=dt();return this.Fe.forEach(((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ye(38017,{changeType:c})}})),new Xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=r_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sa(),this.Je=jh(),this.He=jh(),this.Ye=new Gt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const c=i.target;if(uy(c))if(s===0){const d=new Be(c.path);this.et(n,d,Fn.newNoDocument(d,et.min()))}else Et(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const f=this.ut(e),p=f?this.ct(f,e,d):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:c=0}=n;let d,f;try{d=Ti(s).toUint8Array()}catch(p){if(p instanceof aN)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new dv(d,i,c)}catch(p){return Mo(p instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach((c=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const f=this.ot(d);if(f){if(c.current&&uy(f.target)){const p=new Be(f.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Fn.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=dt();this.He.forEach(((c,d)=>{let f=!0;d.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const i=new Qf(e,n,this.Ye,this.je,s);return this.je=Sa(),this.Je=jh(),this.He=jh(),this.Ye=new Gt(ut),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jh(){return new Gt(Be.comparator)}function r_(){return new Gt(Be.comparator)}const JD={asc:"ASCENDING",desc:"DESCENDING"},e5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t5={and:"AND",or:"OR"};class n5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r5(t,e){return mf(t,e.toTimestamp())}function Fs(t){return Et(!!t,49232),et.fromTimestamp((function(n){const s=Ni(n);return new zt(s.seconds,s.nanos)})(t))}function hv(t,e){return my(t,e).canonicalString()}function my(t,e){const n=(function(i){return new kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VN(t){const e=kt.fromString(t);return Et(HN(e),10190,{key:e.toString()}),e}function py(t,e){return hv(t.databaseId,e.path)}function Sg(t,e){const n=VN(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(zN(n))}function UN(t,e){return hv(t.databaseId,e)}function s5(t){const e=VN(t);return e.length===4?kt.emptyPath():zN(e)}function gy(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zN(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s_(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function a5(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],c=(function(g,v){return g.useProto3Json?(Et(v===void 0||typeof v=="string",58123),Pn.fromBase64String(v||"")):(Et(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Pn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(g){const v=g.code===void 0?me.UNKNOWN:MN(g.code);return new Re(v,g.message||"")})(d);n=new LN(s,i,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Sg(t,s.document.name),c=Fs(s.document.updateTime),d=s.document.createTime?Fs(s.document.createTime):et.min(),f=new Hr({mapValue:{fields:s.document.fields}}),p=Fn.newFoundDocument(i,c,d,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Kh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Sg(t,s.document),c=s.readTime?Fs(s.readTime):et.min(),d=Fn.newNoDocument(i,c),f=s.removedTargetIds||[];n=new Kh([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Sg(t,s.document),c=s.removedTargetIds||[];n=new Kh([],c,i,null)}else{if(!("filter"in e))return Ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:c}=s,d=new QD(i,c),f=s.targetId;n=new PN(f,d)}}return n}function i5(t,e){let n;if(e instanceof Wu)n={update:s_(t,e.key,e.value)};else if(e instanceof ON)n={delete:py(t,e.key)};else if(e instanceof Cl)n={update:s_(t,e.key,e.data),updateMask:p5(e.fieldMask)};else{if(!(e instanceof HD))return Ye(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const f=d.transform;if(f instanceof ku)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ff)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw Ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,c){return c.updateTime!==void 0?{updateTime:r5(i,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ye(27497)})(t,e.precondition)),n}function l5(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,c){let d=i.updateTime?Fs(i.updateTime):Fs(c);return d.isEqual(et.min())&&(d=Fs(c)),new FD(d,i.transformResults||[])})(n,e)))):[]}function o5(t,e){return{documents:[UN(t,e.path)]}}function FN(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=UN(t,i);const c=(function(g){if(g.length!==0)return qN(ms.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:hi(_.field),direction:h5(_.dir)}})(v)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const f=fy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function c5(t,e,n,s){const{ft:i,parent:c}=FN(t,e),d={},f=[];let p=0;return n.forEach((g=>{const v="aggregate_"+p++;d[v]=g.alias,g.aggregateType==="count"?f.push({alias:v,count:{}}):g.aggregateType==="avg"?f.push({alias:v,avg:{field:hi(g.fieldPath)}}):g.aggregateType==="sum"&&f.push({alias:v,sum:{field:hi(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:i.structuredQuery},parent:i.parent},gt:d,parent:c}}function u5(t){let e=s5(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Et(s===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=(function(b){const _=BN(b);return _ instanceof ms&&pN(_)?_.getFilters():[_]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((_=>(function(M){return new Lu(No(M.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let _;return _=typeof b=="object"?b.value:b,Bf(_)?null:_})(n.limit));let p=null;n.startAt&&(p=(function(b){const _=!!b.before,R=b.values||[];return new hf(R,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const _=!b.before,R=b.values||[];return new hf(R,_)})(n.endAt)),AD(e,i,d,c,f,"F",p,g)}function d5(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return ln.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=No(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(n.unaryFilter.field);return ln.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(n.unaryFilter.field);return ln.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ln.create(No(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ms.create(n.compositeFilter.filters.map((s=>BN(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(n.compositeFilter.op))})(t):Ye(30097,{filter:t})}function h5(t){return JD[t]}function f5(t){return e5[t]}function m5(t){return t5[t]}function hi(t){return{fieldPath:t.canonicalString()}}function No(t){return Mn.fromServerFormat(t.fieldPath)}function qN(t){return t instanceof ln?(function(n){if(n.op==="=="){if(G2(n.value))return{unaryFilter:{field:hi(n.field),op:"IS_NAN"}};if(H2(n.value))return{unaryFilter:{field:hi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G2(n.value))return{unaryFilter:{field:hi(n.field),op:"IS_NOT_NAN"}};if(H2(n.value))return{unaryFilter:{field:hi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hi(n.field),op:f5(n.op),value:n.value}}})(t):t instanceof ms?(function(n){const s=n.getFilters().map((i=>qN(i)));return s.length===1?s[0]:{compositeFilter:{op:m5(n.op),filters:s}}})(t):Ye(54877,{filter:t})}function p5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,s,i,c=et.min(),d=et.min(),f=Pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.yt=e}}function y5(t){const e=u5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.Cn=new x5}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Ei.min())}updateCollectionGroup(e,n,s){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class x5{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new pn(kt.comparator),c=!i.has(s);return this.index[n]=i.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new pn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GN=41943040;class dr{static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(GN,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",b5=1048576;function l_([t,e],[n,s]){const i=ut(t,n);return i===0?ut(e,s):i}class _5{constructor(e){this.Ir=e,this.buffer=new pn(l_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();l_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(i_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?De(i_,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Vr(3e5)}))}}class E5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(Ff.ce);const s=new _5(n);return this.mr.forEachTarget(e,(i=>s.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>s.Ar(i))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(a_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,c,d,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,d=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),wo()<=ct.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${i} in `+(f-d)+`ms
	Removed ${c} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:b}))))}}function N5(t,e){return new E5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.changes=new Rl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ye.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&_u(s.mutation,i,ds.empty(),zt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,dt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=dt()){const i=dl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((c=>{let d=hu();return c.forEach(((f,p)=>{d=d.insert(f,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=dl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,dt())))}populateOverlays(e,n,s){const i=[];return s.forEach((c=>{n.has(c)||i.push(c)})),this.documentOverlayCache.getOverlays(e,i).next((c=>{c.forEach(((d,f)=>{n.set(d,f)}))}))}computeViews(e,n,s,i){let c=Sa();const d=bu(),f=(function(){return bu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof Cl)?c=c.insert(g.key,g):v!==void 0?(d.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),zt.now())):d.set(g.key,ds.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,v)=>d.set(g,v))),n.forEach(((g,v)=>f.set(g,new S5(v,d.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=bu();let i=new Gt(((d,f)=>d-f)),c=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const f of d)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||ds.empty();v=f.applyToLocalView(g,v),s.set(p,v);const b=(i.get(f.batchId)||dt()).add(p);i=i.insert(f.batchId,b)}))})).next((()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=TN();v.forEach((_=>{if(!c.has(_)){const R=IN(n.get(_),s.get(_));R!==null&&b.set(_,R),c=c.add(_)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ye.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(d){return Be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-c.size):ye.resolve(dl());let f=Du,p=c;return d.next((g=>ye.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{p=p.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,dt()))).next((v=>({batchId:f,changes:NN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((s=>{let i=hu();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const c=n.collectionGroup;let d=hu();return this.indexManager.getCollectionParents(e,c).next((f=>ye.forEach(f,(p=>{const g=(function(b,_){return new Go(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,i).next((v=>{v.forEach(((b,_)=>{d=d.insert(b,_)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,i)))).next((d=>{c.forEach(((p,g)=>{const v=g.getKey();d.get(v)===null&&(d=d.insert(v,Fn.newInvalidDocument(v)))}));let f=hu();return d.forEach(((p,g)=>{const v=c.get(p);v!==void 0&&_u(v.mutation,g,ds.empty(),zt.now()),Gf(n,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fs(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:y5(i.bundledQuery),readTime:Fs(i.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.overlays=new Gt(Be.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const s=dl();return ye.forEach(n,(i=>this.getOverlay(e,i).next((c=>{c!==null&&s.set(i,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,c)=>{this.St(e,n,c)})),ye.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ye.resolve()}getOverlaysForCollection(e,n,s){const i=dl(),c=n.length+1,d=new Be(n.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&i.set(p.getKey(),p)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let c=new Gt(((g,v)=>g-v));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=c.get(g.largestBatchId);v===null&&(v=dl(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=dl(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=i)););return ye.resolve(f)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const d=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new $D(n,s));let c=this.qr.get(n);c===void 0&&(c=dt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Qr=new pn(Sn.$r),this.Ur=new pn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Sn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Be(new kt([])),s=new Sn(n,e),i=new Sn(n,e+1),c=[];return this.Ur.forEachInRange([s,i],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new kt([])),s=new Sn(n,e),i=new Sn(n,e+1);let c=dt();return this.Ur.forEachInRange([s,i],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(Sn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GD(c,n,s,i);this.mutationQueue.push(d);for(const f of i)this.Zr=this.Zr.add(new Sn(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(d)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),c=i<0?0:i;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?rv:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,i],(d=>{const f=this.Xr(d.Yr);c.push(f)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pn(ut);return n.forEach((i=>{const c=new Sn(i,0),d=new Sn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(f=>{s=s.add(f.Yr)}))})),ye.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let c=s;Be.isDocumentKey(c)||(c=c.child(""));const d=new Sn(new Be(c),0);let f=new pn(ut);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===i&&(f=f.add(p.Yr)),!0)}),d),ye.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const i=this.Xr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ye.forEach(n.mutations,(i=>{const c=new Sn(i.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Sn(n,0),i=this.Zr.firstAfterOrEqual(s);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.ri=e,this.docs=(function(){return new Gt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),c=i?i.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ye.resolve(s?s.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let s=Sa();return n.forEach((i=>{const c=this.docs.get(i);s=s.insert(i,c?c.document.mutableCopy():Fn.newInvalidDocument(i))})),ye.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let c=Sa();const d=n.path,f=new Be(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||sD(rD(v),s)<=0||(i.has(v.key)||Gf(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,n,s,i){Ye(9500)}ii(e,n){return ye.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new O5(this)}getSize(e){return ye.resolve(this.size)}}class O5 extends T5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.persistence=e,this.si=new Rl((n=>iv(n)),lv),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new fv,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,s){let i=0;const c=[];return this.si.forEach(((d,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),ye.waitFor(c).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ye.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ye.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,c=[];return i&&n.forEach((d=>{c.push(i.markPotentiallyOrphaned(e,d))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ye.resolve(s)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new C5,this.referenceDelegate=e(this),this.Pi=new M5(this),this.indexManager=new v5,this.remoteDocumentCache=(function(i){return new D5(i)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new g5(n),this.Ii=new j5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new I5(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const i=new P5(this.ci.next());return this.referenceDelegate.Ei(),s(i).next((c=>this.referenceDelegate.di(i).next((()=>c)))).toPromise().then((c=>(i.raiseOnCommittedEvent(),c)))}Ai(e,n){return ye.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class P5 extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Ri=new fv,this.Vi=null}static mi(e){return new mv(e)}get fi(){if(this.Vi)return this.Vi;throw Ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ye.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(s=>{const i=Be.fromPath(s);return this.gi(e,i).next((c=>{c||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pf{constructor(e,n){this.persistence=e,this.pi=new Rl((s=>cD(s.path)),((s,i)=>s.isEqual(i))),this.garbageCollector=N5(this,n)}static mi(e,n){return new pf(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((i=>s+i))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((s,i)=>this.br(e,s,i).next((c=>c?ye.resolve():n(i)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),c=i.newChangeBuffer();return i.ii(e,(d=>this.br(e,d,n).next((f=>{f||(s++,c.removeEntry(d,et.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}br(e,n,s){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ye.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=dt(),i=dt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new pv(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return c3()?8:lD(Bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,i,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new L5;return this.Ss(e,n,d).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,d,f.size)}))})).next((()=>c.result))}bs(e,n,s,i){return s.documentReadCount<this.fs?(wo()<=ct.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(wo()<=ct.DEBUG&&De("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(wo()<=ct.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):ye.resolve())}ys(e,n){if(Y2(n))return ye.resolve(null);let s=zs(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=hy(n,null,"F"),s=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=dt(...c);return this.ps.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,f);return this.Cs(n,g,d,p.readTime)?this.ys(e,hy(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,i){return Y2(n)||i.isEqual(et.min())?ye.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,i)?ye.resolve(null):(wo()<=ct.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eo(n)),this.vs(e,d,n,nD(i,Du)).next((f=>f)))}))}Ds(e,n){let s=new pn(wN(e));return n.forEach(((i,c)=>{Gf(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ss(e,n,s){return wo()<=ct.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ei.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LocalStore",V5=3e8;class U5{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Gt(ut),this.xs=new Rl((c=>iv(c)),lv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function z5(t,e,n,s){return new U5(t,e,n,s)}async function KN(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((c=>(i=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],f=[];let p=dt();for(const g of i){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:f})))}))}))}function F5(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const b=g.batch,_=b.keys();let R=ye.resolve();return _.forEach((M=>{R=R.next((()=>v.getEntry(p,M))).next((D=>{const L=g.docVersions.get(M);Et(L!==null,48541),D.version.compareTo(L)<0&&(b.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=dt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function QN(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function B5(t,e){const n=Ze(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const _=i.get(b);if(!_)return;f.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,b))));let R=_.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(Pn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),i=i.insert(b,R),(function(D,L,Y){return D.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=V5?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(_,R,v)&&f.push(n.Pi.updateTargetData(c,R))}));let p=Sa(),g=dt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),f.push(q5(c,d,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(et.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(v)}return ye.waitFor(f).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=i,c)))}function q5(t,e,n){let s=dt(),i=dt();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let d=Sa();return n.forEach(((f,p)=>{const g=c.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(f)),p.isNoDocument()&&p.version.isEqual(et.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):De(gv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:d,qs:i}}))}function H5(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=rv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function G5(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Pi.getTargetData(s,e).next((c=>c?(i=c,ye.resolve(i)):n.Pi.allocateTargetId(s).next((d=>(i=new mi(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function yy(t,e,n){const s=Ze(t),i=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ho(d))throw d;De(gv,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function o_(t,e,n){const s=Ze(t);let i=et.min(),c=dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,g,v){const b=Ze(p),_=b.xs.get(v);return _!==void 0?ye.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,v)})(s,d,zs(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,f.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?i:et.min(),n?c:dt()))).next((f=>($5(s,RD(e),f),{documents:f,Qs:c})))))}function $5(t,e,n){let s=t.Os.get(e)||et.min();n.forEach(((i,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class c_{constructor(){this.activeTargetIds=PD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K5{constructor(){this.Mo=new c_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class d_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(u_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function vy(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",Y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===uf?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,c){const d=vy(),f=this.zo(e,n.toUriEncodedString());De(Ag,`Sending RPC '${e}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,c);const{host:g}=new URL(f),v=Sl(g);return this.Jo(e,f,p,s,v).then((b=>(De(Ag,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Mo(Ag,`RPC '${e}' ${d} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,i,c,d){return this.Go(e,n,s,i,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,c)=>e[c]=i)),s&&s.headers.forEach(((i,c)=>e[c]=i))}zo(e,n){const s=Y5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class Z5 extends W5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,c){const d=vy();return new Promise(((f,p)=>{const g=new QE;g.setWithCredentials(!0),g.listenOnce(YE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qh.NO_ERROR:const b=g.getResponseJson();De(Un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),f(b);break;case qh.TIMEOUT:De(Un,`RPC '${e}' ${d} timed out`),p(new Re(me.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const _=g.getStatus();if(De(Un,`RPC '${e}' ${d} failed with status:`,_,"response text:",g.getResponseText()),_>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const D=(function(Y){const B=Y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(B)>=0?B:me.UNKNOWN})(M.status);p(new Re(D,M.message))}else p(new Re(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Re(me.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(Un,`RPC '${e}' ${d} completed.`)}}));const v=JSON.stringify(i);De(Un,`RPC '${e}' ${d} sending request:`,i),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const i=vy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ZE(),f=XE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=c.join("");De(Un,`Creating RPC '${e}' stream ${i}: ${v}`,p);const b=d.createWebChannel(v,p);this.I_(b);let _=!1,R=!1;const M=new X5({Yo:L=>{R?De(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(De(Un,`Opening RPC '${e}' stream ${i} transport.`),b.open(),_=!0),De(Un,`RPC '${e}' stream ${i} sending:`,L),b.send(L))},Zo:()=>b.close()}),D=(L,Y,B)=>{L.listen(Y,(q=>{try{B(q)}catch(G){setTimeout((()=>{throw G}),0)}}))};return D(b,du.EventType.OPEN,(()=>{R||(De(Un,`RPC '${e}' stream ${i} transport opened.`),M.o_())})),D(b,du.EventType.CLOSE,(()=>{R||(R=!0,De(Un,`RPC '${e}' stream ${i} transport closed`),M.a_(),this.E_(b))})),D(b,du.EventType.ERROR,(L=>{R||(R=!0,Mo(Un,`RPC '${e}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),M.a_(new Re(me.UNAVAILABLE,"The operation could not be completed")))})),D(b,du.EventType.MESSAGE,(L=>{if(!R){const Y=L.data[0];Et(!!Y,16349);const B=Y,q=B?.error||B[0]?.error;if(q){De(Un,`RPC '${e}' stream ${i} received error:`,q);const G=q.status;let z=(function(N){const T=sn[N];if(T!==void 0)return MN(T)})(G),O=q.message;z===void 0&&(z=me.INTERNAL,O="Unknown error status: "+G+" with message "+q.message),R=!0,M.a_(new Re(z,O)),b.close()}else De(Un,`RPC '${e}' stream ${i} received:`,Y),M.u_(Y)}})),D(f,WE.STAT_EVENT,(L=>{L.stat===ay.PROXY?De(Un,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===ay.NOPROXY&&De(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return new n5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,s=1e3,i=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="PersistentStream";class WN{constructor(e,n,s,i,c,d,f,p){this.Mi=e,this.S_=s,this.b_=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Ta(n.toString()),Ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.D_===n&&this.G_(s,i)}),(s=>{e((()=>{const i=new Re(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{s((()=>this.z_(i)))})),this.stream.onMessage((i=>{s((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J5 extends WN{constructor(e,n,s,i,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a5(this.serializer,e),s=(function(c){if(!("targetChange"in c))return et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?et.min():d.readTime?Fs(d.readTime):et.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=(function(c,d){let f;const p=d.target;if(f=uy(p)?{documents:o5(c,p)}:{query:FN(c,p).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=kN(c,d.resumeToken);const g=fy(c,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(et.min())>0){f.readTime=mf(c,d.snapshotVersion.toTimestamp());const g=fy(c,d.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=d5(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class e8 extends WN{constructor(e,n,s,i,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l5(e.writeResults,e.commitTime),s=Fs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>i5(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{}class n8 extends t8{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,my(n,s),i,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(me.UNKNOWN,c.toString())}))}Ho(e,n,s,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.Ho(e,my(n,s),i,d,f,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Re(me.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ta(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class s8{constructor(e,n,s,i,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Il(this)&&(De(xl,"Restarting streams for network reachability change."),await(async function(p){const g=Ze(p);g.Ea.add(4),await Zu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Wf(g)})(this))}))})),this.Ra=new r8(s,i)}}async function Wf(t){if(Il(t))for(const e of t.da)await e(!0)}async function Zu(t){for(const e of t.da)await e(!1)}function XN(t,e){const n=Ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bv(n)?xv(n):$o(n).O_()&&vv(n,e))}function yv(t,e){const n=Ze(t),s=$o(n);n.Ia.delete(e),s.O_()&&ZN(n,e),n.Ia.size===0&&(s.O_()?s.L_():Il(n)&&n.Ra.set("Unknown"))}function vv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).Y_(e)}function ZN(t,e){t.Va.Ue(e),$o(t).Z_(e)}function xv(t){t.Va=new ZD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.Ra.ua()}function bv(t){return Il(t)&&!$o(t).x_()&&t.Ia.size>0}function Il(t){return Ze(t).Ea.size===0}function JN(t){t.Va=void 0}async function a8(t){t.Ra.set("Online")}async function i8(t){t.Ia.forEach(((e,n)=>{vv(t,e)}))}async function l8(t,e){JN(t),bv(t)?(t.Ra.ha(e),xv(t)):t.Ra.set("Unknown")}async function o8(t,e,n){if(t.Ra.set("Online"),e instanceof LN&&e.state===2&&e.cause)try{await(async function(i,c){const d=c.cause;for(const f of c.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,d),i.Ia.delete(f),i.Va.removeTarget(f))})(t,e)}catch(s){De(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gf(t,s)}else if(e instanceof Kh?t.Va.Ze(e):e instanceof PN?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const s=await QN(t.localStore);n.compareTo(s)>=0&&await(function(c,d){const f=c.Va.Tt(d);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(p.resumeToken,d))}})),f.targetMismatches.forEach(((p,g)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(Pn.EMPTY_BYTE_STRING,v.snapshotVersion)),ZN(c,p);const b=new mi(v.target,p,g,v.sequenceNumber);vv(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){De(xl,"Failed to raise snapshot:",s),await gf(t,s)}}async function gf(t,e,n){if(!Ho(e))throw e;t.Ea.add(1),await Zu(t),t.Ra.set("Offline"),n||(n=()=>QN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(xl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wf(t)}))}function e4(t,e){return e().catch((n=>gf(t,n,e)))}async function Xf(t){const e=Ze(t),n=Ai(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rv;for(;c8(e);)try{const i=await H5(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,u8(e,i)}catch(i){await gf(e,i)}t4(e)&&n4(e)}function c8(t){return Il(t)&&t.Ta.length<10}function u8(t,e){t.Ta.push(e);const n=Ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t4(t){return Il(t)&&!Ai(t).x_()&&t.Ta.length>0}function n4(t){Ai(t).start()}async function d8(t){Ai(t).ra()}async function h8(t){const e=Ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function f8(t,e,n){const s=t.Ta.shift(),i=uv.from(s,e,n);await e4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Xf(t)}async function m8(t,e){e&&Ai(t).X_&&await(async function(s,i){if((function(d){return YD(d)&&d!==me.ABORTED})(i.code)){const c=s.Ta.shift();Ai(s).B_(),await e4(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,i))),await Xf(s)}})(t,e),t4(t)&&n4(t)}async function f_(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),De(xl,"RemoteStore received new credentials");const s=Il(n);n.Ea.add(3),await Zu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wf(n)}async function p8(t,e){const n=Ze(t);e?(n.Ea.delete(2),await Wf(n)):e||(n.Ea.add(2),await Zu(n),n.Ra.set("Unknown"))}function $o(t){return t.ma||(t.ma=(function(n,s,i){const c=Ze(n);return c.sa(),new J5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(t.datastore,t.asyncQueue,{Xo:a8.bind(null,t),t_:i8.bind(null,t),r_:l8.bind(null,t),H_:o8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bv(t)?xv(t):t.Ra.set("Unknown")):(await t.ma.stop(),JN(t))}))),t.ma}function Ai(t){return t.fa||(t.fa=(function(n,s,i){const c=Ze(n);return c.sa(),new e8(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:d8.bind(null,t),r_:m8.bind(null,t),ta:h8.bind(null,t),na:f8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(De(xl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,s,i,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=c,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,c){const d=Date.now()+s,f=new _v(e,n,d,i,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Ta("AsyncQueue",`${e}: ${t}`),Ho(t))return new Re(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Be.comparator(n.key,s.key):(n,s)=>Be.comparator(n.key,s.key),this.keyedMap=hu(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,c=s.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.ga=new Gt(Be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,i,c,d,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,i,c){const d=[];return n.forEach((f=>{d.push({type:0,doc:f})})),new Uo(e,n,Io.emptySet(n),d,s,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y8{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Ze(n),c=i.queries;i.queries=p_(),c.forEach(((d,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new Re(me.ABORTED,"Firestore shutting down"))}}function p_(){return new Rl((t=>_N(t)),Hf)}async function r4(t,e){const n=Ze(t);let s=3;const i=e.query;let c=n.queries.get(i);c?!c.ba()&&e.Da()&&(s=2):(c=new g8,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(i,!0);break;case 1:c.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(d){const f=wv(d,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}n.queries.set(i,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ev(n)}async function s4(t,e){const n=Ze(t),s=e.query;let i=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?i=e.Da()?0:1:!c.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function v8(t,e){const n=Ze(t);let s=!1;for(const i of e){const c=i.query,d=n.queries.get(c);if(d){for(const f of d.Sa)f.Fa(i)&&(s=!0);d.wa=i}}s&&Ev(n)}function x8(t,e,n){const s=Ze(t),i=s.queries.get(e);if(i)for(const c of i.Sa)c.onError(n);s.queries.delete(e)}function Ev(t){t.Ca.forEach((e=>{e.next()}))}var xy,g_;(g_=xy||(xy={})).Ma="default",g_.Cache="cache";class a4{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.key=e}}class l4{constructor(e){this.key=e}}class b8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=wN(e),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new m_,i=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=i,f=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,b)=>{const _=i.get(v),R=Gf(this.query,b)?b:null,M=!!_&&this.mutatedKeys.has(_.key),D=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;_&&R?_.data.isEqual(R.data)?M!==D&&(s.track({type:3,doc:R}),L=!0):this.su(_,R)||(s.track({type:2,doc:R}),L=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(f=!0)):!_&&R?(s.track({type:0,doc:R}),L=!0):_&&!R&&(s.track({type:1,doc:_}),L=!0,(p||g)&&(f=!0)),L&&(R?(d=d.add(R),c=D?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),s.track({type:1,doc:v})}return{tu:d,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((v,b)=>(function(R,M){const D=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Rt:L})}};return D(R)-D(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),i=i??!1;const f=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,d.length!==0||g?{snapshot:new Uo(this.query,e.tu,c,d,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new l4(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new i4(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nv="SyncEngine";class _8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class w8{constructor(e){this.key=e,this.hu=!1}}class E8{constructor(e,n,s,i,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Rl((f=>_N(f)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new Gt(Be.comparator),this.Au=new Map,this.Ru=new fv,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N8(t,e,n=!0){const s=f4(t);let i;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.lu()):i=await o4(s,e,n,!0),i}async function T8(t,e){const n=f4(t);await o4(n,e,!0,!1)}async function o4(t,e,n,s){const i=await G5(t.localStore,zs(e)),c=i.targetId,d=t.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await S8(t,e,c,d==="current",i.resumeToken)),t.isPrimaryClient&&n&&XN(t.remoteStore,i),f}async function S8(t,e,n,s,i){t.pu=(b,_,R)=>(async function(D,L,Y,B){let q=L.view.ru(Y);q.Cs&&(q=await o_(D.localStore,L.query,!1).then((({documents:P})=>L.view.ru(P,q))));const G=B&&B.targetChanges.get(L.targetId),z=B&&B.targetMismatches.get(L.targetId)!=null,O=L.view.applyChanges(q,D.isPrimaryClient,G,z);return v_(D,L.targetId,O.au),O.snapshot})(t,b,_,R);const c=await o_(t.localStore,e,!0),d=new b8(e,c.Qs),f=d.ru(c.documents),p=Xu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),g=d.applyChanges(f,t.isPrimaryClient,p);v_(t,n,g.au);const v=new _8(e,n,d);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function A8(t,e,n){const s=Ze(t),i=s.Tu.get(e),c=s.Iu.get(i.targetId);if(c.length>1)return s.Iu.set(i.targetId,c.filter((d=>!Hf(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await yy(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&yv(s.remoteStore,i.targetId),by(s,i.targetId)})).catch(qo)):(by(s,i.targetId),await yy(s.localStore,i.targetId,!0))}async function j8(t,e){const n=Ze(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),yv(n.remoteStore,s.targetId))}async function R8(t,e,n){const s=L8(t);try{const i=await(function(d,f){const p=Ze(d),g=zt.now(),v=f.reduce(((R,M)=>R.add(M.key)),dt());let b,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Sa(),D=dt();return p.Ns.getEntries(R,v).next((L=>{M=L,M.forEach(((Y,B)=>{B.isValidDocument()||(D=D.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,M))).next((L=>{b=L;const Y=[];for(const B of f){const q=qD(B,b.get(B.key).overlayedDocument);q!=null&&Y.push(new Cl(B.key,q,hN(q.value.mapValue),_a.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,f)})).next((L=>{_=L;const Y=L.applyToLocalDocumentSet(b,D);return p.documentOverlayCache.saveOverlays(R,L.batchId,Y)}))})).then((()=>({batchId:_.batchId,changes:NN(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(d,f,p){let g=d.Vu[d.currentUser.toKey()];g||(g=new Gt(ut)),g=g.insert(f,p),d.Vu[d.currentUser.toKey()]=g})(s,i.batchId,n),await Ju(s,i.changes),await Xf(s.remoteStore)}catch(i){const c=wv(i,"Failed to persist write");n.reject(c)}}async function c4(t,e){const n=Ze(t);try{const s=await B5(n.localStore,e);e.targetChanges.forEach(((i,c)=>{const d=n.Au.get(c);d&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.hu=!0:i.modifiedDocuments.size>0?Et(d.hu,14607):i.removedDocuments.size>0&&(Et(d.hu,42227),d.hu=!1))})),await Ju(n,s,e)}catch(s){await qo(s)}}function y_(t,e,n){const s=Ze(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach(((c,d)=>{const f=d.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(d,f){const p=Ze(d);p.onlineState=f;let g=!1;p.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(f)&&(g=!0)})),g&&Ev(p)})(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C8(t,e,n){const s=Ze(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),c=i&&i.key;if(c){let d=new Gt(Be.comparator);d=d.insert(c,Fn.newNoDocument(c,et.min()));const f=dt().add(c),p=new Qf(et.min(),new Map,new Gt(ut),d,f);await c4(s,p),s.du=s.du.remove(c),s.Au.delete(e),Tv(s)}else await yy(s.localStore,e,!1).then((()=>by(s,e,n))).catch(qo)}async function I8(t,e){const n=Ze(t),s=e.batch.batchId;try{const i=await F5(n.localStore,e);d4(n,s,null),u4(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ju(n,i)}catch(i){await qo(i)}}async function D8(t,e,n){const s=Ze(t);try{const i=await(function(d,f){const p=Ze(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((b=>(Et(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);d4(s,e,n),u4(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ju(s,i)}catch(i){await qo(i)}}function u4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function d4(t,e,n){const s=Ze(t);let i=s.Vu[s.currentUser.toKey()];if(i){const c=i.get(e);c&&(n?c.reject(n):c.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function by(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||h4(t,s)}))}function h4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tv(t))}function v_(t,e,n){for(const s of n)s instanceof i4?(t.Ru.addReference(s.key,e),O8(t,s)):s instanceof l4?(De(Nv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||h4(t,s.key)):Ye(19791,{wu:s})}function O8(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(De(Nv,"New document in limbo: "+n),t.Eu.add(s),Tv(t))}function Tv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(kt.fromString(e)),s=t.fu.next();t.Au.set(s,new w8(n)),t.du=t.du.insert(n,s),XN(t.remoteStore,new mi(zs(ov(n.path)),s,"TargetPurposeLimboResolution",Ff.ce))}}async function Ju(t,e,n){const s=Ze(t),i=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{d.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){i.push(g);const v=pv.As(p.targetId,g);c.push(v)}})))})),await Promise.all(d),s.Pu.H_(i),await(async function(p,g){const v=Ze(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ye.forEach(g,(_=>ye.forEach(_.Es,(R=>v.persistence.referenceDelegate.addReference(b,_.targetId,R))).next((()=>ye.forEach(_.ds,(R=>v.persistence.referenceDelegate.removeReference(b,_.targetId,R)))))))))}catch(b){if(!Ho(b))throw b;De(gv,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const R=v.Ms.get(_),M=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(_,D)}}})(s.localStore,c))}async function M8(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){De(Nv,"User change. New user:",e.toKey());const s=await KN(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((f=>{f.forEach((p=>{p.reject(new Re(me.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ju(n,s.Ls)}}function P8(t,e){const n=Ze(t),s=n.Au.get(e);if(s&&s.hu)return dt().add(s.key);{let i=dt();const c=n.Iu.get(e);if(!c)return i;for(const d of c){const f=n.Tu.get(d);i=i.unionWith(f.view.nu)}return i}}function f4(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C8.bind(null,e),e.Pu.H_=v8.bind(null,e.eventManager),e.Pu.yu=x8.bind(null,e.eventManager),e}function L8(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z5(this.persistence,new k5,e.initialUser,this.serializer)}Cu(e){return new $N(mv.mi,this.serializer)}Du(e){return new K5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class k8 extends yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof pf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new w5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new $N((s=>pf.mi(s,n)),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>y_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),await p8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y8})()}createDatastore(e){const n=Yf(e.databaseInfo.databaseId),s=(function(c){return new Z5(c)})(e.databaseInfo);return(function(c,d,f,p){return new n8(c,d,f,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,c,d,f){return new s8(s,i,c,d,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>y_(this.syncEngine,n,0)),(function(){return d_.v()?new d_:new Q5})())}createSyncEngine(e,n){return(function(i,c,d,f,p,g,v){const b=new E8(i,c,d,f,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ze(n);De(xl,"RemoteStore shutting down."),s.Ea.add(5),await Zu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class V8{constructor(e,n,s,i,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{De(ji,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(De(ji,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),De(ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await KN(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function x_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U8(t);De(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>f_(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>f_(e.remoteStore,i))),t._onlineComponents=e}async function U8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(ji,"Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new yf)}}else De(ji,"Using default OfflineComponentProvider"),await Rg(t,new k8(void 0));return t._offlineComponents}async function Sv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(ji,"Using user provided OnlineComponentProvider"),await x_(t,t._uninitializedComponentsProvider._online)):(De(ji,"Using default OnlineComponentProvider"),await x_(t,new _y))),t._onlineComponents}function z8(t){return Sv(t).then((e=>e.syncEngine))}function F8(t){return Sv(t).then((e=>e.datastore))}async function p4(t){const e=await Sv(t),n=e.eventManager;return n.onListen=N8.bind(null,e.syncEngine),n.onUnlisten=A8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j8.bind(null,e.syncEngine),n}function B8(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(c,d,f,p,g){const v=new m4({next:_=>{v.Nu(),d.enqueueAndForget((()=>s4(c,b)));const R=_.docs.has(f);!R&&_.fromCache?g.reject(new Re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&_.fromCache&&p&&p.source==="server"?g.reject(new Re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new a4(ov(f.path),v,{includeMetadataChanges:!0,qa:!0});return r4(c,b)})(await p4(t),t.asyncQueue,e,n,s))),s.promise}function q8(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(c,d,f,p,g){const v=new m4({next:_=>{v.Nu(),d.enqueueAndForget((()=>s4(c,b))),_.fromCache&&p.source==="server"?g.reject(new Re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new a4(f,v,{includeMetadataChanges:!0,qa:!0});return r4(c,b)})(await p4(t),t.asyncQueue,e,n,s))),s.promise}function H8(t,e,n){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await F8(t);s.resolve((async function(d,f,p){const g=Ze(d),{request:v,gt:b,parent:_}=c5(g.serializer,jD(f),p);g.connection.$o||delete v.parent;const R=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,_,v,1)).filter((D=>!!D.result));Et(R.length===1,64727);const M=R[0].result?.aggregateFields;return Object.keys(M).reduce(((D,L)=>(D[b[L]]=M[L],D)),{})})(i,e,n))}catch(i){s.reject(i)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firestore.googleapis.com",__=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y4,this.ssl=__}else this.host=e.host,this.ssl=e.ssl??__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b5)throw new Re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g4(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=b_.get(n);s&&(De("ComponentProvider","Removing Datastore"),b_.delete(n),s.terminate())})(this),Promise.resolve()}}function G8(t,e,n,s={}){t=wi(t,Zf);const i=Sl(e),c=t._getSettings(),d={...c,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;i&&(zy(`https://${f}`),Fy("Firestore",!0)),c.host!==y4&&c.host!==f&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:f,ssl:i,emulatorOptions:s};if(!ml(p,d)&&(t._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=zn.MOCK_USER;else{g=oE(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zn(b)}t._authCredentials=new $I(new eN(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Yu(n,cn._jsonSchema))return new cn(e,s||null,new Be(kt.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:on("string",cn._jsonSchemaVersion),referencePath:on("string")};class vi extends Dl{constructor(e,n,s){super(e,n,ov(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Be(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Av(t,e,...n){if(t=qn(t),tN("collection","path",e),t instanceof Zf){const s=kt.fromString(e,...n);return P2(s),new vi(t,null,s)}{if(!(t instanceof cn||t instanceof vi))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(kt.fromString(e,...n));return P2(s),new vi(t.firestore,null,s)}}function Cg(t,e,...n){if(t=qn(t),arguments.length===1&&(e=nv.newId()),tN("doc","path",e),t instanceof Zf){const s=kt.fromString(e,...n);return M2(s),new cn(t,null,new Be(s))}{if(!(t instanceof cn||t instanceof vi))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(kt.fromString(e,...n));return M2(s),new cn(t.firestore,t instanceof vi?t.converter:null,new Be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YN(this,"async_queue_retry"),this._c=()=>{const s=jg();s&&De(E_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;De(E_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ta("INTERNAL UNHANDLED ERROR: ",T_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_v.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(i),i}uc(){this.nc&&Ye(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ed extends Zf{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new N_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function $8(t,e){const n=typeof t=="object"?t:Hy(),s=typeof t=="string"?t:uf,i=Lf(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const c=aE("firestore");c&&G8(i,...c)}return i}function Jf(t){if(t._terminated)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K8(t),t._firestoreClient}function K8(t){const e=t._freezeSettings(),n=(function(i,c,d,f){return new fD(i,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,g4(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const c=i?._online.build();return{_offline:i?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Y8{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(Pn.fromBase64String(e))}catch(n){throw new Re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yu(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:on("string",Gr._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Yu(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:on("string",Bs._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==i[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yu(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new Re(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:on("string",qs._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=/^__.*__$/;class X8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}function v4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{Ac:t})}}class Cv{constructor(e,n,s,i,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v4(this.Ac)&&W8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yf(e)}Cc(e,n,s,i=!1){return new Cv({Ac:e,methodName:n,Dc:s,path:Mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x4(t){const e=t._freezeSettings(),n=Yf(t._databaseId);return new Z8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J8(t,e,n,s,i,c={}){const d=t.Cc(c.merge||c.mergeFields?2:0,e,n,i);w4("Data must be an object, but it was:",d,s);const f=b4(s,d);let p,g;if(c.merge)p=new ds(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const b of c.mergeFields){const _=t9(e,b,n);if(!d.contains(_))throw new Re(me.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);r9(v,_)||v.push(_)}p=new ds(v),g=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=d.fieldTransforms;return new X8(new Hr(f),p,g)}class Iv extends Rv{_toFieldTransform(e){return new UD(e.path,new ku)}isEqual(e){return e instanceof Iv}}function e9(t,e,n,s=!1){return Dv(n,t.Cc(s?4:3,e))}function Dv(t,e){if(_4(t=qn(t)))return w4("Unsupported field value:",e,t),b4(t,e);if(t instanceof Rv)return(function(s,i){if(!v4(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(i);c&&i.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,i){const c=[];let d=0;for(const f of s){let p=Dv(f,i.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(t,e)}return(function(s,i){if((s=qn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LD(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=zt.fromDate(s);return{timestampValue:mf(i.serializer,c)}}if(s instanceof zt){const c=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mf(i.serializer,c)}}if(s instanceof Bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gr)return{bytesValue:kN(i.serializer,s._byteString)};if(s instanceof cn){const c=i.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw i.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hv(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof qs)return(function(d,f){return{mapValue:{fields:{[uN]:{stringValue:dN},[df]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return cv(f.serializer,g)}))}}}}}})(s,i);throw i.Sc(`Unsupported field value: ${zf(s)}`)})(t,e)}function b4(t,e){const n={};return sN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jl(t,((s,i)=>{const c=Dv(i,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function _4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Bs||t instanceof Gr||t instanceof cn||t instanceof Rv||t instanceof qs)}function w4(t,e,n){if(!_4(n)||!nN(n)){const s=zf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function t9(t,e,n){if((e=qn(e))instanceof jv)return e._internalPath;if(typeof e=="string")return E4(t,e);throw vf("Field path arguments must be of type string or ",t,!1,void 0,n)}const n9=new RegExp("[~\\*/\\[\\]]");function E4(t,e,n){if(e.search(n9)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jv(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vf(t,e,n,s,i){const c=s&&!s.isEmpty(),d=i!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${i}`),p+=")"),new Re(me.INVALID_ARGUMENT,f+t+p)}function r9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,s,i,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s9 extends N4{data(){return super.data()}}function Ov(t,e){return typeof e=="string"?E4(t,e):e instanceof jv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class T4 extends Mv{}function i9(t,e,...n){let s=[];e instanceof Mv&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((p=>p instanceof Lv)).length,f=c.filter((p=>p instanceof Pv)).length;if(d>1||d>0&&f>0)throw new Re(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)t=i._apply(t);return t}class Pv extends T4{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pv(e,n,s)}_apply(e){const n=this._parse(e);return S4(e._query,n),new Dl(e.firestore,e.converter,dy(e._query,n))}_parse(e){const n=x4(e.firestore);return(function(c,d,f,p,g,v,b){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){A_(b,v);const M=[];for(const D of b)M.push(S_(p,c,D));_={arrayValue:{values:M}}}else _=S_(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||A_(b,v),_=e9(f,d,b,v==="in"||v==="not-in");return ln.create(g,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lv extends Mv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,c){let d=i;const f=c.getFlattenedFilters();for(const p of f)S4(d,p),d=dy(d,p)})(e._query,n),new Dl(e.firestore,e.converter,dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends T4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kv(e,n)}_apply(e){const n=(function(i,c,d){if(i.startAt!==null)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(c,d)})(e._query,this._field,this._direction);return new Dl(e.firestore,e.converter,(function(i,c){const d=i.explicitOrderBy.concat([c]);return new Go(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function l9(t,e="asc"){const n=e,s=Ov("orderBy",t);return kv._create(s,n)}function S_(t,e,n){if(typeof(n=qn(n))=="string"){if(n==="")throw new Re(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xN(e)&&n.indexOf("/")!==-1)throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(kt.fromString(n));if(!Be.isDocumentKey(s))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q2(t,new Be(s))}if(n instanceof cn)return q2(t,n._key);throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function A_(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S4(t,e){const n=(function(i,c){for(const d of i)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o9{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return jl(e,((i,c)=>{s[i]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[df].arrayValue?.values?.map((s=>Xt(s.doubleValue)));return new qs(n)}convertGeoPoint(e){return new Bs(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=kt.fromString(e);Et(HN(s),9688,{name:e});const i=new Mu(s.get(1),s.get(3)),c=new Be(s.popFirst(5));return i.isEqual(n)||Ta(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function u9(){return new Q8("count")}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends N4{constructor(e,n,s,i,c,d){super(e,n,s,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:on("string",fl._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Qh extends fl{data(e={}){return super.data(e)}}class Do{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mu(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Qh(this._firestore,this._userDataWriter,s.key,s,new mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,c){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map((f=>{const p=new Qh(i._firestore,i._userDataWriter,f.doc.key,f.doc,new mu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const p=new Qh(i._firestore,i._userDataWriter,f.doc.key,f.doc,new mu(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),v=d.indexOf(f.doc.key)),{type:d9(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),i.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){t=wi(t,cn);const e=wi(t.firestore,ed);return B8(Jf(e),t._key).then((n=>m9(e,t,n)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:on("string",Do._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class Vv extends o9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function h9(t){t=wi(t,Dl);const e=wi(t.firestore,ed),n=Jf(e),s=new Vv(e);return a9(t._query),q8(n,t._query).then((i=>new Do(e,s,t,i)))}function Xc(t,e,n){t=wi(t,cn);const s=wi(t.firestore,ed),i=c9(t.converter,e,n);return f9(s,[J8(x4(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_a.none())])}function f9(t,e){return(function(s,i){const c=new Us;return s.asyncQueue.enqueueAndForget((async()=>R8(await z8(s),i,c))),c.promise})(Jf(t),e)}function m9(t,e,n){const s=n.docs.get(e._key),i=new Vv(t);return new fl(t,i,e._key,s,new mu(n.hasPendingWrites,n.fromCache),e.converter)}function A4(t){return p9(t,{count:u9()})}function p9(t,e){const n=wi(t.firestore,ed),s=Jf(n),i=dD(e,((c,d)=>new KD(d,c.aggregateType,c._internalFieldPath)));return H8(s,t._query,i).then((c=>(function(f,p,g){const v=new Vv(f);return new Y8(p,v,g)})(n,t,c)))}function ai(){return new Iv("serverTimestamp")}(function(e,n=!0){(function(i){Bo=i})(Al),pl(new _i("firestore",((s,{instanceIdentifier:i,options:c})=>{const d=s.getProvider("app").getImmediate(),f=new ed(new KI(s.getProvider("auth-internal")),new WI(d,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(g.options.projectId,v)})(d,i),d);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),ks(C2,I2,e),ks(C2,I2,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebasestorage.googleapis.com",g9="storageBucket",y9=120*1e3,v9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends $s{constructor(e,n,s=0){super(Ig(e),`Firebase Storage: ${n} (${Ig(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gs||(Gs={}));function Ig(t){return"storage/"+t}function x9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ks(Gs.UNKNOWN,t)}function b9(){return new Ks(Gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _9(){return new Ks(Gs.CANCELED,"User canceled the upload/download.")}function w9(t){return new Ks(Gs.INVALID_URL,"Invalid URL '"+t+"'.")}function E9(t){return new Ks(Gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R_(t){return new Ks(Gs.INVALID_ARGUMENT,t)}function R4(){return new Ks(Gs.APP_DELETED,"The Firebase app was deleted.")}function N9(t){return new Ks(Gs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=hs.makeFromUrl(e,n)}catch{return new hs(e,"")}if(s.path==="")return s;throw E9(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function c(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+i+d,"i"),p={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${v}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},D=n===j4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",Y=new RegExp(`^https?://${D}/${i}/${L}`,"i"),q=[{regex:f,indices:p,postModify:c},{regex:R,indices:M,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<q.length;G++){const z=q[G],O=z.regex.exec(e);if(O){const P=O[z.indices.bucket];let N=O[z.indices.path];N||(N=""),s=new hs(P,N),z.postModify(s);break}}if(s==null)throw w9(e);return s}}class T9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e,n){let s=1,i=null,c=null,d=!1,f=0;function p(){return f===2}let g=!1;function v(...L){g||(g=!0,e.apply(null,L))}function b(L){i=setTimeout(()=>{i=null,t(R,p())},L)}function _(){c&&clearTimeout(c)}function R(L,...Y){if(g){_();return}if(L){_(),v.call(null,L,...Y);return}if(p()||d){_(),v.call(null,L,...Y);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,b(q)}let M=!1;function D(L){M||(M=!0,_(),!g&&(i!==null?(L||(f=2),clearTimeout(i),b(0)):L||(f=1)))}return b(0),c=setTimeout(()=>{d=!0,D(!0)},n),D}function A9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){return t!==void 0}function C_(t,e,n,s){if(s<e)throw R_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw R_(`Invalid value for '${t}'. Expected ${n} or less.`)}function R9(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var xf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xf||(xf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||i||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,s,i,c,d,f,p,g,v,b,_=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,D)=>{this.resolve_=M,this.reject_=D,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new Ch(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===xf.NO_ERROR,p=c.getStatus();if(!f||C9(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===xf.ABORT;s(!1,new Ch(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Ch(g,c))})},n=(s,i)=>{const c=this.resolve_,d=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());j9(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=x9();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(i.canceled){const p=this.appDelete_?R4():_9();d(p)}else{const p=b9();d(p)}};this.canceled_?n(!1,new Ch(!1,null,!0)):this.backoffId_=S9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function D9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function O9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function M9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L9(t,e,n,s,i,c,d=!0,f=!1){const p=R9(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return M9(v,e),D9(v,n),O9(v,c),P9(v,s),new I9(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this._service=e,n instanceof hs?this._location=n:this._location=hs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bf(e,n)}get root(){const e=new hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V9(this._location.path)}get storage(){return this._service}get parent(){const e=k9(this._location.path);if(e===null)return null;const n=new hs(this._location.bucket,e);return new bf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N9(e)}}function I_(t,e){const n=e?.[g9];return n==null?null:hs.makeFromBucketSpec(n,t)}function U9(t,e,n,s={}){t.host=`${e}:${n}`;const i=Sl(e);i&&(zy(`https://${t.host}/b`),Fy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:c}=s;c&&(t._overrideAuthToken=typeof c=="string"?c:oE(c,t.app.options.projectId))}class z9{constructor(e,n,s,i,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=j4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y9,this._maxUploadRetryTime=v9,this._requests=new Set,i!=null?this._bucket=hs.makeFromBucketSpec(i,this._host):this._bucket=I_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hs.makeFromBucketSpec(this._url,e):this._bucket=I_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bf(this,e)}_makeRequest(e,n,s,i,c=!0){if(this._deleted)return new T9(R4());{const d=L9(e,this._appId,s,i,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const D_="@firebase/storage",O_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="storage";function F9(t=Hy(),e){t=qn(t);const s=Lf(t,C4).getImmediate({identifier:e}),i=aE("storage");return i&&B9(s,...i),s}function B9(t,e,n,s={}){U9(t,e,n,s)}function q9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new z9(n,s,i,e,Al)}function H9(){pl(new _i(C4,q9,"PUBLIC").setMultipleInstances(!0)),ks(D_,O_,""),ks(D_,O_,"esm2020")}H9();const G9={apiKey:"AIzaSyDRGA6Fqr2OWUGsGkHrQ5F_et48Q-kkei8",authDomain:"charity-donation-platfor-2cb08.firebaseapp.com",projectId:"charity-donation-platfor-2cb08",storageBucket:"charity-donation-platfor-2cb08.firebasestorage.app",messagingSenderId:"195950106674",appId:"1:195950106674:web:31a00189454ca68920442b",measurementId:"G-0GC82GFVD0"},Uv=dE(G9),Zc=FI(Uv),Oo=$8(Uv);F9(Uv);const I4=F.createContext(),nr=()=>F.useContext(I4),D4=({children:t})=>{const[e,n]=F.useState(null),[s,i]=F.useState(!0),[c,d]=F.useState(null),f=new ya,p=async(q,G,z)=>{try{const O=await TC(Zc,q,G),P=O.user,N=z?.role||"donor";return await Xc(Cg(Oo,"users",P.uid),{uid:P.uid,email:P.email,displayName:P.displayName||z?.displayName||"",photoURL:P.photoURL||z?.photoURL||"",role:N,providerId:P.providerData?.[0]?.providerId||"password",createdAt:ai(),updatedAt:ai()},{merge:!0}),O}catch(O){throw O}},g=async(q,G)=>{try{const z=await SC(Zc,q,G),O=z.user,P=Cg(Oo,"users",O.uid);return(await j_(P)).exists()?await Xc(P,{updatedAt:ai()},{merge:!0}):await Xc(P,{uid:O.uid,email:O.email,displayName:O.displayName||"",photoURL:O.photoURL||"",role:R()||"donor",providerId:O.providerData?.[0]?.providerId||"password",createdAt:ai(),updatedAt:ai()}),z}catch(z){throw z}},v=async()=>{try{const q=await WC(Zc,f),G=q.user,z=Cg(Oo,"users",G.uid);return(await j_(z)).exists()?await Xc(z,{email:G.email,displayName:G.displayName||"",photoURL:G.photoURL||"",providerId:G.providerData?.[0]?.providerId||"google.com",updatedAt:ai()},{merge:!0}):await Xc(z,{uid:G.uid,email:G.email,displayName:G.displayName||"",photoURL:G.photoURL||"",role:R()||"donor",providerId:G.providerData?.[0]?.providerId||"google.com",createdAt:ai(),updatedAt:ai()}),q}catch(q){throw q}},b=async()=>{try{await CC(Zc),d(null)}catch(q){throw q}},_=q=>{d(q),localStorage.setItem("userRole",q)},R=()=>localStorage.getItem("userRole"),M=q=>c===q,D=()=>c==="admin",L=()=>c==="charity",Y=()=>c==="donor";F.useEffect(()=>RC(Zc,G=>{if(n(G),G){const z=R()||"donor";d(z)}else d(null),localStorage.removeItem("userRole");i(!1)}),[]);const B={currentUser:e,userRole:c,signup:p,login:g,loginWithGoogle:v,logout:b,setRole:_,hasRole:M,isAdmin:D,isCharity:L,isDonor:Y,loading:s};return l.jsx(I4.Provider,{value:B,children:!s&&t})};var O4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M_=Dt.createContext&&Dt.createContext(O4),$9=["attr","size","title"];function K9(t,e){if(t==null)return{};var n=Q9(t,e),s,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)s=c[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Q9(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_f.apply(this,arguments)}function P_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(n),!0).forEach(function(s){Y9(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Y9(t,e,n){return e=W9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W9(t){var e=X9(t,"string");return typeof e=="symbol"?e:e+""}function X9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M4(t){return t&&t.map((e,n)=>Dt.createElement(e.tag,wf({key:n},e.attr),M4(e.child)))}function Ke(t){return e=>Dt.createElement(Z9,_f({attr:wf({},t.attr)},e),M4(t.child))}function Z9(t){var e=n=>{var{attr:s,size:i,title:c}=t,d=K9(t,$9),f=i||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Dt.createElement("svg",_f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:p,style:wf(wf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&Dt.createElement("title",null,c),t.children)};return M_!==void 0?Dt.createElement(M_.Consumer,null,n=>e(n)):e(O4)}function J9(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function P4(t){return Ke({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function eO(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function tO(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function nO(t){return Ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function rO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function sO(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function L4(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Ri(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function bl(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function _l(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function Aa(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function aO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function wl(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function iO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function k4(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function V4(t){return Ke({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Ef(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function zu(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function wy(t){return Ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function ja(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function lO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function oO(t){return Ke({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function td(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"},child:[]}]})(t)}function Vt(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function cO(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function uO(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function dO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function em(t){return Ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function hO(t){return Ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function zv(t){return Ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function tm(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function El(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function fO(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Fv(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function mO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function Ey(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Ny(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function U4(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function xi(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function z4(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function Ty(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function pO(t){return Ke({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Sy(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function gO(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function Nf(t){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function yO(t){return Ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function wa(t){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function tr(t){return Ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function vO(t){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}const xO=()=>{const t=nr(),e=Tl(),{currentUser:n,userRole:s,logout:i}=t||{},c=async()=>{try{i&&(await i(),e("/"))}catch(p){console.error("Logout failed:",p)}},d=l.jsxs(l.Fragment,{children:[l.jsx("li",{children:l.jsx(je,{to:"/",className:"hover:text-primary",children:"Home"})}),l.jsx("li",{children:l.jsx(je,{to:"/campaigns",className:"hover:text-primary",children:"Campaigns"})}),l.jsx("li",{children:l.jsx(je,{to:"/charities",className:"hover:text-primary",children:"Charities"})}),l.jsx("li",{children:l.jsx(je,{to:"/about",className:"hover:text-primary",children:"About"})}),l.jsx("li",{children:l.jsx(je,{to:"/contact",className:"hover:text-primary",children:"Contact"})})]}),f=n?l.jsxs("div",{className:"dropdown dropdown-end",children:[l.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:l.jsx("div",{className:"w-10 rounded-full",children:n?.photoURL?l.jsx("img",{alt:"User",src:n.photoURL,onError:p=>{p.target.style.display="none"}}):l.jsx("div",{className:"avatar placeholder",children:l.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:l.jsx("span",{className:"text-lg",children:(n?.displayName||n?.email||"U").charAt(0).toUpperCase()})})})})}),l.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[l.jsx("li",{className:"menu-title",children:l.jsx("div",{className:"w-full truncate max-w-[180px] px-1",children:n?.displayName||n?.email||"User"})}),l.jsx("li",{children:l.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-error",children:[l.jsx(Ny,{})," Logout"]})})]})]}):l.jsxs("div",{className:"flex gap-2",children:[l.jsx(je,{to:"/login",className:"btn btn-ghost",children:"Login"}),l.jsx(je,{to:"/signup",className:"btn btn-primary",children:"Sign Up"})]});return l.jsxs("div",{className:"navbar fixed z-50 bg-base-100/95 backdrop-blur-sm shadow-lg",children:[l.jsxs("div",{className:"navbar-start",children:[l.jsxs("div",{className:"dropdown",children:[l.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),l.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[d,n&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider my-1"}),l.jsx("li",{children:l.jsx(je,{to:s==="donor"?"/dashboard/donor":s==="charity"?"/dashboard/charity":s==="admin"?"/dashboard/admin":"/dashboard",children:"Dashboard"})}),l.jsx("li",{children:l.jsx(je,{to:"/profile",children:"Profile"})}),s==="charity"&&l.jsx("li",{children:l.jsx(je,{to:"/campaigns/create",children:"Create Campaign"})}),l.jsx("li",{children:l.jsx("button",{onClick:c,className:"text-error",children:"Logout"})})]})]})]}),l.jsxs(je,{to:"/",className:"btn btn-ghost text-xl flex items-center gap-2",children:[l.jsx(Vt,{className:"text-primary"}),"Charity Platform"]})]}),l.jsx("div",{className:"navbar-center hidden lg:flex",children:l.jsx("ul",{className:"menu menu-horizontal px-1",children:d})}),l.jsxs("div",{className:"navbar-end",children:[n&&l.jsxs("div",{className:"dropdown dropdown-end mr-2 hidden md:block",children:[l.jsxs(je,{to:s==="donor"?"/dashboard/donor":s==="charity"?"/dashboard/charity":s==="admin"?"/dashboard/admin":"/dashboard",className:"btn btn-outline flex items-center gap-2",children:[l.jsx(z4,{}),"Dashboard"]}),l.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-64",children:[s==="admin"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"menu-title",children:l.jsx("span",{children:"Admin"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard/admin",children:"Overview"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard/admin/users",children:"Users"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard/admin/charities",children:"Charities"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard/admin/campaigns",children:"Campaigns"})}),l.jsx("div",{className:"divider my-1"})]}),s==="charity"&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"menu-title",children:l.jsx("span",{children:"Charity"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard/charity",children:"Overview"})}),l.jsx("div",{className:"divider my-1"})]}),(!s||s==="donor")&&l.jsxs(l.Fragment,{children:[l.jsx("li",{className:"menu-title",children:l.jsx("span",{children:"Donor"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard",children:"Overview"})})]})]})]}),f]})]})},bO=()=>l.jsx("footer",{className:"bg-base-300 text-base-content",children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Vt,{className:"text-2xl text-primary"}),l.jsx("h3",{className:"text-xl font-bold",children:"Charity Donation Platform"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connecting generous donors with verified charity organizations to create meaningful impact across Bangladesh."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:l.jsx(J9,{className:"text-lg"})}),l.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:l.jsx(rO,{className:"text-lg"})}),l.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:l.jsx(tO,{className:"text-lg"})}),l.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:l.jsx(eO,{className:"text-lg"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-4",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(je,{to:"/",className:"link link-hover text-sm",children:"Home"})}),l.jsx("li",{children:l.jsx(je,{to:"/campaigns",className:"link link-hover text-sm",children:"Browse Campaigns"})}),l.jsx("li",{children:l.jsx(je,{to:"/charities",className:"link link-hover text-sm",children:"Charities"})}),l.jsx("li",{children:l.jsx(je,{to:"/about",className:"link link-hover text-sm",children:"About Us"})}),l.jsx("li",{children:l.jsx(je,{to:"/contact",className:"link link-hover text-sm",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-4",children:"For Users"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(je,{to:"/signup",className:"link link-hover text-sm",children:"Create Account"})}),l.jsx("li",{children:l.jsx(je,{to:"/login",className:"link link-hover text-sm",children:"Login"})}),l.jsx("li",{children:l.jsx(je,{to:"/charities/register",className:"link link-hover text-sm",children:"Register Charity"})}),l.jsx("li",{children:l.jsx(je,{to:"/dashboard",className:"link link-hover text-sm",children:"Dashboard"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"link link-hover text-sm",children:"Help & Support"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold mb-4",children:"Contact Us"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[l.jsx(em,{className:"text-primary mt-1 flex-shrink-0"}),l.jsxs("span",{children:["Gulshan-1, Dhaka 1212",l.jsx("br",{}),"Bangladesh"]})]}),l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(tm,{className:"text-primary flex-shrink-0"}),l.jsx("span",{children:"+880 1700-000000"})]}),l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(zu,{className:"text-primary flex-shrink-0"}),l.jsx("span",{children:"support@charitydonation.bd"})]})]})]})]}),l.jsx("div",{className:"divider"}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["© ",new Date().getFullYear()," Charity Donation Platform. All rights reserved."]}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsx("a",{href:"#",className:"link link-hover",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"link link-hover",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"link link-hover",children:"Cookie Policy"})]})]})]})}),_O=()=>l.jsxs("div",{children:[l.jsx(xO,{}),l.jsx(Pw,{}),l.jsx(bO,{children:" "})]}),wO=()=>{const{userRole:t,logout:e}=nr(),n=Yr(),s=async()=>{try{await e()}catch(d){console.error("Logout failed:",d)}},c=(()=>{const d=t==="donor"?"/dashboard/donor":t==="charity"?"/dashboard/charity":t==="admin"?"/dashboard/admin":"/dashboard",f=[{path:d,icon:z4,label:"Overview",exact:!0}];return t==="donor"?f.push({path:`${d}/donations`,icon:Vt,label:"My Donations"},{path:`${d}/saved`,icon:Vt,label:"All Campaigns"},{path:`${d}/reviews`,icon:xi,label:"My Reviews"},{path:`${d}/profile`,icon:wa,label:"Profile"}):t==="charity"?f.push({path:`${d}/campaigns`,icon:Vt,label:"My Campaigns"},{path:`${d}/campaigns/create`,icon:El,label:"Create Campaign"},{path:`${d}/reviews`,icon:xi,label:"My Reviews"},{path:`${d}/profile`,icon:wa,label:"Profile"}):t==="admin"&&f.push({path:`${d}/users`,icon:tr,label:"Users"},{path:`${d}/charities`,icon:Ri,label:"Charities"},{path:`${d}/campaigns`,icon:Vt,label:"Campaigns"},{path:`${d}/settings`,icon:iO,label:"Settings"},{path:`${d}/profile`,icon:wa,label:"Profile"}),f})();return l.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[l.jsxs("div",{className:"navbar fixed top-0 left-0 right-0 bg-base-100 shadow z-50",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(je,{to:"/",className:"btn btn-ghost normal-case text-xl",children:"Charity Platform"}),l.jsxs("span",{className:"ml-2 badge badge-primary badge-outline",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]})]}),l.jsx("div",{className:"flex-none",children:l.jsx(je,{to:"/",className:"btn btn-ghost",children:"Home"})}),l.jsx("div",{className:"flex-none gap-2 pr-4",children:l.jsxs("button",{onClick:s,className:"btn btn-ghost gap-2",children:[l.jsx(Ny,{}),"Sign Out"]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-64 bg-base-100 shadow-lg min-h-screen",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-8",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]}),l.jsx("nav",{className:"space-y-2",children:c.map(d=>{const f=d.exact?n.pathname===d.path:n.pathname.startsWith(d.path);return l.jsxs(je,{to:d.path,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f?"bg-primary text-white":"hover:bg-base-200"}`,children:[l.jsx(d.icon,{className:"w-5 h-5"}),l.jsx("span",{children:d.label})]},d.path)})}),l.jsx("div",{className:"mt-8 pt-8 border-t",children:l.jsxs("button",{onClick:s,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-error hover:text-white transition-colors w-full text-left",children:[l.jsx(Ny,{className:"w-5 h-5"}),l.jsx("span",{children:"Logout"})]})})]})}),l.jsx("div",{className:"flex-1 p-6",children:l.jsx(Pw,{})})]})]})};var Dg={},Jc={},Ih={},Dh={},Og={exports:{}},Mg,L_;function EO(){if(L_)return Mg;L_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mg=t,Mg}var Pg,k_;function NO(){if(k_)return Pg;k_=1;var t=EO();function e(){}function n(){}return n.resetWarningCache=e,Pg=function(){function s(d,f,p,g,v,b){if(b!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function i(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Pg}var V_;function TO(){return V_||(V_=1,Og.exports=NO()()),Og.exports}var U_;function SO(){return U_||(U_=1,(function(t){(function(e,n){n(t,Ci(),TO())})(Dh,function(e,n,s){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=M;var i=d(n),c=d(s);function d(B){return B&&B.__esModule?B:{default:B}}var f=Object.assign||function(B){for(var q=1;q<arguments.length;q++){var G=arguments[q];for(var z in G)Object.prototype.hasOwnProperty.call(G,z)&&(B[z]=G[z])}return B};function p(B,q){var G={};for(var z in B)q.indexOf(z)>=0||Object.prototype.hasOwnProperty.call(B,z)&&(G[z]=B[z]);return G}function g(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}var v=(function(){function B(q,G){for(var z=0;z<G.length;z++){var O=G[z];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(q,O.key,O)}}return function(q,G,z){return G&&B(q.prototype,G),z&&B(q,z),q}})();function b(B,q){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:B}function _(B,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);B.prototype=Object.create(q&&q.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(B,q):B.__proto__=q)}var R=!1;function M(B){R=B}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){M(!0)}}))}catch{}function D(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return R?B:B.capture}function L(B){if("touches"in B){var q=B.touches[0],G=q.pageX,z=q.pageY;return{x:G,y:z}}var O=B.screenX,P=B.screenY;return{x:O,y:P}}var Y=(function(B){_(q,B);function q(){var G;g(this,q);for(var z=arguments.length,O=Array(z),P=0;P<z;P++)O[P]=arguments[P];var N=b(this,(G=q.__proto__||Object.getPrototypeOf(q)).call.apply(G,[this].concat(O)));return N._handleSwipeStart=N._handleSwipeStart.bind(N),N._handleSwipeMove=N._handleSwipeMove.bind(N),N._handleSwipeEnd=N._handleSwipeEnd.bind(N),N._onMouseDown=N._onMouseDown.bind(N),N._onMouseMove=N._onMouseMove.bind(N),N._onMouseUp=N._onMouseUp.bind(N),N._setSwiperRef=N._setSwiperRef.bind(N),N}return v(q,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,D({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,D({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(z){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(z))}},{key:"_onMouseMove",value:function(z){this.mouseDown&&this._handleSwipeMove(z)}},{key:"_onMouseUp",value:function(z){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(z)}},{key:"_handleSwipeStart",value:function(z){var O=L(z),P=O.x,N=O.y;this.moveStart={x:P,y:N},this.props.onSwipeStart(z)}},{key:"_handleSwipeMove",value:function(z){if(this.moveStart){var O=L(z),P=O.x,N=O.y,T=P-this.moveStart.x,k=N-this.moveStart.y;this.moving=!0;var I=this.props.onSwipeMove({x:T,y:k},z);I&&z.cancelable&&z.preventDefault(),this.movePosition={deltaX:T,deltaY:k}}}},{key:"_handleSwipeEnd",value:function(z){this.props.onSwipeEnd(z);var O=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-O?this.props.onSwipeLeft(1,z):this.movePosition.deltaX>O&&this.props.onSwipeRight(1,z),this.movePosition.deltaY<-O?this.props.onSwipeUp(1,z):this.movePosition.deltaY>O&&this.props.onSwipeDown(1,z)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(z){this.swiper=z,this.props.innerRef(z)}},{key:"render",value:function(){var z=this.props;z.tagName;var O=z.className,P=z.style,N=z.children;z.allowMouseEvents,z.onSwipeUp,z.onSwipeDown,z.onSwipeLeft,z.onSwipeRight,z.onSwipeStart,z.onSwipeMove,z.onSwipeEnd,z.innerRef,z.tolerance;var T=p(z,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,f({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:O,style:P},T),N)}}]),q})(n.Component);Y.displayName="ReactSwipe",Y.propTypes={tagName:c.default.string,className:c.default.string,style:c.default.object,children:c.default.node,allowMouseEvents:c.default.bool,onSwipeUp:c.default.func,onSwipeDown:c.default.func,onSwipeLeft:c.default.func,onSwipeRight:c.default.func,onSwipeStart:c.default.func,onSwipeMove:c.default.func,onSwipeEnd:c.default.func,innerRef:c.default.func,tolerance:c.default.number.isRequired},Y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=Y})})(Dh)),Dh}var z_;function F4(){return z_||(z_=1,(function(t){(function(e,n){n(t,SO())})(Ih,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var s=i(n);function i(c){return c&&c.__esModule?c:{default:c}}e.default=s.default})})(Ih)),Ih}var eu={},Lg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var F_;function AO(){return F_||(F_=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var c="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(c=i(c,s(f)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return n.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var f in c)e.call(c,f)&&c[f]&&(d=i(d,f));return d}function i(c,d){return d?c?c+" "+d:c+d:c}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Lg)),Lg.exports}var B_;function B4(){if(B_)return eu;B_=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.default=void 0;var t=e(AO());function e(i){return i&&i.__esModule?i:{default:i}}function n(i,c,d){return c in i?Object.defineProperty(i,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[c]=d,i}var s={ROOT:function(c){return(0,t.default)(n({"carousel-root":!0},c||"",!!c))},CAROUSEL:function(c){return(0,t.default)({carousel:!0,"carousel-slider":c})},WRAPPER:function(c,d){return(0,t.default)({"thumbs-wrapper":!c,"slider-wrapper":c,"axis-horizontal":d==="horizontal","axis-vertical":d!=="horizontal"})},SLIDER:function(c,d){return(0,t.default)({thumbs:!c,slider:c,animated:!d})},ITEM:function(c,d,f){return(0,t.default)({thumb:!c,slide:c,selected:d,previous:f})},ARROW_PREV:function(c){return(0,t.default)({"control-arrow control-prev":!0,"control-disabled":c})},ARROW_NEXT:function(c){return(0,t.default)({"control-arrow control-next":!0,"control-disabled":c})},DOT:function(c){return(0,t.default)({dot:!0,selected:c})}};return eu.default=s,eu}var tu={},nu={},q_;function jO(){if(q_)return nu;q_=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.outerWidth=void 0;var t=function(n){var s=n.offsetWidth,i=getComputedStyle(n);return s+=parseInt(i.marginLeft)+parseInt(i.marginRight),s};return nu.outerWidth=t,nu}var ru={},H_;function Bv(){if(H_)return ru;H_=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.default=void 0;var t=function(n,s,i){var c=n===0?n:n+s,d=i==="horizontal"?[c,0,0]:[0,c,0],f="translate3d",p="("+d.join(",")+")";return f+p};return ru.default=t,ru}var su={},G_;function q4(){if(G_)return su;G_=1,Object.defineProperty(su,"__esModule",{value:!0}),su.default=void 0;var t=function(){return window};return su.default=t,su}var $_;function H4(){if($_)return tu;$_=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.default=void 0;var t=p(Ci()),e=d(B4()),n=jO(),s=d(Bv()),i=d(F4()),c=d(q4());function d(N){return N&&N.__esModule?N:{default:N}}function f(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return f=function(){return N},N}function p(N){if(N&&N.__esModule)return N;if(N===null||g(N)!=="object"&&typeof N!="function")return{default:N};var T=f();if(T&&T.has(N))return T.get(N);var k={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in N)if(Object.prototype.hasOwnProperty.call(N,A)){var S=I?Object.getOwnPropertyDescriptor(N,A):null;S&&(S.get||S.set)?Object.defineProperty(k,A,S):k[A]=N[A]}return k.default=N,T&&T.set(N,k),k}function g(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(k){return typeof k}:g=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},g(N)}function v(){return v=Object.assign||function(N){for(var T=1;T<arguments.length;T++){var k=arguments[T];for(var I in k)Object.prototype.hasOwnProperty.call(k,I)&&(N[I]=k[I])}return N},v.apply(this,arguments)}function b(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function _(N,T){for(var k=0;k<T.length;k++){var I=T[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}function R(N,T,k){return T&&_(N.prototype,T),N}function M(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),T&&D(N,T)}function D(N,T){return D=Object.setPrototypeOf||function(I,A){return I.__proto__=A,I},D(N,T)}function L(N){var T=q();return function(){var I=G(N),A;if(T){var S=G(this).constructor;A=Reflect.construct(I,arguments,S)}else A=I.apply(this,arguments);return Y(this,A)}}function Y(N,T){return T&&(g(T)==="object"||typeof T=="function")?T:B(N)}function B(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(N){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},G(N)}function z(N,T,k){return T in N?Object.defineProperty(N,T,{value:k,enumerable:!0,configurable:!0,writable:!0}):N[T]=k,N}var O=function(T){return T.hasOwnProperty("key")},P=(function(N){M(k,N);var T=L(k);function k(I){var A;return b(this,k),A=T.call(this,I),z(B(A),"itemsWrapperRef",void 0),z(B(A),"itemsListRef",void 0),z(B(A),"thumbsRef",void 0),z(B(A),"setItemsWrapperRef",function(S){A.itemsWrapperRef=S}),z(B(A),"setItemsListRef",function(S){A.itemsListRef=S}),z(B(A),"setThumbsRef",function(S,ae){A.thumbsRef||(A.thumbsRef=[]),A.thumbsRef[ae]=S}),z(B(A),"updateSizes",function(){if(!(!A.props.children||!A.itemsWrapperRef||!A.thumbsRef)){var S=t.Children.count(A.props.children),ae=A.itemsWrapperRef.clientWidth,V=A.props.thumbWidth?A.props.thumbWidth:(0,n.outerWidth)(A.thumbsRef[0]),$=Math.floor(ae/V),Z=$<S,ue=Z?S-$:0;A.setState(function(Se,U){return{itemSize:V,visibleItems:$,firstItem:Z?A.getFirstItem(U.selectedItem):0,lastPosition:ue,showArrows:Z}})}}),z(B(A),"handleClickItem",function(S,ae,V){if(!O(V)||V.key==="Enter"){var $=A.props.onSelectItem;typeof $=="function"&&$(S,ae)}}),z(B(A),"onSwipeStart",function(){A.setState({swiping:!0})}),z(B(A),"onSwipeEnd",function(){A.setState({swiping:!1})}),z(B(A),"onSwipeMove",function(S){var ae=S.x;if(!A.state.itemSize||!A.itemsWrapperRef||!A.state.visibleItems)return!1;var V=0,$=t.Children.count(A.props.children),Z=-(A.state.firstItem*100)/A.state.visibleItems,ue=Math.max($-A.state.visibleItems,0),Se=-ue*100/A.state.visibleItems;Z===V&&ae>0&&(ae=0),Z===Se&&ae<0&&(ae=0);var U=A.itemsWrapperRef.clientWidth,oe=Z+100/(U/ae);return A.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(xe){A.itemsListRef.style[xe]=(0,s.default)(oe,"%",A.props.axis)}),!0}),z(B(A),"slideRight",function(S){A.moveTo(A.state.firstItem-(typeof S=="number"?S:1))}),z(B(A),"slideLeft",function(S){A.moveTo(A.state.firstItem+(typeof S=="number"?S:1))}),z(B(A),"moveTo",function(S){S=S<0?0:S,S=S>=A.state.lastPosition?A.state.lastPosition:S,A.setState({firstItem:S})}),A.state={selectedItem:I.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},A}return R(k,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(A){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==A.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(A){var S=A;return A>=this.state.lastPosition&&(S=this.state.lastPosition),A<this.state.firstItem+this.state.visibleItems&&(S=this.state.firstItem),A<this.state.firstItem&&(S=A),S}},{key:"renderItems",value:function(){var A=this;return this.props.children.map(function(S,ae){var V=e.default.ITEM(!1,ae===A.state.selectedItem),$={key:ae,ref:function(ue){return A.setThumbsRef(ue,ae)},className:V,onClick:A.handleClickItem.bind(A,ae,A.props.children[ae]),onKeyDown:A.handleClickItem.bind(A,ae,A.props.children[ae]),"aria-label":"".concat(A.props.labels.item," ").concat(ae+1),style:{width:A.props.thumbWidth}};return t.default.createElement("li",v({},$,{role:"button",tabIndex:0}),S)})}},{key:"render",value:function(){var A=this;if(!this.props.children)return null;var S=t.Children.count(this.props.children)>1,ae=this.state.showArrows&&this.state.firstItem>0,V=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},Z=-this.state.firstItem*(this.state.itemSize||0),ue=(0,s.default)(Z,"px",this.props.axis),Se=this.props.transitionTime+"ms";return $={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Se,MozTransitionDuration:Se,MsTransitionDuration:Se,OTransitionDuration:Se,transitionDuration:Se,msTransitionDuration:Se},t.default.createElement("div",{className:e.default.CAROUSEL(!1)},t.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},t.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ae),onClick:function(){return A.slideRight()},"aria-label":this.props.labels.leftArrow}),S?t.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):t.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(oe){return A.setItemsListRef(oe)},style:$},this.renderItems()),t.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!V),onClick:function(){return A.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),k})(t.Component);return tu.default=P,z(P,"displayName","Thumbs"),z(P,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),tu}var au={},K_;function RO(){if(K_)return au;K_=1,Object.defineProperty(au,"__esModule",{value:!0}),au.default=void 0;var t=function(){return document};return au.default=t,au}var Tr={},Q_;function G4(){if(Q_)return Tr;Q_=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.setPosition=Tr.getPosition=Tr.isKeyboardEvent=Tr.defaultStatusFormatter=Tr.noop=void 0;var t=Ci(),e=n(Bv());function n(p){return p&&p.__esModule?p:{default:p}}var s=function(){};Tr.noop=s;var i=function(g,v){return"".concat(g," of ").concat(v)};Tr.defaultStatusFormatter=i;var c=function(g){return g?g.hasOwnProperty("key"):!1};Tr.isKeyboardEvent=c;var d=function(g,v){if(v.infiniteLoop&&++g,g===0)return 0;var b=t.Children.count(v.children);if(v.centerMode&&v.axis==="horizontal"){var _=-g*v.centerSlidePercentage,R=b-1;return g&&(g!==R||v.infiniteLoop)?_+=(100-v.centerSlidePercentage)/2:g===R&&(_+=100-v.centerSlidePercentage),_}return-g*100};Tr.getPosition=d;var f=function(g,v){var b={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){b[_]=(0,e.default)(g,"%",v)}),b};return Tr.setPosition=f,Tr}var as={},Y_;function CO(){if(Y_)return as;Y_=1,Object.defineProperty(as,"__esModule",{value:!0}),as.fadeAnimationHandler=as.slideStopSwipingHandler=as.slideSwipeAnimationHandler=as.slideAnimationHandler=void 0;var t=Ci(),e=s(Bv()),n=G4();function s(b){return b&&b.__esModule?b:{default:b}}function i(b,_){var R=Object.keys(b);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(b);_&&(M=M.filter(function(D){return Object.getOwnPropertyDescriptor(b,D).enumerable})),R.push.apply(R,M)}return R}function c(b){for(var _=1;_<arguments.length;_++){var R=arguments[_]!=null?arguments[_]:{};_%2?i(Object(R),!0).forEach(function(M){d(b,M,R[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(R)):i(Object(R)).forEach(function(M){Object.defineProperty(b,M,Object.getOwnPropertyDescriptor(R,M))})}return b}function d(b,_,R){return _ in b?Object.defineProperty(b,_,{value:R,enumerable:!0,configurable:!0,writable:!0}):b[_]=R,b}var f=function(_,R){var M={},D=R.selectedItem,L=D,Y=t.Children.count(_.children)-1,B=_.infiniteLoop&&(D<0||D>Y);if(B)return L<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?M.itemListStyle=(0,n.setPosition)(-(Y+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):M.itemListStyle=(0,n.setPosition)(-(Y+2)*100,_.axis):L>Y&&(M.itemListStyle=(0,n.setPosition)(0,_.axis)),M;var q=(0,n.getPosition)(D,_),G=(0,e.default)(q,"%",_.axis),z=_.transitionTime+"ms";return M.itemListStyle={WebkitTransform:G,msTransform:G,OTransform:G,transform:G},R.swiping||(M.itemListStyle=c(c({},M.itemListStyle),{},{WebkitTransitionDuration:z,MozTransitionDuration:z,OTransitionDuration:z,transitionDuration:z,msTransitionDuration:z})),M};as.slideAnimationHandler=f;var p=function(_,R,M,D){var L={},Y=R.axis==="horizontal",B=t.Children.count(R.children),q=0,G=(0,n.getPosition)(M.selectedItem,R),z=R.infiniteLoop?(0,n.getPosition)(B-1,R)-100:(0,n.getPosition)(B-1,R),O=Y?_.x:_.y,P=O;G===q&&O>0&&(P=0),G===z&&O<0&&(P=0);var N=G+100/(M.itemSize/P),T=Math.abs(O)>R.swipeScrollTolerance;return R.infiniteLoop&&T&&(M.selectedItem===0&&N>-100?N-=B*100:M.selectedItem===B-1&&N<-B*100&&(N+=B*100)),(!R.preventMovementUntilSwipeScrollTolerance||T||M.swipeMovementStarted)&&(M.swipeMovementStarted||D({swipeMovementStarted:!0}),L.itemListStyle=(0,n.setPosition)(N,R.axis)),T&&!M.cancelClick&&D({cancelClick:!0}),L};as.slideSwipeAnimationHandler=p;var g=function(_,R){var M=(0,n.getPosition)(R.selectedItem,_),D=(0,n.setPosition)(M,_.axis);return{itemListStyle:D}};as.slideStopSwipingHandler=g;var v=function(_,R){var M=_.transitionTime+"ms",D="ease-in-out",L={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:D,msTransitionTimingFunction:D,MozTransitionTimingFunction:D,WebkitTransitionTimingFunction:D,OTransitionTimingFunction:D};return R.swiping||(L=c(c({},L),{},{WebkitTransitionDuration:M,MozTransitionDuration:M,OTransitionDuration:M,transitionDuration:M,msTransitionDuration:M})),{slideStyle:L,selectedStyle:c(c({},L),{},{opacity:1,position:"relative"}),prevStyle:c({},L)}};return as.fadeAnimationHandler=v,as}var W_;function IO(){if(W_)return Jc;W_=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.default=void 0;var t=v(Ci()),e=p(F4()),n=p(B4()),s=p(H4()),i=p(RO()),c=p(q4()),d=G4(),f=CO();function p(I){return I&&I.__esModule?I:{default:I}}function g(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return g=function(){return I},I}function v(I){if(I&&I.__esModule)return I;if(I===null||b(I)!=="object"&&typeof I!="function")return{default:I};var A=g();if(A&&A.has(I))return A.get(I);var S={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in I)if(Object.prototype.hasOwnProperty.call(I,V)){var $=ae?Object.getOwnPropertyDescriptor(I,V):null;$&&($.get||$.set)?Object.defineProperty(S,V,$):S[V]=I[V]}return S.default=I,A&&A.set(I,S),S}function b(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(S){return typeof S}:b=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},b(I)}function _(){return _=Object.assign||function(I){for(var A=1;A<arguments.length;A++){var S=arguments[A];for(var ae in S)Object.prototype.hasOwnProperty.call(S,ae)&&(I[ae]=S[ae])}return I},_.apply(this,arguments)}function R(I,A){var S=Object.keys(I);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(I);A&&(ae=ae.filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable})),S.push.apply(S,ae)}return S}function M(I){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{};A%2?R(Object(S),!0).forEach(function(ae){T(I,ae,S[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(S)):R(Object(S)).forEach(function(ae){Object.defineProperty(I,ae,Object.getOwnPropertyDescriptor(S,ae))})}return I}function D(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function L(I,A){for(var S=0;S<A.length;S++){var ae=A[S];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(I,ae.key,ae)}}function Y(I,A,S){return A&&L(I.prototype,A),I}function B(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),A&&q(I,A)}function q(I,A){return q=Object.setPrototypeOf||function(ae,V){return ae.__proto__=V,ae},q(I,A)}function G(I){var A=P();return function(){var ae=N(I),V;if(A){var $=N(this).constructor;V=Reflect.construct(ae,arguments,$)}else V=ae.apply(this,arguments);return z(this,V)}}function z(I,A){return A&&(b(A)==="object"||typeof A=="function")?A:O(I)}function O(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function N(I){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},N(I)}function T(I,A,S){return A in I?Object.defineProperty(I,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):I[A]=S,I}var k=(function(I){B(S,I);var A=G(S);function S(ae){var V;D(this,S),V=A.call(this,ae),T(O(V),"thumbsRef",void 0),T(O(V),"carouselWrapperRef",void 0),T(O(V),"listRef",void 0),T(O(V),"itemsRef",void 0),T(O(V),"timer",void 0),T(O(V),"animationHandler",void 0),T(O(V),"setThumbsRef",function(Z){V.thumbsRef=Z}),T(O(V),"setCarouselWrapperRef",function(Z){V.carouselWrapperRef=Z}),T(O(V),"setListRef",function(Z){V.listRef=Z}),T(O(V),"setItemsRef",function(Z,ue){V.itemsRef||(V.itemsRef=[]),V.itemsRef[ue]=Z}),T(O(V),"autoPlay",function(){t.Children.count(V.props.children)<=1||(V.clearAutoPlay(),V.props.autoPlay&&(V.timer=setTimeout(function(){V.increment()},V.props.interval)))}),T(O(V),"clearAutoPlay",function(){V.timer&&clearTimeout(V.timer)}),T(O(V),"resetAutoPlay",function(){V.clearAutoPlay(),V.autoPlay()}),T(O(V),"stopOnHover",function(){V.setState({isMouseEntered:!0},V.clearAutoPlay)}),T(O(V),"startOnLeave",function(){V.setState({isMouseEntered:!1},V.autoPlay)}),T(O(V),"isFocusWithinTheCarousel",function(){return V.carouselWrapperRef?!!((0,i.default)().activeElement===V.carouselWrapperRef||V.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),T(O(V),"navigateWithKeyboard",function(Z){if(V.isFocusWithinTheCarousel()){var ue=V.props.axis,Se=ue==="horizontal",U={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},oe=Se?U.ArrowRight:U.ArrowDown,xe=Se?U.ArrowLeft:U.ArrowUp;oe===Z.keyCode?V.increment():xe===Z.keyCode&&V.decrement()}}),T(O(V),"updateSizes",function(){if(!(!V.state.initialized||!V.itemsRef||V.itemsRef.length===0)){var Z=V.props.axis==="horizontal",ue=V.itemsRef[0];if(ue){var Se=Z?ue.clientWidth:ue.clientHeight;V.setState({itemSize:Se}),V.thumbsRef&&V.thumbsRef.updateSizes()}}}),T(O(V),"setMountState",function(){V.setState({hasMount:!0}),V.updateSizes()}),T(O(V),"handleClickItem",function(Z,ue){if(t.Children.count(V.props.children)!==0){if(V.state.cancelClick){V.setState({cancelClick:!1});return}V.props.onClickItem(Z,ue),Z!==V.state.selectedItem&&V.setState({selectedItem:Z})}}),T(O(V),"handleOnChange",function(Z,ue){t.Children.count(V.props.children)<=1||V.props.onChange(Z,ue)}),T(O(V),"handleClickThumb",function(Z,ue){V.props.onClickThumb(Z,ue),V.moveTo(Z)}),T(O(V),"onSwipeStart",function(Z){V.setState({swiping:!0}),V.props.onSwipeStart(Z)}),T(O(V),"onSwipeEnd",function(Z){V.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),V.props.onSwipeEnd(Z),V.clearAutoPlay(),V.state.autoPlay&&V.autoPlay()}),T(O(V),"onSwipeMove",function(Z,ue){V.props.onSwipeMove(ue);var Se=V.props.swipeAnimationHandler(Z,V.props,V.state,V.setState.bind(O(V)));return V.setState(M({},Se)),!!Object.keys(Se).length}),T(O(V),"decrement",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;V.moveTo(V.state.selectedItem-(typeof Z=="number"?Z:1))}),T(O(V),"increment",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;V.moveTo(V.state.selectedItem+(typeof Z=="number"?Z:1))}),T(O(V),"moveTo",function(Z){if(typeof Z=="number"){var ue=t.Children.count(V.props.children)-1;Z<0&&(Z=V.props.infiniteLoop?ue:0),Z>ue&&(Z=V.props.infiniteLoop?0:ue),V.selectItem({selectedItem:Z}),V.state.autoPlay&&V.state.isMouseEntered===!1&&V.resetAutoPlay()}}),T(O(V),"onClickNext",function(){V.increment(1)}),T(O(V),"onClickPrev",function(){V.decrement(1)}),T(O(V),"onSwipeForward",function(){V.increment(1),V.props.emulateTouch&&V.setState({cancelClick:!0})}),T(O(V),"onSwipeBackwards",function(){V.decrement(1),V.props.emulateTouch&&V.setState({cancelClick:!0})}),T(O(V),"changeItem",function(Z){return function(ue){(!(0,d.isKeyboardEvent)(ue)||ue.key==="Enter")&&V.moveTo(Z)}}),T(O(V),"selectItem",function(Z){V.setState(M({previousItem:V.state.selectedItem},Z),function(){V.setState(V.animationHandler(V.props,V.state))}),V.handleOnChange(Z.selectedItem,t.Children.toArray(V.props.children)[Z.selectedItem])}),T(O(V),"getInitialImage",function(){var Z=V.props.selectedItem,ue=V.itemsRef&&V.itemsRef[Z],Se=ue&&ue.getElementsByTagName("img")||[];return Se[0]}),T(O(V),"getVariableItemHeight",function(Z){var ue=V.itemsRef&&V.itemsRef[Z];if(V.state.hasMount&&ue&&ue.children.length){var Se=ue.children[0].getElementsByTagName("img")||[];if(Se.length>0){var U=Se[0];if(!U.complete){var oe=function Ae(){V.forceUpdate(),U.removeEventListener("load",Ae)};U.addEventListener("load",oe)}}var xe=Se[0]||ue.children[0],ve=xe.clientHeight;return ve>0?ve:null}return null});var $={initialized:!1,previousItem:ae.selectedItem,selectedItem:ae.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ae.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return V.animationHandler=typeof ae.animationHandler=="function"&&ae.animationHandler||ae.animationHandler==="fade"&&f.fadeAnimationHandler||f.slideAnimationHandler,V.state=M(M({},$),V.animationHandler(ae,$)),V}return Y(S,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(V,$){!V.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!V.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(M({},this.props.stopSwipingHandler(this.props,this.state))),(V.selectedItem!==this.props.selectedItem||V.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),V.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var V=this;this.bindEvents(),this.state.autoPlay&&t.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=V.getInitialImage();$&&!$.complete?$.addEventListener("load",V.setMountState):V.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var V=this.carouselWrapperRef;this.props.stopOnHover&&V&&(V.addEventListener("mouseenter",this.stopOnHover),V.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var V=this.carouselWrapperRef;this.props.stopOnHover&&V&&(V.removeEventListener("mouseenter",this.stopOnHover),V.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var V=this.getInitialImage();V&&V.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var V;(V=this.carouselWrapperRef)===null||V===void 0||V.focus()}},{key:"renderItems",value:function(V){var $=this;return this.props.children?t.Children.map(this.props.children,function(Z,ue){var Se=ue===$.state.selectedItem,U=ue===$.state.previousItem,oe=Se&&$.state.selectedStyle||U&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(oe=M(M({},oe),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(oe=M(M({},oe),{},{pointerEvents:"none"}));var xe={ref:function(Ae){return $.setItemsRef(Ae,ue)},key:"itemKey"+ue+(V?"clone":""),className:n.default.ITEM(!0,ue===$.state.selectedItem,ue===$.state.previousItem),onClick:$.handleClickItem.bind($,ue,Z),style:oe};return t.default.createElement("li",xe,$.props.renderItem(Z,{isSelected:ue===$.state.selectedItem,isPrevious:ue===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var V=this,$=this.props,Z=$.showIndicators,ue=$.labels,Se=$.renderIndicator,U=$.children;return Z?t.default.createElement("ul",{className:"control-dots"},t.Children.map(U,function(oe,xe){return Se&&Se(V.changeItem(xe),xe===V.state.selectedItem,xe,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?t.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,t.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||t.Children.count(this.props.children)===0?null:t.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var V=this;if(!this.props.children||t.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&t.Children.count(this.props.children)>1,Z=this.props.axis==="horizontal",ue=this.props.showArrows&&t.Children.count(this.props.children)>1,Se=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,U=ue&&(this.state.selectedItem<t.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,oe=this.renderItems(!0),xe=oe.shift(),ve=oe.pop(),Ae={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ge={};if(Z){if(Ae.onSwipeLeft=this.onSwipeForward,Ae.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Fe=this.getVariableItemHeight(this.state.selectedItem);Ge.height=Fe||"auto"}}else Ae.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ae.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ae.style=M(M({},Ae.style),{},{height:this.state.itemSize}),Ge.height=this.state.itemSize;return t.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},t.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Se,this.props.labels.leftArrow),t.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Ge},$?t.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},Ae,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&xe):t.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(gt){return V.setListRef(gt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&xe)),this.props.renderArrowNext(this.onClickNext,U,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),S})(t.default.Component);return Jc.default=k,T(k,"displayName","Carousel"),T(k,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:d.noop,onClickThumb:d.noop,onChange:d.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(A,S,ae){return t.default.createElement("button",{type:"button","aria-label":ae,className:n.default.ARROW_PREV(!S),onClick:A})},renderArrowNext:function(A,S,ae){return t.default.createElement("button",{type:"button","aria-label":ae,className:n.default.ARROW_NEXT(!S),onClick:A})},renderIndicator:function(A,S,ae,V){return t.default.createElement("li",{className:n.default.DOT(S),onClick:A,onKeyDown:A,value:ae,key:ae,role:"button",tabIndex:0,"aria-label":"".concat(V," ").concat(ae+1)})},renderItem:function(A){return A},renderThumbs:function(A){var S=t.Children.map(A,function(ae){var V=ae;if(ae.type!=="img"&&(V=t.Children.toArray(ae.props.children).find(function($){return $.type==="img"})),!!V)return V});return S.filter(function(ae){return ae}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):S},statusFormatter:d.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:f.slideSwipeAnimationHandler,stopSwipingHandler:f.slideStopSwipingHandler}),Jc}var X_={},Z_;function DO(){return Z_||(Z_=1),X_}var J_;function OO(){return J_||(J_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return s.default}});var e=i(IO()),n=DO(),s=i(H4());function i(c){return c&&c.__esModule?c:{default:c}}})(Dg)),Dg}OO();const nd="charity_campaigns",Hn=()=>{try{const t=localStorage.getItem(nd);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading campaigns:",t),[]}},Ms=t=>Hn().filter(n=>n.status===t),MO=t=>{try{const e=Hn(),n={...t,id:`campaign_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.push(n),localStorage.setItem(nd,JSON.stringify(e)),n}catch(e){throw console.error("Error adding campaign:",e),e}},ew=(t,e)=>{try{const s=Hn().map(i=>i.id===t?{...i,status:e,updatedAt:new Date().toISOString()}:i);return localStorage.setItem(nd,JSON.stringify(s)),!0}catch(n){throw console.error("Error updating campaign status:",n),n}},PO=t=>{try{const n=Hn().filter(s=>s.id!==t);return localStorage.setItem(nd,JSON.stringify(n)),!0}catch(e){throw console.error("Error deleting campaign:",e),e}},LO=t=>Hn().filter(n=>n.charityId===t),kO=(t,e)=>{try{const s=Hn().map(i=>i.id===t?{...i,currentAmount:(i.currentAmount||0)+e,updatedAt:new Date().toISOString()}:i);return localStorage.setItem(nd,JSON.stringify(s)),!0}catch(n){throw console.error("Error adding donation to campaign:",n),n}},$4="user_donations",nm=()=>{try{const t=localStorage.getItem($4);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading donations:",t),[]}},K4=t=>nm().filter(n=>n.userId===t),VO=t=>{try{const e=nm(),n={...t,id:`donation_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),status:"completed"};return e.push(n),localStorage.setItem($4,JSON.stringify(e)),n}catch(e){throw console.error("Error adding donation:",e),e}},UO=t=>{const e=K4(t),n=e.reduce((v,b)=>v+b.amount,0),i=new Set(e.map(v=>v.campaignId)).size,c=Math.floor(n/1e3),d=new Date,f=d.getMonth(),p=d.getFullYear(),g=e.reduce((v,b)=>{const _=new Date(b.createdAt);return _.getMonth()===f&&_.getFullYear()===p?v+b.amount:v},0);return{totalDonated:n,campaignsSupported:i,impact:c,thisMonth:g,donationCount:e.length}},zO=t=>nm().filter(n=>n.campaignId===t),FO=t=>{const e=zO(t);return new Set(e.map(s=>s.userId)).size},qv=()=>{const t=nm(),e={};t.forEach(s=>{e[s.campaignId]||(e[s.campaignId]=new Set),e[s.campaignId].add(s.userId)});const n={};return Object.keys(e).forEach(s=>{n[s]=e[s].size}),n},rm="charity_reviews",rd=()=>{try{const t=localStorage.getItem(rm);return t?JSON.parse(t):[]}catch(t){return console.error("Error getting reviews:",t),[]}},BO=t=>{try{const e=rd(),n={id:Date.now().toString(),userId:t.userId,userName:t.userName,userEmail:t.userEmail,rating:t.rating,comment:t.comment,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.push(n),localStorage.setItem(rm,JSON.stringify(e)),n}catch(e){return console.error("Error saving review:",e),null}},qO=(t,e)=>{try{const n=rd(),s=n.findIndex(i=>i.id===t);return s!==-1?(n[s]={...n[s],...e,updatedAt:new Date().toISOString()},localStorage.setItem(rm,JSON.stringify(n)),n[s]):null}catch(n){return console.error("Error updating review:",n),null}},HO=t=>{try{const n=rd().filter(s=>s.id!==t);return localStorage.setItem(rm,JSON.stringify(n)),!0}catch(e){return console.error("Error deleting review:",e),!1}},GO=t=>{try{return rd().filter(n=>n.userId===t)}catch(e){return console.error("Error getting user reviews:",e),[]}},$O=()=>{const[t,e]=F.useState({totalRaised:0,activeCampaigns:0,totalDonors:0,totalCharities:0,successRate:0}),[n,s]=F.useState([]),[i,c]=F.useState({}),[d,f]=F.useState([]),[p,g]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const b=Hn(),_=Ms("approved"),R=qv();c(R);const M=new Date;M.setHours(0,0,0,0);const D=_.filter(N=>{const T=new Date(N.endDate);return T.setHours(23,59,59,999),T>=M}),L=b.reduce((N,T)=>N+(T.currentAmount||0),0),Y=new Set(b.map(N=>N.charityId));let B=0;try{const N=Av(Oo,"users");B=(await A4(N)).data().count||0}catch(N){console.error("Error fetching user count:",N)}const q=b.filter(N=>N.currentAmount>=N.goalAmount),G=b.length>0?Math.round(q.length/b.length*100):0,z=_.sort((N,T)=>(T.currentAmount||0)-(N.currentAmount||0)).slice(0,3),P=rd().sort((N,T)=>new Date(T.createdAt)-new Date(N.createdAt)).slice(0,6);e({totalRaised:L,activeCampaigns:D.length,totalDonors:B,totalCharities:Y.size,successRate:G}),s(z),f(P),g(!1)}catch(b){console.error("Error fetching home data:",b),g(!1)}})()},[]),l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"Charity Donation Platform - Make a Difference Today"}),l.jsx("meta",{name:"description",content:"Join thousands of donors making a positive impact through verified charity campaigns. Support education, healthcare, emergency relief, and more."})]}),l.jsx("section",{className:"py-20 bg-base-200",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"text-center p-6 bg-base-100 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(Vt,{className:"text-4xl text-primary mx-auto mb-3"}),l.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:["৳",t.totalRaised.toLocaleString()]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Raised"})]}),l.jsxs("div",{className:"text-center p-6 bg-base-100 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(_l,{className:"text-4xl text-secondary mx-auto mb-3"}),l.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:t.activeCampaigns}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Campaigns"})]}),l.jsxs("div",{className:"text-center p-6 bg-base-100 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(tr,{className:"text-4xl text-accent mx-auto mb-3"}),l.jsx("div",{className:"text-3xl font-bold text-accent mb-2",children:t.totalDonors}),l.jsx("div",{className:"text-sm text-gray-600",children:"Donors"})]}),l.jsxs("div",{className:"text-center p-6 bg-base-100 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(Ri,{className:"text-4xl text-info mx-auto mb-3"}),l.jsx("div",{className:"text-3xl font-bold text-info mb-2",children:t.totalCharities}),l.jsx("div",{className:"text-sm text-gray-600",children:"Charities"})]}),l.jsxs("div",{className:"text-center p-6 bg-base-100 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(xi,{className:"text-4xl text-warning mx-auto mb-3"}),l.jsxs("div",{className:"text-3xl font-bold text-warning mb-2",children:[t.successRate,"%"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})]})})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Featured Campaigns"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Top campaigns making the biggest impact right now"})]}),p?l.jsx("div",{className:"text-center py-12",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"No Featured Campaigns Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Check back soon for new campaigns!"}),l.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"View All Campaigns"})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(v=>l.jsxs("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:[l.jsx("figure",{children:l.jsx("img",{src:v.image,alt:v.title,className:"h-48 w-full object-cover",onError:b=>{b.target.src="https://via.placeholder.com/400x200"}})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"badge badge-primary capitalize",children:v.category}),l.jsx("span",{className:"badge badge-success",children:"Approved"})]}),l.jsx("h3",{className:"card-title text-lg",children:v.title}),l.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["By: ",v.charityName]}),l.jsx("p",{className:"text-gray-600 line-clamp-2",children:v.description}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{children:["Raised: ৳",(v.currentAmount||0).toLocaleString()]}),l.jsxs("span",{children:["Goal: ৳",v.goalAmount.toLocaleString()]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:v.currentAmount||0,max:v.goalAmount}),l.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[l.jsxs("span",{children:[Math.round((v.currentAmount||0)/v.goalAmount*100),"% funded"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(tr,{className:"text-xs"}),i[v.id]||0," donors"]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-right",children:["Ends: ",new Date(v.endDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"card-actions justify-between mt-4",children:[l.jsx(je,{to:`/campaigns/${v.id}`,className:"btn btn-primary btn-sm",children:"View Details"}),l.jsx(je,{to:`/campaigns/${v.id}/donate`,className:"btn btn-outline btn-sm",children:"Donate Now"})]})]})]},v.id))}),l.jsx("div",{className:"text-center mt-12",children:l.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-lg",children:["View All Campaigns",l.jsx(L4,{className:"ml-2"})]})})]})}),l.jsx("section",{className:"py-20 bg-base-200",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"How It Works"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Simple steps to make a meaningful impact"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(td,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"1. Browse Campaigns"}),l.jsx("p",{className:"text-gray-600",children:"Explore verified charity campaigns across different categories and causes"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Vt,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"2. Choose & Donate"}),l.jsx("p",{className:"text-gray-600",children:"Select a campaign that resonates with you and make a secure donation"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(_l,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"3. Track Impact"}),l.jsx("p",{className:"text-gray-600",children:"Follow the campaign progress and see how your donation makes a difference"})]})]})]})}),l.jsx("section",{className:"py-20 bg-base-200",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"What People Say"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Real reviews from our community of donors and charities"})]}),d.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(v=>l.jsx("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:l.jsxs("div",{className:"card-body",children:[l.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(b=>l.jsx(xi,{className:`text-xl ${b<=v.rating?"text-warning":"text-gray-300"}`},b))}),l.jsxs("p",{className:"text-gray-600 text-center mb-6 italic",children:['"',v.comment,'"']}),l.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t",children:[l.jsx("div",{className:"avatar placeholder",children:l.jsx("div",{className:"bg-primary text-primary-content rounded-full w-12",children:l.jsx(wa,{className:"text-xl"})})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-bold text-sm",children:v.userName}),l.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",v.userId.substring(0,8),"..."]}),l.jsx("div",{className:"text-xs text-gray-400",children:new Date(v.createdAt).toLocaleDateString()})]})]})]})},v.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(xi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-medium mb-2",children:"No Reviews Yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Be the first to share your experience with our platform!"}),l.jsx(je,{to:"/signup",className:"btn btn-primary",children:"Join Now"})]})]})}),l.jsx("section",{className:"py-20 bg-primary text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Make a Difference?"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of donors who are already making a positive impact in their communities"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(je,{to:"/signup",className:"btn btn-secondary btn-lg",children:[l.jsx(tr,{className:"mr-2"}),"Join as Donor"]}),l.jsx(je,{to:"/charities/register",className:"btn btn-outline btn-lg text-white border-white hover:bg-white hover:text-primary",children:"Register Charity"})]})]})})]})};var sd=t=>t.type==="checkbox",hl=t=>t instanceof Date,Jn=t=>t==null;const Q4=t=>typeof t=="object";var Jt=t=>!Jn(t)&&!Array.isArray(t)&&Q4(t)&&!hl(t),KO=t=>Jt(t)&&t.target?sd(t.target)?t.target.checked:t.target.value:t,QO=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,YO=(t,e)=>t.has(QO(e)),WO=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},Hv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tn(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Hv&&(t instanceof Blob||s))&&(n||Jt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!WO(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Tn(t[i]));else return t;return e}var sm=t=>/^\w*$/.test(t),an=t=>t===void 0,Gv=t=>Array.isArray(t)?t.filter(Boolean):[],$v=t=>Gv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{if(!e||!Jt(t))return n;const s=(sm(e)?[e]:$v(e)).reduce((i,c)=>Jn(i)?i:i[c],t);return an(s)||s===t?an(t[e])?n:t[e]:s},Os=t=>typeof t=="boolean",qt=(t,e,n)=>{let s=-1;const i=sm(e)?[e]:$v(e),c=i.length,d=c-1;for(;++s<c;){const f=i[s];let p=n;if(s!==d){const g=t[f];p=Jt(g)||Array.isArray(g)?g:isNaN(+i[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=p,t=t[f]}};const tw={BLUR:"blur",FOCUS_OUT:"focusout"},ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ga={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XO=Dt.createContext(null);XO.displayName="HookFormContext";var ZO=(t,e,n,s=!0)=>{const i={defaultValues:e._defaultValues};for(const c in t)Object.defineProperty(i,c,{get:()=>{const d=c;return e._proxyFormState[d]!==ls.all&&(e._proxyFormState[d]=!s||ls.all),t[d]}});return i};const JO=typeof window<"u"?Dt.useLayoutEffect:Dt.useEffect;var Ps=t=>typeof t=="string",eM=(t,e,n,s,i)=>Ps(t)?(s&&e.watch.add(t),Ue(n,t,i)):Array.isArray(t)?t.map(c=>(s&&e.watch.add(c),Ue(n,c))):(s&&(e.watchAll=!0),n),Ay=t=>Jn(t)||!Q4(t);function fi(t,e,n=new WeakSet){if(Ay(t)||Ay(e))return t===e;if(hl(t)&&hl(e))return t.getTime()===e.getTime();const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const c of s){const d=t[c];if(!i.includes(c))return!1;if(c!=="ref"){const f=e[c];if(hl(d)&&hl(f)||Jt(d)&&Jt(f)||Array.isArray(d)&&Array.isArray(f)?!fi(d,f,n):d!==f)return!1}}return!0}var tM=(t,e,n,s,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:i||!0}}:{},wu=t=>Array.isArray(t)?t:[t],nw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const c of t)c.next&&c.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(c=>c!==i)}}),unsubscribe:()=>{t=[]}}},ur=t=>Jt(t)&&!Object.keys(t).length,Kv=t=>t.type==="file",os=t=>typeof t=="function",Tf=t=>{if(!Hv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Y4=t=>t.type==="select-multiple",Qv=t=>t.type==="radio",nM=t=>Qv(t)||sd(t),kg=t=>Tf(t)&&t.isConnected;function rM(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=an(t)?s++:t[e[s++]];return t}function sM(t){for(const e in t)if(t.hasOwnProperty(e)&&!an(t[e]))return!1;return!0}function rn(t,e){const n=Array.isArray(e)?e:sm(e)?[e]:$v(e),s=n.length===1?t:rM(t,n),i=n.length-1,c=n[i];return s&&delete s[c],i!==0&&(Jt(s)&&ur(s)||Array.isArray(s)&&sM(s))&&rn(t,n.slice(0,-1)),t}var W4=t=>{for(const e in t)if(os(t[e]))return!0;return!1};function Sf(t,e={}){const n=Array.isArray(t);if(Jt(t)||n)for(const s in t)Array.isArray(t[s])||Jt(t[s])&&!W4(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Sf(t[s],e[s])):Jn(t[s])||(e[s]=!0);return e}function X4(t,e,n){const s=Array.isArray(t);if(Jt(t)||s)for(const i in t)Array.isArray(t[i])||Jt(t[i])&&!W4(t[i])?an(e)||Ay(n[i])?n[i]=Array.isArray(t[i])?Sf(t[i],[]):{...Sf(t[i])}:X4(t[i],Jn(e)?{}:e[i],n[i]):n[i]=!fi(t[i],e[i]);return n}var iu=(t,e)=>X4(t,e,Sf(e));const rw={value:!1,isValid:!1},sw={value:!0,isValid:!0};var Z4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!an(t[0].attributes.value)?an(t[0].value)||t[0].value===""?sw:{value:t[0].value,isValid:!0}:sw:rw}return rw},J4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>an(t)?t:e?t===""?NaN:t&&+t:n&&Ps(t)?new Date(t):s?s(t):t;const aw={isValid:!1,value:null};var eT=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,aw):aw;function iw(t){const e=t.ref;return Kv(e)?e.files:Qv(e)?eT(t.refs).value:Y4(e)?[...e.selectedOptions].map(({value:n})=>n):sd(e)?Z4(t.refs).value:J4(an(e.value)?t.ref.value:e.value,t)}var aM=(t,e,n,s)=>{const i={};for(const c of t){const d=Ue(e,c);d&&qt(i,c,d._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:s}},Af=t=>t instanceof RegExp,lu=t=>an(t)?t:Af(t)?t.source:Jt(t)?Af(t.value)?t.value.source:t.value:t,lw=t=>({isOnSubmit:!t||t===ls.onSubmit,isOnBlur:t===ls.onBlur,isOnChange:t===ls.onChange,isOnAll:t===ls.all,isOnTouch:t===ls.onTouched});const ow="AsyncFunction";var iM=t=>!!t&&!!t.validate&&!!(os(t.validate)&&t.validate.constructor.name===ow||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ow)),lM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),cw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Eu=(t,e,n,s)=>{for(const i of n||Object.keys(t)){const c=Ue(t,i);if(c){const{_f:d,...f}=c;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],i)&&!s)return!0;if(d.ref&&e(d.ref,d.name)&&!s)return!0;if(Eu(f,e))break}else if(Jt(f)&&Eu(f,e))break}}};function uw(t,e,n){const s=Ue(t,n);if(s||sm(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const c=i.join("."),d=Ue(e,c),f=Ue(t,c);if(d&&!Array.isArray(d)&&n!==c)return{name:n};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};i.pop()}return{name:n}}var oM=(t,e,n,s)=>{n(t);const{name:i,...c}=t;return ur(c)||Object.keys(c).length>=Object.keys(e).length||Object.keys(c).find(d=>e[d]===(!s||ls.all))},cM=(t,e,n)=>!t||!e||t===e||wu(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),uM=(t,e,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?s.isOnBlur:i.isOnBlur)?!t:(n?s.isOnChange:i.isOnChange)?t:!0,dM=(t,e)=>!Gv(Ue(t,e)).length&&rn(t,e),hM=(t,e,n)=>{const s=wu(Ue(t,n));return qt(s,"root",e[n]),qt(t,n,s),t},Yh=t=>Ps(t);function dw(t,e,n="validate"){if(Yh(t)||Array.isArray(t)&&t.every(Yh)||Os(t)&&!t)return{type:n,message:Yh(t)?t:"",ref:e}}var bo=t=>Jt(t)&&!Af(t)?t:{value:t,message:""},hw=async(t,e,n,s,i,c)=>{const{ref:d,refs:f,required:p,maxLength:g,minLength:v,min:b,max:_,pattern:R,validate:M,name:D,valueAsNumber:L,mount:Y}=t._f,B=Ue(n,D);if(!Y||e.has(D))return{};const q=f?f[0]:d,G=A=>{i&&q.reportValidity&&(q.setCustomValidity(Os(A)?"":A||""),q.reportValidity())},z={},O=Qv(d),P=sd(d),N=O||P,T=(L||Kv(d))&&an(d.value)&&an(B)||Tf(d)&&d.value===""||B===""||Array.isArray(B)&&!B.length,k=tM.bind(null,D,s,z),I=(A,S,ae,V=ga.maxLength,$=ga.minLength)=>{const Z=A?S:ae;z[D]={type:A?V:$,message:Z,ref:d,...k(A?V:$,Z)}};if(c?!Array.isArray(B)||!B.length:p&&(!N&&(T||Jn(B))||Os(B)&&!B||P&&!Z4(f).isValid||O&&!eT(f).isValid)){const{value:A,message:S}=Yh(p)?{value:!!p,message:p}:bo(p);if(A&&(z[D]={type:ga.required,message:S,ref:q,...k(ga.required,S)},!s))return G(S),z}if(!T&&(!Jn(b)||!Jn(_))){let A,S;const ae=bo(_),V=bo(b);if(!Jn(B)&&!isNaN(B)){const $=d.valueAsNumber||B&&+B;Jn(ae.value)||(A=$>ae.value),Jn(V.value)||(S=$<V.value)}else{const $=d.valueAsDate||new Date(B),Z=U=>new Date(new Date().toDateString()+" "+U),ue=d.type=="time",Se=d.type=="week";Ps(ae.value)&&B&&(A=ue?Z(B)>Z(ae.value):Se?B>ae.value:$>new Date(ae.value)),Ps(V.value)&&B&&(S=ue?Z(B)<Z(V.value):Se?B<V.value:$<new Date(V.value))}if((A||S)&&(I(!!A,ae.message,V.message,ga.max,ga.min),!s))return G(z[D].message),z}if((g||v)&&!T&&(Ps(B)||c&&Array.isArray(B))){const A=bo(g),S=bo(v),ae=!Jn(A.value)&&B.length>+A.value,V=!Jn(S.value)&&B.length<+S.value;if((ae||V)&&(I(ae,A.message,S.message),!s))return G(z[D].message),z}if(R&&!T&&Ps(B)){const{value:A,message:S}=bo(R);if(Af(A)&&!B.match(A)&&(z[D]={type:ga.pattern,message:S,ref:d,...k(ga.pattern,S)},!s))return G(S),z}if(M){if(os(M)){const A=await M(B,n),S=dw(A,q);if(S&&(z[D]={...S,...k(ga.validate,S.message)},!s))return G(S.message),z}else if(Jt(M)){let A={};for(const S in M){if(!ur(A)&&!s)break;const ae=dw(await M[S](B,n),q,S);ae&&(A={...ae,...k(S,ae.message)},G(ae.message),s&&(z[D]=A))}if(!ur(A)&&(z[D]={ref:q,...A},!s))return z}}return G(!0),z};const fM={mode:ls.onSubmit,reValidateMode:ls.onChange,shouldFocusError:!0};function mM(t={}){let e={...fM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:os(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=Jt(e.defaultValues)||Jt(e.values)?Tn(e.defaultValues||e.values)||{}:{},c=e.shouldUnregister?{}:Tn(i),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...v};const _={array:nw(),state:nw()},R=e.criteriaMode===ls.all,M=Q=>ne=>{clearTimeout(g),g=setTimeout(Q,ne)},D=async Q=>{if(!e.disabled&&(v.isValid||b.isValid||Q)){const ne=e.resolver?ur((await P()).errors):await T(s,!0);ne!==n.isValid&&_.state.next({isValid:ne})}},L=(Q,ne)=>{!e.disabled&&(v.isValidating||v.validatingFields||b.isValidating||b.validatingFields)&&((Q||Array.from(f.mount)).forEach(de=>{de&&(ne?qt(n.validatingFields,de,ne):rn(n.validatingFields,de))}),_.state.next({validatingFields:n.validatingFields,isValidating:!ur(n.validatingFields)}))},Y=(Q,ne=[],de,Te,Ee=!0,_e=!0)=>{if(Te&&de&&!e.disabled){if(d.action=!0,_e&&Array.isArray(Ue(s,Q))){const we=de(Ue(s,Q),Te.argA,Te.argB);Ee&&qt(s,Q,we)}if(_e&&Array.isArray(Ue(n.errors,Q))){const we=de(Ue(n.errors,Q),Te.argA,Te.argB);Ee&&qt(n.errors,Q,we),dM(n.errors,Q)}if((v.touchedFields||b.touchedFields)&&_e&&Array.isArray(Ue(n.touchedFields,Q))){const we=de(Ue(n.touchedFields,Q),Te.argA,Te.argB);Ee&&qt(n.touchedFields,Q,we)}(v.dirtyFields||b.dirtyFields)&&(n.dirtyFields=iu(i,c)),_.state.next({name:Q,isDirty:I(Q,ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qt(c,Q,ne)},B=(Q,ne)=>{qt(n.errors,Q,ne),_.state.next({errors:n.errors})},q=Q=>{n.errors=Q,_.state.next({errors:n.errors,isValid:!1})},G=(Q,ne,de,Te)=>{const Ee=Ue(s,Q);if(Ee){const _e=Ue(c,Q,an(de)?Ue(i,Q):de);an(_e)||Te&&Te.defaultChecked||ne?qt(c,Q,ne?_e:iw(Ee._f)):ae(Q,_e),d.mount&&D()}},z=(Q,ne,de,Te,Ee)=>{let _e=!1,we=!1;const Ce={name:Q};if(!e.disabled){if(!de||Te){(v.isDirty||b.isDirty)&&(we=n.isDirty,n.isDirty=Ce.isDirty=I(),_e=we!==Ce.isDirty);const tt=fi(Ue(i,Q),ne);we=!!Ue(n.dirtyFields,Q),tt?rn(n.dirtyFields,Q):qt(n.dirtyFields,Q,!0),Ce.dirtyFields=n.dirtyFields,_e=_e||(v.dirtyFields||b.dirtyFields)&&we!==!tt}if(de){const tt=Ue(n.touchedFields,Q);tt||(qt(n.touchedFields,Q,de),Ce.touchedFields=n.touchedFields,_e=_e||(v.touchedFields||b.touchedFields)&&tt!==de)}_e&&Ee&&_.state.next(Ce)}return _e?Ce:{}},O=(Q,ne,de,Te)=>{const Ee=Ue(n.errors,Q),_e=(v.isValid||b.isValid)&&Os(ne)&&n.isValid!==ne;if(e.delayError&&de?(p=M(()=>B(Q,de)),p(e.delayError)):(clearTimeout(g),p=null,de?qt(n.errors,Q,de):rn(n.errors,Q)),(de?!fi(Ee,de):Ee)||!ur(Te)||_e){const we={...Te,..._e&&Os(ne)?{isValid:ne}:{},errors:n.errors,name:Q};n={...n,...we},_.state.next(we)}},P=async Q=>{L(Q,!0);const ne=await e.resolver(c,e.context,aM(Q||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return L(Q),ne},N=async Q=>{const{errors:ne}=await P(Q);if(Q)for(const de of Q){const Te=Ue(ne,de);Te?qt(n.errors,de,Te):rn(n.errors,de)}else n.errors=ne;return ne},T=async(Q,ne,de={valid:!0})=>{for(const Te in Q){const Ee=Q[Te];if(Ee){const{_f:_e,...we}=Ee;if(_e){const Ce=f.array.has(_e.name),tt=Ee._f&&iM(Ee._f);tt&&v.validatingFields&&L([Te],!0);const yt=await hw(Ee,f.disabled,c,R,e.shouldUseNativeValidation&&!ne,Ce);if(tt&&v.validatingFields&&L([Te]),yt[_e.name]&&(de.valid=!1,ne))break;!ne&&(Ue(yt,_e.name)?Ce?hM(n.errors,yt,_e.name):qt(n.errors,_e.name,yt[_e.name]):rn(n.errors,_e.name))}!ur(we)&&await T(we,ne,de)}}return de.valid},k=()=>{for(const Q of f.unMount){const ne=Ue(s,Q);ne&&(ne._f.refs?ne._f.refs.every(de=>!kg(de)):!kg(ne._f.ref))&&Ut(Q)}f.unMount=new Set},I=(Q,ne)=>!e.disabled&&(Q&&ne&&qt(c,Q,ne),!fi(U(),i)),A=(Q,ne,de)=>eM(Q,f,{...d.mount?c:an(ne)?i:Ps(Q)?{[Q]:ne}:ne},de,ne),S=Q=>Gv(Ue(d.mount?c:i,Q,e.shouldUnregister?Ue(i,Q,[]):[])),ae=(Q,ne,de={})=>{const Te=Ue(s,Q);let Ee=ne;if(Te){const _e=Te._f;_e&&(!_e.disabled&&qt(c,Q,J4(ne,_e)),Ee=Tf(_e.ref)&&Jn(ne)?"":ne,Y4(_e.ref)?[..._e.ref.options].forEach(we=>we.selected=Ee.includes(we.value)):_e.refs?sd(_e.ref)?_e.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(Ee)?we.checked=!!Ee.find(Ce=>Ce===we.value):we.checked=Ee===we.value||!!Ee)}):_e.refs.forEach(we=>we.checked=we.value===Ee):Kv(_e.ref)?_e.ref.value="":(_e.ref.value=Ee,_e.ref.type||_.state.next({name:Q,values:Tn(c)})))}(de.shouldDirty||de.shouldTouch)&&z(Q,Ee,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&Se(Q)},V=(Q,ne,de)=>{for(const Te in ne){if(!ne.hasOwnProperty(Te))return;const Ee=ne[Te],_e=Q+"."+Te,we=Ue(s,_e);(f.array.has(Q)||Jt(Ee)||we&&!we._f)&&!hl(Ee)?V(_e,Ee,de):ae(_e,Ee,de)}},$=(Q,ne,de={})=>{const Te=Ue(s,Q),Ee=f.array.has(Q),_e=Tn(ne);qt(c,Q,_e),Ee?(_.array.next({name:Q,values:Tn(c)}),(v.isDirty||v.dirtyFields||b.isDirty||b.dirtyFields)&&de.shouldDirty&&_.state.next({name:Q,dirtyFields:iu(i,c),isDirty:I(Q,_e)})):Te&&!Te._f&&!Jn(_e)?V(Q,_e,de):ae(Q,_e,de),cw(Q,f)&&_.state.next({...n,name:Q}),_.state.next({name:d.mount?Q:void 0,values:Tn(c)})},Z=async Q=>{d.mount=!0;const ne=Q.target;let de=ne.name,Te=!0;const Ee=Ue(s,de),_e=tt=>{Te=Number.isNaN(tt)||hl(tt)&&isNaN(tt.getTime())||fi(tt,Ue(c,de,tt))},we=lw(e.mode),Ce=lw(e.reValidateMode);if(Ee){let tt,yt;const Xr=ne.type?iw(Ee._f):KO(Q),Qt=Q.type===tw.BLUR||Q.type===tw.FOCUS_OUT,Ar=!lM(Ee._f)&&!e.resolver&&!Ue(n.errors,de)&&!Ee._f.deps||uM(Qt,Ue(n.touchedFields,de),n.isSubmitted,Ce,we),rr=cw(de,f,Qt);qt(c,de,Xr),Qt?(!ne||!ne.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(Q),p&&p(0)):Ee._f.onChange&&Ee._f.onChange(Q);const sr=z(de,Xr,Qt),Gn=!ur(sr)||rr;if(!Qt&&_.state.next({name:de,type:Q.type,values:Tn(c)}),Ar)return(v.isValid||b.isValid)&&(e.mode==="onBlur"?Qt&&D():Qt||D()),Gn&&_.state.next({name:de,...rr?{}:sr});if(!Qt&&rr&&_.state.next({...n}),e.resolver){const{errors:jr}=await P([de]);if(_e(Xr),Te){const ar=uw(n.errors,s,de),Zr=uw(jr,s,ar.name||de);tt=Zr.error,de=Zr.name,yt=ur(jr)}}else L([de],!0),tt=(await hw(Ee,f.disabled,c,R,e.shouldUseNativeValidation))[de],L([de]),_e(Xr),Te&&(tt?yt=!1:(v.isValid||b.isValid)&&(yt=await T(s,!0)));Te&&(Ee._f.deps&&Se(Ee._f.deps),O(de,yt,tt,sr))}},ue=(Q,ne)=>{if(Ue(n.errors,ne)&&Q.focus)return Q.focus(),1},Se=async(Q,ne={})=>{let de,Te;const Ee=wu(Q);if(e.resolver){const _e=await N(an(Q)?Q:Ee);de=ur(_e),Te=Q?!Ee.some(we=>Ue(_e,we)):de}else Q?(Te=(await Promise.all(Ee.map(async _e=>{const we=Ue(s,_e);return await T(we&&we._f?{[_e]:we}:we)}))).every(Boolean),!(!Te&&!n.isValid)&&D()):Te=de=await T(s);return _.state.next({...!Ps(Q)||(v.isValid||b.isValid)&&de!==n.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:de}:{},errors:n.errors}),ne.shouldFocus&&!Te&&Eu(s,ue,Q?Ee:f.mount),Te},U=Q=>{const ne={...d.mount?c:i};return an(Q)?ne:Ps(Q)?Ue(ne,Q):Q.map(de=>Ue(ne,de))},oe=(Q,ne)=>({invalid:!!Ue((ne||n).errors,Q),isDirty:!!Ue((ne||n).dirtyFields,Q),error:Ue((ne||n).errors,Q),isValidating:!!Ue(n.validatingFields,Q),isTouched:!!Ue((ne||n).touchedFields,Q)}),xe=Q=>{Q&&wu(Q).forEach(ne=>rn(n.errors,ne)),_.state.next({errors:Q?n.errors:{}})},ve=(Q,ne,de)=>{const Te=(Ue(s,Q,{_f:{}})._f||{}).ref,Ee=Ue(n.errors,Q)||{},{ref:_e,message:we,type:Ce,...tt}=Ee;qt(n.errors,Q,{...tt,...ne,ref:Te}),_.state.next({name:Q,errors:n.errors,isValid:!1}),de&&de.shouldFocus&&Te&&Te.focus&&Te.focus()},Ae=(Q,ne)=>os(Q)?_.state.subscribe({next:de=>"values"in de&&Q(A(void 0,ne),de)}):A(Q,ne,!0),Ge=Q=>_.state.subscribe({next:ne=>{cM(Q.name,ne.name,Q.exact)&&oM(ne,Q.formState||v,An,Q.reRenderRoot)&&Q.callback({values:{...c},...n,...ne,defaultValues:i})}}).unsubscribe,Fe=Q=>(d.mount=!0,b={...b,...Q.formState},Ge({...Q,formState:b})),Ut=(Q,ne={})=>{for(const de of Q?wu(Q):f.mount)f.mount.delete(de),f.array.delete(de),ne.keepValue||(rn(s,de),rn(c,de)),!ne.keepError&&rn(n.errors,de),!ne.keepDirty&&rn(n.dirtyFields,de),!ne.keepTouched&&rn(n.touchedFields,de),!ne.keepIsValidating&&rn(n.validatingFields,de),!e.shouldUnregister&&!ne.keepDefaultValue&&rn(i,de);_.state.next({values:Tn(c)}),_.state.next({...n,...ne.keepDirty?{isDirty:I()}:{}}),!ne.keepIsValid&&D()},gt=({disabled:Q,name:ne})=>{(Os(Q)&&d.mount||Q||f.disabled.has(ne))&&(Q?f.disabled.add(ne):f.disabled.delete(ne))},Ln=(Q,ne={})=>{let de=Ue(s,Q);const Te=Os(ne.disabled)||Os(e.disabled);return qt(s,Q,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:Q}},name:Q,mount:!0,...ne}}),f.mount.add(Q),de?gt({disabled:Os(ne.disabled)?ne.disabled:e.disabled,name:Q}):G(Q,!0,ne.value),{...Te?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:lu(ne.min),max:lu(ne.max),minLength:lu(ne.minLength),maxLength:lu(ne.maxLength),pattern:lu(ne.pattern)}:{},name:Q,onChange:Z,onBlur:Z,ref:Ee=>{if(Ee){Ln(Q,ne),de=Ue(s,Q);const _e=an(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,we=nM(_e),Ce=de._f.refs||[];if(we?Ce.find(tt=>tt===_e):_e===de._f.ref)return;qt(s,Q,{_f:{...de._f,...we?{refs:[...Ce.filter(kg),_e,...Array.isArray(Ue(i,Q))?[{}]:[]],ref:{type:_e.type,name:Q}}:{ref:_e}}}),G(Q,!1,void 0,_e)}else de=Ue(s,Q,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(YO(f.array,Q)&&d.action)&&f.unMount.add(Q)}}},Tt=()=>e.shouldFocusError&&Eu(s,ue,f.mount),yn=Q=>{Os(Q)&&(_.state.next({disabled:Q}),Eu(s,(ne,de)=>{const Te=Ue(s,de);Te&&(ne.disabled=Te._f.disabled||Q,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Ee=>{Ee.disabled=Te._f.disabled||Q}))},0,!1))},mr=(Q,ne)=>async de=>{let Te;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let Ee=Tn(c);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:we}=await P();n.errors=_e,Ee=Tn(we)}else await T(s);if(f.disabled.size)for(const _e of f.disabled)rn(Ee,_e);if(rn(n.errors,"root"),ur(n.errors)){_.state.next({errors:{}});try{await Q(Ee,de)}catch(_e){Te=_e}}else ne&&await ne({...n.errors},de),Tt(),setTimeout(Tt);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ur(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},Wr=(Q,ne={})=>{Ue(s,Q)&&(an(ne.defaultValue)?$(Q,Tn(Ue(i,Q))):($(Q,ne.defaultValue),qt(i,Q,Tn(ne.defaultValue))),ne.keepTouched||rn(n.touchedFields,Q),ne.keepDirty||(rn(n.dirtyFields,Q),n.isDirty=ne.defaultValue?I(Q,Tn(Ue(i,Q))):I()),ne.keepError||(rn(n.errors,Q),v.isValid&&D()),_.state.next({...n}))},vn=(Q,ne={})=>{const de=Q?Tn(Q):i,Te=Tn(de),Ee=ur(Q),_e=Ee?i:Te;if(ne.keepDefaultValues||(i=de),!ne.keepValues){if(ne.keepDirtyValues){const we=new Set([...f.mount,...Object.keys(iu(i,c))]);for(const Ce of Array.from(we))Ue(n.dirtyFields,Ce)?qt(_e,Ce,Ue(c,Ce)):$(Ce,Ue(_e,Ce))}else{if(Hv&&an(Q))for(const we of f.mount){const Ce=Ue(s,we);if(Ce&&Ce._f){const tt=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(Tf(tt)){const yt=tt.closest("form");if(yt){yt.reset();break}}}}if(ne.keepFieldsRef)for(const we of f.mount)$(we,Ue(_e,we));else s={}}c=e.shouldUnregister?ne.keepDefaultValues?Tn(i):{}:Tn(_e),_.array.next({values:{..._e}}),_.state.next({values:{..._e}})}f={mount:ne.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,d.watch=!!e.shouldUnregister,_.state.next({submitCount:ne.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:ne.keepDirty?n.isDirty:!!(ne.keepDefaultValues&&!fi(Q,i)),isSubmitted:ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:ne.keepDirtyValues?ne.keepDefaultValues&&c?iu(i,c):n.dirtyFields:ne.keepDefaultValues&&Q?iu(i,Q):ne.keepDirty?n.dirtyFields:{},touchedFields:ne.keepTouched?n.touchedFields:{},errors:ne.keepErrors?n.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},gs=(Q,ne)=>vn(os(Q)?Q(c):Q,ne),Ra=(Q,ne={})=>{const de=Ue(s,Q),Te=de&&de._f;if(Te){const Ee=Te.refs?Te.refs[0]:Te.ref;Ee.focus&&(Ee.focus(),ne.shouldSelect&&os(Ee.select)&&Ee.select())}},An=Q=>{n={...n,...Q}},ys={control:{register:Ln,unregister:Ut,getFieldState:oe,handleSubmit:mr,setError:ve,_subscribe:Ge,_runSchema:P,_focusError:Tt,_getWatch:A,_getDirty:I,_setValid:D,_setFieldArray:Y,_setDisabledField:gt,_setErrors:q,_getFieldArray:S,_reset:vn,_resetDefaultValues:()=>os(e.defaultValues)&&e.defaultValues().then(Q=>{gs(Q,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:yn,_subjects:_,_proxyFormState:v,get _fields(){return s},get _formValues(){return c},get _state(){return d},set _state(Q){d=Q},get _defaultValues(){return i},get _names(){return f},set _names(Q){f=Q},get _formState(){return n},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:Fe,trigger:Se,register:Ln,handleSubmit:mr,watch:Ae,setValue:$,getValues:U,reset:gs,resetField:Wr,clearErrors:xe,unregister:Ut,setError:ve,setFocus:Ra,getFieldState:oe};return{...ys,formControl:ys}}function Yv(t={}){const e=Dt.useRef(void 0),n=Dt.useRef(void 0),[s,i]=Dt.useState({isDirty:!1,isValidating:!1,isLoading:os(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:os(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!os(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:d,...f}=mM(t);e.current={...f,formState:s}}const c=e.current.control;return c._options=t,JO(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>i({...c._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),c._formState.isReady=!0,d},[c]),Dt.useEffect(()=>c._disableForm(t.disabled),[c,t.disabled]),Dt.useEffect(()=>{t.mode&&(c._options.mode=t.mode),t.reValidateMode&&(c._options.reValidateMode=t.reValidateMode)},[c,t.mode,t.reValidateMode]),Dt.useEffect(()=>{t.errors&&(c._setErrors(t.errors),c._focusError())},[c,t.errors]),Dt.useEffect(()=>{t.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,t.shouldUnregister]),Dt.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==s.isDirty&&c._subjects.state.next({isDirty:d})}},[c,s.isDirty]),Dt.useEffect(()=>{t.values&&!fi(t.values,n.current)?(c._reset(t.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=t.values,i(d=>({...d}))):c._resetDefaultValues()},[c,t.values]),Dt.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),e.current.formState=ZO(s,c),e.current}const tT="user_roles",nT=()=>{try{const t=localStorage.getItem(tT);return t?JSON.parse(t):{}}catch(t){return console.error("Error reading user roles:",t),{}}},pM=t=>t&&nT()[t.toLowerCase()]||null,rT=(t,e)=>{if(!t||!e)return!1;try{const n=nT();return n[t.toLowerCase()]=e,localStorage.setItem(tT,JSON.stringify(n)),!0}catch(n){return console.error("Error setting user role:",n),!1}},gM=()=>{const{login:t,signup:e,loginWithGoogle:n,setRole:s}=nr(),i=Tl(),c=Yr(),[d,f]=F.useState(!1),[p,g]=F.useState(""),[v,b]=F.useState(!1),_=c.state?.from?.pathname||"/dashboard",{register:R,handleSubmit:M,formState:{errors:D}}=Yv(),L=async B=>{try{g(""),b(!0);const q="admin@charity.com",G="admin123",z=B?.email?.toLowerCase()===q?.toLowerCase()&&B?.password===G;try{if(await t(B.email,B.password),z)rT(B.email,"admin"),await s("admin"),i("/dashboard/admin",{replace:!0});else{const O=pM(B.email)||"donor";await s(O),i(`/dashboard/${O}`,{replace:!0})}}catch(O){if(z&&(O?.code==="auth/user-not-found"||O?.code==="auth/invalid-credential"))try{await e(B.email,B.password),await s("admin"),i("/dashboard/admin",{replace:!0});return}catch(P){throw console.error("Admin signup error:",P),P}throw O}}catch(q){q?.code==="auth/operation-not-allowed"?g("Email/Password sign-in is disabled in Firebase. Enable it in Authentication > Sign-in method. (auth/operation-not-allowed)"):q?.code==="auth/wrong-password"?g("Incorrect password. (auth/wrong-password)"):q?.code==="auth/user-not-found"?g("User not found. (auth/user-not-found)"):q?.code==="auth/invalid-credential"?g("Invalid email or password. (auth/invalid-credential)"):q?.code==="auth/network-request-failed"?g("Network error. Check your internet connection and try again. (auth/network-request-failed)"):g(`Failed to log in. Please check your credentials.${q?.code?` (${q.code})`:""}`),console.error("Login error:",q)}finally{b(!1)}},Y=async()=>{try{g(""),b(!0),await n(),i(_,{replace:!0})}catch(B){g("Failed to log in with Google."),console.error("Google login error:",B)}finally{b(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-white-500",children:"Sign in to your account"}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",l.jsx(je,{to:"/signup",className:"font-medium text-primary hover:text-primary/80",children:"create a new account"})]})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[p&&l.jsxs("div",{className:"alert alert-error",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:p})]}),l.jsxs("form",{onSubmit:M(L),className:"space-y-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Email address"})}),l.jsx("input",{...R("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input input-bordered w-full",placeholder:"Enter your email"}),D.email&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.email.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Password"})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{...R("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:d?"text":"password",className:"input input-bordered w-full pr-10",placeholder:"Enter your password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!d),children:d?l.jsx(wy,{className:"h-4 w-4 text-gray-400"}):l.jsx(ja,{className:"h-4 w-4 text-gray-400"})})]}),D.password&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.password.message})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"label cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),l.jsx("span",{className:"label-text ml-2",children:"Remember me"})]}),l.jsx(je,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary w-full",children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"loading loading-spinner loading-sm"}),"Signing in..."]}):"Sign in"})]}),l.jsx("div",{className:"divider",children:"OR"}),l.jsxs("button",{onClick:Y,disabled:v,className:"btn btn-outline w-full flex items-center justify-center gap-2",children:[l.jsx(P4,{className:"h-5 w-5"}),"Continue with Google"]})]})})]})})},yM=()=>{const{signup:t,loginWithGoogle:e,setRole:n}=nr(),s=Tl(),[i,c]=F.useState(!1),[d,f]=F.useState(!1),[p,g]=F.useState(""),[v,b]=F.useState(!1),{register:_,handleSubmit:R,watch:M,formState:{errors:D}}=Yv(),L=M("password"),Y=async q=>{try{g(""),b(!0),await t(q.email,q.password,{displayName:q.name,role:q.role}),rT(q.email,q.role),await n(q.role),q.role==="admin"?s("/dashboard/admin",{replace:!0}):q.role==="charity"?s("/dashboard/charity",{replace:!0}):s("/dashboard/donor",{replace:!0})}catch(G){g("Failed to create account. Please try again."),console.error("Signup error:",G)}finally{b(!1)}},B=async()=>{try{g(""),b(!0),await e(),n("donor"),s("/dashboard")}catch(q){g("Failed to sign up with Google."),console.error("Google signup error:",q)}finally{b(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",l.jsx(je,{to:"/login",className:"font-medium text-primary hover:text-primary/80",children:"sign in to your existing account"})]})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[p&&l.jsxs("div",{className:"alert alert-error",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:p})]}),l.jsxs("form",{onSubmit:R(Y),className:"space-y-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Full Name"})}),l.jsx("input",{..._("name",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input input-bordered w-full",placeholder:"Enter your full name"}),D.name&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.name.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Email address"})}),l.jsx("input",{..._("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input input-bordered w-full",placeholder:"Enter your email"}),D.email&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.email.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Account Type"})}),l.jsxs("select",{..._("role",{required:"Please select an account type"}),className:"select select-bordered w-full",children:[l.jsx("option",{value:"",children:"Select account type"}),l.jsx("option",{value:"donor",children:"Donor - I want to donate to causes"}),l.jsx("option",{value:"charity",children:"Charity - I represent an organization"})]}),D.role&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.role.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Password"})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{..._("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:i?"text":"password",className:"input input-bordered w-full pr-10",placeholder:"Enter your password (min 6 characters)"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!i),children:i?l.jsx(wy,{className:"h-4 w-4 text-gray-400"}):l.jsx(ja,{className:"h-4 w-4 text-gray-400"})})]}),D.password&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.password.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Confirm Password"})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{..._("confirmPassword",{required:"Please confirm your password",validate:q=>q===L||"Passwords do not match"}),type:d?"text":"password",className:"input input-bordered w-full pr-10",placeholder:"Confirm your password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!d),children:d?l.jsx(wy,{className:"h-4 w-4 text-gray-400"}):l.jsx(ja,{className:"h-4 w-4 text-gray-400"})})]}),D.confirmPassword&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.confirmPassword.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsxs("label",{className:"label cursor-pointer",children:[l.jsx("input",{..._("terms",{required:"You must accept the terms and conditions"}),type:"checkbox",className:"checkbox checkbox-primary"}),l.jsxs("span",{className:"label-text ml-2",children:["I agree to the"," ",l.jsx(je,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms and Conditions"})," ","and"," ",l.jsx(je,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})]}),D.terms&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error",children:D.terms.message})})]}),l.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary w-full",children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"loading loading-spinner loading-sm"}),"Creating account..."]}):"Create account"})]}),l.jsx("div",{className:"divider",children:"OR"}),l.jsxs("button",{onClick:B,disabled:v,className:"btn btn-outline w-full flex items-center justify-center gap-2",children:[l.jsx(P4,{className:"h-5 w-5"}),"Continue with Google"]})]})})]})})},vM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState({}),[i,c]=F.useState(""),[d,f]=F.useState(""),[p,g]=F.useState("newest"),[v,b]=F.useState([]),[_,R]=F.useState(!0),M=[...new Set(t.map(G=>G.category))];F.useEffect(()=>{const G=Ms("approved");e(G),b(G);const z=qv();s(z),R(!1)},[]);const D=G=>{const z=G.target.value.toLowerCase();c(z),B(z,d,p)},L=G=>{f(G),B(i,G,p)},Y=G=>{g(G),B(i,d,G)},B=(G,z,O)=>{let P=t.filter(N=>{const T=N.title.toLowerCase().includes(G)||N.description.toLowerCase().includes(G)||N.category.toLowerCase().includes(G),k=!z||N.category===z;return T&&k});switch(O){case"newest":P.sort((N,T)=>new Date(T.createdAt)-new Date(N.createdAt));break;case"oldest":P.sort((N,T)=>new Date(N.createdAt)-new Date(T.createdAt));break;case"most_funded":P.sort((N,T)=>T.currentAmount/T.goalAmount-N.currentAmount/N.goalAmount);break;case"least_funded":P.sort((N,T)=>N.currentAmount/N.goalAmount-T.currentAmount/T.goalAmount);break;case"most_donors":P.sort((N,T)=>T.donors-N.donors);break;case"ending_soon":P.sort((N,T)=>new Date(N.endDate)-new Date(T.endDate));break}b(P)},q=G=>{const P=new Date(G)-new Date,N=Math.ceil(P/(1e3*60*60*24));return N>0?N:0};return _?l.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"Charity Campaigns - Browse All Causes"}),l.jsx("meta",{name:"description",content:"Browse all verified charity campaigns. Support education, healthcare, emergency relief, and more causes across Bangladesh."})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Campaigns"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover and support verified charity campaigns making a real difference in communities across Bangladesh"})]}),l.jsx("div",{className:"bg-base-100 rounded-lg shadow-lg p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"input input-bordered w-full pl-10",value:i,onChange:D})]})}),l.jsx("div",{className:"lg:w-64",children:l.jsxs("select",{className:"select select-bordered w-full",value:d,onChange:G=>L(G.target.value),children:[l.jsx("option",{value:"",children:"All Categories"}),M.map(G=>l.jsx("option",{value:G,children:G.charAt(0).toUpperCase()+G.slice(1)},G))]})}),l.jsx("div",{className:"lg:w-48",children:l.jsxs("select",{className:"select select-bordered w-full",value:p,onChange:G=>Y(G.target.value),children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"most_funded",children:"Most Funded"}),l.jsx("option",{value:"least_funded",children:"Least Funded"}),l.jsx("option",{value:"most_donors",children:"Most Donors"}),l.jsx("option",{value:"ending_soon",children:"Ending Soon"})]})})]})}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(G=>l.jsxs("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300",children:[l.jsxs("figure",{className:"relative",children:[l.jsx("img",{src:G.image,alt:G.title,className:"h-48 w-full object-cover",onError:z=>{z.target.src="https://via.placeholder.com/400x200"}}),l.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[l.jsx("span",{className:"badge badge-primary capitalize",children:G.category}),q(G.endDate)<=7&&q(G.endDate)>0&&l.jsxs("span",{className:"badge badge-error",children:[l.jsx(wl,{className:"mr-1"})," ",q(G.endDate)," days left"]})]}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsxs("span",{className:"badge badge-success gap-1",children:[l.jsx(Aa,{})," Approved"]})})]}),l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title text-lg line-clamp-2",children:G.title}),l.jsx("p",{className:"text-gray-600 line-clamp-2",children:G.description}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:l.jsxs("p",{children:["By: ",l.jsx("span",{className:"font-medium",children:G.charityName})]})}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:"font-semibold",children:["৳",G.currentAmount.toLocaleString()]}),l.jsxs("span",{className:"text-gray-500",children:["of ৳",G.goalAmount.toLocaleString()]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:G.currentAmount,max:G.goalAmount}),l.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[l.jsxs("span",{className:"font-semibold",children:[Math.round(G.currentAmount/G.goalAmount*100),"% funded"]}),l.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[l.jsx(tr,{className:"text-xs"}),n[G.id]||0," ",(n[G.id]||0)===1?"donor":"donors"]})]})]}),l.jsxs("div",{className:"card-actions justify-between mt-4",children:[l.jsx(je,{to:`/campaigns/${G.id}`,className:"btn btn-primary btn-sm flex-1",children:"View Details"}),l.jsxs(je,{to:`/campaigns/${G.id}/donate`,className:"btn btn-outline btn-sm flex-1",children:[l.jsx(Vt,{className:"mr-1"}),"Donate"]})]})]})]},G.id))}),v.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No campaigns found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or filters"}),l.jsx("button",{onClick:()=>{c(""),f(""),g("newest"),b(t)},className:"btn btn-primary",children:"Clear Filters"})]}),v.length>0&&l.jsx("div",{className:"text-center mt-8",children:l.jsxs("p",{className:"text-gray-600",children:["Showing ",v.length," of ",t.length," approved campaigns"]})})]})})]})},xM=()=>{const{id:t}=Dy(),[e,n]=F.useState(null),[s,i]=F.useState(0),[c,d]=F.useState(!0);return F.useEffect(()=>{const p=Hn().find(g=>g.id===t);if(n(p),p){const g=FO(t);i(g)}d(!1)},[t]),c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):e?l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsxs("title",{children:[e.title," - Charity Campaign"]}),l.jsx("meta",{name:"description",content:e.description})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsx("figure",{children:l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-96 object-cover",onError:f=>{f.target.src="https://via.placeholder.com/800x400"}})})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"badge badge-primary capitalize",children:e.category}),e.status==="approved"&&l.jsxs("span",{className:"badge badge-success",children:[l.jsx(Aa,{className:"mr-1"})," Approved"]}),e.status==="pending"&&l.jsx("span",{className:"badge badge-warning",children:"Pending Review"})]}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),l.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-base-200 rounded-lg",children:[l.jsx(Ri,{className:"text-2xl text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Organized by"}),l.jsx("p",{className:"font-bold text-lg",children:e.charityName}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Charity ID: ",e.charityId]})]})]}),l.jsx("div",{className:"divider",children:"Campaign Description"}),l.jsx("p",{className:"text-lg text-gray-700 whitespace-pre-line leading-relaxed mb-6",children:e.description}),l.jsx("div",{className:"divider",children:"Additional Information"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Goal Amount"}),l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["৳",e.goalAmount.toLocaleString()]})]}),l.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount Raised"}),l.jsxs("p",{className:"text-2xl font-bold text-success",children:["৳",(e.currentAmount||0).toLocaleString()]})]}),l.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Start Date"}),l.jsx("p",{className:"font-semibold",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"End Date"}),l.jsx("p",{className:"font-semibold",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl sticky top-24",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Support This Campaign"}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"text-center mb-4 p-4 bg-primary/10 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Raised"}),l.jsxs("p",{className:"text-3xl font-bold text-primary",children:["৳",(e.currentAmount||0).toLocaleString()]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["of ৳",e.goalAmount.toLocaleString()," goal"]})]}),l.jsx("progress",{className:"progress progress-primary w-full h-3",value:e.currentAmount||0,max:e.goalAmount}),l.jsxs("div",{className:"flex justify-between text-sm mt-3",children:[l.jsxs("span",{className:"font-semibold text-primary",children:[Math.round((e.currentAmount||0)/e.goalAmount*100),"% funded"]}),l.jsxs("span",{className:"text-gray-600",children:["৳",(e.goalAmount-(e.currentAmount||0)).toLocaleString()," to go"]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 p-2 bg-base-200 rounded-lg",children:[l.jsx(tr,{className:"text-primary"}),l.jsx("span",{className:"font-semibold",children:s}),l.jsx("span",{className:"text-sm text-gray-600",children:s===1?"donor":"donors"})]})]}),e.status==="approved"?l.jsxs(je,{to:`/campaigns/${e.id}/donate`,className:"btn btn-primary w-full mb-4",children:[l.jsx(Vt,{className:"mr-2"}),"Donate Now"]}):l.jsx("button",{className:"btn btn-disabled w-full mb-4",disabled:!0,children:"Campaign Pending Approval"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[l.jsx(mO,{className:"mr-1"}),"Share"]}),l.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[l.jsx(lO,{className:"mr-1"}),"Save"]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title mb-4",children:"Campaign Timeline"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(bl,{className:"text-primary mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Created"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(bl,{className:"text-success mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"End Date"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.endDate)>new Date?`${Math.ceil((new Date(e.endDate)-new Date)/(1e3*60*60*24))} days remaining`:"Campaign ended"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(em,{className:"text-info mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Location"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Bangladesh"})]})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title mb-4",children:"Organized by"}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"avatar placeholder",children:l.jsx("div",{className:"bg-primary text-primary-content rounded-full w-16",children:l.jsx("span",{className:"text-2xl",children:e.charityName.charAt(0).toUpperCase()})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-lg",children:e.charityName}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[l.jsx(Aa,{className:"text-success"}),"Registered Charity"]})]})]}),l.jsx(je,{to:`/campaigns?charity=${e.charityId}`,className:"btn btn-outline btn-sm w-full",children:"View All Campaigns"})]})})]})]})})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The campaign you're looking for doesn't exist."}),l.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"Back to Campaigns"})]})})},bM=()=>{const{id:t}=Dy(),e=Tl(),{currentUser:n}=nr(),[s,i]=F.useState(null),[c,d]=F.useState(!0),[f,p]=F.useState(""),[g,v]=F.useState("bkash"),[b,_]=F.useState(!1),[R,M]=F.useState(!1);if(F.useEffect(()=>{const Y=Hn().find(B=>B.id===t);i(Y),d(!1)},[t]),c)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})});if(!s)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsx("div",{className:"text-center",children:l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"})})});const D=async L=>{if(L.preventDefault(),!n){alert("Please login to make a donation"),e("/login");return}if(!f||parseInt(f)<100){alert("Minimum donation amount is 100 BDT");return}M(!0);try{await new Promise(B=>setTimeout(B,1500));const Y=parseInt(f);kO(s.id,Y),VO({userId:n.uid,userEmail:n.email,userName:n.displayName||"Anonymous",campaignId:s.id,campaignTitle:s.title,charityName:s.charityName,amount:Y,paymentMethod:g,anonymous:b}),alert(`Thank you for your donation of ৳${Y.toLocaleString()}!

Your contribution will make a real difference.`),e(`/campaigns/${s.id}`)}catch(Y){console.error("Donation error:",Y),alert("Failed to process donation. Please try again."),M(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsxs("title",{children:["Donate to ",s.title]})}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Make a Donation"}),l.jsxs("div",{className:"bg-base-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-bold mb-2",children:s.title}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["By: ",s.charityName]}),l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{children:["Raised: ৳",(s.currentAmount||0).toLocaleString()]}),l.jsxs("span",{children:["Goal: ৳",s.goalAmount.toLocaleString()]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:s.currentAmount||0,max:s.goalAmount}),l.jsxs("div",{className:"text-center text-sm text-gray-600 mt-2",children:[Math.round((s.currentAmount||0)/s.goalAmount*100),"% funded"]})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Donation Amount (BDT)"})}),l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[1e3,2500,5e3,1e4].map(L=>l.jsx("button",{type:"button",onClick:()=>p(L.toString()),className:`btn btn-outline ${f===L.toString()?"btn-primary":""}`,children:L.toLocaleString()},L))}),l.jsx("input",{type:"number",placeholder:"Enter custom amount",className:"input input-bordered w-full",value:f,onChange:L=>p(L.target.value),min:"100",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Payment Method"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-base-200",children:[l.jsx("input",{type:"radio",name:"payment",value:"bkash",checked:g==="bkash",onChange:L=>v(L.target.value),className:"radio radio-primary"}),l.jsx(hO,{className:"text-primary"}),l.jsx("span",{children:"bKash"})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-base-200",children:[l.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:g==="paypal",onChange:L=>v(L.target.value),className:"radio radio-primary"}),l.jsx(nO,{className:"text-primary"}),l.jsx("span",{children:"PayPal"})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-base-200",children:[l.jsx("input",{type:"radio",name:"payment",value:"card",checked:g==="card",onChange:L=>v(L.target.value),className:"radio radio-primary"}),l.jsx(k4,{className:"text-primary"}),l.jsx("span",{children:"Credit/Debit Card"})]})]})]}),l.jsx("div",{className:"form-control",children:l.jsxs("label",{className:"label cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:b,onChange:L=>_(L.target.checked)}),l.jsx("span",{className:"label-text",children:"Make this donation anonymous"})]})}),l.jsxs("div",{className:"bg-primary/10 rounded-lg p-4",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Donation Summary"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Amount:"}),l.jsx("span",{className:"font-semibold",children:f?`${parseInt(f).toLocaleString()} BDT`:"0 BDT"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Payment Method:"}),l.jsx("span",{className:"font-semibold capitalize",children:g})]}),b&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Visibility:"}),l.jsx("span",{className:"font-semibold",children:"Anonymous"})]})]}),l.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg",disabled:!f||parseInt(f)<100||R,children:R?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"loading loading-spinner"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Vt,{className:"mr-2"}),"Donate ",f?`৳${parseInt(f).toLocaleString()}`:""]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Your donation is secure and will be processed immediately."})})]})})})})})]})},_M=()=>l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Create Campaign - Charity Platform"})}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Create New Campaign"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Start a fundraising campaign to support your cause"})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(El,{className:"text-6xl text-primary mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Creation Form"}),l.jsx("p",{className:"text-gray-600",children:"Fill out the details below to create your campaign"})]}),l.jsxs("form",{className:"space-y-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Campaign Title *"})}),l.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter campaign title",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Category *"})}),l.jsxs("select",{className:"select select-bordered",required:!0,children:[l.jsx("option",{value:"",children:"Select category"}),l.jsx("option",{value:"education",children:"Education"}),l.jsx("option",{value:"healthcare",children:"Healthcare"}),l.jsx("option",{value:"emergency",children:"Emergency Relief"}),l.jsx("option",{value:"women",children:"Women Empowerment"}),l.jsx("option",{value:"environment",children:"Environment"}),l.jsx("option",{value:"children",children:"Children"}),l.jsx("option",{value:"elderly",children:"Elderly Care"}),l.jsx("option",{value:"animals",children:"Animal Welfare"})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Short Description *"})}),l.jsx("textarea",{className:"textarea textarea-bordered h-24",placeholder:"Brief description of your campaign",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Detailed Story *"})}),l.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Tell your story in detail",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Funding Goal (BDT) *"})}),l.jsx("input",{type:"number",className:"input input-bordered",placeholder:"Enter amount",min:"1000",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Campaign Duration (Days) *"})}),l.jsx("input",{type:"number",className:"input input-bordered",placeholder:"30",min:"7",max:"365",required:!0})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Campaign Images *"})}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx(Nf,{className:"text-4xl text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Upload campaign images"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload at least 3 images (max 5)"}),l.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs",multiple:!0,accept:"image/*"})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Urgency Level *"})}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"urgency",value:"low",className:"radio radio-primary"}),l.jsx("span",{children:"Low Priority"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"urgency",value:"medium",className:"radio radio-primary"}),l.jsx("span",{children:"Moderate"})]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:"urgency",value:"high",className:"radio radio-primary"}),l.jsx("span",{children:"Urgent"})]})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Tags"})}),l.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter tags separated by commas"})]}),l.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[l.jsx(El,{className:"mr-2"}),"Create Campaign"]})]})]})})]})})})]}),wM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0);return F.useEffect(()=>{const i=Hn(),c={};i.forEach(f=>{c[f.charityId]||(c[f.charityId]={id:f.charityId,name:f.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0}),c[f.charityId].campaigns.push(f),c[f.charityId].totalCampaigns++,c[f.charityId].totalRaised+=f.currentAmount,f.status==="approved"&&c[f.charityId].approvedCampaigns++});const d=Object.values(c);e(d),s(!1)},[]),n?l.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"Verified Charities - Charity Platform"}),l.jsx("meta",{name:"description",content:"Browse verified charity organizations making a positive impact in Bangladesh. Support trusted causes."})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Verified Charities"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover trusted charity organizations making a real difference in communities across Bangladesh"})]}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🏢"}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Charities Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first charity to register and start making a difference!"}),l.jsxs(je,{to:"/charities/register",className:"btn btn-primary",children:[l.jsx(Ri,{className:"mr-2"}),"Register Your Charity"]})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(i=>l.jsx("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"avatar placeholder",children:l.jsx("div",{className:"bg-primary text-primary-content rounded-full w-16",children:l.jsx("span",{className:"text-2xl",children:i.name.charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"card-title text-lg",children:i.name}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Aa,{className:"text-success text-sm"}),l.jsx("span",{className:"text-xs text-gray-600",children:"Registered Charity"})]})]})]}),l.jsx("div",{className:"divider my-2"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:i.totalCampaigns}),l.jsx("div",{className:"text-xs text-gray-600",children:"Total Campaigns"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-success",children:i.approvedCampaigns}),l.jsx("div",{className:"text-xs text-gray-600",children:"Approved"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-warning",children:i.totalCampaigns-i.approvedCampaigns}),l.jsx("div",{className:"text-xs text-gray-600",children:"Pending"})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-secondary/20 to-accent/20 p-4 rounded-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Amount Raised"}),l.jsxs("div",{className:"text-3xl font-bold text-secondary",children:["৳",i.totalRaised.toLocaleString()]})]})}),l.jsx("div",{className:"card-actions justify-center mt-4",children:l.jsxs(je,{to:`/campaigns?charity=${i.id}`,className:"btn btn-primary btn-block",children:[l.jsx(Vt,{className:"mr-2"}),"View Campaigns"]})})]})},i.id))}),t.length>0&&l.jsx("div",{className:"text-center mt-12",children:l.jsxs("div",{className:"stats shadow mb-6",children:[l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Charities"}),l.jsx("div",{className:"stat-value text-primary",children:t.length})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Campaigns"}),l.jsx("div",{className:"stat-value text-secondary",children:t.reduce((i,c)=>i+c.totalCampaigns,0)})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Raised"}),l.jsxs("div",{className:"stat-value text-accent",children:["৳",t.reduce((i,c)=>i+c.totalRaised,0).toLocaleString()]})]})]})})]})})]})},EM=[{id:1,name:"Bangladesh Red Crescent Society",description:"Leading humanitarian organization providing emergency relief and disaster response services across Bangladesh.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.8,totalCampaigns:45,totalRaised:25e5,establishedYear:1971,location:"Dhaka, Bangladesh",website:"https://www.bdrcs.org",email:"info@bdrcs.org",phone:"+880-2-9876543",categories:["Emergency Relief","Disaster Response","Healthcare"],teamMembers:[{name:"Dr. Ahmed Hassan",role:"Director",image:"/api/placeholder/80/80"},{name:"Fatima Begum",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Mohammad Ali",role:"Field Coordinator",image:"/api/placeholder/80/80"}]},{id:2,name:"Teach for Bangladesh",description:"Dedicated to providing quality education to underprivileged children and improving educational outcomes.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.6,totalCampaigns:32,totalRaised:18e5,establishedYear:2012,location:"Dhaka, Bangladesh",website:"https://www.teachforbangladesh.org",email:"contact@teachforbangladesh.org",phone:"+880-2-8765432",categories:["Education","Children","Youth Development"],teamMembers:[{name:"Sarah Ahmed",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rashid Khan",role:"Education Specialist",image:"/api/placeholder/80/80"}]},{id:3,name:"WaterAid Bangladesh",description:"Working to ensure everyone has access to clean water, decent toilets, and good hygiene.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.7,totalCampaigns:28,totalRaised:32e5,establishedYear:1986,location:"Dhaka, Bangladesh",website:"https://www.wateraid.org/bd",email:"bangladesh@wateraid.org",phone:"+880-2-7654321",categories:["Water","Sanitation","Health"],teamMembers:[{name:"Dr. Nasreen Begum",role:"Country Director",image:"/api/placeholder/80/80"},{name:"Karim Uddin",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Ayesha Rahman",role:"Community Coordinator",image:"/api/placeholder/80/80"}]},{id:4,name:"Bangladesh Medical Association",description:"Professional medical organization working to improve healthcare services and medical education.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.5,totalCampaigns:38,totalRaised:45e5,establishedYear:1972,location:"Dhaka, Bangladesh",website:"https://www.bma.org.bd",email:"secretary@bma.org.bd",phone:"+880-2-6543210",categories:["Healthcare","Medical Education","Public Health"],teamMembers:[{name:"Prof. Dr. Md. Iqbal Arslan",role:"President",image:"/api/placeholder/80/80"},{name:"Dr. Farhana Yasmin",role:"Secretary General",image:"/api/placeholder/80/80"}]},{id:5,name:"Women for Women Bangladesh",description:"Empowering women through education, training, and economic opportunities.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.4,totalCampaigns:25,totalRaised:12e5,establishedYear:2005,location:"Dhaka, Bangladesh",website:"https://www.womenforwomenbd.org",email:"info@womenforwomenbd.org",phone:"+880-2-5432109",categories:["Women Empowerment","Education","Economic Development"],teamMembers:[{name:"Nazma Akter",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rokeya Begum",role:"Program Coordinator",image:"/api/placeholder/80/80"}]}],NM=()=>{const{id:t}=Dy(),e=EM.find(n=>n.id===parseInt(t));return e?l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsxs("title",{children:[e.name," - Charity Profile"]}),l.jsx("meta",{name:"description",content:e.description})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl mb-8",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("img",{src:e.logo,alt:e.name,className:"w-24 h-24 rounded-full mx-auto md:mx-0"}),l.jsxs("div",{className:"flex-1 text-center md:text-left",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.name}),l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[l.jsx(xi,{className:"text-yellow-400"}),l.jsx("span",{className:"font-semibold",children:e.rating}),l.jsx("span",{className:"badge badge-success",children:"Verified"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:e.categories.map((n,s)=>l.jsx("span",{className:"badge badge-primary",children:n},s))})]})]})})}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title mb-4",children:["About ",e.name]}),l.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[e.description," Founded in ",e.establishedYear,", we have been working tirelessly to make a positive impact in our communities. Our mission is to create lasting change through verified campaigns and transparent operations."]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Our Team"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.teamMembers.map((n,s)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg",children:[l.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.role})]})]},s))})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title mb-4",children:"Statistics"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Total Campaigns"}),l.jsx("span",{className:"font-bold text-primary",children:e.totalCampaigns})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Total Raised"}),l.jsxs("span",{className:"font-bold text-secondary",children:[e.totalRaised.toLocaleString()," BDT"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Rating"}),l.jsxs("span",{className:"font-bold text-accent",children:[e.rating,"/5"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Established"}),l.jsx("span",{className:"font-bold",children:e.establishedYear})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title mb-4",children:"Contact Information"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(FaMapMarkerAlt,{className:"text-primary"}),l.jsx("span",{className:"text-sm",children:e.location})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zu,{className:"text-primary"}),l.jsx("span",{className:"text-sm",children:e.email})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tm,{className:"text-primary"}),l.jsx("span",{className:"text-sm",children:e.phone})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(oO,{className:"text-primary"}),l.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Visit Website"})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title mb-4",children:"Support This Charity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{className:"btn btn-primary w-full",children:[l.jsx(Vt,{className:"mr-2"}),"View Campaigns"]}),l.jsxs("button",{className:"btn btn-outline w-full",children:[l.jsx(tr,{className:"mr-2"}),"Follow Charity"]})]})]})})]})]})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsx("div",{className:"text-center",children:l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Not Found"})})})},TM=()=>l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"Register Your Charity - Charity Platform"}),l.jsx("meta",{name:"description",content:"Register your charity organization to start fundraising campaigns and connect with donors."})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Register Your Charity"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Join our platform to start fundraising campaigns and connect with donors who want to make a difference"})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Ri,{className:"text-6xl text-primary mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Charity Registration Form"}),l.jsx("p",{className:"text-gray-600",children:"Complete the form below to register your charity organization"})]}),l.jsxs("form",{className:"space-y-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Organization Name *"})}),l.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter organization name",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Registration Number *"})}),l.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Government registration number",required:!0})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Organization Description *"})}),l.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Describe your organization's mission and work",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Contact Email *"})}),l.jsx("input",{type:"email",className:"input input-bordered",placeholder:"contact@organization.org",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Phone Number *"})}),l.jsx("input",{type:"tel",className:"input input-bordered",placeholder:"+880-XXX-XXXXXXX",required:!0})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Website"})}),l.jsx("input",{type:"url",className:"input input-bordered",placeholder:"https://www.organization.org"})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Address *"})}),l.jsx("textarea",{className:"textarea textarea-bordered h-24",placeholder:"Enter complete address",required:!0})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Focus Areas *"})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Education","Healthcare","Emergency Relief","Women Empowerment","Environment","Children","Elderly Care","Animal Welfare"].map(t=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),l.jsx("span",{className:"text-sm",children:t})]},t))})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Upload Documents *"})}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx(Nf,{className:"text-4xl text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Upload required documents"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Registration Certificate, Tax Exemption Certificate, Bank Account Details"}),l.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs",multiple:!0})]})]}),l.jsx("div",{className:"form-control",children:l.jsxs("label",{className:"label cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",required:!0}),l.jsx("span",{className:"label-text",children:"I agree to the terms and conditions and confirm that all information provided is accurate *"})]})}),l.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[l.jsx(aO,{className:"mr-2"}),"Submit Registration"]})]}),l.jsxs("div",{className:"mt-8 p-4 bg-info/10 rounded-lg",children:[l.jsx("h3",{className:"font-bold mb-2",children:"What happens next?"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("li",{children:"• We'll review your application within 2-3 business days"}),l.jsx("li",{children:"• You'll receive an email notification about the status"}),l.jsx("li",{children:"• Once approved, you can start creating campaigns"}),l.jsx("li",{children:"• Our team will provide onboarding support"})]})]})]})})]})})})]}),SM=()=>{const{currentUser:t}=nr(),[e,n]=F.useState({totalDonations:0,campaignsSupported:0,totalImpact:0,thisMonth:0}),[s,i]=F.useState([]),[c,d]=F.useState(!0);return F.useEffect(()=>{(()=>{try{if(!t){d(!1);return}const p=UO(t.uid);n({totalDonations:p.totalDonated,campaignsSupported:p.campaignsSupported,totalImpact:p.impact,thisMonth:p.thisMonth});const g=Ms("approved"),v=new Date;v.setHours(0,0,0,0);const b=g.filter(_=>{const R=new Date(_.endDate);return R.setHours(23,59,59,999),R>=v}).slice(0,6);i(b),d(!1)}catch(p){console.error("Error fetching donor dashboard data:",p),d(!1)}})()},[t]),l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Donor Dashboard - Charity Platform"})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",t?.displayName||"Donor","!"]}),l.jsx("p",{className:"text-lg opacity-90",children:"Thank you for making a difference in your community"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),l.jsxs("p",{className:"text-3xl font-bold",children:["৳",e.totalDonations.toLocaleString()]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All time contributions"})]}),l.jsx(V4,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),l.jsx("p",{className:"text-3xl font-bold",children:e.campaignsSupported}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Active campaigns"})]}),l.jsx(Vt,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Lives Impacted"}),l.jsxs("p",{className:"text-3xl font-bold",children:[e.totalImpact,"+"]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"People helped"})]}),l.jsx(tr,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-info to-info/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"This Month"}),l.jsxs("p",{className:"text-3xl font-bold",children:["৳",e.thisMonth.toLocaleString()]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date().toLocaleString("default",{month:"long"})})]}),l.jsx(_l,{className:"text-5xl opacity-30"})]})})})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Active Campaigns"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Support these ongoing campaigns"})]}),l.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-sm",children:["View All ",l.jsx(L4,{className:"ml-2"})]})]}),c?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):s.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(td,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Campaigns"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Check back soon for new campaigns to support!"}),l.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"Browse All Campaigns"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(f=>l.jsxs("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx("figure",{children:l.jsx("img",{src:f.image,alt:f.title,className:"w-full h-48 object-cover",onError:p=>{p.target.src="https://via.placeholder.com/400x300"}})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"badge badge-primary capitalize",children:f.category}),l.jsx("span",{className:"badge badge-success",children:"Active"})]}),l.jsx("h3",{className:"card-title text-base",children:f.title}),l.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["By: ",f.charityName]}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:f.description}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:"font-semibold",children:[Math.round((f.currentAmount||0)/f.goalAmount*100),"% funded"]}),l.jsxs("span",{className:"text-gray-600",children:["৳",(f.currentAmount||0).toLocaleString()]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:f.currentAmount||0,max:f.goalAmount}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsxs("span",{children:["Goal: ৳",f.goalAmount.toLocaleString()]}),l.jsxs("span",{children:["Ends: ",new Date(f.endDate).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[l.jsxs(je,{to:`/campaigns/${f.id}`,className:"btn btn-ghost btn-sm",children:[l.jsx(ja,{className:"mr-1"})," Details"]}),l.jsxs(je,{to:`/campaigns/${f.id}/donate`,className:"btn btn-primary btn-sm",children:[l.jsx(Vt,{className:"mr-1"})," Donate"]})]})]})]},f.id))})]})}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-lg",children:[l.jsx(Vt,{className:"mr-2"}),"Browse Campaigns"]}),l.jsxs(je,{to:"/dashboard/donations",className:"btn btn-outline btn-lg",children:[l.jsx(bl,{className:"mr-2"}),"View Donation History"]}),l.jsxs(je,{to:"/profile",className:"btn btn-outline btn-lg",children:[l.jsx(tr,{className:"mr-2"}),"Update Profile"]})]})]})})]})]})},AM=()=>{const{currentUser:t}=nr(),[e,n]=F.useState([]),[s,i]=F.useState({}),[c,d]=F.useState(!0),[f,p]=F.useState({totalDonated:0,totalDonations:0,campaignsSupported:0});return F.useEffect(()=>{if(!t){d(!1);return}try{const g=K4(t.uid),v=g.sort((D,L)=>new Date(L.createdAt)-new Date(D.createdAt)),b=Hn(),_={};b.forEach(D=>{_[D.id]=D});const R=g.reduce((D,L)=>D+L.amount,0),M=new Set(g.map(D=>D.campaignId));n(v),i(_),p({totalDonated:R,totalDonations:g.length,campaignsSupported:M.size}),d(!1)}catch(g){console.error("Error fetching donations:",g),d(!1)}},[t]),c?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"My Donations - Donor Dashboard"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Donations"}),l.jsx("p",{className:"text-lg opacity-90",children:"Track your contributions and impact"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),l.jsxs("p",{className:"text-3xl font-bold",children:["৳",f.totalDonated.toLocaleString()]})]}),l.jsx(zv,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Donations"}),l.jsx("p",{className:"text-3xl font-bold",children:f.totalDonations})]}),l.jsx(Vt,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),l.jsx("p",{className:"text-3xl font-bold",children:f.campaignsSupported})]}),l.jsx(_l,{className:"text-5xl opacity-30"})]})})})]}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title text-2xl mb-4",children:"Donation History"}),e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(td,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Donations Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start making a difference by supporting a campaign!"}),l.jsxs(je,{to:"/campaigns",className:"btn btn-primary",children:[l.jsx(Vt,{className:"mr-2"}),"Browse Campaigns"]})]}):l.jsx("div",{className:"space-y-4",children:e.map(g=>{const v=s[g.campaignId];return l.jsx("div",{className:"card bg-base-200 shadow-md hover:shadow-lg transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[v&&l.jsx("figure",{className:"lg:w-48 h-32 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover",onError:b=>{b.target.src="https://via.placeholder.com/300x200"}})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:g.campaignTitle}),l.jsxs("p",{className:"text-sm text-gray-600",children:["By: ",g.charityName]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["৳",g.amount.toLocaleString()]}),l.jsx("span",{className:"badge badge-success badge-sm",children:"Completed"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bl,{className:"text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Date"}),l.jsx("p",{className:"text-sm font-semibold",children:new Date(g.createdAt).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(k4,{className:"text-secondary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Payment"}),l.jsx("p",{className:"text-sm font-semibold capitalize",children:g.paymentMethod})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"text-accent"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Visibility"}),l.jsx("p",{className:"text-sm font-semibold",children:g.anonymous?"Anonymous":"Public"})]})]}),v&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_l,{className:"text-info"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Campaign Status"}),l.jsx("p",{className:"text-sm font-semibold capitalize",children:v.status})]})]})]}),v&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-600",children:"Campaign Progress"}),l.jsxs("span",{className:"font-semibold",children:[Math.round((v.currentAmount||0)/v.goalAmount*100),"% funded"]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:v.currentAmount||0,max:v.goalAmount}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsxs("span",{children:["Raised: ৳",(v.currentAmount||0).toLocaleString()]}),l.jsxs("span",{children:["Goal: ৳",v.goalAmount.toLocaleString()]})]})]}),l.jsx("div",{className:"card-actions justify-end mt-4",children:v?l.jsxs(je,{to:`/campaigns/${v.id}`,className:"btn btn-primary btn-sm",children:[l.jsx(ja,{className:"mr-2"}),"View Campaign"]}):l.jsx("span",{className:"text-sm text-gray-500 italic",children:"Campaign no longer available"})})]})]})})},g.id)})})]})})]})]})};function jM(){const{currentUser:t}=nr(),[e,n]=F.useState([]),[s,i]=F.useState(!0);return F.useEffect(()=>{try{const c=Ms("approved");n(c),i(!1)}catch(c){console.error("Error fetching campaigns:",c),i(!1)}},[]),s?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"All Campaigns - Donor Dashboard"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"All Campaigns"}),l.jsxs("p",{className:"text-lg opacity-90",children:["Browse and support ",e.length," approved ",e.length===1?"campaign":"campaigns"]})]}),e.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>l.jsxs("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx("figure",{children:l.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover",onError:d=>{d.target.src="https://via.placeholder.com/400x300"}})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"badge badge-primary capitalize",children:c.category}),l.jsx("span",{className:"badge badge-success",children:"Approved"})]}),l.jsx("h3",{className:"card-title text-base",children:c.title}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[l.jsx(tr,{className:"w-4 h-4"}),l.jsx("span",{children:c.charityName})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[l.jsx(bl,{className:"w-4 h-4"}),l.jsxs("span",{children:["Ends ",new Date(c.endDate).toLocaleDateString()]})]}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:c.description}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsxs("span",{className:"font-semibold",children:[Math.round((c.currentAmount||0)/c.goalAmount*100),"% funded"]}),l.jsxs("span",{className:"text-gray-600",children:["৳",(c.currentAmount||0).toLocaleString()]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:c.currentAmount||0,max:c.goalAmount}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsxs("span",{children:["Goal: ৳",c.goalAmount.toLocaleString()]}),l.jsxs("span",{children:[Math.ceil((new Date(c.endDate)-new Date)/(1e3*60*60*24))," days left"]})]})]}),l.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[l.jsxs(je,{to:`/campaigns/${c.id}`,className:"btn btn-ghost btn-sm",children:[l.jsx(ja,{className:"mr-1"})," Details"]}),l.jsxs(je,{to:`/campaigns/${c.id}/donate`,className:"btn btn-primary btn-sm",children:[l.jsx(Vt,{className:"mr-1"})," Donate"]})]})]})]},c.id))}):l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body text-center py-12",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(td,{className:"text-6xl text-gray-300"})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Campaigns Available"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"There are no approved campaigns at the moment. Check back soon!"}),l.jsxs(je,{to:"/campaigns",className:"btn btn-primary",children:[l.jsx(Vt,{className:"mr-2"}),"View All Campaigns"]})]})})]})]})}const fw=()=>{const{currentUser:t}=nr(),[e,n]=F.useState([]),[s,i]=F.useState(!1),[c,d]=F.useState(null),[f,p]=F.useState({rating:5,comment:""}),[g,v]=F.useState(0),[b,_]=F.useState(!0);F.useEffect(()=>{t&&R()},[t]);const R=()=>{const O=GO(t.uid);n(O),_(!1)},M=O=>{p({...f,rating:O})},D=O=>{const P=O.target.value,N=P.trim().split(/\s+/).filter(T=>T.length>0);N.length<=50&&(p({...f,comment:P}),v(N.length))},L=O=>{if(O.preventDefault(),!f.comment.trim()){alert("Please write a review comment");return}c?qO(c.id,{rating:f.rating,comment:f.comment}):BO({userId:t.uid,userName:t.displayName||t.email||"Anonymous User",userEmail:t.email,rating:f.rating,comment:f.comment}),R(),G()},Y=O=>{d(O),p({rating:O.rating,comment:O.comment});const P=O.comment.trim().split(/\s+/).filter(N=>N.length>0);v(P.length),i(!0)},B=O=>{window.confirm("Are you sure you want to delete this review?")&&(HO(O),R())},q=()=>{d(null),p({rating:5,comment:""}),v(0),i(!0)},G=()=>{i(!1),d(null),p({rating:5,comment:""}),v(0)},z=(O,P=!1)=>l.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(N=>l.jsx("button",{type:"button",onClick:()=>P&&M(N),className:`text-2xl ${P?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"}`,disabled:!P,children:N<=O?l.jsx(xi,{className:"text-warning"}):l.jsx(vO,{className:"text-gray-300"})},N))});return b?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"My Reviews - Dashboard"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"My Reviews"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your reviews and ratings"})]}),l.jsxs("button",{onClick:q,className:"btn btn-primary",children:[l.jsx(El,{className:"mr-2"}),"Add Review"]})]}),e.length>0?l.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(O=>l.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"mb-3",children:z(O.rating)}),l.jsx("p",{className:"text-gray-700 mb-4",children:O.comment}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx(wa,{className:"text-primary"}),l.jsx("span",{className:"font-medium",children:O.userName}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:["ID: ",O.userId.substring(0,8),"..."]}),l.jsx("span",{children:"•"}),l.jsx("span",{children:new Date(O.createdAt).toLocaleDateString()}),O.updatedAt!==O.createdAt&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{className:"text-info",children:"Edited"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>Y(O),className:"btn btn-ghost btn-sm btn-circle",title:"Edit",children:l.jsx(Ef,{className:"text-info"})}),l.jsx("button",{onClick:()=>B(O.id),className:"btn btn-ghost btn-sm btn-circle",title:"Delete",children:l.jsx(Sy,{className:"text-error"})})]})]})})},O.id))}):l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body text-center py-12",children:[l.jsx(xi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Reviews Yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Share your experience by writing your first review"}),l.jsxs("button",{onClick:q,className:"btn btn-primary",children:[l.jsx(El,{className:"mr-2"}),"Write a Review"]})]})})]}),s&&l.jsxs("div",{className:"modal modal-open",children:[l.jsxs("div",{className:"modal-box max-w-2xl",children:[l.jsx("h3",{className:"font-bold text-2xl mb-4",children:c?"Edit Review":"Write a Review"}),l.jsxs("form",{onSubmit:L,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold",children:"Rating"})}),z(f.rating,!0)]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[l.jsx("span",{className:"label-text font-semibold",children:"Your Review"}),l.jsxs("span",{className:"label-text-alt",children:[g,"/50 words"]})]}),l.jsx("textarea",{className:"textarea textarea-bordered w-full h-32",placeholder:"Share your experience... (Maximum 50 words)",value:f.comment,onChange:D,required:!0})]}),l.jsxs("div",{className:"bg-base-200 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Review will be posted as:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wa,{className:"text-primary"}),l.jsx("span",{className:"font-medium",children:t.displayName||t.email||"Anonymous User"}),l.jsx("span",{className:"text-gray-500",children:"•"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",t.uid.substring(0,8),"..."]})]})]}),l.jsxs("div",{className:"modal-action",children:[l.jsx("button",{type:"button",onClick:G,className:"btn btn-ghost",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:c?"Update Review":"Submit Review"})]})]})]}),l.jsx("div",{className:"modal-backdrop",onClick:G})]})]})};function Oh(){const{currentUser:t,updateUserProfile:e,userRole:n}=nr(),[s,i]=F.useState(!1),[c,d]=F.useState({displayName:"",email:"",phone:"",location:"",bio:""});F.useEffect(()=>{t&&d({displayName:t.displayName||"",email:t.email||"",phone:t.phoneNumber||"",location:t.location||"Not specified",bio:t.bio||"No bio added yet."})},[t]);const f=g=>{const{name:v,value:b}=g.target;d(_=>({..._,[v]:b}))},p=async g=>{g.preventDefault();try{await e(c),i(!1),alert("Profile updated successfully!")}catch(v){console.error("Failed to update profile:",v),alert("Failed to update profile. Please try again.")}};return t?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),s?l.jsxs("div",{className:"space-x-2",children:[l.jsxs("button",{onClick:()=>i(!1),className:"btn btn-ghost btn-sm",children:[l.jsx(pO,{className:"mr-1"})," Cancel"]}),l.jsxs("button",{type:"submit",form:"profileForm",className:"btn btn-primary btn-sm",children:[l.jsx(fO,{className:"mr-1"})," Save Changes"]})]}):l.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary btn-sm",children:[l.jsx(Ef,{className:"mr-1"})," Edit Profile"]})]}),l.jsx("div",{className:"card bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg border-2 border-primary/20",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title text-xl mb-4 flex items-center gap-2",children:[l.jsx(Ey,{className:"text-primary"}),"Account Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-base-100 p-4 rounded-lg shadow",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[l.jsx(yO,{className:"text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Account Type"})]}),l.jsx("p",{className:"text-lg font-bold capitalize",children:n||"User"})]}),l.jsxs("div",{className:"bg-base-100 p-4 rounded-lg shadow",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[l.jsx(uO,{className:"text-secondary"}),l.jsx("span",{className:"text-sm font-medium",children:"User ID"})]}),l.jsx("p",{className:"text-sm font-mono break-all",children:t.uid})]}),l.jsxs("div",{className:"bg-base-100 p-4 rounded-lg shadow",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[l.jsx(bl,{className:"text-success"}),l.jsx("span",{className:"text-sm font-medium",children:"Joined"})]}),l.jsx("p",{className:"text-sm",children:new Date(t.metadata?.creationTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),l.jsxs("div",{className:"bg-base-100 p-4 rounded-lg shadow",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[l.jsx(wl,{className:"text-info"}),l.jsx("span",{className:"text-sm font-medium",children:"Last Login"})]}),l.jsx("p",{className:"text-sm",children:new Date(t.metadata?.lastSignInTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-base-100 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[l.jsx(zu,{className:"text-accent"}),l.jsx("span",{className:"text-sm font-medium",children:"Email Address"})]}),l.jsx("p",{className:"text-base font-semibold",children:t.email}),l.jsx("div",{className:"mt-2",children:t.emailVerified?l.jsxs("span",{className:"badge badge-success gap-1",children:[l.jsx(Ey,{})," Verified"]}):l.jsxs("span",{className:"badge badge-warning gap-1",children:[l.jsx(wl,{})," Not Verified"]})})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title text-xl mb-4",children:"Profile Details"}),l.jsx("form",{id:"profileForm",onSubmit:p,children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("div",{className:"avatar",children:l.jsx("div",{className:"w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:l.jsx("img",{src:t.photoURL||"/api/placeholder/150/150",alt:"Profile",onError:g=>{g.target.src="https://via.placeholder.com/150"}})})}),s&&l.jsx("div",{className:"mt-4",children:l.jsxs("label",{className:"btn btn-sm btn-outline w-full",children:["Change Photo",l.jsx("input",{type:"file",className:"hidden"})]})})]}),l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-medium",children:"Full Name"})}),s?l.jsx("input",{type:"text",name:"displayName",value:c.displayName,onChange:f,className:"input input-bordered w-full",required:!0}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wa,{className:"text-gray-400"}),l.jsx("span",{children:c.displayName||"Not specified"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-medium",children:"Email"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zu,{className:"text-gray-400"}),l.jsx("span",{children:t.email})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-medium",children:"Phone"})}),s?l.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:f,className:"input input-bordered w-full"}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tm,{className:"text-gray-400"}),l.jsx("span",{children:c.phone||"Not specified"})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-medium",children:"Location"})}),s?l.jsx("input",{type:"text",name:"location",value:c.location,onChange:f,className:"input input-bordered w-full"}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(em,{className:"text-gray-400"}),l.jsx("span",{children:c.location||"Not specified"})]})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-medium",children:"Bio"})}),s?l.jsx("textarea",{name:"bio",value:c.bio,onChange:f,className:"textarea textarea-bordered h-24",placeholder:"Tell us about yourself..."}):l.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:c.bio||"No bio added yet."})]})]})]})})]})}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title text-lg mb-4",children:"Account Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-base-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Change Password"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]}),l.jsx("button",{className:"btn btn-ghost btn-sm",children:"Change"})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-base-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Notification Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage your notification preferences"})]}),l.jsx("button",{className:"btn btn-ghost btn-sm",children:"Manage"})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-base-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Delete Account"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account"})]}),l.jsx("button",{className:"btn btn-error btn-sm",children:"Delete"})]})]})]})})]}):l.jsx("div",{children:"Loading..."})}const RM=()=>{const t=Yr(),{currentUser:e}=nr(),[n,s]=F.useState(""),[i,c]=F.useState({activeCampaigns:0,totalRaised:0,totalDonors:0,successRate:0,totalCampaigns:0,pendingCampaigns:0,approvedCampaigns:0}),[d,f]=F.useState(!0);return F.useEffect(()=>{t.state?.message&&(s(t.state.message),setTimeout(()=>s(""),5e3),window.history.replaceState({},document.title))},[t]),F.useEffect(()=>{(()=>{try{if(!e){f(!1);return}const v=Hn().filter(G=>G.charityId===e.uid||G.charityEmail===e.email),b=v.reduce((G,z)=>G+(z.currentAmount||0),0),_=new Date;_.setHours(0,0,0,0);const R=v.filter(G=>{const z=new Date(G.endDate);return z.setHours(23,59,59,999),G.status==="approved"&&z>=_}).length,M=v.filter(G=>{const z=new Date(G.endDate);return z.setHours(23,59,59,999),G.status==="approved"&&z>=_}).length,D=v.filter(G=>G.status==="pending").length,L=qv(),Y=v.reduce((G,z)=>G+(L[z.id]||0),0),B=v.reduce((G,z)=>{const O=(z.currentAmount||0)/z.goalAmount*100;return G+Math.min(O,100)},0),q=v.length>0?Math.round(B/v.length):0;c({activeCampaigns:R,totalRaised:b,totalDonors:Y,successRate:q,totalCampaigns:v.length,pendingCampaigns:D,approvedCampaigns:M}),f(!1)}catch(g){console.error("Error fetching charity stats:",g),f(!1)}})()},[e]),l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Charity Dashboard - Charity Platform"})}),l.jsxs("div",{className:"space-y-8",children:[n&&l.jsxs("div",{className:"alert alert-success shadow-lg",children:[l.jsx(Aa,{className:"text-2xl"}),l.jsx("span",{className:"text-lg",children:n})]}),l.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Charity Dashboard"}),l.jsx("p",{className:"text-lg opacity-90",children:"Manage your campaigns and track donations"})]}),l.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn btn-accent mt-4 md:mt-0",children:[l.jsx(El,{className:"mr-2"})," Create Campaign"]})]})}),d?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Active Campaigns"}),l.jsx("p",{className:"text-3xl font-bold",children:i.activeCampaigns}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Approved & ongoing"})]}),l.jsx(Vt,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Raised"}),l.jsxs("p",{className:"text-3xl font-bold",children:["৳",i.totalRaised.toLocaleString()]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All campaigns"})]}),l.jsx(V4,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Donors"}),l.jsx("p",{className:"text-3xl font-bold",children:i.totalDonors}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Unique contributors"})]}),l.jsx(tr,{className:"text-5xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-gradient-to-br from-info to-info/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Success Rate"}),l.jsxs("p",{className:"text-3xl font-bold",children:[i.successRate,"%"]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Goals reached"})]}),l.jsx(_l,{className:"text-5xl opacity-30"})]})})})]}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Campaign Overview"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"stat bg-base-200 rounded-lg p-4",children:[l.jsx("div",{className:"stat-title text-sm",children:"Total Campaigns"}),l.jsx("div",{className:"stat-value text-2xl text-primary",children:i.totalCampaigns}),l.jsx("div",{className:"stat-desc",children:"All time"})]}),l.jsxs("div",{className:"stat bg-base-200 rounded-lg p-4",children:[l.jsx("div",{className:"stat-title text-sm",children:"Approved"}),l.jsx("div",{className:"stat-value text-2xl text-success",children:i.approvedCampaigns}),l.jsx("div",{className:"stat-desc",children:"Live campaigns"})]}),l.jsxs("div",{className:"stat bg-base-200 rounded-lg p-4",children:[l.jsx("div",{className:"stat-title text-sm",children:"Pending"}),l.jsx("div",{className:"stat-value text-2xl text-warning",children:i.pendingCampaigns}),l.jsx("div",{className:"stat-desc",children:"Awaiting approval"})]}),l.jsxs("div",{className:"stat bg-base-200 rounded-lg p-4",children:[l.jsx("div",{className:"stat-title text-sm",children:"Active"}),l.jsx("div",{className:"stat-value text-2xl text-info",children:i.activeCampaigns}),l.jsx("div",{className:"stat-desc",children:"Currently running"})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn btn-primary btn-lg",children:[l.jsx(El,{className:"mr-2"}),"Create Campaign"]}),l.jsxs(je,{to:"/dashboard/charity/campaigns",className:"btn btn-outline btn-lg",children:[l.jsx(Vt,{className:"mr-2"}),"View My Campaigns"]}),l.jsxs(je,{to:"/dashboard/charity/profile",className:"btn btn-outline btn-lg",children:[l.jsx(tr,{className:"mr-2"}),"Edit Profile"]})]})]})})]})]})},CM=()=>{const[t,e]=F.useState(0),[n,s]=F.useState(0),[i,c]=F.useState(0),[d,f]=F.useState(0),[p,g]=F.useState(0),[v,b]=F.useState(0),[_,R]=F.useState(!0);F.useEffect(()=>{M()},[]);const M=async()=>{try{const D=Hn(),L=Ms("pending"),Y=Ms("approved"),B=new Date;B.setHours(0,0,0,0);const q=Y.filter(N=>{const T=new Date(N.endDate);return T.setHours(23,59,59,999),T>=B}),G=new Set(D.map(N=>N.charityId)),z=D.reduce((N,T)=>N+(T.currentAmount||0),0),O=Av(Oo,"users"),P=await A4(O);e(P.data().count||0),s(G.size),c(q.length),f(L.length),g(Y.length),b(z),R(!1)}catch(D){console.error("Error fetching dashboard data:",D),R(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Admin Dashboard - Charity Platform"})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),l.jsx("p",{className:"text-lg opacity-90",children:"Manage platform operations and oversee all activities"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[l.jsx("div",{className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Raised"}),_?l.jsx("span",{className:"loading loading-spinner loading-sm"}):l.jsxs("p",{className:"text-2xl font-bold",children:["৳",v.toLocaleString()]}),l.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All donations"})]}),l.jsx(zv,{className:"text-4xl opacity-30"})]})})}),l.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),_?l.jsx("span",{className:"loading loading-spinner loading-sm"}):l.jsx("p",{className:"text-2xl font-bold text-primary",children:t}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered accounts"})]}),l.jsx(tr,{className:"text-3xl text-primary opacity-60"})]})})}),l.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Charities"}),_?l.jsx("span",{className:"loading loading-spinner loading-sm"}):l.jsx("p",{className:"text-2xl font-bold text-secondary",children:n}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered charities"})]}),l.jsx(Ri,{className:"text-3xl text-secondary opacity-60"})]})})}),l.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Active Campaigns"}),_?l.jsx("span",{className:"loading loading-spinner loading-sm"}):l.jsx("p",{className:"text-2xl font-bold text-info",children:i}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Approved & ongoing"})]}),l.jsx(Vt,{className:"text-3xl text-info opacity-60"})]})})}),l.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Pending Reviews"}),l.jsx("p",{className:"text-2xl font-bold text-warning",children:d}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting approval"})]}),l.jsx(wl,{className:"text-3xl text-warning opacity-60"})]})})})]}),l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(je,{to:"/dashboard/admin/campaigns",className:"btn btn-warning btn-lg justify-start",children:[l.jsx(wl,{className:"mr-2"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{children:"Review Campaigns"}),l.jsxs("div",{className:"text-xs opacity-70",children:[d," pending approval"]})]})]}),l.jsxs(je,{to:"/dashboard/admin/campaigns",className:"btn btn-success btn-lg justify-start",children:[l.jsx(_l,{className:"mr-2"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{children:"View Analytics"}),l.jsxs("div",{className:"text-xs opacity-70",children:[p," approved campaigns"]})]})]})]})]})})]})]})},IM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[i,c]=F.useState(null),[d,f]=F.useState(!1),[p,g]=F.useState("all");F.useEffect(()=>{(async()=>{try{s(!0),await new Promise(Y=>setTimeout(Y,500));const L=p==="all"?Hn():Ms(p);e(L)}catch(L){console.error("Error fetching campaigns:",L)}finally{s(!1)}})()},[p]);const v=async D=>{try{ew(D,"approved"),console.log("Campaign approved:",D),e(L=>L.filter(Y=>Y.id!==D)),d&&i?.id===D&&M()}catch(L){console.error("Error approving campaign:",L)}},b=async D=>{try{ew(D,"rejected"),console.log("Campaign rejected:",D),e(L=>L.filter(Y=>Y.id!==D)),d&&i?.id===D&&M()}catch(L){console.error("Error rejecting campaign:",L)}},_=async D=>{if(window.confirm("Are you sure you want to permanently delete this campaign? This action cannot be undone."))try{PO(D),console.log("Campaign deleted:",D),e(L=>L.filter(Y=>Y.id!==D)),d&&i?.id===D&&M()}catch(L){console.error("Error deleting campaign:",L),alert("Failed to delete campaign. Please try again.")}},R=D=>{c(D),f(!0)},M=()=>{f(!1),c(null)};return n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(U4,{className:"animate-spin text-4xl text-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Campaign Approvals"}),l.jsx("p",{className:"text-lg opacity-90",children:"Review and manage campaign submissions from charities"})]}),p==="pending"&&t.length>0&&l.jsxs("div",{className:"alert alert-warning shadow-lg",children:[l.jsx(wa,{className:"text-2xl"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"Pending Review"}),l.jsxs("div",{className:"text-sm",children:[t.length," campaign",t.length>1?"s":""," waiting for approval from ",new Set(t.map(D=>D.charityName)).size," ",new Set(t.map(D=>D.charityName)).size>1?"charities":"charity"]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Filter by Status"}),l.jsxs("div",{className:"tabs tabs-boxed bg-base-100 shadow-md",children:[l.jsxs("button",{className:`tab ${p==="all"?"tab-active":""}`,onClick:()=>g("all"),children:["All (",Hn().length,")"]}),l.jsxs("button",{className:`tab ${p==="pending"?"tab-active":""}`,onClick:()=>g("pending"),children:["Pending (",Ms("pending").length,")"]}),l.jsxs("button",{className:`tab ${p==="approved"?"tab-active":""}`,onClick:()=>g("approved"),children:["Approved (",Ms("approved").length,")"]}),l.jsxs("button",{className:`tab ${p==="rejected"?"tab-active":""}`,onClick:()=>g("rejected"),children:["Rejected (",Ms("rejected").length,")"]})]})]}),t.length===0?l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body text-center py-12",children:[l.jsxs("h3",{className:"text-xl font-medium",children:["No ",p," campaigns"]}),l.jsx("p",{className:"text-gray-500",children:p==="pending"?"There are no campaigns waiting for approval.":`There are no ${p} campaigns.`})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(D=>l.jsxs("div",{className:"card bg-base-100 shadow-lg",children:[l.jsx("figure",{children:l.jsx("img",{src:D.image,alt:D.title,className:"w-full h-48 object-cover",onError:L=>{L.target.src="https://via.placeholder.com/400x200"}})}),l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title text-lg",children:D.title}),l.jsxs("div",{className:"bg-primary/10 p-3 rounded-lg mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(wa,{className:"text-primary"}),l.jsx("span",{className:"font-semibold text-primary",children:"Charity Information"})]}),l.jsx("p",{className:"text-sm font-medium",children:D.charityName}),l.jsxs("p",{className:"text-xs text-gray-600",children:["ID: ",D.charityId]})]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Goal:"})," ৳",D.goalAmount.toLocaleString()]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Category:"})," ",l.jsx("span",{className:"capitalize",children:D.category})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(D.endDate).toLocaleDateString()]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(D.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"card-actions flex-col gap-2 mt-4",children:[l.jsxs("div",{className:"flex justify-between w-full",children:[l.jsxs("button",{onClick:()=>R(D),className:"btn btn-ghost btn-sm",children:[l.jsx(ja,{className:"mr-1"})," View Details"]}),p==="all"&&D.status!=="pending"&&l.jsx("span",{className:`badge ${D.status==="approved"?"badge-success":"badge-error"}`,children:D.status})]}),(p==="pending"||p==="all"&&D.status==="pending")&&l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsxs("button",{onClick:()=>v(D.id),className:"btn btn-success btn-sm flex-1",children:[l.jsx(Aa,{className:"mr-1"})," Approve"]}),l.jsxs("button",{onClick:()=>b(D.id),className:"btn btn-error btn-sm flex-1",children:[l.jsx(Ty,{className:"mr-1"})," Reject"]})]}),l.jsxs("button",{onClick:()=>_(D.id),className:"btn btn-outline btn-error btn-sm w-full",children:[l.jsx(Sy,{className:"mr-1"})," Delete Campaign"]})]})]})]},D.id))}),d&&i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-base-100 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:i.title}),l.jsx("button",{onClick:M,className:"btn btn-ghost btn-sm",children:"✕"})]}),l.jsx("img",{src:i.image,alt:i.title,className:"w-full h-64 object-cover rounded-lg mb-4",onError:D=>{D.target.src="https://via.placeholder.com/800x400"}}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Charity"}),l.jsx("p",{children:i.charityName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),l.jsx("p",{className:"capitalize",children:i.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Goal Amount"}),l.jsxs("p",{children:["৳",i.goalAmount.toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),l.jsx("p",{children:new Date(i.endDate).toLocaleDateString()})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Description"}),l.jsx("p",{className:"whitespace-pre-line",children:i.description})]}),l.jsxs("div",{className:"mt-6 space-y-3",children:[(p==="pending"||p==="all"&&i.status==="pending")&&l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs("button",{onClick:()=>b(i.id),className:"btn btn-error",children:[l.jsx(Ty,{className:"mr-1"})," Reject"]}),l.jsxs("button",{onClick:()=>v(i.id),className:"btn btn-success",children:[l.jsx(Aa,{className:"mr-1"})," Approve"]})]}),p==="all"&&i.status!=="pending"&&l.jsx("div",{children:l.jsxs("span",{className:`badge badge-lg ${i.status==="approved"?"badge-success":"badge-error"}`,children:["Status: ",i.status]})}),l.jsx("div",{className:"border-t pt-3",children:l.jsxs("button",{onClick:()=>_(i.id),className:"btn btn-outline btn-error w-full",children:[l.jsx(Sy,{className:"mr-2"})," Delete Campaign Permanently"]})})]})]})})})]})},DM=()=>{const{userRole:t,loading:e}=nr();return e?l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Loading..."}),l.jsx("div",{className:"loading loading-spinner loading-lg"})]}):t==="admin"?l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Dashboard"}),l.jsx("p",{children:"Welcome, Admin!"}),l.jsx(pu,{to:"/dashboard/admin",replace:!0})]}):t==="charity"?l.jsx(pu,{to:"/dashboard/charity",replace:!0}):l.jsx(pu,{to:"/dashboard/donor",replace:!0})},OM=()=>{const{currentUser:t}=nr(),[e,n]=F.useState([]),[s,i]=F.useState(!0),[c,d]=F.useState("all");F.useEffect(()=>{f()},[t]);const f=()=>{try{if(i(!0),t?.uid){const b=LO(t.uid);n(b)}}catch(b){console.error("Error fetching campaigns:",b)}finally{i(!1)}},p=()=>c==="all"?e:e.filter(b=>b.status===c),g=b=>{switch(b){case"pending":return l.jsxs("div",{className:"badge badge-warning gap-2",children:[l.jsx(wl,{})," Pending"]});case"approved":return l.jsxs("div",{className:"badge badge-success gap-2",children:[l.jsx(Aa,{})," Approved"]});case"rejected":return l.jsxs("div",{className:"badge badge-error gap-2",children:[l.jsx(Ty,{})," Rejected"]});default:return l.jsx("div",{className:"badge",children:b})}},v=p();return s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"My Campaigns"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track your fundraising campaigns"})]}),l.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn btn-primary",children:[l.jsx(Ef,{className:"mr-2"})," Create New Campaign"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:"card bg-base-100 shadow-md",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-sm text-gray-600",children:"Total Campaigns"}),l.jsx("p",{className:"text-3xl font-bold text-primary",children:e.length})]})}),l.jsx("div",{className:"card bg-base-100 shadow-md",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-sm text-gray-600",children:"Pending"}),l.jsx("p",{className:"text-3xl font-bold text-warning",children:e.filter(b=>b.status==="pending").length})]})}),l.jsx("div",{className:"card bg-base-100 shadow-md",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-sm text-gray-600",children:"Approved"}),l.jsx("p",{className:"text-3xl font-bold text-success",children:e.filter(b=>b.status==="approved").length})]})}),l.jsx("div",{className:"card bg-base-100 shadow-md",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-sm text-gray-600",children:"Rejected"}),l.jsx("p",{className:"text-3xl font-bold text-error",children:e.filter(b=>b.status==="rejected").length})]})})]}),l.jsxs("div",{className:"tabs tabs-boxed bg-base-100 shadow-md w-fit",children:[l.jsxs("button",{className:`tab ${c==="all"?"tab-active":""}`,onClick:()=>d("all"),children:["All (",e.length,")"]}),l.jsxs("button",{className:`tab ${c==="pending"?"tab-active":""}`,onClick:()=>d("pending"),children:["Pending (",e.filter(b=>b.status==="pending").length,")"]}),l.jsxs("button",{className:`tab ${c==="approved"?"tab-active":""}`,onClick:()=>d("approved"),children:["Approved (",e.filter(b=>b.status==="approved").length,")"]}),l.jsxs("button",{className:`tab ${c==="rejected"?"tab-active":""}`,onClick:()=>d("rejected"),children:["Rejected (",e.filter(b=>b.status==="rejected").length,")"]})]}),v.length===0?l.jsx("div",{className:"card bg-base-100 shadow-lg",children:l.jsxs("div",{className:"card-body text-center py-12",children:[l.jsx("h3",{className:"text-xl font-medium",children:"No campaigns found"}),l.jsx("p",{className:"text-gray-500 mt-2",children:c==="all"?"You haven't created any campaigns yet. Click 'Create New Campaign' to get started!":`You don't have any ${c} campaigns.`}),c==="all"&&l.jsx(je,{to:"/dashboard/charity/campaigns/create",className:"btn btn-primary mt-4 w-fit mx-auto",children:"Create Your First Campaign"})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(b=>l.jsxs("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-shadow",children:[l.jsxs("figure",{className:"relative",children:[l.jsx("img",{src:b.image,alt:b.title,className:"w-full h-48 object-cover",onError:_=>{_.target.src="https://via.placeholder.com/400x200"}}),l.jsx("div",{className:"absolute top-2 right-2",children:g(b.status)})]}),l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"card-title text-lg",children:b.title}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Goal:"}),l.jsxs("span",{className:"font-semibold",children:["৳",b.goalAmount.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Raised:"}),l.jsxs("span",{className:"font-semibold text-success",children:["৳",b.currentAmount.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Category:"}),l.jsx("span",{className:"capitalize",children:b.category})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"End Date:"}),l.jsx("span",{children:new Date(b.endDate).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Created:"}),l.jsx("span",{children:new Date(b.createdAt).toLocaleDateString()})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[Math.round(b.currentAmount/b.goalAmount*100),"%"]})]}),l.jsx("progress",{className:"progress progress-primary w-full",value:b.currentAmount,max:b.goalAmount})]}),l.jsxs("div",{className:"card-actions justify-end mt-4",children:[l.jsxs("button",{className:"btn btn-ghost btn-sm",children:[l.jsx(ja,{className:"mr-1"})," View Details"]}),b.status==="approved"&&l.jsxs("button",{className:"btn btn-primary btn-sm",children:[l.jsx(Ef,{className:"mr-1"})," Edit"]})]})]})]},b.id))})]})},MM=()=>{const{currentUser:t}=nr(),e=Tl(),[n,s]=F.useState(!1),[i,c]=F.useState(""),[d,f]=F.useState(null),[p,g]=F.useState(null),{register:v,handleSubmit:b,formState:{errors:_}}=Yv({defaultValues:{title:"",description:"",goalAmount:"",category:"education",endDate:"",bankAccount:""}}),R=D=>{const L=D.target.files[0];if(L){g(L);const Y=new FileReader;Y.onloadend=()=>{f(Y.result)},Y.readAsDataURL(L)}},M=async D=>{try{s(!0),c("");const L=d||"https://via.placeholder.com/800x400",Y={...D,charityId:t.uid,charityName:t.displayName||t.email||"Unknown Charity",status:"pending",currentAmount:0,donors:0,image:L,goalAmount:parseFloat(D.goalAmount),endDate:new Date(D.endDate).toISOString()},B=MO(Y);console.log("Campaign submitted successfully:",B),await new Promise(q=>setTimeout(q,1e3)),e("/dashboard/charity",{state:{message:"Campaign submitted for approval! Admin will review it soon.",type:"success"}})}catch(L){console.error("Error creating campaign:",L),c("Failed to create campaign. Please try again.")}finally{s(!1)}};return l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-8 mb-8 shadow-xl",children:[l.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Create New Campaign"}),l.jsx("p",{className:"text-lg opacity-90",children:"Fill in the details below to launch your fundraising campaign"})]}),l.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-8",children:[i&&l.jsxs("div",{className:"alert alert-error mb-6 shadow-lg",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:i})]}),l.jsxs("form",{onSubmit:b(M),className:"space-y-8",children:[l.jsx("div",{className:"card bg-gradient-to-br from-primary/5 to-secondary/5 shadow-md",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(dO,{className:"text-2xl text-primary"}),l.jsx("h3",{className:"text-xl font-bold",children:"Campaign Image"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[l.jsx("div",{className:"avatar",children:l.jsx("div",{className:"w-48 h-48 rounded-xl bg-base-200 border-4 border-primary/20 shadow-lg",children:d?l.jsx("img",{src:d,alt:"Campaign preview",className:"w-full h-full object-cover rounded-lg"}):l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[l.jsx(Nf,{className:"text-5xl mb-2"}),l.jsx("span",{className:"text-sm",children:"Upload Image"})]})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"file-input file-input-bordered file-input-primary w-full",required:!0}),l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[l.jsx("p",{children:"• Recommended size: 800x400px"}),l.jsx("p",{children:"• Supported formats: JPG, PNG, WebP"}),l.jsx("p",{children:"• Maximum file size: 5MB"})]})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-md border border-base-300",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-primary",children:"Campaign Details"}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold text-base",children:"Campaign Title *"})}),l.jsx("input",{type:"text",...v("title",{required:"Title is required"}),className:"input input-bordered input-lg w-full focus:input-primary",placeholder:"E.g., Help Build a School in Rural Area"}),_.title&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error font-medium",children:_.title.message})})]}),l.jsxs("div",{className:"form-control mt-4",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold text-base",children:"Campaign Description *"})}),l.jsx("textarea",{...v("description",{required:"Description is required",minLength:{value:100,message:"Description should be at least 100 characters"}}),className:"textarea textarea-bordered textarea-lg h-40 focus:textarea-primary",placeholder:"Tell the story of your campaign... Why is this cause important? How will the funds be used?"}),_.description&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error font-medium",children:_.description.message})})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-md border border-base-300",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-secondary",children:"Financial & Timeline Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsxs("span",{className:"label-text font-semibold text-base flex items-center gap-2",children:[l.jsx(zv,{className:"text-success"}),"Goal Amount (BDT) *"]})}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold text-success",children:"৳"}),l.jsx("input",{type:"number",...v("goalAmount",{required:"Goal amount is required",min:{value:1e3,message:"Minimum amount is 1000 BDT"}}),className:"input input-bordered input-lg w-full pl-10 focus:input-success",placeholder:"50000",min:"1000",step:"100"})]}),_.goalAmount&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error font-medium",children:_.goalAmount.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text font-semibold text-base",children:"Category *"})}),l.jsxs("select",{...v("category",{required:"Category is required"}),className:"select select-bordered select-lg w-full focus:select-primary",children:[l.jsx("option",{value:"education",children:"📚 Education"}),l.jsx("option",{value:"health",children:"🏥 Health"}),l.jsx("option",{value:"environment",children:"🌱 Environment"}),l.jsx("option",{value:"animals",children:"🐾 Animals"}),l.jsx("option",{value:"community",children:"🤝 Community"}),l.jsx("option",{value:"other",children:"📋 Other"})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsxs("span",{className:"label-text font-semibold text-base flex items-center gap-2",children:[l.jsx(bl,{className:"text-info"}),"Campaign End Date *"]})}),l.jsx("input",{type:"date",...v("endDate",{required:"End date is required",validate:D=>{const L=new Date(D),Y=new Date;return Y.setHours(0,0,0,0),L>Y||"End date must be in the future"}}),className:"input input-bordered input-lg w-full focus:input-info",min:new Date().toISOString().split("T")[0]}),_.endDate&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error font-medium",children:_.endDate.message})})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsxs("span",{className:"label-text font-semibold text-base flex items-center gap-2",children:[l.jsx(gO,{className:"text-warning"}),"Bank Account Number *"]})}),l.jsx("input",{type:"text",...v("bankAccount",{required:"Bank account is required",pattern:{value:/^[0-9\-\s]+$/,message:"Please enter a valid bank account number"}}),className:"input input-bordered input-lg w-full focus:input-warning",placeholder:"e.g., 1234-5678-9012-3456"}),_.bankAccount&&l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text-alt text-error font-medium",children:_.bankAccount.message})})]})]})]})}),l.jsx("div",{className:"card bg-accent/10 border-2 border-accent/30 shadow-md",children:l.jsx("div",{className:"card-body",children:l.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[l.jsx("input",{type:"checkbox",className:"checkbox checkbox-accent checkbox-lg",required:!0}),l.jsxs("span",{className:"label-text text-base",children:["I confirm that all information provided is accurate and I agree to the platform's ",l.jsx("span",{className:"text-accent font-semibold",children:"terms and conditions"}),"."]})]})})}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6",children:[l.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn btn-outline btn-lg",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary btn-lg shadow-lg hover:shadow-xl transition-all",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(U4,{className:"animate-spin mr-2"}),"Submitting Campaign..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Nf,{className:"mr-2"}),"Submit for Approval"]})})]})]})]})]})},PM=()=>l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"About Us - Charity Donation Platform"}),l.jsx("meta",{name:"description",content:"Learn about our mission to connect donors with verified charity organizations and make a positive impact in communities across Bangladesh."})]}),l.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[l.jsx("section",{className:"bg-gradient-to-r from-primary to-secondary text-white py-20",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About Our Platform"}),l.jsx("p",{className:"text-xl max-w-3xl mx-auto",children:"We're building a bridge between generous donors and verified charity organizations to create meaningful impact in communities across Bangladesh."})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Mission"}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"To create a transparent, secure, and efficient platform that connects donors with verified charity organizations, ensuring that every donation makes a real difference in the lives of those who need it most."}),l.jsx("p",{className:"text-lg text-gray-600",children:"We believe that technology can be a powerful force for good, and we're committed to using it to build stronger, more compassionate communities."})]}),l.jsx("div",{className:"bg-primary/10 rounded-lg p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vt,{className:"text-6xl text-primary mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Making Impact"}),l.jsx("p",{className:"text-gray-600",children:"Every donation, no matter how small, creates ripples of positive change in our communities."})]})})]})})}),l.jsx("section",{className:"py-20 bg-base-100",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Our Values"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Ey,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Trust & Transparency"}),l.jsx("p",{className:"text-gray-600",children:"We verify all charities and provide complete transparency in how donations are used."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-secondary rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(tr,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Community First"}),l.jsx("p",{className:"text-gray-600",children:"Our platform is built for and by the community, prioritizing local needs and impact."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(td,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Compassion"}),l.jsx("p",{className:"text-gray-600",children:"We approach every interaction with empathy and understanding for those in need."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-info rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Vt,{className:"text-3xl text-white"})}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Impact"}),l.jsx("p",{className:"text-gray-600",children:"Every feature and decision is made with the goal of maximizing positive impact."})]})]})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Our Team"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Passionate individuals working together to make a difference"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body text-center",children:[l.jsx("div",{className:"avatar mb-4",children:l.jsx("div",{className:"w-24 rounded-full mx-auto",children:l.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),l.jsx("h3",{className:"card-title justify-center",children:"Sarah Ahmed"}),l.jsx("p",{className:"text-primary font-semibold",children:"Founder & CEO"}),l.jsx("p",{className:"text-gray-600",children:"Passionate about using technology to solve social problems and create positive change."})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body text-center",children:[l.jsx("div",{className:"avatar mb-4",children:l.jsx("div",{className:"w-24 rounded-full mx-auto",children:l.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),l.jsx("h3",{className:"card-title justify-center",children:"Mohammad Ali"}),l.jsx("p",{className:"text-primary font-semibold",children:"CTO"}),l.jsx("p",{className:"text-gray-600",children:"Technology enthusiast focused on building secure and scalable solutions for social impact."})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body text-center",children:[l.jsx("div",{className:"avatar mb-4",children:l.jsx("div",{className:"w-24 rounded-full mx-auto",children:l.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),l.jsx("h3",{className:"card-title justify-center",children:"Fatima Begum"}),l.jsx("p",{className:"text-primary font-semibold",children:"Head of Operations"}),l.jsx("p",{className:"text-gray-600",children:"Dedicated to ensuring smooth operations and maintaining the highest standards of service."})]})})]})]})}),l.jsx("section",{className:"py-20 bg-primary text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Join Our Mission"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Whether you're a donor looking to make an impact or a charity seeking support, we're here to help you make a difference."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("a",{href:"/signup",className:"btn btn-secondary btn-lg",children:"Start Donating"}),l.jsx("a",{href:"/charities/register",className:"btn btn-outline btn-lg text-white border-white hover:bg-white hover:text-primary",children:"Register Charity"})]})]})})]})]}),LM=()=>l.jsxs(l.Fragment,{children:[l.jsxs(gn,{children:[l.jsx("title",{children:"Contact Us - Charity Donation Platform"}),l.jsx("meta",{name:"description",content:"Get in touch with our team. We're here to help with any questions about donations, charity registration, or platform features."})]}),l.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"We're here to help! Reach out to us with any questions or concerns."})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-6",children:"Send us a message"}),l.jsxs("form",{className:"space-y-4",children:[l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Name"})}),l.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Your name"})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Email"})}),l.jsx("input",{type:"email",className:"input input-bordered",placeholder:"your@email.com"})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Subject"})}),l.jsxs("select",{className:"select select-bordered",children:[l.jsx("option",{children:"General Inquiry"}),l.jsx("option",{children:"Donation Support"}),l.jsx("option",{children:"Charity Registration"}),l.jsx("option",{children:"Technical Issue"}),l.jsx("option",{children:"Other"})]})]}),l.jsxs("div",{className:"form-control",children:[l.jsx("label",{className:"label",children:l.jsx("span",{className:"label-text",children:"Message"})}),l.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Your message"})]}),l.jsx("button",{className:"btn btn-primary w-full",children:"Send Message"})]})]})}),l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-6",children:"Get in touch"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:l.jsx(tm,{className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"Phone"}),l.jsx("p",{className:"text-gray-600",children:"+880 1700-000000"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Available 24/7"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:l.jsx(zu,{className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"Email"}),l.jsx("p",{className:"text-gray-600",children:"support@charitydonation.bd"}),l.jsx("p",{className:"text-sm text-gray-500",children:"We reply within 24 hours"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:l.jsx(em,{className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"Address"}),l.jsxs("p",{className:"text-gray-600",children:["Charity Donation Platform",l.jsx("br",{}),"Gulshan-1, Dhaka 1212",l.jsx("br",{}),"Bangladesh"]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:l.jsx(wl,{className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:"Support Hours"}),l.jsxs("p",{className:"text-gray-600",children:["Sunday - Thursday: 9:00 AM - 8:00 PM",l.jsx("br",{}),"Friday - Saturday: 10:00 AM - 6:00 PM",l.jsx("br",{}),l.jsx("span",{className:"text-sm text-primary",children:"Emergency support available 24/7"})]})]})]})]})]})}),l.jsx("div",{className:"card bg-base-100 shadow-xl",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h2",{className:"card-title mb-4",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[l.jsx("input",{type:"radio",name:"faq"}),l.jsx("div",{className:"collapse-title font-medium",children:"How do I verify a charity organization?"}),l.jsx("div",{className:"collapse-content",children:l.jsx("p",{children:"All charities on our platform go through a rigorous verification process including document review and background checks."})})]}),l.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[l.jsx("input",{type:"radio",name:"faq"}),l.jsx("div",{className:"collapse-title font-medium",children:"What payment methods do you accept?"}),l.jsx("div",{className:"collapse-content",children:l.jsx("p",{children:"We accept bKash, PayPal, Visa, Mastercard, and other major payment methods."})})]}),l.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[l.jsx("input",{type:"radio",name:"faq"}),l.jsx("div",{className:"collapse-title font-medium",children:"How can I track my donation impact?"}),l.jsx("div",{className:"collapse-content",children:l.jsx("p",{children:"You can track your donations and their impact through your donor dashboard."})})]})]})]})})]})]})]})})]}),mn=({children:t,requiredRole:e=null})=>{const{currentUser:n,userRole:s,loading:i}=nr(),c=Yr();return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"loading loading-spinner loading-lg"})}):n?e&&s!==e?l.jsx(pu,{to:"/unauthorized",replace:!0}):t:l.jsx(pu,{to:"/login",state:{from:c},replace:!0})},kM=()=>l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Page Not Found - Charity Platform"})}),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Page Not Found"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(je,{to:"/",className:"btn btn-primary btn-lg",children:[l.jsx(cO,{className:"mr-2"}),"Go Home"]}),l.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline btn-lg",children:[l.jsx(sO,{className:"mr-2"}),"Go Back"]})]})]})})]}),VM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[i,c]=F.useState("");F.useEffect(()=>{(async()=>{try{const p=Av(Oo,"users"),g=i9(p,l9("createdAt","desc")),b=(await h9(g)).docs.map(_=>({id:_.id,..._.data()}));e(b)}catch(p){console.error("Failed to load users:",p)}finally{s(!1)}})()},[]);const d=t.filter(f=>{const p=i.toLowerCase();return!p||(f.displayName||"").toLowerCase().includes(p)||(f.email||"").toLowerCase().includes(p)||(f.role||"").toLowerCase().includes(p)});return l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Admin Users - Charity Platform"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tr,{className:"text-2xl text-primary"}),l.jsx("h1",{className:"text-2xl font-bold",children:"Users"})]}),l.jsxs("div",{className:"join",children:[l.jsx("input",{type:"text",placeholder:"Search name, email, role",value:i,onChange:f=>c(f.target.value),className:"input input-bordered join-item w-72"}),l.jsx("button",{className:"btn btn-primary join-item",children:l.jsx(Fv,{})})]})]}),l.jsx("div",{className:"card bg-base-100 shadow",children:l.jsx("div",{className:"card-body p-0",children:n?l.jsx("div",{className:"p-6",children:l.jsx("span",{className:"loading loading-spinner"})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"#"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Provider"}),l.jsx("th",{children:"Created"})]})}),l.jsxs("tbody",{children:[d.map((f,p)=>l.jsxs("tr",{children:[l.jsx("td",{children:p+1}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"avatar",children:l.jsx("div",{className:"mask mask-squircle w-10 h-10",children:l.jsx("img",{src:f.photoURL||"/api/placeholder/40/40",alt:f.displayName||"User"})})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:f.displayName||"—"}),l.jsx("div",{className:"text-sm opacity-50",children:f.uid?.slice(0,8)})]})]})}),l.jsx("td",{children:f.email||"—"}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-outline",children:f.role||"donor"})}),l.jsx("td",{children:f.providerId||"password"}),l.jsx("td",{children:f.createdAt?.toDate?f.createdAt.toDate().toLocaleString():"—"})]},f.id)),!d.length&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-10 text-sm text-base-content/70",children:"No users found"})})]})]})})})})]})]})},UM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[i,c]=F.useState("");F.useEffect(()=>{d()},[]);const d=()=>{try{const p=Hn(),g={};p.forEach(b=>{g[b.charityId]||(g[b.charityId]={id:b.charityId,name:b.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0,pendingCampaigns:0,rejectedCampaigns:0}),g[b.charityId].campaigns.push(b),g[b.charityId].totalCampaigns++,g[b.charityId].totalRaised+=b.currentAmount||0,b.status==="approved"?g[b.charityId].approvedCampaigns++:b.status==="pending"?g[b.charityId].pendingCampaigns++:b.status==="rejected"&&g[b.charityId].rejectedCampaigns++});const v=Object.values(g).sort((b,_)=>_.totalRaised-b.totalRaised);e(v),s(!1)}catch(p){console.error("Error fetching charities:",p),s(!1)}},f=t.filter(p=>{const g=i.toLowerCase();return!g||p.name.toLowerCase().includes(g)});return l.jsxs(l.Fragment,{children:[l.jsx(gn,{children:l.jsx("title",{children:"Admin Charities - Charity Platform"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ri,{className:"text-2xl text-primary"}),l.jsx("h1",{className:"text-2xl font-bold",children:"Charities"})]}),l.jsxs("div",{className:"join",children:[l.jsx("input",{type:"text",placeholder:"Search charities...",value:i,onChange:p=>c(p.target.value),className:"input input-bordered join-item w-72"}),l.jsx("button",{className:"btn btn-primary join-item",children:l.jsx(Fv,{})})]})]}),l.jsxs("div",{className:"stats shadow w-full",children:[l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Charities"}),l.jsx("div",{className:"stat-value text-primary",children:t.length}),l.jsx("div",{className:"stat-desc",children:"Registered organizations"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Campaigns"}),l.jsx("div",{className:"stat-value text-secondary",children:t.reduce((p,g)=>p+g.totalCampaigns,0)}),l.jsx("div",{className:"stat-desc",children:"All campaigns combined"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-title",children:"Total Raised"}),l.jsxs("div",{className:"stat-value text-accent",children:["৳",t.reduce((p,g)=>p+g.totalRaised,0).toLocaleString()]}),l.jsx("div",{className:"stat-desc",children:"Across all charities"})]})]}),l.jsx("div",{className:"card bg-base-100 shadow",children:l.jsx("div",{className:"card-body p-0",children:n?l.jsx("div",{className:"p-6 text-center",children:l.jsx("span",{className:"loading loading-spinner loading-lg"})}):f.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx(Ri,{className:"text-6xl text-base-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Charities Found"}),l.jsx("p",{className:"text-base-content/70",children:i?"Try a different search term":"No charities have registered yet"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"#"}),l.jsx("th",{children:"Charity Name"}),l.jsx("th",{children:"Total Campaigns"}),l.jsx("th",{children:"Approved"}),l.jsx("th",{children:"Pending"}),l.jsx("th",{children:"Total Raised"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:f.map((p,g)=>l.jsxs("tr",{className:"hover",children:[l.jsx("td",{children:g+1}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"avatar placeholder",children:l.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:l.jsx("span",{className:"text-lg",children:p.name.charAt(0).toUpperCase()})})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold",children:p.name}),l.jsxs("div",{className:"text-xs flex items-center gap-1 text-success",children:[l.jsx(Aa,{}),l.jsx("span",{children:"Registered"})]})]})]})}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-lg",children:p.totalCampaigns})}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-success badge-lg",children:p.approvedCampaigns})}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-warning badge-lg",children:p.pendingCampaigns})}),l.jsx("td",{children:l.jsxs("span",{className:"font-bold text-secondary",children:["৳",p.totalRaised.toLocaleString()]})}),l.jsx("td",{children:l.jsx(je,{to:`/campaigns?charity=${p.id}`,className:"btn btn-sm btn-ghost",title:"View campaigns",children:l.jsx(ja,{})})})]},p.id))})]})})})})]})]})},zM=Dj([{path:"/",element:l.jsx(_O,{}),children:[{path:"/",element:l.jsx($O,{})},{path:"/login",element:l.jsx(gM,{})},{path:"/signup",element:l.jsx(yM,{})},{path:"/campaigns",element:l.jsx(vM,{})},{path:"/campaigns/:id",element:l.jsx(xM,{})},{path:"/campaigns/:id/donate",element:l.jsx(mn,{children:l.jsx(bM,{})})},{path:"/campaigns/create",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(_M,{})})},{path:"/charities",element:l.jsx(wM,{})},{path:"/charities/:id",element:l.jsx(NM,{})},{path:"/charities/register",element:l.jsx(TM,{})},{path:"/about",element:l.jsx(PM,{})},{path:"/contact",element:l.jsx(LM,{})},{path:"/profile",element:l.jsx(mn,{children:l.jsx(Oh,{})})},{path:"/dashboard",element:l.jsx(mn,{children:l.jsx(wO,{})}),children:[{index:!0,element:l.jsx(DM,{})},{path:"/dashboard/charity",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(RM,{})})},{path:"/dashboard/charity/campaigns",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(OM,{})})},{path:"/dashboard/charity/campaigns/create",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(MM,{})})},{path:"/dashboard/charity/reviews",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(fw,{})})},{path:"/dashboard/charity/profile",element:l.jsx(mn,{requiredRole:"charity",children:l.jsx(Oh,{})})},{path:"/dashboard/admin",element:l.jsx(mn,{requiredRole:"admin",children:l.jsx(CM,{})})},{path:"/dashboard/admin/users",element:l.jsx(mn,{requiredRole:"admin",children:l.jsx(VM,{})})},{path:"/dashboard/admin/charities",element:l.jsx(mn,{requiredRole:"admin",children:l.jsx(UM,{})})},{path:"/dashboard/admin/campaigns",element:l.jsx(mn,{requiredRole:"admin",children:l.jsx(IM,{})})},{path:"/dashboard/admin/profile",element:l.jsx(mn,{requiredRole:"admin",children:l.jsx(Oh,{})})},{path:"/dashboard/donor",element:l.jsx(mn,{requiredRole:"donor",children:l.jsx(SM,{})})},{path:"/dashboard/donor/donations",element:l.jsx(mn,{requiredRole:"donor",children:l.jsx(AM,{})})},{path:"/dashboard/donor/saved",element:l.jsx(mn,{requiredRole:"donor",children:l.jsx(jM,{})})},{path:"/dashboard/donor/reviews",element:l.jsx(mn,{requiredRole:"donor",children:l.jsx(fw,{})})},{path:"/dashboard/donor/profile",element:l.jsx(mn,{requiredRole:"donor",children:l.jsx(Oh,{})})}]},{path:"*",element:l.jsx(kM,{})}]}],{basename:"/"}),FM=new y6({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function BM(){return l.jsx(Jw,{children:l.jsx(x6,{client:FM,children:l.jsx(D4,{children:l.jsx(Gj,{router:zM})})})})}LS.createRoot(document.getElementById("root")).render(l.jsx(F.StrictMode,{children:l.jsx(D4,{children:l.jsx(BM,{})})}));
