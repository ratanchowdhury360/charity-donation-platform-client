(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function uS(){if(P1)return Jc;P1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:t,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Jc.Fragment=e,Jc.jsx=n,Jc.jsxs=n,Jc}var M1;function dS(){return M1||(M1=1,Eg.exports=uS()),Eg.exports}var a=dS(),Sg={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function hS(){if(k1)return rt;k1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function z(q,ce,xe){this.props=q,this.context=ce,this.refs=k,this.updater=xe||D}z.prototype.isReactComponent={},z.prototype.setState=function(q,ce){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ce,"setState")},z.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function G(){}G.prototype=z.prototype;function P(q,ce,xe){this.props=q,this.context=ce,this.refs=k,this.updater=xe||D}var I=P.prototype=new G;I.constructor=P,M(I,z.prototype),I.isPureReactComponent=!0;var H=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function A(q,ce,xe,ye,Ae,Ge){return xe=Ge.ref,{$$typeof:t,type:q,key:ce,ref:xe!==void 0?xe:null,props:Ge}}function N(q,ce){return A(q.type,ce,void 0,void 0,void 0,q.props)}function S(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var ce={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(xe){return ce[xe]})}var R=/\/+/g;function _(q,ce){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):ce.toString(36)}function T(){}function Z(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(T,T):(q.status="pending",q.then(function(ce){q.status==="pending"&&(q.status="fulfilled",q.value=ce)},function(ce){q.status==="pending"&&(q.status="rejected",q.reason=ce)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,ce,xe,ye,Ae){var Ge=typeof q;(Ge==="undefined"||Ge==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(Ge){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case t:case e:Be=!0;break;case x:return Be=q._init,B(Be(q._payload),ce,xe,ye,Ae)}}if(Be)return Ae=Ae(q),Be=ye===""?"."+_(q,0):ye,H(Ae)?(xe="",Be!=null&&(xe=Be.replace(R,"$&/")+"/"),B(Ae,ce,xe,"",function(Un){return Un})):Ae!=null&&(S(Ae)&&(Ae=N(Ae,xe+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(R,"$&/")+"/")+Be)),ce.push(Ae)),1;Be=0;var Vt=ye===""?".":ye+":";if(H(q))for(var gt=0;gt<q.length;gt++)ye=q[gt],Ge=Vt+_(ye,gt),Be+=B(ye,ce,xe,Ge,Ae);else if(gt=w(q),typeof gt=="function")for(q=gt.call(q),gt=0;!(ye=q.next()).done;)ye=ye.value,Ge=Vt+_(ye,gt++),Be+=B(ye,ce,xe,Ge,Ae);else if(Ge==="object"){if(typeof q.then=="function")return B(Z(q),ce,xe,ye,Ae);throw ce=String(q),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Be}function $(q,ce,xe){if(q==null)return q;var ye=[],Ae=0;return B(q,ye,"","",function(Ge){return ce.call(xe,Ge,Ae++)}),ye}function X(q){if(q._status===-1){var ce=q._result;ce=ce(),ce.then(function(xe){(q._status===0||q._status===-1)&&(q._status=1,q._result=xe)},function(xe){(q._status===0||q._status===-1)&&(q._status=2,q._result=xe)}),q._status===-1&&(q._status=0,q._result=ce)}if(q._status===1)return q._result.default;throw q._result}var ie=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function be(){}return rt.Children={map:$,forEach:function(q,ce,xe){$(q,function(){ce.apply(this,arguments)},xe)},count:function(q){var ce=0;return $(q,function(){ce++}),ce},toArray:function(q){return $(q,function(ce){return ce})||[]},only:function(q){if(!S(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},rt.Component=z,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=P,rt.StrictMode=s,rt.Suspense=m,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,rt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return U.H.useMemoCache(q)}},rt.cache=function(q){return function(){return q.apply(null,arguments)}},rt.cloneElement=function(q,ce,xe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=M({},q.props),Ae=q.key,Ge=void 0;if(ce!=null)for(Be in ce.ref!==void 0&&(Ge=void 0),ce.key!==void 0&&(Ae=""+ce.key),ce)!C.call(ce,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&ce.ref===void 0||(ye[Be]=ce[Be]);var Be=arguments.length-2;if(Be===1)ye.children=xe;else if(1<Be){for(var Vt=Array(Be),gt=0;gt<Be;gt++)Vt[gt]=arguments[gt+2];ye.children=Vt}return A(q.type,Ae,void 0,void 0,Ge,ye)},rt.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:c,_context:q},q},rt.createElement=function(q,ce,xe){var ye,Ae={},Ge=null;if(ce!=null)for(ye in ce.key!==void 0&&(Ge=""+ce.key),ce)C.call(ce,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ae[ye]=ce[ye]);var Be=arguments.length-2;if(Be===1)Ae.children=xe;else if(1<Be){for(var Vt=Array(Be),gt=0;gt<Be;gt++)Vt[gt]=arguments[gt+2];Ae.children=Vt}if(q&&q.defaultProps)for(ye in Be=q.defaultProps,Be)Ae[ye]===void 0&&(Ae[ye]=Be[ye]);return A(q,Ge,void 0,void 0,null,Ae)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(q){return{$$typeof:f,render:q}},rt.isValidElement=S,rt.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:X}},rt.memo=function(q,ce){return{$$typeof:g,type:q,compare:ce===void 0?null:ce}},rt.startTransition=function(q){var ce=U.T,xe={};U.T=xe;try{var ye=q(),Ae=U.S;Ae!==null&&Ae(xe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(be,ie)}catch(Ge){ie(Ge)}finally{U.T=ce}},rt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},rt.use=function(q){return U.H.use(q)},rt.useActionState=function(q,ce,xe){return U.H.useActionState(q,ce,xe)},rt.useCallback=function(q,ce){return U.H.useCallback(q,ce)},rt.useContext=function(q){return U.H.useContext(q)},rt.useDebugValue=function(){},rt.useDeferredValue=function(q,ce){return U.H.useDeferredValue(q,ce)},rt.useEffect=function(q,ce,xe){var ye=U.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(q,ce)},rt.useId=function(){return U.H.useId()},rt.useImperativeHandle=function(q,ce,xe){return U.H.useImperativeHandle(q,ce,xe)},rt.useInsertionEffect=function(q,ce){return U.H.useInsertionEffect(q,ce)},rt.useLayoutEffect=function(q,ce){return U.H.useLayoutEffect(q,ce)},rt.useMemo=function(q,ce){return U.H.useMemo(q,ce)},rt.useOptimistic=function(q,ce){return U.H.useOptimistic(q,ce)},rt.useReducer=function(q,ce,xe){return U.H.useReducer(q,ce,xe)},rt.useRef=function(q){return U.H.useRef(q)},rt.useState=function(q){return U.H.useState(q)},rt.useSyncExternalStore=function(q,ce,xe){return U.H.useSyncExternalStore(q,ce,xe)},rt.useTransition=function(){return U.H.useTransition()},rt.version="19.1.1",rt}var L1;function ki(){return L1||(L1=1,Sg.exports=hS()),Sg.exports}var F=ki();const It=Jf(F);var Tg={exports:{}},Zc={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function fS(){return V1||(V1=1,(function(t){function e($,X){var ie=$.length;$.push(X);e:for(;0<ie;){var be=ie-1>>>1,q=$[be];if(0<o(q,X))$[be]=X,$[ie]=q,ie=be;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var X=$[0],ie=$.pop();if(ie!==X){$[0]=ie;e:for(var be=0,q=$.length,ce=q>>>1;be<ce;){var xe=2*(be+1)-1,ye=$[xe],Ae=xe+1,Ge=$[Ae];if(0>o(ye,ie))Ae<q&&0>o(Ge,ye)?($[be]=Ge,$[Ae]=ie,be=Ae):($[be]=ye,$[xe]=ie,be=xe);else if(Ae<q&&0>o(Ge,ie))$[be]=Ge,$[Ae]=ie,be=Ae;else break e}}return X}function o($,X){var ie=$.sortIndex-X.sortIndex;return ie!==0?ie:$.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var m=[],g=[],x=1,b=null,w=3,D=!1,M=!1,k=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function H($){for(var X=n(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=$)s(g),X.sortIndex=X.expirationTime,e(m,X);else break;X=n(g)}}function U($){if(k=!1,H($),!M)if(n(m)!==null)M=!0,C||(C=!0,_());else{var X=n(g);X!==null&&B(U,X.startTime-$)}}var C=!1,A=-1,N=5,S=-1;function L(){return z?!0:!(t.unstable_now()-S<N)}function R(){if(z=!1,C){var $=t.unstable_now();S=$;var X=!0;try{e:{M=!1,k&&(k=!1,P(A),A=-1),D=!0;var ie=w;try{t:{for(H($),b=n(m);b!==null&&!(b.expirationTime>$&&L());){var be=b.callback;if(typeof be=="function"){b.callback=null,w=b.priorityLevel;var q=be(b.expirationTime<=$);if($=t.unstable_now(),typeof q=="function"){b.callback=q,H($),X=!0;break t}b===n(m)&&s(m),H($)}else s(m);b=n(m)}if(b!==null)X=!0;else{var ce=n(g);ce!==null&&B(U,ce.startTime-$),X=!1}}break e}finally{b=null,w=ie,D=!1}X=void 0}}finally{X?_():C=!1}}}var _;if(typeof I=="function")_=function(){I(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Z=T.port2;T.port1.onmessage=R,_=function(){Z.postMessage(null)}}else _=function(){G(R,0)};function B($,X){A=G(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ie=w;w=X;try{return $()}finally{w=ie}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=w;w=$;try{return X()}finally{w=ie}},t.unstable_scheduleCallback=function($,X,ie){var be=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?be+ie:be):ie=be,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,$={id:x++,callback:X,priorityLevel:$,startTime:ie,expirationTime:q,sortIndex:-1},ie>be?($.sortIndex=ie,e(g,$),n(m)===null&&$===n(g)&&(k?(P(A),A=-1):k=!0,B(U,ie-be))):($.sortIndex=q,e(m,$),M||D||(M=!0,C||(C=!0,_()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var X=w;return function(){var ie=w;w=X;try{return $.apply(this,arguments)}finally{w=ie}}}})(Rg)),Rg}var U1;function mS(){return U1||(U1=1,Ag.exports=fS()),Ag.exports}var Cg={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function pS(){if(z1)return Fn;z1=1;var t=ki();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,x)},Fn.flushSync=function(m){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=x,s.d.f()}},Fn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Fn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):x==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Fn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Fn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin);s.d.L(m,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Fn.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Fn.requestFormReset=function(m){s.d.r(m)},Fn.unstable_batchedUpdates=function(m,g){return m(g)},Fn.useFormState=function(m,g,x){return d.H.useFormState(m,g,x)},Fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fn.version="19.1.1",Fn}var F1;function B_(){if(F1)return Cg.exports;F1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=pS(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function gS(){if(B1)return Zc;B1=1;var t=mS(),e=ki(),n=B_();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function d(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(c(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),r;if(y===u)return f(p),i;y=y.sibling}throw Error(s(188))}if(l.return!==u.return)l=p,u=y;else{for(var E=!1,O=p.child;O;){if(O===l){E=!0,l=p,u=y;break}if(O===u){E=!0,u=p,l=y;break}O=O.sibling}if(!E){for(O=y.child;O;){if(O===l){E=!0,l=y,u=p;break}if(O===u){E=!0,u=y,l=p;break}O=O.sibling}if(!E)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function _(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var T=Symbol.for("react.client.reference");function Z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===T?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case U:return"Suspense";case C:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case I:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case H:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return i=r.displayName||null,i!==null?i:Z(r.type)||"Memo";case N:i=r._payload,r=r._init;try{return Z(r(i))}catch{}}return null}var B=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},be=[],q=-1;function ce(r){return{current:r}}function xe(r){0>q||(r.current=be[q],be[q]=null,q--)}function ye(r,i){q++,be[q]=r.current,r.current=i}var Ae=ce(null),Ge=ce(null),Be=ce(null),Vt=ce(null);function gt(r,i){switch(ye(Be,i),ye(Ge,r),ye(Ae,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?l1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=l1(i),r=c1(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(Ae),ye(Ae,r)}function Un(){xe(Ae),xe(Ge),xe(Be)}function Et(r){r.memoizedState!==null&&ye(Vt,r);var i=Ae.current,l=c1(i,r.type);i!==l&&(ye(Ge,r),ye(Ae,l))}function bn(r){Ge.current===r&&(xe(Ae),xe(Ge)),Vt.current===r&&(xe(Vt),Kc._currentValue=ie)}var yr=Object.prototype.hasOwnProperty,ts=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,vs=t.unstable_shouldYield,Pa=t.unstable_requestPaint,Cn=t.unstable_now,Uo=t.unstable_getCurrentPriorityLevel,bs=t.unstable_ImmediatePriority,Q=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,de=t.unstable_LowPriority,Te=t.unstable_IdlePriority,Ee=t.log,_e=t.unstable_setDisableYieldValue,Ne=null,Re=null;function tt(r){if(typeof Ee=="function"&&_e(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Ne,r)}catch{}}var yt=Math.clz32?Math.clz32:Ir,ns=Math.log,Zt=Math.LN2;function Ir(r){return r>>>=0,r===0?32:31-(ns(r)/Zt|0)|0}var ar=256,ir=4194304;function Gn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Or(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var p=0,y=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var O=u&134217727;return O!==0?(u=O&~y,u!==0?p=Gn(u):(E&=O,E!==0?p=Gn(E):l||(l=O&~r,l!==0&&(p=Gn(l))))):(O=u&~y,O!==0?p=Gn(O):E!==0?p=Gn(E):l||(l=u&~r,l!==0&&(p=Gn(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function or(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function rs(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var r=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),r}function Bi(){var r=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),r}function Pr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function ss(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ma(r,i,l,u,p,y){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var O=r.entanglements,K=r.expirationTimes,se=r.hiddenUpdates;for(l=E&~l;0<l;){var he=31-yt(l),me=1<<he;O[he]=0,K[he]=-1;var oe=se[he];if(oe!==null)for(se[he]=null,he=0;he<oe.length;he++){var le=oe[he];le!==null&&(le.lane&=-536870913)}l&=~me}u!==0&&Kn(r,u,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~i))}function Kn(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-yt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function ws(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-yt(l),p=1<<u;p&i|r[u]&i&&(r[u]|=i),l&=~p}}function _s(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ka(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Y(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:A1(r.type))}function ee(r,i){var l=X.p;try{return X.p=r,i()}finally{X.p=l}}var ae=Math.random().toString(36).slice(2),pe="__reactFiber$"+ae,we="__reactProps$"+ae,Ce="__reactContainer$"+ae,Ve="__reactEvents$"+ae,Pe="__reactListeners$"+ae,Me="__reactHandles$"+ae,He="__reactResources$"+ae,ke="__reactMarker$"+ae;function Le(r){delete r[pe],delete r[we],delete r[Ve],delete r[Pe],delete r[Me]}function nt(r){var i=r[pe];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Ce]||l[pe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=f1(r);r!==null;){if(l=r[pe])return l;r=f1(r)}return i}r=l,l=r.parentNode}return null}function xt(r){if(r=r[pe]||r[Ce]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Ot(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function bt(r){var i=r[He];return i||(i=r[He]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(r){r[ke]=!0}var wt=new Set,lr={};function Dn(r,i){_n(r,i),_n(r+"Capture",i)}function _n(r,i){for(lr[r]=i,r=0;r<i.length;r++)wt.add(i[r])}var Yn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),La={},xr={};function Mr(r){return yr.call(xr,r)?!0:yr.call(La,r)?!1:Yn.test(r)?xr[r]=!0:(La[r]=!0,!1)}function vr(r,i,l){if(Mr(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Qn(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function We(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}var Ft,Js;function Wn(r){if(Ft===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ft=i&&i[1]||"",Js=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+r+Js}var kt=!1;function as(r,i){if(!r||kt)return"";kt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var oe=le}Reflect.construct(r,[],me)}else{try{me.call()}catch(le){oe=le}r.call(me.prototype)}}else{try{throw Error()}catch(le){oe=le}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],O=y[1];if(E&&O){var K=E.split(`
`),se=O.split(`
`);for(p=u=0;u<K.length&&!K[u].includes("DetermineComponentFrameRoot");)u++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(u===K.length||p===se.length)for(u=K.length-1,p=se.length-1;1<=u&&0<=p&&K[u]!==se[p];)p--;for(;1<=u&&0<=p;u--,p--)if(K[u]!==se[p]){if(u!==1||p!==1)do if(u--,p--,0>p||K[u]!==se[p]){var he=`
`+K[u].replace(" at new "," at ");return r.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",r.displayName)),he}while(1<=u&&0<=p);break}}}finally{kt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Wn(l):""}function Va(r){switch(r.tag){case 26:case 27:case 5:return Wn(r.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return as(r.type,!1);case 11:return as(r.type.render,!1);case 1:return as(r.type,!0);case 31:return Wn("Activity");default:return""}}function Ua(r){try{var i="";do i+=Va(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function tc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rm(r){var i=tc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function zo(r){r._valueTracker||(r._valueTracker=Rm(r))}function nc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=tc(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function Hi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Cm=/[\n"\\]/g;function sn(r){return r.replace(Cm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function br(r,i,l,u,p,y,E,O){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Xn(i)):r.value!==""+Xn(i)&&(r.value=""+Xn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?za(r,E,Xn(i)):l!=null?za(r,E,Xn(l)):u!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+Xn(O):r.removeAttribute("name")}function qi(r,i,l,u,p,y,E,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+Xn(l):"",i=i!=null?""+Xn(i):l,O||i===r.value||(r.value=i),r.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=O?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function za(r,i,l){i==="number"&&Hi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Zs(r,i,l,u){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Xn(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function At(r,i,l){if(i!=null&&(i=""+Xn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Xn(l):""}function $i(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(B(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Xn(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function kr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||Gi.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function rc(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&jd(r,p,u)}else for(var y in i)i.hasOwnProperty(y)&&jd(r,y,i[y])}function sc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(r){return Im.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ea=null;function Lr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ta=null,na=null;function ac(r){var i=xt(r);if(i&&(r=i.stateNode)){var l=r[we]||null;e:switch(r=i.stateNode,i.type){case"input":if(br(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var p=u[we]||null;if(!p)throw Error(s(90));br(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&nc(u)}break e;case"textarea":At(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Zs(r,!!l.multiple,i,!1)}}}var Ns=!1;function Ed(r,i,l){if(Ns)return r(i,l);Ns=!0;try{var u=r(i);return u}finally{if(Ns=!1,(ta!==null||na!==null)&&(xh(),ta&&(i=ta,r=na,na=ta=null,ac(i),r)))for(i=0;i<r.length;i++)ac(r[i])}}function Ki(r,i){var l=r.stateNode;if(l===null)return null;var u=l[we]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(is)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Vr=!1}var js=null,Fa=null,ra=null;function ic(){if(ra)return ra;var r,i=Fa,l=i.length,u,p="value"in js?js.value:js.textContent,y=p.length;for(r=0;r<l&&i[r]===p[r];r++);var E=l-r;for(u=1;u<=E&&i[l-u]===p[y-u];u++);return ra=p.slice(r,1<u?1-u:void 0)}function Es(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ss(){return!0}function oc(){return!1}function Nn(r){function i(l,u,p,y,E){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ss:oc,this.isPropagationStopped=oc,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Nn(jt),Qi=x({},jt,{view:0,detail:0}),Sd=Nn(Qi),Ho,qo,Ts,Wi=x({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ts&&(Ts&&r.type==="mousemove"?(Ho=r.screenX-Ts.screenX,qo=r.screenY-Ts.screenY):qo=Ho=0,Ts=r),Ho)},movementY:function(r){return"movementY"in r?r.movementY:qo}}),Ur=Nn(Wi),Td=x({},Wi,{dataTransfer:0}),Om=Nn(Td),Xi=x({},Qi,{relatedTarget:0}),$o=Nn(Xi),lc=x({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=Nn(lc),Ad=x({},jt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ko=Nn(Ad),Pm=x({},jt,{data:0}),cc=Nn(Pm),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Cd[r])?!!i[r]:!1}function Zi(){return uc}var Dd=x({},Qi,{key:function(r){if(r.key){var i=Ji[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Es(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(r){return r.type==="keypress"?Es(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Es(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yo=Nn(Dd),Id=x({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Nn(Id),sa=x({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Od=Nn(sa),Pd=x({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Md=Nn(Pd),kd=x({},Wi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qo=Nn(kd),Jn=x({},jt,{newState:0,oldState:0}),Ld=Nn(Jn),Vd=[9,13,27,32],As=is&&"CompositionEvent"in window,h=null;is&&"documentMode"in document&&(h=document.documentMode);var v=is&&"TextEvent"in window&&!h,j=is&&(!As||h&&8<h&&11>=h),V=" ",te=!1;function ue(r,i){switch(r){case"keyup":return Vd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ht=!1;function hn(r,i){switch(r){case"compositionend":return Se(i);case"keypress":return i.which!==32?null:(te=!0,V);case"textInput":return r=i.data,r===V&&te?null:r;default:return null}}function ft(r,i){if(ht)return r==="compositionend"||!As&&ue(r,i)?(r=ic(),ra=Fa=js=null,ht=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return j&&i.locale!=="ko"?null:i.data;default:return null}}var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!jn[r.type]:i==="textarea"}function aa(r,i,l,u){ta?na?na.push(u):na=[u]:ta=u,i=jh(i,"onChange"),0<i.length&&(l=new Bo("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var In=null,Rs=null;function hc(r){r1(r,0)}function Ud(r){var i=Ot(r);if(nc(i))return r}function jx(r,i){if(r==="change")return i}var Ex=!1;if(is){var Mm;if(is){var km="oninput"in document;if(!km){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),km=typeof Sx.oninput=="function"}Mm=km}else Mm=!1;Ex=Mm&&(!document.documentMode||9<document.documentMode)}function Tx(){In&&(In.detachEvent("onpropertychange",Ax),Rs=In=null)}function Ax(r){if(r.propertyName==="value"&&Ud(Rs)){var i=[];aa(i,Rs,r,Lr(r)),Ed(hc,i)}}function zE(r,i,l){r==="focusin"?(Tx(),In=i,Rs=l,In.attachEvent("onpropertychange",Ax)):r==="focusout"&&Tx()}function FE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ud(Rs)}function BE(r,i){if(r==="click")return Ud(i)}function HE(r,i){if(r==="input"||r==="change")return Ud(i)}function qE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var wr=typeof Object.is=="function"?Object.is:qE;function fc(r,i){if(wr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!yr.call(i,p)||!wr(r[p],i[p]))return!1}return!0}function Rx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cx(r,i){var l=Rx(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rx(l)}}function Dx(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Dx(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ix(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Hi(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Hi(r.document)}return i}function Lm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var $E=is&&"documentMode"in document&&11>=document.documentMode,Wo=null,Vm=null,mc=null,Um=!1;function Ox(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Um||Wo==null||Wo!==Hi(u)||(u=Wo,"selectionStart"in u&&Lm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mc&&fc(mc,u)||(mc=u,u=jh(Vm,"onSelect"),0<u.length&&(i=new Bo("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Wo)))}function eo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Xo={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},zm={},Px={};is&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function to(r){if(zm[r])return zm[r];if(!Xo[r])return r;var i=Xo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Px)return zm[r]=i[l];return r}var Mx=to("animationend"),kx=to("animationiteration"),Lx=to("animationstart"),GE=to("transitionrun"),KE=to("transitionstart"),YE=to("transitioncancel"),Vx=to("transitionend"),Ux=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function os(r,i){Ux.set(r,i),Dn(i,[r])}var zx=new WeakMap;function zr(r,i){if(typeof r=="object"&&r!==null){var l=zx.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Ua(i)},zx.set(r,i),i)}return{value:r,source:i,stack:Ua(i)}}var Fr=[],Jo=0,Bm=0;function zd(){for(var r=Jo,i=Bm=Jo=0;i<r;){var l=Fr[i];Fr[i++]=null;var u=Fr[i];Fr[i++]=null;var p=Fr[i];Fr[i++]=null;var y=Fr[i];if(Fr[i++]=null,u!==null&&p!==null){var E=u.pending;E===null?p.next=p:(p.next=E.next,E.next=p),u.pending=p}y!==0&&Fx(l,p,y)}}function Fd(r,i,l,u){Fr[Jo++]=r,Fr[Jo++]=i,Fr[Jo++]=l,Fr[Jo++]=u,Bm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Hm(r,i,l,u){return Fd(r,i,l,u),Bd(r)}function Zo(r,i){return Fd(r,null,null,i),Bd(r)}function Fx(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&i!==null&&(p=31-yt(l),r=y.hiddenUpdates,u=r[p],u===null?r[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function Bd(r){if(50<Uc)throw Uc=0,Qp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var el={};function QE(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(r,i,l,u){return new QE(r,i,l,u)}function qm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ia(r,i){var l=r.alternate;return l===null?(l=_r(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Bx(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Hd(r,i,l,u,p,y){var E=0;if(u=r,typeof r=="function")qm(r)&&(E=1);else if(typeof r=="string")E=X3(r,l,Ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=_r(31,l,i,p),r.elementType=S,r.lanes=y,r;case M:return no(l.children,p,y,i);case k:E=8,p|=24;break;case z:return r=_r(12,l,i,p|2),r.elementType=z,r.lanes=y,r;case U:return r=_r(13,l,i,p),r.elementType=U,r.lanes=y,r;case C:return r=_r(19,l,i,p),r.elementType=C,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:case I:E=10;break e;case P:E=9;break e;case H:E=11;break e;case A:E=14;break e;case N:E=16,u=null;break e}E=29,l=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=_r(E,l,i,p),i.elementType=r,i.type=u,i.lanes=y,i}function no(r,i,l,u){return r=_r(7,r,u,i),r.lanes=l,r}function $m(r,i,l){return r=_r(6,r,null,i),r.lanes=l,r}function Gm(r,i,l){return i=_r(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var tl=[],nl=0,qd=null,$d=0,Br=[],Hr=0,ro=null,oa=1,la="";function so(r,i){tl[nl++]=$d,tl[nl++]=qd,qd=r,$d=i}function Hx(r,i,l){Br[Hr++]=oa,Br[Hr++]=la,Br[Hr++]=ro,ro=r;var u=oa;r=la;var p=32-yt(u)-1;u&=~(1<<p),l+=1;var y=32-yt(i)+p;if(30<y){var E=p-p%5;y=(u&(1<<E)-1).toString(32),u>>=E,p-=E,oa=1<<32-yt(i)+p|l<<p|u,la=y+r}else oa=1<<y|l<<p|u,la=r}function Km(r){r.return!==null&&(so(r,1),Hx(r,1,0))}function Ym(r){for(;r===qd;)qd=tl[--nl],tl[nl]=null,$d=tl[--nl],tl[nl]=null;for(;r===ro;)ro=Br[--Hr],Br[Hr]=null,la=Br[--Hr],Br[Hr]=null,oa=Br[--Hr],Br[Hr]=null}var Zn=null,Gt=null,_t=!1,ao=null,Cs=!1,Qm=Error(s(519));function io(r){var i=Error(s(418,""));throw yc(zr(i,r)),Qm}function qx(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[pe]=r,i[we]=u,l){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(l=0;l<Fc.length;l++)lt(Fc[l],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),qi(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zo(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),$i(i,u.value,u.defaultValue,u.children),zo(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||o1(i.textContent,l)?(u.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),u.onScroll!=null&&lt("scroll",i),u.onScrollEnd!=null&&lt("scrollend",i),u.onClick!=null&&(i.onclick=Eh),i=!0):i=!1,i||io(r)}function $x(r){for(Zn=r.return;Zn;)switch(Zn.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:Zn=Zn.return}}function pc(r){if(r!==Zn)return!1;if(!_t)return $x(r),_t=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||dg(r.type,r.memoizedProps)),l=!l),l&&Gt&&io(r),$x(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){Gt=cs(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}Gt=null}}else i===27?(i=Gt,ri(r.type)?(r=pg,pg=null,Gt=r):Gt=i):Gt=Zn?cs(r.stateNode.nextSibling):null;return!0}function gc(){Gt=Zn=null,_t=!1}function Gx(){var r=ao;return r!==null&&(dr===null?dr=r:dr.push.apply(dr,r),ao=null),r}function yc(r){ao===null?ao=[r]:ao.push(r)}var Wm=ce(null),oo=null,ca=null;function Ba(r,i,l){ye(Wm,i._currentValue),i._currentValue=l}function ua(r){r._currentValue=Wm.current,xe(Wm)}function Xm(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Jm(r,i,l,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var K=0;K<i.length;K++)if(O.context===i[K]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Xm(y.return,l,r),u||(E=null);break e}y=O.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(s(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Xm(E,l,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function xc(r,i,l,u){r=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var O=p.type;wr(p.pendingProps.value,E.value)||(r!==null?r.push(O):r=[O])}}else if(p===Vt.current){if(E=p.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Kc):r=[Kc])}p=p.return}r!==null&&Jm(i,r,l,u),i.flags|=262144}function Gd(r){for(r=r.firstContext;r!==null;){if(!wr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function lo(r){oo=r,ca=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function zn(r){return Kx(oo,r)}function Kd(r,i){return oo===null&&lo(r),Kx(r,i)}function Kx(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ca===null){if(r===null)throw Error(s(308));ca=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ca=ca.next=i;return l}var WE=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},XE=t.unstable_scheduleCallback,JE=t.unstable_NormalPriority,mn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new WE,data:new Map,refCount:0}}function vc(r){r.refCount--,r.refCount===0&&XE(JE,function(){r.controller.abort()})}var bc=null,ep=0,rl=0,sl=null;function ZE(r,i){if(bc===null){var l=bc=[];ep=0,rl=ng(),sl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ep++,i.then(Yx,Yx),i}function Yx(){if(--ep===0&&bc!==null){sl!==null&&(sl.status="fulfilled");var r=bc;bc=null,rl=0,sl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function e3(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Qx=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ZE(r,i),Qx!==null&&Qx(r,i)};var co=ce(null);function tp(){var r=co.current;return r!==null?r:Lt.pooledCache}function Yd(r,i){i===null?ye(co,co.current):ye(co,i.pool)}function Wx(){var r=tp();return r===null?null:{parent:mn._currentValue,pool:r}}var wc=Error(s(460)),Xx=Error(s(474)),Qd=Error(s(542)),np={then:function(){}};function Jx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Wd(){}function Zx(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Wd,Wd),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tv(r),r;default:if(typeof i.status=="string")i.then(Wd,Wd);else{if(r=Lt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,tv(r),r}throw _c=i,wc}}var _c=null;function ev(){if(_c===null)throw Error(s(459));var r=_c;return _c=null,r}function tv(r){if(r===wc||r===Qd)throw Error(s(483))}var Ha=!1;function rp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function $a(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(St&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=Bd(r),Fx(r,null,l),i}return Fd(r,u,i,l),Bd(r)}function Nc(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ws(r,l)}}function ap(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var ip=!1;function jc(){if(ip){var r=sl;if(r!==null)throw r}}function Ec(r,i,l,u){ip=!1;var p=r.updateQueue;Ha=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var K=O,se=K.next;K.next=null,E===null?y=se:E.next=se,E=K;var he=r.alternate;he!==null&&(he=he.updateQueue,O=he.lastBaseUpdate,O!==E&&(O===null?he.firstBaseUpdate=se:O.next=se,he.lastBaseUpdate=K))}if(y!==null){var me=p.baseState;E=0,he=se=K=null,O=y;do{var oe=O.lane&-536870913,le=oe!==O.lane;if(le?(mt&oe)===oe:(u&oe)===oe){oe!==0&&oe===rl&&(ip=!0),he!==null&&(he=he.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Xe=r,$e=O;oe=i;var Dt=l;switch($e.tag){case 1:if(Xe=$e.payload,typeof Xe=="function"){me=Xe.call(Dt,me,oe);break e}me=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=$e.payload,oe=typeof Xe=="function"?Xe.call(Dt,me,oe):Xe,oe==null)break e;me=x({},me,oe);break e;case 2:Ha=!0}}oe=O.callback,oe!==null&&(r.flags|=64,le&&(r.flags|=8192),le=p.callbacks,le===null?p.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},he===null?(se=he=le,K=me):he=he.next=le,E|=oe;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;le=O,O=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);he===null&&(K=me),p.baseState=K,p.firstBaseUpdate=se,p.lastBaseUpdate=he,y===null&&(p.shared.lanes=0),Za|=E,r.lanes=E,r.memoizedState=me}}function nv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function rv(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)nv(l[r],i)}var al=ce(null),Xd=ce(0);function sv(r,i){r=ya,ye(Xd,r),ye(al,i),ya=r|i.baseLanes}function op(){ye(Xd,ya),ye(al,al.current)}function lp(){ya=Xd.current,xe(al),xe(Xd)}var Ga=0,st=null,Rt=null,an=null,Jd=!1,il=!1,uo=!1,Zd=0,Sc=0,ol=null,t3=0;function en(){throw Error(s(321))}function cp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!wr(r[l],i[l]))return!1;return!0}function up(r,i,l,u,p,y){return Ga=y,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?Fv:Bv,uo=!1,y=l(u,p),uo=!1,il&&(y=iv(i,l,u,p)),av(r),y}function av(r){$.H=ah;var i=Rt!==null&&Rt.next!==null;if(Ga=0,an=Rt=st=null,Jd=!1,Sc=0,ol=null,i)throw Error(s(300));r===null||En||(r=r.dependencies,r!==null&&Gd(r)&&(En=!0))}function iv(r,i,l,u){st=r;var p=0;do{if(il&&(ol=null),Sc=0,il=!1,25<=p)throw Error(s(301));if(p+=1,an=Rt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=l3,y=i(l,u)}while(il);return y}function n3(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Tc(i):i,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(st.flags|=1024),i}function dp(){var r=Zd!==0;return Zd=0,r}function hp(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function fp(r){if(Jd){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jd=!1}Ga=0,an=Rt=st=null,il=!1,Sc=Zd=0,ol=null}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?st.memoizedState=an=r:an=an.next=r,an}function on(){if(Rt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var i=an===null?st.memoizedState:an.next;if(i!==null)an=i,Rt=r;else{if(r===null)throw st.alternate===null?Error(s(467)):Error(s(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},an===null?st.memoizedState=an=r:an=an.next=r}return an}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(r){var i=Sc;return Sc+=1,ol===null&&(ol=[]),r=Zx(ol,r,i),i=st,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Fv:Bv),r}function eh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Tc(r);if(r.$$typeof===I)return zn(r)}throw Error(s(438,String(r)))}function pp(r){var i=null,l=st.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=mp(),st.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=L;return i.index++,l}function da(r,i){return typeof i=="function"?i(r):i}function th(r){var i=on();return gp(i,Rt,r)}function gp(r,i,l){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var p=r.baseQueue,y=u.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}i.baseQueue=p=y,u.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{i=p.next;var O=E=null,K=null,se=i,he=!1;do{var me=se.lane&-536870913;if(me!==se.lane?(mt&me)===me:(Ga&me)===me){var oe=se.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),me===rl&&(he=!0);else if((Ga&oe)===oe){se=se.next,oe===rl&&(he=!0);continue}else me={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(O=K=me,E=y):K=K.next=me,st.lanes|=oe,Za|=oe;me=se.action,uo&&l(y,me),y=se.hasEagerState?se.eagerState:l(y,me)}else oe={lane:me,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(O=K=oe,E=y):K=K.next=oe,st.lanes|=me,Za|=me;se=se.next}while(se!==null&&se!==i);if(K===null?E=y:K.next=O,!wr(y,r.memoizedState)&&(En=!0,he&&(l=sl,l!==null)))throw l;r.memoizedState=y,r.baseState=E,r.baseQueue=K,u.lastRenderedState=y}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function yp(r){var i=on(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);wr(y,i.memoizedState)||(En=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function ov(r,i,l){var u=st,p=on(),y=_t;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var E=!wr((Rt||p).memoizedState,l);E&&(p.memoizedState=l,En=!0),p=p.queue;var O=uv.bind(null,u,p,r);if(Ac(2048,8,O,[r]),p.getSnapshot!==i||E||an!==null&&an.memoizedState.tag&1){if(u.flags|=2048,ll(9,nh(),cv.bind(null,u,p,l,i),null),Lt===null)throw Error(s(349));y||(Ga&124)!==0||lv(u,i,l)}return l}function lv(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=st.updateQueue,i===null?(i=mp(),st.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function cv(r,i,l,u){i.value=l,i.getSnapshot=u,dv(i)&&hv(r)}function uv(r,i,l){return l(function(){dv(i)&&hv(r)})}function dv(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!wr(r,l)}catch{return!0}}function hv(r){var i=Zo(r,2);i!==null&&Tr(i,r,2)}function xp(r){var i=cr();if(typeof r=="function"){var l=r;if(r=l(),uo){tt(!0);try{l()}finally{tt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:r},i}function fv(r,i,l,u){return r.baseState=l,gp(r,Rt,typeof u=="function"?u:da)}function r3(r,i,l,u,p){if(sh(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,mv(i,y)):(y.next=l.next,i.pending=l.next=y)}}function mv(r,i){var l=i.action,u=i.payload,p=r.state;if(i.isTransition){var y=$.T,E={};$.T=E;try{var O=l(p,u),K=$.S;K!==null&&K(E,O),pv(r,i,O)}catch(se){vp(r,i,se)}finally{$.T=y}}else try{y=l(p,u),pv(r,i,y)}catch(se){vp(r,i,se)}}function pv(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){gv(r,i,u)},function(u){return vp(r,i,u)}):gv(r,i,l)}function gv(r,i,l){i.status="fulfilled",i.value=l,yv(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,mv(r,l)))}function vp(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,yv(i),i=i.next;while(i!==u)}r.action=null}function yv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function xv(r,i){return i}function vv(r,i){if(_t){var l=Lt.formState;if(l!==null){e:{var u=st;if(_t){if(Gt){t:{for(var p=Gt,y=Cs;p.nodeType!==8;){if(!y){p=null;break t}if(p=cs(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Gt=cs(p.nextSibling),u=p.data==="F!";break e}}io(u)}u=!1}u&&(i=l[0])}}return l=cr(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:i},l.queue=u,l=Vv.bind(null,st,u),u.dispatch=l,u=xp(!1),y=jp.bind(null,st,!1,u.queue),u=cr(),p={state:i,dispatch:null,action:r,pending:null},u.queue=p,l=r3.bind(null,st,p,y,l),p.dispatch=l,u.memoizedState=r,[i,l,!1]}function bv(r){var i=on();return wv(i,Rt,r)}function wv(r,i,l){if(i=gp(r,i,xv)[0],r=th(da)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Tc(i)}catch(E){throw E===wc?Qd:E}else u=i;i=on();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(st.flags|=2048,ll(9,nh(),s3.bind(null,p,l),null)),[u,y,r]}function s3(r,i){r.action=i}function _v(r){var i=on(),l=Rt;if(l!==null)return wv(i,l,r);on(),i=i.memoizedState,l=on();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function ll(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=st.updateQueue,i===null&&(i=mp(),st.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function nh(){return{destroy:void 0,resource:void 0}}function Nv(){return on().memoizedState}function rh(r,i,l,u){var p=cr();u=u===void 0?null:u,st.flags|=r,p.memoizedState=ll(1|i,nh(),l,u)}function Ac(r,i,l,u){var p=on();u=u===void 0?null:u;var y=p.memoizedState.inst;Rt!==null&&u!==null&&cp(u,Rt.memoizedState.deps)?p.memoizedState=ll(i,y,l,u):(st.flags|=r,p.memoizedState=ll(1|i,y,l,u))}function jv(r,i){rh(8390656,8,r,i)}function Ev(r,i){Ac(2048,8,r,i)}function Sv(r,i){return Ac(4,2,r,i)}function Tv(r,i){return Ac(4,4,r,i)}function Av(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Rv(r,i,l){l=l!=null?l.concat([r]):null,Ac(4,4,Av.bind(null,i,r),l)}function bp(){}function Cv(r,i){var l=on();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&cp(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function Dv(r,i){var l=on();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&cp(i,u[1]))return u[0];if(u=r(),uo){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[u,i],u}function wp(r,i,l){return l===void 0||(Ga&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=Pb(),st.lanes|=r,Za|=r,l)}function Iv(r,i,l,u){return wr(l,i)?l:al.current!==null?(r=wp(r,l,u),wr(r,i)||(En=!0),r):(Ga&42)===0?(En=!0,r.memoizedState=l):(r=Pb(),st.lanes|=r,Za|=r,i)}function Ov(r,i,l,u,p){var y=X.p;X.p=y!==0&&8>y?y:8;var E=$.T,O={};$.T=O,jp(r,!1,i,l);try{var K=p(),se=$.S;if(se!==null&&se(O,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=e3(K,u);Rc(r,i,he,Sr(r))}else Rc(r,i,u,Sr(r))}catch(me){Rc(r,i,{then:function(){},status:"rejected",reason:me},Sr())}finally{X.p=y,$.T=E}}function a3(){}function _p(r,i,l,u){if(r.tag!==5)throw Error(s(476));var p=Pv(r).queue;Ov(r,p,i,ie,l===null?a3:function(){return Mv(r),l(u)})}function Pv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:ie},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Mv(r){var i=Pv(r).next.queue;Rc(r,i,{},Sr())}function Np(){return zn(Kc)}function kv(){return on().memoizedState}function Lv(){return on().memoizedState}function i3(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Sr();r=qa(l);var u=$a(i,r,l);u!==null&&(Tr(u,i,l),Nc(u,i,l)),i={cache:Zm()},r.payload=i;return}i=i.return}}function o3(r,i,l){var u=Sr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},sh(r)?Uv(i,l):(l=Hm(r,i,l,u),l!==null&&(Tr(l,r,u),zv(l,i,u)))}function Vv(r,i,l){var u=Sr();Rc(r,i,l,u)}function Rc(r,i,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(sh(r))Uv(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,O=y(E,l);if(p.hasEagerState=!0,p.eagerState=O,wr(O,E))return Fd(r,i,p,0),Lt===null&&zd(),!1}catch{}finally{}if(l=Hm(r,i,p,u),l!==null)return Tr(l,r,u),zv(l,i,u),!0}return!1}function jp(r,i,l,u){if(u={lane:2,revertLane:ng(),action:u,hasEagerState:!1,eagerState:null,next:null},sh(r)){if(i)throw Error(s(479))}else i=Hm(r,l,u,2),i!==null&&Tr(i,r,2)}function sh(r){var i=r.alternate;return r===st||i!==null&&i===st}function Uv(r,i){il=Jd=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function zv(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,ws(r,l)}}var ah={readContext:zn,use:eh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Fv={readContext:zn,use:eh,useCallback:function(r,i){return cr().memoizedState=[r,i===void 0?null:i],r},useContext:zn,useEffect:jv,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,rh(4194308,4,Av.bind(null,i,r),l)},useLayoutEffect:function(r,i){return rh(4194308,4,r,i)},useInsertionEffect:function(r,i){rh(4,2,r,i)},useMemo:function(r,i){var l=cr();i=i===void 0?null:i;var u=r();if(uo){tt(!0);try{r()}finally{tt(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=cr();if(l!==void 0){var p=l(i);if(uo){tt(!0);try{l(i)}finally{tt(!1)}}}else p=i;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=o3.bind(null,st,r),[u.memoizedState,r]},useRef:function(r){var i=cr();return r={current:r},i.memoizedState=r},useState:function(r){r=xp(r);var i=r.queue,l=Vv.bind(null,st,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:bp,useDeferredValue:function(r,i){var l=cr();return wp(l,r,i)},useTransition:function(){var r=xp(!1);return r=Ov.bind(null,st,r.queue,!0,!1),cr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=st,p=cr();if(_t){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Lt===null)throw Error(s(349));(mt&124)!==0||lv(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,jv(uv.bind(null,u,y,r),[r]),u.flags|=2048,ll(9,nh(),cv.bind(null,u,y,l,i),null),l},useId:function(){var r=cr(),i=Lt.identifierPrefix;if(_t){var l=la,u=oa;l=(u&~(1<<32-yt(u)-1)).toString(32)+l,i=""+i+"R"+l,l=Zd++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=t3++,i=""+i+"r"+l.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Np,useFormState:vv,useActionState:vv,useOptimistic:function(r){var i=cr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=jp.bind(null,st,!0,l),l.dispatch=i,[r,i]},useMemoCache:pp,useCacheRefresh:function(){return cr().memoizedState=i3.bind(null,st)}},Bv={readContext:zn,use:eh,useCallback:Cv,useContext:zn,useEffect:Ev,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:Tv,useMemo:Dv,useReducer:th,useRef:Nv,useState:function(){return th(da)},useDebugValue:bp,useDeferredValue:function(r,i){var l=on();return Iv(l,Rt.memoizedState,r,i)},useTransition:function(){var r=th(da)[0],i=on().memoizedState;return[typeof r=="boolean"?r:Tc(r),i]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:Np,useFormState:bv,useActionState:bv,useOptimistic:function(r,i){var l=on();return fv(l,Rt,r,i)},useMemoCache:pp,useCacheRefresh:Lv},l3={readContext:zn,use:eh,useCallback:Cv,useContext:zn,useEffect:Ev,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:Tv,useMemo:Dv,useReducer:yp,useRef:Nv,useState:function(){return yp(da)},useDebugValue:bp,useDeferredValue:function(r,i){var l=on();return Rt===null?wp(l,r,i):Iv(l,Rt.memoizedState,r,i)},useTransition:function(){var r=yp(da)[0],i=on().memoizedState;return[typeof r=="boolean"?r:Tc(r),i]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:Np,useFormState:_v,useActionState:_v,useOptimistic:function(r,i){var l=on();return Rt!==null?fv(l,Rt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:pp,useCacheRefresh:Lv},cl=null,Cc=0;function ih(r){var i=Cc;return Cc+=1,cl===null&&(cl=[]),Zx(cl,r,i)}function Dc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function oh(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Hv(r){var i=r._init;return i(r._payload)}function qv(r){function i(J,W){if(r){var ne=J.deletions;ne===null?(J.deletions=[W],J.flags|=16):ne.push(W)}}function l(J,W){if(!r)return null;for(;W!==null;)i(J,W),W=W.sibling;return null}function u(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function p(J,W){return J=ia(J,W),J.index=0,J.sibling=null,J}function y(J,W,ne){return J.index=ne,r?(ne=J.alternate,ne!==null?(ne=ne.index,ne<W?(J.flags|=67108866,W):ne):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function E(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function O(J,W,ne,fe){return W===null||W.tag!==6?(W=$m(ne,J.mode,fe),W.return=J,W):(W=p(W,ne),W.return=J,W)}function K(J,W,ne,fe){var Oe=ne.type;return Oe===M?he(J,W,ne.props.children,fe,ne.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&Hv(Oe)===W.type)?(W=p(W,ne.props),Dc(W,ne),W.return=J,W):(W=Hd(ne.type,ne.key,ne.props,null,J.mode,fe),Dc(W,ne),W.return=J,W)}function se(J,W,ne,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=Gm(ne,J.mode,fe),W.return=J,W):(W=p(W,ne.children||[]),W.return=J,W)}function he(J,W,ne,fe,Oe){return W===null||W.tag!==7?(W=no(ne,J.mode,fe,Oe),W.return=J,W):(W=p(W,ne),W.return=J,W)}function me(J,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=$m(""+W,J.mode,ne),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ne=Hd(W.type,W.key,W.props,null,J.mode,ne),Dc(ne,W),ne.return=J,ne;case D:return W=Gm(W,J.mode,ne),W.return=J,W;case N:var fe=W._init;return W=fe(W._payload),me(J,W,ne)}if(B(W)||_(W))return W=no(W,J.mode,ne,null),W.return=J,W;if(typeof W.then=="function")return me(J,ih(W),ne);if(W.$$typeof===I)return me(J,Kd(J,W),ne);oh(J,W)}return null}function oe(J,W,ne,fe){var Oe=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Oe!==null?null:O(J,W,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===Oe?K(J,W,ne,fe):null;case D:return ne.key===Oe?se(J,W,ne,fe):null;case N:return Oe=ne._init,ne=Oe(ne._payload),oe(J,W,ne,fe)}if(B(ne)||_(ne))return Oe!==null?null:he(J,W,ne,fe,null);if(typeof ne.then=="function")return oe(J,W,ih(ne),fe);if(ne.$$typeof===I)return oe(J,W,Kd(J,ne),fe);oh(J,ne)}return null}function le(J,W,ne,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return J=J.get(ne)||null,O(W,J,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return J=J.get(fe.key===null?ne:fe.key)||null,K(W,J,fe,Oe);case D:return J=J.get(fe.key===null?ne:fe.key)||null,se(W,J,fe,Oe);case N:var at=fe._init;return fe=at(fe._payload),le(J,W,ne,fe,Oe)}if(B(fe)||_(fe))return J=J.get(ne)||null,he(W,J,fe,Oe,null);if(typeof fe.then=="function")return le(J,W,ne,ih(fe),Oe);if(fe.$$typeof===I)return le(J,W,ne,Kd(W,fe),Oe);oh(W,fe)}return null}function Xe(J,W,ne,fe){for(var Oe=null,at=null,Fe=W,Ke=W=0,Tn=null;Fe!==null&&Ke<ne.length;Ke++){Fe.index>Ke?(Tn=Fe,Fe=null):Tn=Fe.sibling;var vt=oe(J,Fe,ne[Ke],fe);if(vt===null){Fe===null&&(Fe=Tn);break}r&&Fe&&vt.alternate===null&&i(J,Fe),W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt,Fe=Tn}if(Ke===ne.length)return l(J,Fe),_t&&so(J,Ke),Oe;if(Fe===null){for(;Ke<ne.length;Ke++)Fe=me(J,ne[Ke],fe),Fe!==null&&(W=y(Fe,W,Ke),at===null?Oe=Fe:at.sibling=Fe,at=Fe);return _t&&so(J,Ke),Oe}for(Fe=u(Fe);Ke<ne.length;Ke++)Tn=le(Fe,J,Ke,ne[Ke],fe),Tn!==null&&(r&&Tn.alternate!==null&&Fe.delete(Tn.key===null?Ke:Tn.key),W=y(Tn,W,Ke),at===null?Oe=Tn:at.sibling=Tn,at=Tn);return r&&Fe.forEach(function(li){return i(J,li)}),_t&&so(J,Ke),Oe}function $e(J,W,ne,fe){if(ne==null)throw Error(s(151));for(var Oe=null,at=null,Fe=W,Ke=W=0,Tn=null,vt=ne.next();Fe!==null&&!vt.done;Ke++,vt=ne.next()){Fe.index>Ke?(Tn=Fe,Fe=null):Tn=Fe.sibling;var li=oe(J,Fe,vt.value,fe);if(li===null){Fe===null&&(Fe=Tn);break}r&&Fe&&li.alternate===null&&i(J,Fe),W=y(li,W,Ke),at===null?Oe=li:at.sibling=li,at=li,Fe=Tn}if(vt.done)return l(J,Fe),_t&&so(J,Ke),Oe;if(Fe===null){for(;!vt.done;Ke++,vt=ne.next())vt=me(J,vt.value,fe),vt!==null&&(W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt);return _t&&so(J,Ke),Oe}for(Fe=u(Fe);!vt.done;Ke++,vt=ne.next())vt=le(Fe,J,Ke,vt.value,fe),vt!==null&&(r&&vt.alternate!==null&&Fe.delete(vt.key===null?Ke:vt.key),W=y(vt,W,Ke),at===null?Oe=vt:at.sibling=vt,at=vt);return r&&Fe.forEach(function(cS){return i(J,cS)}),_t&&so(J,Ke),Oe}function Dt(J,W,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===M&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var Oe=ne.key;W!==null;){if(W.key===Oe){if(Oe=ne.type,Oe===M){if(W.tag===7){l(J,W.sibling),fe=p(W,ne.props.children),fe.return=J,J=fe;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===N&&Hv(Oe)===W.type){l(J,W.sibling),fe=p(W,ne.props),Dc(fe,ne),fe.return=J,J=fe;break e}l(J,W);break}else i(J,W);W=W.sibling}ne.type===M?(fe=no(ne.props.children,J.mode,fe,ne.key),fe.return=J,J=fe):(fe=Hd(ne.type,ne.key,ne.props,null,J.mode,fe),Dc(fe,ne),fe.return=J,J=fe)}return E(J);case D:e:{for(Oe=ne.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){l(J,W.sibling),fe=p(W,ne.children||[]),fe.return=J,J=fe;break e}else{l(J,W);break}else i(J,W);W=W.sibling}fe=Gm(ne,J.mode,fe),fe.return=J,J=fe}return E(J);case N:return Oe=ne._init,ne=Oe(ne._payload),Dt(J,W,ne,fe)}if(B(ne))return Xe(J,W,ne,fe);if(_(ne)){if(Oe=_(ne),typeof Oe!="function")throw Error(s(150));return ne=Oe.call(ne),$e(J,W,ne,fe)}if(typeof ne.then=="function")return Dt(J,W,ih(ne),fe);if(ne.$$typeof===I)return Dt(J,W,Kd(J,ne),fe);oh(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(l(J,W.sibling),fe=p(W,ne),fe.return=J,J=fe):(l(J,W),fe=$m(ne,J.mode,fe),fe.return=J,J=fe),E(J)):l(J,W)}return function(J,W,ne,fe){try{Cc=0;var Oe=Dt(J,W,ne,fe);return cl=null,Oe}catch(Fe){if(Fe===wc||Fe===Qd)throw Fe;var at=_r(29,Fe,null,J.mode);return at.lanes=fe,at.return=J,at}finally{}}}var ul=qv(!0),$v=qv(!1),qr=ce(null),Ds=null;function Ka(r){var i=r.alternate;ye(pn,pn.current&1),ye(qr,r),Ds===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ds=r)}function Gv(r){if(r.tag===22){if(ye(pn,pn.current),ye(qr,r),Ds===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Ds=r)}}else Ya()}function Ya(){ye(pn,pn.current),ye(qr,qr.current)}function ha(r){xe(qr),Ds===r&&(Ds=null),xe(pn)}var pn=ce(0);function lh(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||mg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ep(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:x({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Sp={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=Sr(),p=qa(u);p.payload=i,l!=null&&(p.callback=l),i=$a(r,p,u),i!==null&&(Tr(i,r,u),Nc(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=Sr(),p=qa(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=$a(r,p,u),i!==null&&(Tr(i,r,u),Nc(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Sr(),u=qa(l);u.tag=2,i!=null&&(u.callback=i),i=$a(r,u,l),i!==null&&(Tr(i,r,l),Nc(i,r,l))}};function Kv(r,i,l,u,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,E):i.prototype&&i.prototype.isPureReactComponent?!fc(l,u)||!fc(p,y):!0}function Yv(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&Sp.enqueueReplaceState(i,i.state,null)}function ho(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=x({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var ch=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Qv(r){ch(r)}function Wv(r){console.error(r)}function Xv(r){ch(r)}function uh(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Jv(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Tp(r,i,l){return l=qa(l),l.tag=3,l.payload={element:null},l.callback=function(){uh(r,i)},l}function Zv(r){return r=qa(r),r.tag=3,r}function eb(r,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;r.payload=function(){return p(y)},r.callback=function(){Jv(i,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Jv(i,l,u),typeof p!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function c3(r,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&xc(i,l,p,!0),l=qr.current,l!==null){switch(l.tag){case 13:return Ds===null?Xp():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===np?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Zp(r,u,p)),!1;case 22:return l.flags|=65536,u===np?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Zp(r,u,p)),!1}throw Error(s(435,l.tag))}return Zp(r,u,p),Xp(),!1}if(_t)return i=qr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==Qm&&(r=Error(s(422),{cause:u}),yc(zr(r,l)))):(u!==Qm&&(i=Error(s(423),{cause:u}),yc(zr(i,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=zr(u,l),p=Tp(r.stateNode,u,p),ap(r,p),Kt!==4&&(Kt=2)),!1;var y=Error(s(520),{cause:u});if(y=zr(y,l),Vc===null?Vc=[y]:Vc.push(y),Kt!==4&&(Kt=2),i===null)return!0;u=zr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Tp(l.stateNode,u,r),ap(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ei===null||!ei.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Zv(p),eb(p,r,l,u),ap(l,p),!1}l=l.return}while(l!==null);return!1}var tb=Error(s(461)),En=!1;function On(r,i,l,u){i.child=r===null?$v(i,null,l,u):ul(i,r.child,l,u)}function nb(r,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var E={};for(var O in u)O!=="ref"&&(E[O]=u[O])}else E=u;return lo(i),u=up(r,i,l,E,y,p),O=dp(),r!==null&&!En?(hp(r,i,p),fa(r,i,p)):(_t&&O&&Km(i),i.flags|=1,On(r,i,u,p),i.child)}function rb(r,i,l,u,p){if(r===null){var y=l.type;return typeof y=="function"&&!qm(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,sb(r,i,y,u,p)):(r=Hd(l.type,null,u,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!Mp(r,p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:fc,l(E,u)&&r.ref===i.ref)return fa(r,i,p)}return i.flags|=1,r=ia(y,u),r.ref=i.ref,r.return=i,i.child=r}function sb(r,i,l,u,p){if(r!==null){var y=r.memoizedProps;if(fc(y,u)&&r.ref===i.ref)if(En=!1,i.pendingProps=u=y,Mp(r,p))(r.flags&131072)!==0&&(En=!0);else return i.lanes=r.lanes,fa(r,i,p)}return Ap(r,i,l,u,p)}function ab(r,i,l){var u=i.pendingProps,p=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,r!==null){for(p=i.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~u}else i.childLanes=0,i.child=null;return ib(r,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Yd(i,y!==null?y.cachePool:null),y!==null?sv(i,y):op(),Gv(i);else return i.lanes=i.childLanes=536870912,ib(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(Yd(i,y.cachePool),sv(i,y),Ya(),i.memoizedState=null):(r!==null&&Yd(i,null),op(),Ya());return On(r,i,p,l),i.child}function ib(r,i,l,u){var p=tp();return p=p===null?null:{parent:mn._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},r!==null&&Yd(i,null),op(),Gv(i),r!==null&&xc(r,i,u,!0),null}function dh(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function Ap(r,i,l,u,p){return lo(i),l=up(r,i,l,u,void 0,p),u=dp(),r!==null&&!En?(hp(r,i,p),fa(r,i,p)):(_t&&u&&Km(i),i.flags|=1,On(r,i,l,p),i.child)}function ob(r,i,l,u,p,y){return lo(i),i.updateQueue=null,l=iv(i,u,l,p),av(r),u=dp(),r!==null&&!En?(hp(r,i,y),fa(r,i,y)):(_t&&u&&Km(i),i.flags|=1,On(r,i,l,y),i.child)}function lb(r,i,l,u,p){if(lo(i),i.stateNode===null){var y=el,E=l.contextType;typeof E=="object"&&E!==null&&(y=zn(E)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},rp(i),E=l.contextType,y.context=typeof E=="object"&&E!==null?zn(E):el,y.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Ep(i,l,E,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Sp.enqueueReplaceState(y,y.state,null),Ec(i,u,y,p),jc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){y=i.stateNode;var O=i.memoizedProps,K=ho(l,O);y.props=K;var se=y.context,he=l.contextType;E=el,typeof he=="object"&&he!==null&&(E=zn(he));var me=l.getDerivedStateFromProps;he=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||se!==E)&&Yv(i,y,u,E),Ha=!1;var oe=i.memoizedState;y.state=oe,Ec(i,u,y,p),jc(),se=i.memoizedState,O||oe!==se||Ha?(typeof me=="function"&&(Ep(i,l,me,u),se=i.memoizedState),(K=Ha||Kv(i,l,K,u,oe,se,E))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=se),y.props=u,y.state=se,y.context=E,u=K):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,sp(r,i),E=i.memoizedProps,he=ho(l,E),y.props=he,me=i.pendingProps,oe=y.context,se=l.contextType,K=el,typeof se=="object"&&se!==null&&(K=zn(se)),O=l.getDerivedStateFromProps,(se=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==me||oe!==K)&&Yv(i,y,u,K),Ha=!1,oe=i.memoizedState,y.state=oe,Ec(i,u,y,p),jc();var le=i.memoizedState;E!==me||oe!==le||Ha||r!==null&&r.dependencies!==null&&Gd(r.dependencies)?(typeof O=="function"&&(Ep(i,l,O,u),le=i.memoizedState),(he=Ha||Kv(i,l,he,u,oe,le,K)||r!==null&&r.dependencies!==null&&Gd(r.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,K),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,K)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=le),y.props=u,y.state=le,y.context=K,u=he):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),u=!1)}return y=u,dh(r,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&u?(i.child=ul(i,r.child,null,p),i.child=ul(i,null,l,p)):On(r,i,l,p),i.memoizedState=y.state,r=i.child):r=fa(r,i,p),r}function cb(r,i,l,u){return gc(),i.flags|=256,On(r,i,l,u),i.child}var Rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(r){return{baseLanes:r,cachePool:Wx()}}function Dp(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=$r),r}function ub(r,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(pn.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(_t){if(p?Ka(i):Ya(),_t){var O=Gt,K;if(K=O){e:{for(K=O,O=Cs;K.nodeType!==8;){if(!O){O=null;break e}if(K=cs(K.nextSibling),K===null){O=null;break e}}O=K}O!==null?(i.memoizedState={dehydrated:O,treeContext:ro!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},K=_r(18,null,null,0),K.stateNode=O,K.return=i,i.child=K,Zn=i,Gt=null,K=!0):K=!1}K||io(i)}if(O=i.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return mg(O)?i.lanes=32:i.lanes=536870912,null;ha(i)}return O=u.children,u=u.fallback,p?(Ya(),p=i.mode,O=hh({mode:"hidden",children:O},p),u=no(u,p,l,null),O.return=i,u.return=i,O.sibling=u,i.child=O,p=i.child,p.memoizedState=Cp(l),p.childLanes=Dp(r,E,l),i.memoizedState=Rp,u):(Ka(i),Ip(i,O))}if(K=r.memoizedState,K!==null&&(O=K.dehydrated,O!==null)){if(y)i.flags&256?(Ka(i),i.flags&=-257,i=Op(r,i,l)):i.memoizedState!==null?(Ya(),i.child=r.child,i.flags|=128,i=null):(Ya(),p=u.fallback,O=i.mode,u=hh({mode:"visible",children:u.children},O),p=no(p,O,l,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,ul(i,r.child,null,l),u=i.child,u.memoizedState=Cp(l),u.childLanes=Dp(r,E,l),i.memoizedState=Rp,i=p);else if(Ka(i),mg(O)){if(E=O.nextSibling&&O.nextSibling.dataset,E)var se=E.dgst;E=se,u=Error(s(419)),u.stack="",u.digest=E,yc({value:u,source:null,stack:null}),i=Op(r,i,l)}else if(En||xc(r,i,l,!1),E=(l&r.childLanes)!==0,En||E){if(E=Lt,E!==null&&(u=l&-l,u=(u&42)!==0?1:_s(u),u=(u&(E.suspendedLanes|l))!==0?0:u,u!==0&&u!==K.retryLane))throw K.retryLane=u,Zo(r,u),Tr(E,r,u),tb;O.data==="$?"||Xp(),i=Op(r,i,l)}else O.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=K.treeContext,Gt=cs(O.nextSibling),Zn=i,_t=!0,ao=null,Cs=!1,r!==null&&(Br[Hr++]=oa,Br[Hr++]=la,Br[Hr++]=ro,oa=r.id,la=r.overflow,ro=i),i=Ip(i,u.children),i.flags|=4096);return i}return p?(Ya(),p=u.fallback,O=i.mode,K=r.child,se=K.sibling,u=ia(K,{mode:"hidden",children:u.children}),u.subtreeFlags=K.subtreeFlags&65011712,se!==null?p=ia(se,p):(p=no(p,O,l,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,O=r.child.memoizedState,O===null?O=Cp(l):(K=O.cachePool,K!==null?(se=mn._currentValue,K=K.parent!==se?{parent:se,pool:se}:K):K=Wx(),O={baseLanes:O.baseLanes|l,cachePool:K}),p.memoizedState=O,p.childLanes=Dp(r,E,l),i.memoizedState=Rp,u):(Ka(i),l=r.child,r=l.sibling,l=ia(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=l,i.memoizedState=null,l)}function Ip(r,i){return i=hh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function hh(r,i){return r=_r(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Op(r,i,l){return ul(i,r.child,null,l),r=Ip(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function db(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Xm(r.return,i,l)}function Pp(r,i,l,u,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function hb(r,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;if(On(r,i,u.children,l),u=pn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&db(r,l,i);else if(r.tag===19)db(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ye(pn,u),p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&lh(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Pp(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&lh(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Pp(i,!0,l,null,y);break;case"together":Pp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fa(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Za|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(xc(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=ia(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ia(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Mp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Gd(r)))}function u3(r,i,l){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Ba(i,mn,r.memoizedState.cache),gc();break;case 27:case 5:Et(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Ba(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ka(i),i.flags|=128,null):(l&i.child.childLanes)!==0?ub(r,i,l):(Ka(i),r=fa(r,i,l),r!==null?r.sibling:null);Ka(i);break;case 19:var p=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(xc(r,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return hb(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(pn,pn.current),u)break;return null;case 22:case 23:return i.lanes=0,ab(r,i,l);case 24:Ba(i,mn,r.memoizedState.cache)}return fa(r,i,l)}function fb(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)En=!0;else{if(!Mp(r,l)&&(i.flags&128)===0)return En=!1,u3(r,i,l);En=(r.flags&131072)!==0}else En=!1,_t&&(i.flags&1048576)!==0&&Hx(i,$d,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,p=u._init;if(u=p(u._payload),i.type=u,typeof u=="function")qm(u)?(r=ho(u,r),i.tag=1,i=lb(null,i,u,r,l)):(i.tag=0,i=Ap(null,i,u,r,l));else{if(u!=null){if(p=u.$$typeof,p===H){i.tag=11,i=nb(null,i,u,r,l);break e}else if(p===A){i.tag=14,i=rb(null,i,u,r,l);break e}}throw i=Z(u)||u,Error(s(306,i,""))}}return i;case 0:return Ap(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=ho(u,i.pendingProps),lb(r,i,u,p,l);case 3:e:{if(gt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,sp(r,i),Ec(i,u,null,l);var E=i.memoizedState;if(u=E.cache,Ba(i,mn,u),u!==y.cache&&Jm(i,[mn],l,!0),jc(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=cb(r,i,u,l);break e}else if(u!==p){p=zr(Error(s(424)),i),yc(p),i=cb(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Gt=cs(r.firstChild),Zn=i,_t=!0,ao=null,Cs=!0,l=$v(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(gc(),u===p){i=fa(r,i,l);break e}On(r,i,u,l)}i=i.child}return i;case 26:return dh(r,i),r===null?(l=y1(i.type,null,i.pendingProps,null))?i.memoizedState=l:_t||(l=i.type,r=i.pendingProps,u=Sh(Be.current).createElement(l),u[pe]=i,u[we]=r,Mn(u,l,r),Ze(u),i.stateNode=u):i.memoizedState=y1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Et(i),r===null&&_t&&(u=i.stateNode=m1(i.type,i.pendingProps,Be.current),Zn=i,Cs=!0,p=Gt,ri(i.type)?(pg=p,Gt=cs(u.firstChild)):Gt=p),On(r,i,i.pendingProps.children,l),dh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&_t&&((p=u=Gt)&&(u=V3(u,i.type,i.pendingProps,Cs),u!==null?(i.stateNode=u,Zn=i,Gt=cs(u.firstChild),Cs=!1,p=!0):p=!1),p||io(i)),Et(i),p=i.type,y=i.pendingProps,E=r!==null?r.memoizedProps:null,u=y.children,dg(p,y)?u=null:E!==null&&dg(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=up(r,i,n3,null,null,l),Kc._currentValue=p),dh(r,i),On(r,i,u,l),i.child;case 6:return r===null&&_t&&((r=l=Gt)&&(l=U3(l,i.pendingProps,Cs),l!==null?(i.stateNode=l,Zn=i,Gt=null,r=!0):r=!1),r||io(i)),null;case 13:return ub(r,i,l);case 4:return gt(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=ul(i,null,u,l):On(r,i,u,l),i.child;case 11:return nb(r,i,i.type,i.pendingProps,l);case 7:return On(r,i,i.pendingProps,l),i.child;case 8:return On(r,i,i.pendingProps.children,l),i.child;case 12:return On(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Ba(i,i.type,u.value),On(r,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,lo(i),p=zn(p),u=u(p),i.flags|=1,On(r,i,u,l),i.child;case 14:return rb(r,i,i.type,i.pendingProps,l);case 15:return sb(r,i,i.type,i.pendingProps,l);case 19:return hb(r,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},r===null?(l=hh(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ia(r.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return ab(r,i,l);case 24:return lo(i),u=zn(mn),r===null?(p=tp(),p===null&&(p=Lt,y=Zm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},rp(i),Ba(i,mn,p)):((r.lanes&l)!==0&&(sp(r,i),Ec(i,null,null,l),jc()),p=r.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ba(i,mn,u)):(u=y.cache,Ba(i,mn,u),u!==p.cache&&Jm(i,[mn],l,!0))),On(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ma(r){r.flags|=4}function mb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!_1(i)){if(i=qr.current,i!==null&&((mt&4194048)===mt?Ds!==null:(mt&62914560)!==mt&&(mt&536870912)===0||i!==Ds))throw _c=np,Xx;r.flags|=8192}}function fh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Bi():536870912,r.lanes|=i,ml|=i)}function Ic(r,i){if(!_t)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function qt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function d3(r,i,l){var u=i.pendingProps;switch(Ym(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ua(mn),Un(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(pc(i)?ma(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gx())),qt(i),null;case 26:return l=i.memoizedState,r===null?(ma(i),l!==null?(qt(i),mb(i,l)):(qt(i),i.flags&=-16777217)):l?l!==r.memoizedState?(ma(i),qt(i),mb(i,l)):(qt(i),i.flags&=-16777217):(r.memoizedProps!==u&&ma(i),qt(i),i.flags&=-16777217),null;case 27:bn(i),l=Be.current;var p=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ma(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return qt(i),null}r=Ae.current,pc(i)?qx(i):(r=m1(p,u,l),i.stateNode=r,ma(i))}return qt(i),null;case 5:if(bn(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ma(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(r=Ae.current,pc(i))qx(i);else{switch(p=Sh(Be.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}r[pe]=i,r[we]=u;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=r;e:switch(Mn(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ma(i)}}return qt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&ma(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=Be.current,pc(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,p=Zn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[pe]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||o1(r.nodeValue,l)),r||io(i)}else r=Sh(r).createTextNode(u),r[pe]=i,i.stateNode=r}return qt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=pc(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[pe]=i}else gc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),p=!1}else p=Gx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(ha(i),i):(ha(i),null)}if(ha(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),fh(i,i.updateQueue),qt(i),null;case 4:return Un(),r===null&&ig(i.stateNode.containerInfo),qt(i),null;case 10:return ua(i.type),qt(i),null;case 19:if(xe(pn),p=i.memoizedState,p===null)return qt(i),null;if(u=(i.flags&128)!==0,y=p.rendering,y===null)if(u)Ic(p,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=lh(r),y!==null){for(i.flags|=128,Ic(p,!1),r=y.updateQueue,i.updateQueue=r,fh(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Bx(l,r),l=l.sibling;return ye(pn,pn.current&1|2),i.child}r=r.sibling}p.tail!==null&&Cn()>gh&&(i.flags|=128,u=!0,Ic(p,!1),i.lanes=4194304)}else{if(!u)if(r=lh(y),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,fh(i,r),Ic(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!_t)return qt(i),null}else 2*Cn()-p.renderingStartTime>gh&&l!==536870912&&(i.flags|=128,u=!0,Ic(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(r=p.last,r!==null?r.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Cn(),i.sibling=null,r=pn.current,ye(pn,u?r&1|2:r&1),i):(qt(i),null);case 22:case 23:return ha(i),lp(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),l=i.updateQueue,l!==null&&fh(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&xe(co),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ua(mn),qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function h3(r,i){switch(Ym(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ua(mn),Un(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return bn(i),null;case 13:if(ha(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));gc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return xe(pn),null;case 4:return Un(),null;case 10:return ua(i.type),null;case 22:case 23:return ha(i),lp(),r!==null&&xe(co),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ua(mn),null;case 25:return null;default:return null}}function pb(r,i){switch(Ym(i),i.tag){case 3:ua(mn),Un();break;case 26:case 27:case 5:bn(i);break;case 4:Un();break;case 13:ha(i);break;case 19:xe(pn);break;case 10:ua(i.type);break;case 22:case 23:ha(i),lp(),r!==null&&xe(co);break;case 24:ua(mn)}}function Oc(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&r)===r){u=void 0;var y=l.create,E=l.inst;u=y(),E.destroy=u}l=l.next}while(l!==p)}}catch(O){Pt(i,i.return,O)}}function Qa(r,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&r)===r){var E=u.inst,O=E.destroy;if(O!==void 0){E.destroy=void 0,p=i;var K=l,se=O;try{se()}catch(he){Pt(p,K,he)}}}u=u.next}while(u!==y)}}catch(he){Pt(i,i.return,he)}}function gb(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{rv(i,l)}catch(u){Pt(r,r.return,u)}}}function yb(r,i,l){l.props=ho(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Pt(r,i,u)}}function Pc(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(p){Pt(r,i,p)}}function Is(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Pt(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Pt(r,i,p)}else l.current=null}function xb(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Pt(r,r.return,p)}}function kp(r,i,l){try{var u=r.stateNode;O3(u,r.type,l,i),u[we]=i}catch(p){Pt(r,r.return,p)}}function vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ri(r.type)||r.tag===4}function Lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ri(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vp(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Eh));else if(u!==4&&(u===27&&ri(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Vp(r,i,l),r=r.sibling;r!==null;)Vp(r,i,l),r=r.sibling}function mh(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&ri(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(mh(r,i,l),r=r.sibling;r!==null;)mh(r,i,l),r=r.sibling}function bb(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Mn(i,u,l),i[pe]=r,i[we]=l}catch(y){Pt(r,r.return,y)}}var pa=!1,tn=!1,Up=!1,wb=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function f3(r,i){if(r=r.containerInfo,cg=Ih,r=Ix(r),Lm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,O=-1,K=-1,se=0,he=0,me=r,oe=null;t:for(;;){for(var le;me!==l||p!==0&&me.nodeType!==3||(O=E+p),me!==y||u!==0&&me.nodeType!==3||(K=E+u),me.nodeType===3&&(E+=me.nodeValue.length),(le=me.firstChild)!==null;)oe=me,me=le;for(;;){if(me===r)break t;if(oe===l&&++se===p&&(O=E),oe===y&&++he===u&&(K=E),(le=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=le}l=O===-1||K===-1?null:{start:O,end:K}}else l=null}l=l||{start:0,end:0}}else l=null;for(ug={focusedElem:r,selectionRange:l},Ih=!1,Sn=i;Sn!==null;)if(i=Sn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Sn=r;else for(;Sn!==null;){switch(i=Sn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Xe=ho(l.type,p,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Xe,y),u.__reactInternalSnapshotBeforeUpdate=r}catch($e){Pt(l,l.return,$e)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)fg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Sn=r;break}Sn=i.return}}function _b(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Wa(r,l),u&4&&Oc(5,l);break;case 1:if(Wa(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(E){Pt(l,l.return,E)}else{var p=ho(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){Pt(l,l.return,E)}}u&64&&gb(l),u&512&&Pc(l,l.return);break;case 3:if(Wa(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{rv(r,i)}catch(E){Pt(l,l.return,E)}}break;case 27:i===null&&u&4&&bb(l);case 26:case 5:Wa(r,l),i===null&&u&4&&xb(l),u&512&&Pc(l,l.return);break;case 12:Wa(r,l);break;case 13:Wa(r,l),u&4&&Eb(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=_3.bind(null,l),z3(r,l))));break;case 22:if(u=l.memoizedState!==null||pa,!u){i=i!==null&&i.memoizedState!==null||tn,p=pa;var y=tn;pa=u,(tn=i)&&!y?Xa(r,l,(l.subtreeFlags&8772)!==0):Wa(r,l),pa=p,tn=y}break;case 30:break;default:Wa(r,l)}}function Nb(r){var i=r.alternate;i!==null&&(r.alternate=null,Nb(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Le(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,ur=!1;function ga(r,i,l){for(l=l.child;l!==null;)jb(r,i,l),l=l.sibling}function jb(r,i,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Ne,l)}catch{}switch(l.tag){case 26:tn||Is(l,i),ga(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||Is(l,i);var u=Bt,p=ur;ri(l.type)&&(Bt=l.stateNode,ur=!1),ga(r,i,l),Hc(l.stateNode),Bt=u,ur=p;break;case 5:tn||Is(l,i);case 6:if(u=Bt,p=ur,Bt=null,ga(r,i,l),Bt=u,ur=p,Bt!==null)if(ur)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(y){Pt(l,i,y)}else try{Bt.removeChild(l.stateNode)}catch(y){Pt(l,i,y)}break;case 18:Bt!==null&&(ur?(r=Bt,h1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Xc(r)):h1(Bt,l.stateNode));break;case 4:u=Bt,p=ur,Bt=l.stateNode.containerInfo,ur=!0,ga(r,i,l),Bt=u,ur=p;break;case 0:case 11:case 14:case 15:tn||Qa(2,l,i),tn||Qa(4,l,i),ga(r,i,l);break;case 1:tn||(Is(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&yb(l,i,u)),ga(r,i,l);break;case 21:ga(r,i,l);break;case 22:tn=(u=tn)||l.memoizedState!==null,ga(r,i,l),tn=u;break;default:ga(r,i,l)}}function Eb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xc(r)}catch(l){Pt(i,i.return,l)}}function m3(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new wb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new wb),i;default:throw Error(s(435,r.tag))}}function zp(r,i){var l=m3(r);i.forEach(function(u){var p=N3.bind(null,r,u);l.has(u)||(l.add(u),u.then(p,p))})}function Nr(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=r,E=i,O=E;e:for(;O!==null;){switch(O.tag){case 27:if(ri(O.type)){Bt=O.stateNode,ur=!1;break e}break;case 5:Bt=O.stateNode,ur=!1;break e;case 3:case 4:Bt=O.stateNode.containerInfo,ur=!0;break e}O=O.return}if(Bt===null)throw Error(s(160));jb(y,E,p),Bt=null,ur=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sb(i,r),i=i.sibling}var ls=null;function Sb(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Nr(i,r),jr(r),u&4&&(Qa(3,r,r.return),Oc(3,r),Qa(5,r,r.return));break;case 1:Nr(i,r),jr(r),u&512&&(tn||l===null||Is(l,l.return)),u&64&&pa&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ls;if(Nr(i,r),jr(r),u&512&&(tn||l===null||Is(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ke]||y[pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Mn(y,u,l),y[pe]=r,Ze(y),u=y;break e;case"link":var E=b1("link","href",p).get(u+(l.href||""));if(E){for(var O=0;O<E.length;O++)if(y=E[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(O,1);break t}}y=p.createElement(u),Mn(y,u,l),p.head.appendChild(y);break;case"meta":if(E=b1("meta","content",p).get(u+(l.content||""))){for(O=0;O<E.length;O++)if(y=E[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(O,1);break t}}y=p.createElement(u),Mn(y,u,l),p.head.appendChild(y);break;default:throw Error(s(468,u))}y[pe]=r,Ze(y),u=y}r.stateNode=u}else w1(p,r.type,r.stateNode);else r.stateNode=v1(p,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?w1(p,r.type,r.stateNode):v1(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&kp(r,r.memoizedProps,l.memoizedProps)}break;case 27:Nr(i,r),jr(r),u&512&&(tn||l===null||Is(l,l.return)),l!==null&&u&4&&kp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Nr(i,r),jr(r),u&512&&(tn||l===null||Is(l,l.return)),r.flags&32){p=r.stateNode;try{kr(p,"")}catch(le){Pt(r,r.return,le)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,kp(r,p,l!==null?l.memoizedProps:p)),u&1024&&(Up=!0);break;case 6:if(Nr(i,r),jr(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(le){Pt(r,r.return,le)}}break;case 3:if(Rh=null,p=ls,ls=Th(i.containerInfo),Nr(i,r),ls=p,jr(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xc(i.containerInfo)}catch(le){Pt(r,r.return,le)}Up&&(Up=!1,Tb(r));break;case 4:u=ls,ls=Th(r.stateNode.containerInfo),Nr(i,r),jr(r),ls=u;break;case 12:Nr(i,r),jr(r);break;case 13:Nr(i,r),jr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gp=Cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zp(r,u)));break;case 22:p=r.memoizedState!==null;var K=l!==null&&l.memoizedState!==null,se=pa,he=tn;if(pa=se||p,tn=he||K,Nr(i,r),tn=he,pa=se,jr(r),u&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||K||pa||tn||fo(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){K=l=i;try{if(y=K.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{O=K.stateNode;var me=K.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Pt(K,K.return,le)}}}else if(i.tag===6){if(l===null){K=i;try{K.stateNode.nodeValue=p?"":K.memoizedProps}catch(le){Pt(K,K.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,zp(r,l))));break;case 19:Nr(i,r),jr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zp(r,u)));break;case 30:break;case 21:break;default:Nr(i,r),jr(r)}}function jr(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(vb(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,y=Lp(r);mh(r,y,p);break;case 5:var E=l.stateNode;l.flags&32&&(kr(E,""),l.flags&=-33);var O=Lp(r);mh(r,O,E);break;case 3:case 4:var K=l.stateNode.containerInfo,se=Lp(r);Vp(r,se,K);break;default:throw Error(s(161))}}catch(he){Pt(r,r.return,he)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Tb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Tb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Wa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_b(r,i.alternate,i),i=i.sibling}function fo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Qa(4,i,i.return),fo(i);break;case 1:Is(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&yb(i,i.return,l),fo(i);break;case 27:Hc(i.stateNode);case 26:case 5:Is(i,i.return),fo(i);break;case 22:i.memoizedState===null&&fo(i);break;case 30:fo(i);break;default:fo(i)}r=r.sibling}}function Xa(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=r,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(p,y,l),Oc(4,y);break;case 1:if(Xa(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){Pt(u,u.return,se)}if(u=y,p=u.updateQueue,p!==null){var O=u.stateNode;try{var K=p.shared.hiddenCallbacks;if(K!==null)for(p.shared.hiddenCallbacks=null,p=0;p<K.length;p++)nv(K[p],O)}catch(se){Pt(u,u.return,se)}}l&&E&64&&gb(y),Pc(y,y.return);break;case 27:bb(y);case 26:case 5:Xa(p,y,l),l&&u===null&&E&4&&xb(y),Pc(y,y.return);break;case 12:Xa(p,y,l);break;case 13:Xa(p,y,l),l&&E&4&&Eb(p,y);break;case 22:y.memoizedState===null&&Xa(p,y,l),Pc(y,y.return);break;case 30:break;default:Xa(p,y,l)}i=i.sibling}}function Fp(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&vc(l))}function Bp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vc(r))}function Os(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ab(r,i,l,u),i=i.sibling}function Ab(r,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Os(r,i,l,u),p&2048&&Oc(9,i);break;case 1:Os(r,i,l,u);break;case 3:Os(r,i,l,u),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vc(r)));break;case 12:if(p&2048){Os(r,i,l,u),r=i.stateNode;try{var y=i.memoizedProps,E=y.id,O=y.onPostCommit;typeof O=="function"&&O(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(K){Pt(i,i.return,K)}}else Os(r,i,l,u);break;case 13:Os(r,i,l,u);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?Os(r,i,l,u):Mc(r,i):y._visibility&2?Os(r,i,l,u):(y._visibility|=2,dl(r,i,l,u,(i.subtreeFlags&10256)!==0)),p&2048&&Fp(E,i);break;case 24:Os(r,i,l,u),p&2048&&Bp(i.alternate,i);break;default:Os(r,i,l,u)}}function dl(r,i,l,u,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,E=i,O=l,K=u,se=E.flags;switch(E.tag){case 0:case 11:case 15:dl(y,E,O,K,p),Oc(8,E);break;case 23:break;case 22:var he=E.stateNode;E.memoizedState!==null?he._visibility&2?dl(y,E,O,K,p):Mc(y,E):(he._visibility|=2,dl(y,E,O,K,p)),p&&se&2048&&Fp(E.alternate,E);break;case 24:dl(y,E,O,K,p),p&&se&2048&&Bp(E.alternate,E);break;default:dl(y,E,O,K,p)}i=i.sibling}}function Mc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,p=u.flags;switch(u.tag){case 22:Mc(l,u),p&2048&&Fp(u.alternate,u);break;case 24:Mc(l,u),p&2048&&Bp(u.alternate,u);break;default:Mc(l,u)}i=i.sibling}}var kc=8192;function hl(r){if(r.subtreeFlags&kc)for(r=r.child;r!==null;)Rb(r),r=r.sibling}function Rb(r){switch(r.tag){case 26:hl(r),r.flags&kc&&r.memoizedState!==null&&Z3(ls,r.memoizedState,r.memoizedProps);break;case 5:hl(r);break;case 3:case 4:var i=ls;ls=Th(r.stateNode.containerInfo),hl(r),ls=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=kc,kc=16777216,hl(r),kc=i):hl(r));break;default:hl(r)}}function Cb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Lc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Sn=u,Ib(u,r)}Cb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Db(r),r=r.sibling}function Db(r){switch(r.tag){case 0:case 11:case 15:Lc(r),r.flags&2048&&Qa(9,r,r.return);break;case 3:Lc(r);break;case 12:Lc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,ph(r)):Lc(r);break;default:Lc(r)}}function ph(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Sn=u,Ib(u,r)}Cb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Qa(8,i,i.return),ph(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,ph(i));break;default:ph(i)}r=r.sibling}}function Ib(r,i){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Sn=u;else e:for(l=r;Sn!==null;){u=Sn;var p=u.sibling,y=u.return;if(Nb(u),u===l){Sn=null;break e}if(p!==null){p.return=y,Sn=p;break e}Sn=y}}}var p3={getCacheForType:function(r){var i=zn(mn),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},g3=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,ot=null,mt=0,Tt=0,Er=null,Ja=!1,fl=!1,Hp=!1,ya=0,Kt=0,Za=0,mo=0,qp=0,$r=0,ml=0,Vc=null,dr=null,$p=!1,Gp=0,gh=1/0,yh=null,ei=null,Pn=0,ti=null,pl=null,gl=0,Kp=0,Yp=null,Ob=null,Uc=0,Qp=null;function Sr(){if((St&2)!==0&&mt!==0)return mt&-mt;if($.T!==null){var r=rl;return r!==0?r:ng()}return Y()}function Pb(){$r===0&&($r=(mt&536870912)===0||_t?Xs():536870912);var r=qr.current;return r!==null&&(r.flags|=32),$r}function Tr(r,i,l){(r===Lt&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)&&(yl(r,0),ni(r,mt,$r,!1)),ss(r,l),((St&2)===0||r!==Lt)&&(r===Lt&&((St&2)===0&&(mo|=l),Kt===4&&ni(r,mt,$r,!1)),Ps(r))}function Mb(r,i,l){if((St&6)!==0)throw Error(s(327));var u=!l&&(i&124)===0&&(i&r.expiredLanes)===0||or(r,i),p=u?v3(r,i):Jp(r,i,!0),y=u;do{if(p===0){fl&&!u&&ni(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!y3(l)){p=Jp(r,i,!1),y=!1;continue}if(p===2){if(y=i,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var O=r;p=Vc;var K=O.current.memoizedState.isDehydrated;if(K&&(yl(O,E).flags|=256),E=Jp(O,E,!1),E!==2){if(Hp&&!K){O.errorRecoveryDisabledLanes|=y,mo|=y,p=4;break e}y=dr,dr=p,y!==null&&(dr===null?dr=y:dr.push.apply(dr,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){yl(r,0),ni(r,i,0,!0);break}e:{switch(u=r,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ni(u,i,$r,!Ja);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Gp+300-Cn(),10<p)){if(ni(u,i,$r,!Ja),Or(u,0,!0)!==0)break e;u.timeoutHandle=u1(kb.bind(null,u,l,dr,yh,$p,i,$r,mo,ml,Ja,y,2,-0,0),p);break e}kb(u,l,dr,yh,$p,i,$r,mo,ml,Ja,y,0,-0,0)}}break}while(!0);Ps(r)}function kb(r,i,l,u,p,y,E,O,K,se,he,me,oe,le){if(r.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Gc={stylesheets:null,count:0,unsuspend:J3},Rb(i),me=eS(),me!==null)){r.cancelPendingCommit=me(Hb.bind(null,r,i,y,l,u,p,E,O,K,he,1,oe,le)),ni(r,y,E,!se);return}Hb(r,i,y,l,u,p,E,O,K)}function y3(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!wr(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ni(r,i,l,u){i&=~qp,i&=~mo,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var p=i;0<p;){var y=31-yt(p),E=1<<y;u[y]=-1,p&=~E}l!==0&&Kn(r,l,i)}function xh(){return(St&6)===0?(zc(0),!1):!0}function Wp(){if(ot!==null){if(Tt===0)var r=ot.return;else r=ot,ca=oo=null,fp(r),cl=null,Cc=0,r=ot;for(;r!==null;)pb(r.alternate,r),r=r.return;ot=null}}function yl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,M3(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Wp(),Lt=r,ot=l=ia(r.current,null),mt=i,Tt=0,Er=null,Ja=!1,fl=or(r,i),Hp=!1,ml=$r=qp=mo=Za=Kt=0,dr=Vc=null,$p=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var p=31-yt(u),y=1<<p;i|=r[p],u&=~y}return ya=i,zd(),l}function Lb(r,i){st=null,$.H=ah,i===wc||i===Qd?(i=ev(),Tt=3):i===Xx?(i=ev(),Tt=4):Tt=i===tb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Er=i,ot===null&&(Kt=1,uh(r,zr(i,r.current)))}function Vb(){var r=$.H;return $.H=ah,r===null?ah:r}function Ub(){var r=$.A;return $.A=p3,r}function Xp(){Kt=4,Ja||(mt&4194048)!==mt&&qr.current!==null||(fl=!0),(Za&134217727)===0&&(mo&134217727)===0||Lt===null||ni(Lt,mt,$r,!1)}function Jp(r,i,l){var u=St;St|=2;var p=Vb(),y=Ub();(Lt!==r||mt!==i)&&(yh=null,yl(r,i)),i=!1;var E=Kt;e:do try{if(Tt!==0&&ot!==null){var O=ot,K=Er;switch(Tt){case 8:Wp(),E=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(i=!0);var se=Tt;if(Tt=0,Er=null,xl(r,O,K,se),l&&fl){E=0;break e}break;default:se=Tt,Tt=0,Er=null,xl(r,O,K,se)}}x3(),E=Kt;break}catch(he){Lb(r,he)}while(!0);return i&&r.shellSuspendCounter++,ca=oo=null,St=u,$.H=p,$.A=y,ot===null&&(Lt=null,mt=0,zd()),E}function x3(){for(;ot!==null;)zb(ot)}function v3(r,i){var l=St;St|=2;var u=Vb(),p=Ub();Lt!==r||mt!==i?(yh=null,gh=Cn()+500,yl(r,i)):fl=or(r,i);e:do try{if(Tt!==0&&ot!==null){i=ot;var y=Er;t:switch(Tt){case 1:Tt=0,Er=null,xl(r,i,y,1);break;case 2:case 9:if(Jx(y)){Tt=0,Er=null,Fb(i);break}i=function(){Tt!==2&&Tt!==9||Lt!==r||(Tt=7),Ps(r)},y.then(i,i);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Jx(y)?(Tt=0,Er=null,Fb(i)):(Tt=0,Er=null,xl(r,i,y,7));break;case 5:var E=null;switch(ot.tag){case 26:E=ot.memoizedState;case 5:case 27:var O=ot;if(!E||_1(E)){Tt=0,Er=null;var K=O.sibling;if(K!==null)ot=K;else{var se=O.return;se!==null?(ot=se,vh(se)):ot=null}break t}}Tt=0,Er=null,xl(r,i,y,5);break;case 6:Tt=0,Er=null,xl(r,i,y,6);break;case 8:Wp(),Kt=6;break e;default:throw Error(s(462))}}b3();break}catch(he){Lb(r,he)}while(!0);return ca=oo=null,$.H=u,$.A=p,St=l,ot!==null?0:(Lt=null,mt=0,zd(),Kt)}function b3(){for(;ot!==null&&!vs();)zb(ot)}function zb(r){var i=fb(r.alternate,r,ya);r.memoizedProps=r.pendingProps,i===null?vh(r):ot=i}function Fb(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=ob(l,i,i.pendingProps,i.type,void 0,mt);break;case 11:i=ob(l,i,i.pendingProps,i.type.render,i.ref,mt);break;case 5:fp(i);default:pb(l,i),i=ot=Bx(i,ya),i=fb(l,i,ya)}r.memoizedProps=r.pendingProps,i===null?vh(r):ot=i}function xl(r,i,l,u){ca=oo=null,fp(i),cl=null,Cc=0;var p=i.return;try{if(c3(r,p,i,l,mt)){Kt=1,uh(r,zr(l,r.current)),ot=null;return}}catch(y){if(p!==null)throw ot=p,y;Kt=1,uh(r,zr(l,r.current)),ot=null;return}i.flags&32768?(_t||u===1?r=!0:fl||(mt&536870912)!==0?r=!1:(Ja=r=!0,(u===2||u===9||u===3||u===6)&&(u=qr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Bb(i,r)):vh(i)}function vh(r){var i=r;do{if((i.flags&32768)!==0){Bb(i,Ja);return}r=i.return;var l=d3(i.alternate,i,ya);if(l!==null){ot=l;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=r}while(i!==null);Kt===0&&(Kt=5)}function Bb(r,i){do{var l=h3(r.alternate,r);if(l!==null){l.flags&=32767,ot=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){ot=r;return}ot=r=l}while(r!==null);Kt=6,ot=null}function Hb(r,i,l,u,p,y,E,O,K){r.cancelPendingCommit=null;do bh();while(Pn!==0);if((St&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Bm,Ma(r,l,y,E,O,K),r===Lt&&(ot=Lt=null,mt=0),pl=i,ti=r,gl=l,Kp=y,Yp=p,Ob=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,j3(re,function(){return Yb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=X.p,X.p=2,E=St,St|=4;try{f3(r,i,l)}finally{St=E,X.p=p,$.T=u}}Pn=1,qb(),$b(),Gb()}}function qb(){if(Pn===1){Pn=0;var r=ti,i=pl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var p=St;St|=4;try{Sb(i,r);var y=ug,E=Ix(r.containerInfo),O=y.focusedElem,K=y.selectionRange;if(E!==O&&O&&O.ownerDocument&&Dx(O.ownerDocument.documentElement,O)){if(K!==null&&Lm(O)){var se=K.start,he=K.end;if(he===void 0&&(he=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(he,O.value.length);else{var me=O.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),Xe=O.textContent.length,$e=Math.min(K.start,Xe),Dt=K.end===void 0?$e:Math.min(K.end,Xe);!le.extend&&$e>Dt&&(E=Dt,Dt=$e,$e=E);var J=Cx(O,$e),W=Cx(O,Dt);if(J&&W&&(le.rangeCount!==1||le.anchorNode!==J.node||le.anchorOffset!==J.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var ne=me.createRange();ne.setStart(J.node,J.offset),le.removeAllRanges(),$e>Dt?(le.addRange(ne),le.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),le.addRange(ne))}}}}for(me=[],le=O;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var fe=me[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Ih=!!cg,ug=cg=null}finally{St=p,X.p=u,$.T=l}}r.current=i,Pn=2}}function $b(){if(Pn===2){Pn=0;var r=ti,i=pl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var p=St;St|=4;try{_b(r,i.alternate,i)}finally{St=p,X.p=u,$.T=l}}Pn=3}}function Gb(){if(Pn===4||Pn===3){Pn=0,Pa();var r=ti,i=pl,l=gl,u=Ob;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pn=5:(Pn=0,pl=ti=null,Kb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(ei=null),ka(l),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Ne,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,p=X.p,X.p=2,$.T=null;try{for(var y=r.onRecoverableError,E=0;E<u.length;E++){var O=u[E];y(O.value,{componentStack:O.stack})}}finally{$.T=i,X.p=p}}(gl&3)!==0&&bh(),Ps(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===Qp?Uc++:(Uc=0,Qp=r):Uc=0,zc(0)}}function Kb(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,vc(i)))}function bh(r){return qb(),$b(),Gb(),Yb()}function Yb(){if(Pn!==5)return!1;var r=ti,i=Kp;Kp=0;var l=ka(gl),u=$.T,p=X.p;try{X.p=32>l?32:l,$.T=null,l=Yp,Yp=null;var y=ti,E=gl;if(Pn=0,pl=ti=null,gl=0,(St&6)!==0)throw Error(s(331));var O=St;if(St|=4,Db(y.current),Ab(y,y.current,E,l),St=O,zc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Ne,y)}catch{}return!0}finally{X.p=p,$.T=u,Kb(r,i)}}function Qb(r,i,l){i=zr(l,i),i=Tp(r.stateNode,i,2),r=$a(r,i,2),r!==null&&(ss(r,2),Ps(r))}function Pt(r,i,l){if(r.tag===3)Qb(r,r,l);else for(;i!==null;){if(i.tag===3){Qb(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ei===null||!ei.has(u))){r=zr(l,r),l=Zv(2),u=$a(i,l,2),u!==null&&(eb(l,u,i,r),ss(u,2),Ps(u));break}}i=i.return}}function Zp(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new g3;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(Hp=!0,p.add(l),r=w3.bind(null,r,i,l),i.then(r,r))}function w3(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Lt===r&&(mt&l)===l&&(Kt===4||Kt===3&&(mt&62914560)===mt&&300>Cn()-Gp?(St&2)===0&&yl(r,0):qp|=l,ml===mt&&(ml=0)),Ps(r)}function Wb(r,i){i===0&&(i=Bi()),r=Zo(r,i),r!==null&&(ss(r,i),Ps(r))}function _3(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Wb(r,l)}function N3(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Wb(r,l)}function j3(r,i){return ts(r,i)}var wh=null,vl=null,eg=!1,_h=!1,tg=!1,po=0;function Ps(r){r!==vl&&r.next===null&&(vl===null?wh=vl=r:vl=vl.next=r),_h=!0,eg||(eg=!0,S3())}function zc(r,i){if(!tg&&_h){tg=!0;do for(var l=!1,u=wh;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var E=u.suspendedLanes,O=u.pingedLanes;y=(1<<31-yt(42|r)+1)-1,y&=p&~(E&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,e1(u,y))}else y=mt,y=Or(u,u===Lt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||or(u,y)||(l=!0,e1(u,y));u=u.next}while(l);tg=!1}}function E3(){Xb()}function Xb(){_h=eg=!1;var r=0;po!==0&&(P3()&&(r=po),po=0);for(var i=Cn(),l=null,u=wh;u!==null;){var p=u.next,y=Jb(u,i);y===0?(u.next=null,l===null?wh=p:l.next=p,p===null&&(vl=l)):(l=u,(r!==0||(y&3)!==0)&&(_h=!0)),u=p}zc(r)}function Jb(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-yt(y),O=1<<E,K=p[E];K===-1?((O&l)===0||(O&u)!==0)&&(p[E]=rs(O,i)):K<=i&&(r.expiredLanes|=O),y&=~O}if(i=Lt,l=mt,l=Or(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||or(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&wn(u),ka(l)){case 2:case 8:l=Q;break;case 32:l=re;break;case 268435456:l=Te;break;default:l=re}return u=Zb.bind(null,r),l=ts(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&wn(u),r.callbackPriority=2,r.callbackNode=null,2}function Zb(r,i){if(Pn!==0&&Pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(bh()&&r.callbackNode!==l)return null;var u=mt;return u=Or(r,r===Lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Mb(r,u,i),Jb(r,Cn()),r.callbackNode!=null&&r.callbackNode===l?Zb.bind(null,r):null)}function e1(r,i){if(bh())return null;Mb(r,i,!0)}function S3(){k3(function(){(St&6)!==0?ts(bs,E3):Xb()})}function ng(){return po===0&&(po=Xs()),po}function t1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fo(""+r)}function n1(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function T3(r,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=t1((p[we]||null).action),E=u.submitter;E&&(i=(i=E[we]||null)?t1(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var O=new Bo("action","action",null,u,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(po!==0){var K=E?n1(p,E):new FormData(p);_p(l,{pending:!0,data:K,method:p.method,action:y},null,K)}}else typeof y=="function"&&(O.preventDefault(),K=E?n1(p,E):new FormData(p),_p(l,{pending:!0,data:K,method:p.method,action:y},y,K))},currentTarget:p}]})}}for(var rg=0;rg<Fm.length;rg++){var sg=Fm[rg],A3=sg.toLowerCase(),R3=sg[0].toUpperCase()+sg.slice(1);os(A3,"on"+R3)}os(Mx,"onAnimationEnd"),os(kx,"onAnimationIteration"),os(Lx,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(GE,"onTransitionRun"),os(KE,"onTransitionStart"),os(YE,"onTransitionCancel"),os(Vx,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function r1(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var E=u.length-1;0<=E;E--){var O=u[E],K=O.instance,se=O.currentTarget;if(O=O.listener,K!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=se;try{y(p)}catch(he){ch(he)}p.currentTarget=null,y=K}else for(E=0;E<u.length;E++){if(O=u[E],K=O.instance,se=O.currentTarget,O=O.listener,K!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=se;try{y(p)}catch(he){ch(he)}p.currentTarget=null,y=K}}}}function lt(r,i){var l=i[Ve];l===void 0&&(l=i[Ve]=new Set);var u=r+"__bubble";l.has(u)||(s1(i,r,2,!1),l.add(u))}function ag(r,i,l){var u=0;i&&(u|=4),s1(l,r,u,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function ig(r){if(!r[Nh]){r[Nh]=!0,wt.forEach(function(l){l!=="selectionchange"&&(C3.has(l)||ag(l,!1,r),ag(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,ag("selectionchange",!1,i))}}function s1(r,i,l,u){switch(A1(i)){case 2:var p=rS;break;case 8:p=sS;break;default:p=bg}l=p.bind(null,i,l,r),p=void 0,!Vr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function og(r,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var O=u.stateNode.containerInfo;if(O===p)break;if(E===4)for(E=u.return;E!==null;){var K=E.tag;if((K===3||K===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;O!==null;){if(E=nt(O),E===null)return;if(K=E.tag,K===5||K===6||K===26||K===27){u=y=E;continue e}O=O.parentNode}}u=u.return}Ed(function(){var se=y,he=Lr(l),me=[];e:{var oe=Ux.get(r);if(oe!==void 0){var le=Bo,Xe=r;switch(r){case"keypress":if(Es(l)===0)break e;case"keydown":case"keyup":le=Yo;break;case"focusin":Xe="focus",le=$o;break;case"focusout":Xe="blur",le=$o;break;case"beforeblur":case"afterblur":le=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Od;break;case Mx:case kx:case Lx:le=Go;break;case Vx:le=Md;break;case"scroll":case"scrollend":le=Sd;break;case"wheel":le=Qo;break;case"copy":case"cut":case"paste":le=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=dc;break;case"toggle":case"beforetoggle":le=Ld}var $e=(i&4)!==0,Dt=!$e&&(r==="scroll"||r==="scrollend"),J=$e?oe!==null?oe+"Capture":null:oe;$e=[];for(var W=se,ne;W!==null;){var fe=W;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||J===null||(fe=Ki(W,J),fe!=null&&$e.push(Bc(W,fe,ne))),Dt)break;W=W.return}0<$e.length&&(oe=new le(oe,Xe,null,l,he),me.push({event:oe,listeners:$e}))}}if((i&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",oe&&l!==ea&&(Xe=l.relatedTarget||l.fromElement)&&(nt(Xe)||Xe[Ce]))break e;if((le||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(Xe=l.relatedTarget||l.toElement,le=se,Xe=Xe?nt(Xe):null,Xe!==null&&(Dt=c(Xe),$e=Xe.tag,Xe!==Dt||$e!==5&&$e!==27&&$e!==6)&&(Xe=null)):(le=null,Xe=se),le!==Xe)){if($e=Ur,fe="onMouseLeave",J="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&($e=dc,fe="onPointerLeave",J="onPointerEnter",W="pointer"),Dt=le==null?oe:Ot(le),ne=Xe==null?oe:Ot(Xe),oe=new $e(fe,W+"leave",le,l,he),oe.target=Dt,oe.relatedTarget=ne,fe=null,nt(he)===se&&($e=new $e(J,W+"enter",Xe,l,he),$e.target=ne,$e.relatedTarget=Dt,fe=$e),Dt=fe,le&&Xe)t:{for($e=le,J=Xe,W=0,ne=$e;ne;ne=bl(ne))W++;for(ne=0,fe=J;fe;fe=bl(fe))ne++;for(;0<W-ne;)$e=bl($e),W--;for(;0<ne-W;)J=bl(J),ne--;for(;W--;){if($e===J||J!==null&&$e===J.alternate)break t;$e=bl($e),J=bl(J)}$e=null}else $e=null;le!==null&&a1(me,oe,le,$e,!1),Xe!==null&&Dt!==null&&a1(me,Dt,Xe,$e,!0)}}e:{if(oe=se?Ot(se):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Oe=jx;else if(fn(oe))if(Ex)Oe=HE;else{Oe=FE;var at=zE}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&sc(se.elementType)&&(Oe=jx):Oe=BE;if(Oe&&(Oe=Oe(r,se))){aa(me,Oe,l,he);break e}at&&at(r,oe,se),r==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&za(oe,"number",oe.value)}switch(at=se?Ot(se):window,r){case"focusin":(fn(at)||at.contentEditable==="true")&&(Wo=at,Vm=se,mc=null);break;case"focusout":mc=Vm=Wo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,Ox(me,l,he);break;case"selectionchange":if($E)break;case"keydown":case"keyup":Ox(me,l,he)}var Fe;if(As)e:{switch(r){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else ht?ue(r,l)&&(Ke="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(j&&l.locale!=="ko"&&(ht||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&ht&&(Fe=ic()):(js=he,Fa="value"in js?js.value:js.textContent,ht=!0)),at=jh(se,Ke),0<at.length&&(Ke=new cc(Ke,r,null,l,he),me.push({event:Ke,listeners:at}),Fe?Ke.data=Fe:(Fe=Se(l),Fe!==null&&(Ke.data=Fe)))),(Fe=v?hn(r,l):ft(r,l))&&(Ke=jh(se,"onBeforeInput"),0<Ke.length&&(at=new cc("onBeforeInput","beforeinput",null,l,he),me.push({event:at,listeners:Ke}),at.data=Fe)),T3(me,r,se,l,he)}r1(me,i)})}function Bc(r,i,l){return{instance:r,listener:i,currentTarget:l}}function jh(r,i){for(var l=i+"Capture",u=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ki(r,l),p!=null&&u.unshift(Bc(r,p,y)),p=Ki(r,i),p!=null&&u.push(Bc(r,p,y))),r.tag===3)return u;r=r.return}return[]}function bl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function a1(r,i,l,u,p){for(var y=i._reactName,E=[];l!==null&&l!==u;){var O=l,K=O.alternate,se=O.stateNode;if(O=O.tag,K!==null&&K===u)break;O!==5&&O!==26&&O!==27||se===null||(K=se,p?(se=Ki(l,y),se!=null&&E.unshift(Bc(l,se,K))):p||(se=Ki(l,y),se!=null&&E.push(Bc(l,se,K)))),l=l.return}E.length!==0&&r.push({event:i,listeners:E})}var D3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function i1(r){return(typeof r=="string"?r:""+r).replace(D3,`
`).replace(I3,"")}function o1(r,i){return i=i1(i),i1(r)===i}function Eh(){}function Ct(r,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||kr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&kr(r,""+u);break;case"className":Qn(r,"class",u);break;case"tabIndex":Qn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(r,l,u);break;case"style":rc(r,u,y);break;case"data":if(i!=="object"){Qn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Fo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&Ct(r,i,"name",p.name,p,null),Ct(r,i,"formEncType",p.formEncType,p,null),Ct(r,i,"formMethod",p.formMethod,p,null),Ct(r,i,"formTarget",p.formTarget,p,null)):(Ct(r,i,"encType",p.encType,p,null),Ct(r,i,"method",p.method,p,null),Ct(r,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Fo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Eh);break;case"onScroll":u!=null&&lt("scroll",r);break;case"onScrollEnd":u!=null&&lt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Fo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":lt("beforetoggle",r),lt("toggle",r),vr(r,"popover",u);break;case"xlinkActuate":We(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dm.get(l)||l,vr(r,l,u))}}function lg(r,i,l,u,p,y){switch(l){case"style":rc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof u=="string"?kr(r,u):(typeof u=="number"||typeof u=="bigint")&&kr(r,""+u);break;case"onScroll":u!=null&&lt("scroll",r);break;case"onScrollEnd":u!=null&&lt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=r[we]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,p);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):vr(r,l,u)}}}function Mn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",r),lt("load",r);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(r,i,y,E,l,null)}}p&&Ct(r,i,"srcSet",l.srcSet,l,null),u&&Ct(r,i,"src",l.src,l,null);return;case"input":lt("invalid",r);var O=y=E=p=null,K=null,se=null;for(u in l)if(l.hasOwnProperty(u)){var he=l[u];if(he!=null)switch(u){case"name":p=he;break;case"type":E=he;break;case"checked":K=he;break;case"defaultChecked":se=he;break;case"value":y=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,i));break;default:Ct(r,i,u,he,l,null)}}qi(r,y,O,K,se,E,p,!1),zo(r);return;case"select":lt("invalid",r),u=E=y=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":E=O;break;case"multiple":u=O;default:Ct(r,i,p,O,l,null)}i=y,l=E,r.multiple=!!u,i!=null?Zs(r,!!u,i,!1):l!=null&&Zs(r,!!u,l,!0);return;case"textarea":lt("invalid",r),y=p=u=null;for(E in l)if(l.hasOwnProperty(E)&&(O=l[E],O!=null))switch(E){case"value":u=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Ct(r,i,E,O,l,null)}$i(r,u,p,y),zo(r);return;case"option":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ct(r,i,K,u,l,null)}return;case"dialog":lt("beforetoggle",r),lt("toggle",r),lt("cancel",r),lt("close",r);break;case"iframe":case"object":lt("load",r);break;case"video":case"audio":for(u=0;u<Fc.length;u++)lt(Fc[u],r);break;case"image":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"embed":case"source":case"link":lt("error",r),lt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(u=l[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ct(r,i,se,u,l,null)}return;default:if(sc(i)){for(he in l)l.hasOwnProperty(he)&&(u=l[he],u!==void 0&&lg(r,i,he,u,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null&&Ct(r,i,O,u,l,null))}function O3(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,O=null,K=null,se=null,he=null;for(le in l){var me=l[le];if(l.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=me;default:u.hasOwnProperty(le)||Ct(r,i,le,null,u,me)}}for(var oe in u){var le=u[oe];if(me=l[oe],u.hasOwnProperty(oe)&&(le!=null||me!=null))switch(oe){case"type":y=le;break;case"name":p=le;break;case"checked":se=le;break;case"defaultChecked":he=le;break;case"value":E=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,i));break;default:le!==me&&Ct(r,i,oe,le,u,me)}}br(r,E,O,K,se,he,y,p);return;case"select":le=E=O=oe=null;for(y in l)if(K=l[y],l.hasOwnProperty(y)&&K!=null)switch(y){case"value":break;case"multiple":le=K;default:u.hasOwnProperty(y)||Ct(r,i,y,null,u,K)}for(p in u)if(y=u[p],K=l[p],u.hasOwnProperty(p)&&(y!=null||K!=null))switch(p){case"value":oe=y;break;case"defaultValue":O=y;break;case"multiple":E=y;default:y!==K&&Ct(r,i,p,y,u,K)}i=O,l=E,u=le,oe!=null?Zs(r,!!l,oe,!1):!!u!=!!l&&(i!=null?Zs(r,!!l,i,!0):Zs(r,!!l,l?[]:"",!1));return;case"textarea":le=oe=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ct(r,i,O,null,u,p)}for(E in u)if(p=u[E],y=l[E],u.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":oe=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Ct(r,i,E,p,u,y)}At(r,oe,le);return;case"option":for(var Xe in l)if(oe=l[Xe],l.hasOwnProperty(Xe)&&oe!=null&&!u.hasOwnProperty(Xe))switch(Xe){case"selected":r.selected=!1;break;default:Ct(r,i,Xe,null,u,oe)}for(K in u)if(oe=u[K],le=l[K],u.hasOwnProperty(K)&&oe!==le&&(oe!=null||le!=null))switch(K){case"selected":r.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Ct(r,i,K,oe,u,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)oe=l[$e],l.hasOwnProperty($e)&&oe!=null&&!u.hasOwnProperty($e)&&Ct(r,i,$e,null,u,oe);for(se in u)if(oe=u[se],le=l[se],u.hasOwnProperty(se)&&oe!==le&&(oe!=null||le!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Ct(r,i,se,oe,u,le)}return;default:if(sc(i)){for(var Dt in l)oe=l[Dt],l.hasOwnProperty(Dt)&&oe!==void 0&&!u.hasOwnProperty(Dt)&&lg(r,i,Dt,void 0,u,oe);for(he in u)oe=u[he],le=l[he],!u.hasOwnProperty(he)||oe===le||oe===void 0&&le===void 0||lg(r,i,he,oe,u,le);return}}for(var J in l)oe=l[J],l.hasOwnProperty(J)&&oe!=null&&!u.hasOwnProperty(J)&&Ct(r,i,J,null,u,oe);for(me in u)oe=u[me],le=l[me],!u.hasOwnProperty(me)||oe===le||oe==null&&le==null||Ct(r,i,me,oe,u,le)}var cg=null,ug=null;function Sh(r){return r.nodeType===9?r:r.ownerDocument}function l1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c1(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function dg(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hg=null;function P3(){var r=window.event;return r&&r.type==="popstate"?r===hg?!1:(hg=r,!0):(hg=null,!1)}var u1=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,k3=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(r){return d1.resolve(null).then(r).catch(L3)}:u1;function L3(r){setTimeout(function(){throw r})}function ri(r){return r==="head"}function h1(r,i){var l=i,u=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var E=r.ownerDocument;if(l&1&&Hc(E.documentElement),l&2&&Hc(E.body),l&4)for(l=E.head,Hc(l),E=l.firstChild;E;){var O=E.nextSibling,K=E.nodeName;E[ke]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=O}}if(p===0){r.removeChild(y),Xc(i);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Xc(i)}function fg(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),Le(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function V3(r,i,l,u){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ke])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=cs(r.nextSibling),r===null)break}return null}function U3(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=cs(r.nextSibling),r===null))return null;return r}function mg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function z3(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function cs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var pg=null;function f1(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function m1(r,i,l){switch(i=Sh(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Hc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Le(r)}var Gr=new Map,p1=new Set;function Th(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var xa=X.d;X.d={f:F3,r:B3,D:H3,C:q3,L:$3,m:G3,X:Y3,S:K3,M:Q3};function F3(){var r=xa.f(),i=xh();return r||i}function B3(r){var i=xt(r);i!==null&&i.tag===5&&i.type==="form"?Mv(i):xa.r(r)}var wl=typeof document>"u"?null:document;function g1(r,i,l){var u=wl;if(u&&typeof i=="string"&&i){var p=sn(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),p1.has(p)||(p1.add(p),r={rel:r,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),Mn(i,"link",r),Ze(i),u.head.appendChild(i)))}}function H3(r){xa.D(r),g1("dns-prefetch",r,null)}function q3(r,i){xa.C(r,i),g1("preconnect",r,i)}function $3(r,i,l){xa.L(r,i,l);var u=wl;if(u&&r&&i){var p='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+sn(l.imageSizes)+'"]')):p+='[href="'+sn(r)+'"]';var y=p;switch(i){case"style":y=_l(r);break;case"script":y=Nl(r)}Gr.has(y)||(r=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Gr.set(y,r),u.querySelector(p)!==null||i==="style"&&u.querySelector(qc(y))||i==="script"&&u.querySelector($c(y))||(i=u.createElement("link"),Mn(i,"link",r),Ze(i),u.head.appendChild(i)))}}function G3(r,i){xa.m(r,i);var l=wl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(r)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nl(r)}if(!Gr.has(y)&&(r=x({rel:"modulepreload",href:r},i),Gr.set(y,r),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($c(y)))return}u=l.createElement("link"),Mn(u,"link",r),Ze(u),l.head.appendChild(u)}}}function K3(r,i,l){xa.S(r,i,l);var u=wl;if(u&&r){var p=bt(u).hoistableStyles,y=_l(r);i=i||"default";var E=p.get(y);if(!E){var O={loading:0,preload:null};if(E=u.querySelector(qc(y)))O.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Gr.get(y))&&gg(r,l);var K=E=u.createElement("link");Ze(K),Mn(K,"link",r),K._p=new Promise(function(se,he){K.onload=se,K.onerror=he}),K.addEventListener("load",function(){O.loading|=1}),K.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ah(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:O},p.set(y,E)}}}function Y3(r,i){xa.X(r,i);var l=wl;if(l&&r){var u=bt(l).hoistableScripts,p=Nl(r),y=u.get(p);y||(y=l.querySelector($c(p)),y||(r=x({src:r,async:!0},i),(i=Gr.get(p))&&yg(r,i),y=l.createElement("script"),Ze(y),Mn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Q3(r,i){xa.M(r,i);var l=wl;if(l&&r){var u=bt(l).hoistableScripts,p=Nl(r),y=u.get(p);y||(y=l.querySelector($c(p)),y||(r=x({src:r,async:!0,type:"module"},i),(i=Gr.get(p))&&yg(r,i),y=l.createElement("script"),Ze(y),Mn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function y1(r,i,l,u){var p=(p=Be.current)?Th(p):null;if(!p)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=_l(l.href),l=bt(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=_l(l.href);var y=bt(p).hoistableStyles,E=y.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=p.querySelector(qc(r)))&&!y._p&&(E.instance=y,E.state.loading=5),Gr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gr.set(r,l),y||W3(p,r,l,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Nl(l),l=bt(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function _l(r){return'href="'+sn(r)+'"'}function qc(r){return'link[rel="stylesheet"]['+r+"]"}function x1(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function W3(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Mn(i,"link",l),Ze(i),r.head.appendChild(i))}function Nl(r){return'[src="'+sn(r)+'"]'}function $c(r){return"script[async]"+r}function v1(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+sn(l.href)+'"]');if(u)return i.instance=u,Ze(u),u;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ze(u),Mn(u,"style",p),Ah(u,l.precedence,r),i.instance=u;case"stylesheet":p=_l(l.href);var y=r.querySelector(qc(p));if(y)return i.state.loading|=4,i.instance=y,Ze(y),y;u=x1(l),(p=Gr.get(p))&&gg(u,p),y=(r.ownerDocument||r).createElement("link"),Ze(y);var E=y;return E._p=new Promise(function(O,K){E.onload=O,E.onerror=K}),Mn(y,"link",u),i.state.loading|=4,Ah(y,l.precedence,r),i.instance=y;case"script":return y=Nl(l.src),(p=r.querySelector($c(y)))?(i.instance=p,Ze(p),p):(u=l,(p=Gr.get(y))&&(u=x({},l),yg(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ze(p),Mn(p,"link",u),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Ah(u,l.precedence,r));return i.instance}function Ah(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,E=0;E<u.length;E++){var O=u[E];if(O.dataset.precedence===i)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function gg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function yg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Rh=null;function b1(r,i,l){if(Rh===null){var u=new Map,p=Rh=new Map;p.set(l,u)}else p=Rh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[ke]||y[pe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=r+E;var O=u.get(E);O?O.push(y):u.set(E,[y])}}return u}function w1(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function X3(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Gc=null;function J3(){}function Z3(r,i,l){if(Gc===null)throw Error(s(475));var u=Gc;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=_l(l.href),y=r.querySelector(qc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Ch.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=y,Ze(y);return}y=r.ownerDocument||r,l=x1(l),(p=Gr.get(p))&&gg(l,p),y=y.createElement("link"),Ze(y);var E=y;E._p=new Promise(function(O,K){E.onload=O,E.onerror=K}),Mn(y,"link",l),i.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ch.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function eS(){if(Gc===null)throw Error(s(475));var r=Gc;return r.stylesheets&&r.count===0&&xg(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&xg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dh=null;function xg(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dh=new Map,i.forEach(tS,r),Dh=null,Ch.call(r))}function tS(r,i){if(!(i.state.loading&4)){var l=Dh.get(r);if(l)var u=l.get(null);else{l=new Map,Dh.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}p=i.instance,E=p.getAttribute("data-precedence"),y=l.get(E)||u,y===u&&l.set(null,p),l.set(E,p),this.count++,u=Ch.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var Kc={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function nS(r,i,l,u,p,y,E,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function N1(r,i,l,u,p,y,E,O,K,se,he,me){return r=new nS(r,i,l,E,O,K,se,me),i=1,y===!0&&(i|=24),y=_r(3,null,null,i),r.current=y,y.stateNode=r,i=Zm(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},rp(y),r}function j1(r){return r?(r=el,r):el}function E1(r,i,l,u,p,y){p=j1(p),u.context===null?u.context=p:u.pendingContext=p,u=qa(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=$a(r,u,i),l!==null&&(Tr(l,r,i),Nc(l,r,i))}function S1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function vg(r,i){S1(r,i),(r=r.alternate)&&S1(r,i)}function T1(r){if(r.tag===13){var i=Zo(r,67108864);i!==null&&Tr(i,r,67108864),vg(r,67108864)}}var Ih=!0;function rS(r,i,l,u){var p=$.T;$.T=null;var y=X.p;try{X.p=2,bg(r,i,l,u)}finally{X.p=y,$.T=p}}function sS(r,i,l,u){var p=$.T;$.T=null;var y=X.p;try{X.p=8,bg(r,i,l,u)}finally{X.p=y,$.T=p}}function bg(r,i,l,u){if(Ih){var p=wg(u);if(p===null)og(r,i,u,Oh,l),R1(r,u);else if(iS(p,r,i,l,u))u.stopPropagation();else if(R1(r,u),i&4&&-1<aS.indexOf(r)){for(;p!==null;){var y=xt(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Gn(y.pendingLanes);if(E!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;E;){var K=1<<31-yt(E);O.entanglements[1]|=K,E&=~K}Ps(y),(St&6)===0&&(gh=Cn()+500,zc(0))}}break;case 13:O=Zo(y,2),O!==null&&Tr(O,y,2),xh(),vg(y,2)}if(y=wg(u),y===null&&og(r,i,u,Oh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else og(r,i,u,null,l)}}function wg(r){return r=Lr(r),_g(r)}var Oh=null;function _g(r){if(Oh=null,r=nt(r),r!==null){var i=c(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=d(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Oh=r,null}function A1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case bs:return 2;case Q:return 8;case re:case de:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Ng=!1,si=null,ai=null,ii=null,Yc=new Map,Qc=new Map,oi=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R1(r,i){switch(r){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Yc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(i.pointerId)}}function Wc(r,i,l,u,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=xt(i),i!==null&&T1(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function iS(r,i,l,u,p){switch(i){case"focusin":return si=Wc(si,r,i,l,u,p),!0;case"dragenter":return ai=Wc(ai,r,i,l,u,p),!0;case"mouseover":return ii=Wc(ii,r,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return Yc.set(y,Wc(Yc.get(y)||null,r,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Qc.set(y,Wc(Qc.get(y)||null,r,i,l,u,p)),!0}return!1}function C1(r){var i=nt(r.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){r.blockedOn=i,ee(r.priority,function(){if(l.tag===13){var u=Sr();u=_s(u);var p=Zo(l,u);p!==null&&Tr(p,l,u),vg(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ph(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=wg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);ea=u,l.target.dispatchEvent(u),ea=null}else return i=xt(l),i!==null&&T1(i),r.blockedOn=l,!1;i.shift()}return!0}function D1(r,i,l){Ph(r)&&l.delete(i)}function oS(){Ng=!1,si!==null&&Ph(si)&&(si=null),ai!==null&&Ph(ai)&&(ai=null),ii!==null&&Ph(ii)&&(ii=null),Yc.forEach(D1),Qc.forEach(D1)}function Mh(r,i){r.blockedOn===i&&(r.blockedOn=null,Ng||(Ng=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oS)))}var kh=null;function I1(r){kh!==r&&(kh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kh===r&&(kh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],p=r[i+2];if(typeof u!="function"){if(_g(u||l)===null)continue;break}var y=xt(l);y!==null&&(r.splice(i,3),i-=3,_p(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Xc(r){function i(K){return Mh(K,r)}si!==null&&Mh(si,r),ai!==null&&Mh(ai,r),ii!==null&&Mh(ii,r),Yc.forEach(i),Qc.forEach(i);for(var l=0;l<oi.length;l++){var u=oi[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<oi.length&&(l=oi[0],l.blockedOn===null);)C1(l),l.blockedOn===null&&oi.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],E=p[we]||null;if(typeof y=="function")E||I1(l);else if(E){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[we]||null)O=E.formAction;else if(_g(p)!==null)continue}else O=E.action;typeof O=="function"?l[u+1]=O:(l.splice(u,3),u-=3),I1(l)}}}function jg(r){this._internalRoot=r}Lh.prototype.render=jg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=Sr();E1(l,u,r,i,null,null)},Lh.prototype.unmount=jg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;E1(r.current,2,null,r,null,null),xh(),i[Ce]=null}};function Lh(r){this._internalRoot=r}Lh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Y();r={blockedOn:null,target:r,priority:i};for(var l=0;l<oi.length&&i!==0&&i<oi[l].priority;l++);oi.splice(l,0,r),l===0&&C1(r)}};var O1=e.version;if(O1!=="19.1.1")throw Error(s(527,O1,"19.1.1"));X.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var lS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Ne=Vh.inject(lS),Re=Vh}catch{}}return Zc.createRoot=function(r,i){if(!o(r))throw Error(s(299));var l=!1,u="",p=Qv,y=Wv,E=Xv,O=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks)),i=N1(r,1,!1,null,null,l,u,p,y,E,O,null),r[Ce]=i.current,ig(r),new jg(i)},Zc.hydrateRoot=function(r,i,l){if(!o(r))throw Error(s(299));var u=!1,p="",y=Qv,E=Wv,O=Xv,K=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(K=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),i=N1(r,1,!0,i,l??null,u,p,y,E,O,K,se),i.context=j1(null),l=i.current,u=Sr(),u=_s(u),p=qa(u),p.callback=null,$a(l,p,u),l=u,i.current.lanes=l,ss(i,l),Ps(i),r[Ce]=i.current,ig(r),new Lh(i)},Zc.version="19.1.1",Zc}var H1;function yS(){if(H1)return Tg.exports;H1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=gS(),Tg.exports}var xS=yS();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_=t=>{throw TypeError(t)},vS=(t,e,n)=>e.has(t)||H_("Cannot "+n),Dg=(t,e,n)=>(vS(t,e,"read from private field"),n?n.call(t):e.get(t)),bS=(t,e,n)=>e.has(t)?H_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q1="popstate";function wS(t={}){function e(s,o){let{pathname:c,search:d,hash:f}=s.location;return Lu("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Si(o)}return NS(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _S(){return Math.random().toString(36).substring(2,10)}function $1(t,e){return{usr:t.state,key:t.key,idx:e}}function Lu(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Li(e):e,state:n,key:e&&e.key||s||_S()}}function Si({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function NS(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,f="POP",m=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function b(){f="POP";let z=x(),G=z==null?null:z-g;g=z,m&&m({action:f,location:k.location,delta:G})}function w(z,G){f="PUSH";let P=Lu(k.location,z,G);g=x()+1;let I=$1(P,g),H=k.createHref(P);try{d.pushState(I,"",H)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(H)}c&&m&&m({action:f,location:k.location,delta:1})}function D(z,G){f="REPLACE";let P=Lu(k.location,z,G);g=x();let I=$1(P,g),H=k.createHref(P);d.replaceState(I,"",H),c&&m&&m({action:f,location:k.location,delta:0})}function M(z){return q_(z)}let k={get action(){return f},get location(){return t(o,d)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(q1,b),m=z,()=>{o.removeEventListener(q1,b),m=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let G=M(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:D,go(z){return d.go(z)}};return k}function q_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Si(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var gu,G1=class{constructor(t){if(bS(this,gu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Dg(this,gu).has(t))return Dg(this,gu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Dg(this,gu).set(t,e)}};gu=new WeakMap;var jS=new Set(["lazy","caseSensitive","path","id","index","children"]);function ES(t){return jS.has(t)}var SS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function TS(t){return SS.has(t)}function AS(t){return t.index===!0}function Vu(t,e,n=[],s={},o=!1){return t.map((c,d)=>{let f=[...n,String(d)],m=typeof c.id=="string"?c.id:f.join("-");if(it(c.index!==!0||!c.children,"Cannot specify children on an index route"),it(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),AS(c)){let g={...c,...e(c),id:m};return s[m]=g,g}else{let g={...c,...e(c),id:m,children:void 0};return s[m]=g,c.children&&(g.children=Vu(c.children,e,f,s,o)),g}})}function di(t,e,n="/"){return rf(t,e,n,!1)}function rf(t,e,n,s){let o=typeof e=="string"?Li(e):e,c=Xr(o.pathname||"/",n);if(c==null)return null;let d=$_(t);CS(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=FS(c);f=US(d[m],g,s)}return f}function RS(t,e){let{route:n,pathname:s,params:o}=t;return{id:n.id,pathname:s,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function $_(t,e=[],n=[],s="",o=!1){let c=(d,f,m=o,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&m)return;it(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let b=Us([s,x.relativePath]),w=n.concat(x);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),$_(d.children,e,w,b,m)),!(d.path==null&&!d.index)&&e.push({path:b,score:LS(b,d.index),routesMeta:w})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let m of G_(d.path))c(d,f,!0,m)}),e}function G_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=G_(s.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&f.push(...d),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function CS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var DS=/^:[\w-]+$/,IS=3,OS=2,PS=1,MS=10,kS=-2,K1=t=>t==="*";function LS(t,e){let n=t.split("/"),s=n.length;return n.some(K1)&&(s+=kS),e&&(s+=OS),n.filter(o=>!K1(o)).reduce((o,c)=>o+(DS.test(c)?IS:c===""?PS:MS),s)}function VS(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function US(t,e,n=!1){let{routesMeta:s}=t,o={},c="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",b=bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Us([c,b.pathname]),pathnameBase:$S(Us([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Us([c,b.pathnameBase]))}return d}function bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=zS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:b},w)=>{if(x==="*"){let M=f[w]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const D=f[w];return b&&!D?g[x]=void 0:g[x]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function zS(t,e=!1,n=!0){Qt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function BS({basename:t,pathname:e}){return e==="/"?t:Us([t,e])}function HS(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Li(t):t;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:GS(s),hash:KS(o)}}function qS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ig(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zf(t){let e=K_(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function em(t,e,n,s=!1){let o;typeof t=="string"?o=Li(t):(o={...t},it(!o.pathname||!o.pathname.includes("?"),Ig("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Ig("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Ig("#","search","hash",o)));let c=t===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let m=HS(o,f),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Us=t=>t.join("/").replace(/\/\/+/g,"/"),$S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wf=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Y_=["POST","PUT","PATCH","DELETE"],YS=new Set(Y_),QS=["GET",...Y_],WS=new Set(QS),XS=new Set([301,302,303,307,308]),JS=new Set([307,308]),Og={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=t=>eT.test(t),tT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Q_="remix-router-transitions",W_=Symbol("ResetLoaderData");function nT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||tT,c={},d=Vu(t.routes,o,void 0,c),f,m=t.basename||"/",g=t.dataStrategy||oT,x={unstable_middleware:!1,...t.future},b=null,w=new Set,D=null,M=null,k=null,z=t.hydrationData!=null,G=di(d,t.history.location,m),P=!1,I=null,H;if(G==null&&!t.patchRoutesOnNavigation){let Y=Yr(404,{pathname:t.history.location.pathname}),{matches:ee,route:ae}=a2(d);H=!0,G=ee,I={[ae.id]:Y}}else if(G&&!t.hydrationData&&Kn(G,d,t.history.location.pathname).active&&(G=null),G)if(G.some(Y=>Y.route.lazy))H=!1;else if(!G.some(Y=>Y.route.loader))H=!0;else{let Y=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let ae=G.findIndex(pe=>ee[pe.route.id]!==void 0);H=G.slice(0,ae+1).every(pe=>!dy(pe.route,Y,ee))}else H=G.every(ae=>!dy(ae.route,Y,ee))}else{H=!1,G=[];let Y=Kn(null,d,t.history.location.pathname);Y.active&&Y.matches&&(P=!0,G=Y.matches)}let U,C={historyAction:t.history.action,location:t.history.location,matches:G,initialized:H,navigation:Og,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},A="POP",N=!1,S,L=!1,R=new Map,_=null,T=!1,Z=!1,B=new Set,$=new Map,X=0,ie=-1,be=new Map,q=new Set,ce=new Map,xe=new Map,ye=new Set,Ae=new Map,Ge,Be=null;function Vt(){if(b=t.history.listen(({action:Y,location:ee,delta:ae})=>{if(Ge){Ge(),Ge=void 0;return}Qt(Ae.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=rs({currentLocation:C.location,nextLocation:ee,historyAction:Y});if(pe&&ae!=null){let we=new Promise(Ce=>{Ge=Ce});t.history.go(ae*-1),or(pe,{state:"blocked",location:ee,proceed(){or(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),we.then(()=>t.history.go(ae))},reset(){let Ce=new Map(C.blockers);Ce.set(pe,eu),Et({blockers:Ce})}});return}return wn(Y,ee)}),n){vT(e,R);let Y=()=>bT(e,R);e.addEventListener("pagehide",Y),_=()=>e.removeEventListener("pagehide",Y)}return C.initialized||wn("POP",C.location,{initialHydration:!0}),U}function gt(){b&&b(),_&&_(),w.clear(),S&&S.abort(),C.fetchers.forEach((Y,ee)=>yt(ee)),C.blockers.forEach((Y,ee)=>Or(ee))}function Un(Y){return w.add(Y),()=>w.delete(Y)}function Et(Y,ee={}){Y.matches&&(Y.matches=Y.matches.map(we=>{let Ce=c[we.route.id],Ve=we.route;return Ve.element!==Ce.element||Ve.errorElement!==Ce.errorElement||Ve.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...we,route:Ce}:we})),C={...C,...Y};let ae=[],pe=[];C.fetchers.forEach((we,Ce)=>{we.state==="idle"&&(ye.has(Ce)?ae.push(Ce):pe.push(Ce))}),ye.forEach(we=>{!C.fetchers.has(we)&&!$.has(we)&&ae.push(we)}),[...w].forEach(we=>we(C,{deletedFetchers:ae,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),ae.forEach(we=>yt(we)),pe.forEach(we=>C.fetchers.delete(we))}function bn(Y,ee,{flushSync:ae}={}){let pe=C.actionData!=null&&C.navigation.formMethod!=null&&mr(C.navigation.formMethod)&&C.navigation.state==="loading"&&Y.state?._isRedirect!==!0,we;ee.actionData?Object.keys(ee.actionData).length>0?we=ee.actionData:we=null:pe?we=C.actionData:we=null;let Ce=ee.loaderData?r2(C.loaderData,ee.loaderData,ee.matches||[],ee.errors):C.loaderData,Ve=C.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((ke,Le)=>Ve.set(Le,eu)));let Pe=T?!1:Ma(Y,ee.matches||C.matches),Me=N===!0||C.navigation.formMethod!=null&&mr(C.navigation.formMethod)&&Y.state?._isRedirect!==!0;f&&(d=f,f=void 0),T||A==="POP"||(A==="PUSH"?t.history.push(Y,Y.state):A==="REPLACE"&&t.history.replace(Y,Y.state));let He;if(A==="POP"){let ke=R.get(C.location.pathname);ke&&ke.has(Y.pathname)?He={currentLocation:C.location,nextLocation:Y}:R.has(Y.pathname)&&(He={currentLocation:Y,nextLocation:C.location})}else if(L){let ke=R.get(C.location.pathname);ke?ke.add(Y.pathname):(ke=new Set([Y.pathname]),R.set(C.location.pathname,ke)),He={currentLocation:C.location,nextLocation:Y}}Et({...ee,actionData:we,loaderData:Ce,historyAction:A,location:Y,initialized:!0,navigation:Og,revalidation:"idle",restoreScrollPosition:Pe,preventScrollReset:Me,blockers:Ve},{viewTransitionOpts:He,flushSync:ae===!0}),A="POP",N=!1,L=!1,T=!1,Z=!1,Be?.resolve(),Be=null}async function yr(Y,ee){if(typeof Y=="number"){t.history.go(Y);return}let ae=uy(C.location,C.matches,m,Y,ee?.fromRouteId,ee?.relative),{path:pe,submission:we,error:Ce}=Y1(!1,ae,ee),Ve=C.location,Pe=Lu(C.location,pe,ee&&ee.state);Pe={...Pe,...t.history.encodeLocation(Pe)};let Me=ee&&ee.replace!=null?ee.replace:void 0,He="PUSH";Me===!0?He="REPLACE":Me===!1||we!=null&&mr(we.formMethod)&&we.formAction===C.location.pathname+C.location.search&&(He="REPLACE");let ke=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,Le=(ee&&ee.flushSync)===!0,nt=rs({currentLocation:Ve,nextLocation:Pe,historyAction:He});if(nt){or(nt,{state:"blocked",location:Pe,proceed(){or(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),yr(Y,ee)},reset(){let xt=new Map(C.blockers);xt.set(nt,eu),Et({blockers:xt})}});return}await wn(He,Pe,{submission:we,pendingError:Ce,preventScrollReset:ke,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:Le})}function ts(){Be||(Be=wT()),_e(),Et({revalidation:"loading"});let Y=Be.promise;return C.navigation.state==="submitting"?Y:C.navigation.state==="idle"?(wn(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),Y):(wn(A||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:L===!0}),Y)}async function wn(Y,ee,ae){S&&S.abort(),S=null,A=Y,T=(ae&&ae.startUninterruptedRevalidation)===!0,ss(C.location,C.matches),N=(ae&&ae.preventScrollReset)===!0,L=(ae&&ae.enableViewTransition)===!0;let pe=f||d,we=ae&&ae.overrideNavigation,Ce=ae?.initialHydration&&C.matches&&C.matches.length>0&&!P?C.matches:di(pe,ee,m),Ve=(ae&&ae.flushSync)===!0;if(Ce&&C.initialized&&!Z&&mT(C.location,ee)&&!(ae&&ae.submission&&mr(ae.submission.formMethod))){bn(ee,{matches:Ce},{flushSync:Ve});return}let Pe=Kn(Ce,pe,ee.pathname);if(Pe.active&&Pe.matches&&(Ce=Pe.matches),!Ce){let{error:bt,notFoundMatches:Ze,route:wt}=Xs(ee.pathname);bn(ee,{matches:Ze,loaderData:{},errors:{[wt.id]:bt}},{flushSync:Ve});return}S=new AbortController;let Me=Al(t.history,ee,S.signal,ae&&ae.submission),He=t.unstable_getContext?await t.unstable_getContext():new G1,ke;if(ae&&ae.pendingError)ke=[hi(Ce).route.id,{type:"error",error:ae.pendingError}];else if(ae&&ae.submission&&mr(ae.submission.formMethod)){let bt=await vs(Me,ee,ae.submission,Ce,He,Pe.active,ae&&ae.initialHydration===!0,{replace:ae.replace,flushSync:Ve});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[Ze,wt]=bt.pendingActionResult;if(Rr(wt)&&Uu(wt.error)&&wt.error.status===404){S=null,bn(ee,{matches:bt.matches,loaderData:{},errors:{[Ze]:wt.error}});return}}Ce=bt.matches||Ce,ke=bt.pendingActionResult,we=Pg(ee,ae.submission),Ve=!1,Pe.active=!1,Me=Al(t.history,Me.url,Me.signal)}let{shortCircuited:Le,matches:nt,loaderData:xt,errors:Ot}=await Pa(Me,ee,Ce,He,Pe.active,we,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,Ve,ke);Le||(S=null,bn(ee,{matches:nt||Ce,...s2(ke),loaderData:xt,errors:Ot}))}async function vs(Y,ee,ae,pe,we,Ce,Ve,Pe={}){_e();let Me=yT(ee,ae);if(Et({navigation:Me},{flushSync:Pe.flushSync===!0}),Ce){let Le=await ws(pe,ee.pathname,Y.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let nt=hi(Le.partialMatches).route.id;return{matches:Le.partialMatches,pendingActionResult:[nt,{type:"error",error:Le.error}]}}else if(Le.matches)pe=Le.matches;else{let{notFoundMatches:nt,error:xt,route:Ot}=Xs(ee.pathname);return{matches:nt,pendingActionResult:[Ot.id,{type:"error",error:xt}]}}}let He,ke=sf(pe,ee);if(!ke.route.action&&!ke.route.lazy)He={type:"error",error:Yr(405,{method:Y.method,pathname:ee.pathname,routeId:ke.route.id})};else{let Le=Ol(o,c,Y,pe,ke,Ve?[]:s,we),nt=await Te(Y,Le,we,null);if(He=nt[ke.route.id],!He){for(let xt of pe)if(nt[xt.route.id]){He=nt[xt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(yo(He)){let Le;return Pe&&Pe.replace!=null?Le=Pe.replace:Le=e2(He.response.headers.get("Location"),new URL(Y.url),m)===C.location.pathname+C.location.search,await de(Y,He,!0,{submission:ae,replace:Le}),{shortCircuited:!0}}if(Rr(He)){let Le=hi(pe,ke.route.id);return(Pe&&Pe.replace)!==!0&&(A="PUSH"),{matches:pe,pendingActionResult:[Le.route.id,He,ke.route.id]}}return{matches:pe,pendingActionResult:[ke.route.id,He]}}async function Pa(Y,ee,ae,pe,we,Ce,Ve,Pe,Me,He,ke,Le){let nt=Ce||Pg(ee,Ve),xt=Ve||Pe||o2(nt),Ot=!T&&!He;if(we){if(Ot){let Ft=Cn(Le);Et({navigation:nt,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:ke})}let We=await ws(ae,ee.pathname,Y.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let Ft=hi(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Ft]:We.error}}}else if(We.matches)ae=We.matches;else{let{error:Ft,notFoundMatches:Js,route:Wn}=Xs(ee.pathname);return{matches:Js,loaderData:{},errors:{[Wn.id]:Ft}}}}let bt=f||d,{dsMatches:Ze,revalidatingFetchers:wt}=Q1(Y,pe,o,c,t.history,C,ae,xt,ee,He?[]:s,He===!0,Z,B,ye,ce,q,bt,m,t.patchRoutesOnNavigation!=null,Le);if(ie=++X,!t.dataStrategy&&!Ze.some(We=>We.shouldLoad)&&!Ze.some(We=>We.route.unstable_middleware)&&wt.length===0){let We=ar();return bn(ee,{matches:ae,loaderData:{},errors:Le&&Rr(Le[1])?{[Le[0]]:Le[1].error}:null,...s2(Le),...We?{fetchers:new Map(C.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(Ot){let We={};if(!we){We.navigation=nt;let Ft=Cn(Le);Ft!==void 0&&(We.actionData=Ft)}wt.length>0&&(We.fetchers=Uo(wt)),Et(We,{flushSync:ke})}wt.forEach(We=>{Zt(We.key),We.controller&&$.set(We.key,We.controller)});let lr=()=>wt.forEach(We=>Zt(We.key));S&&S.signal.addEventListener("abort",lr);let{loaderResults:Dn,fetcherResults:_n}=await Ee(Ze,wt,Y,pe);if(Y.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",lr),wt.forEach(We=>$.delete(We.key));let Yn=Uh(Dn);if(Yn)return await de(Y,Yn.result,!0,{replace:Me}),{shortCircuited:!0};if(Yn=Uh(_n),Yn)return q.add(Yn.key),await de(Y,Yn.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:La,errors:xr}=n2(C,ae,Dn,Le,wt,_n);He&&C.errors&&(xr={...C.errors,...xr});let Mr=ar(),vr=ir(ie),Qn=Mr||vr||wt.length>0;return{matches:ae,loaderData:La,errors:xr,...Qn?{fetchers:new Map(C.fetchers)}:{}}}function Cn(Y){if(Y&&!Rr(Y[1]))return{[Y[0]]:Y[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Uo(Y){return Y.forEach(ee=>{let ae=C.fetchers.get(ee.key),pe=tu(void 0,ae?ae.data:void 0);C.fetchers.set(ee.key,pe)}),new Map(C.fetchers)}async function bs(Y,ee,ae,pe){Zt(Y);let we=(pe&&pe.flushSync)===!0,Ce=f||d,Ve=uy(C.location,C.matches,m,ae,ee,pe?.relative),Pe=di(Ce,Ve,m),Me=Kn(Pe,Ce,Ve);if(Me.active&&Me.matches&&(Pe=Me.matches),!Pe){Re(Y,ee,Yr(404,{pathname:Ve}),{flushSync:we});return}let{path:He,submission:ke,error:Le}=Y1(!0,Ve,pe);if(Le){Re(Y,ee,Le,{flushSync:we});return}let nt=t.unstable_getContext?await t.unstable_getContext():new G1,xt=(pe&&pe.preventScrollReset)===!0;if(ke&&mr(ke.formMethod)){await Q(Y,ee,He,Pe,nt,Me.active,we,xt,ke);return}ce.set(Y,{routeId:ee,path:He}),await re(Y,ee,He,Pe,nt,Me.active,we,xt,ke)}async function Q(Y,ee,ae,pe,we,Ce,Ve,Pe,Me){_e(),ce.delete(Y);let He=C.fetchers.get(Y);Ne(Y,xT(Me,He),{flushSync:Ve});let ke=new AbortController,Le=Al(t.history,ae,ke.signal,Me);if(Ce){let kt=await ws(pe,new URL(Le.url).pathname,Le.signal,Y);if(kt.type==="aborted")return;if(kt.type==="error"){Re(Y,ee,kt.error,{flushSync:Ve});return}else if(kt.matches)pe=kt.matches;else{Re(Y,ee,Yr(404,{pathname:ae}),{flushSync:Ve});return}}let nt=sf(pe,ae);if(!nt.route.action&&!nt.route.lazy){let kt=Yr(405,{method:Me.formMethod,pathname:ae,routeId:ee});Re(Y,ee,kt,{flushSync:Ve});return}$.set(Y,ke);let xt=X,Ot=Ol(o,c,Le,pe,nt,s,we),Ze=(await Te(Le,Ot,we,Y))[nt.route.id];if(Le.signal.aborted){$.get(Y)===ke&&$.delete(Y);return}if(ye.has(Y)){if(yo(Ze)||Rr(Ze)){Ne(Y,ui(void 0));return}}else{if(yo(Ze))if($.delete(Y),ie>xt){Ne(Y,ui(void 0));return}else return q.add(Y),Ne(Y,tu(Me)),de(Le,Ze,!1,{fetcherSubmission:Me,preventScrollReset:Pe});if(Rr(Ze)){Re(Y,ee,Ze.error);return}}let wt=C.navigation.location||C.location,lr=Al(t.history,wt,ke.signal),Dn=f||d,_n=C.navigation.state!=="idle"?di(Dn,C.navigation.location,m):C.matches;it(_n,"Didn't find any matches after fetcher action");let Yn=++X;be.set(Y,Yn);let La=tu(Me,Ze.data);C.fetchers.set(Y,La);let{dsMatches:xr,revalidatingFetchers:Mr}=Q1(lr,we,o,c,t.history,C,_n,Me,wt,s,!1,Z,B,ye,ce,q,Dn,m,t.patchRoutesOnNavigation!=null,[nt.route.id,Ze]);Mr.filter(kt=>kt.key!==Y).forEach(kt=>{let as=kt.key,Va=C.fetchers.get(as),Ua=tu(void 0,Va?Va.data:void 0);C.fetchers.set(as,Ua),Zt(as),kt.controller&&$.set(as,kt.controller)}),Et({fetchers:new Map(C.fetchers)});let vr=()=>Mr.forEach(kt=>Zt(kt.key));ke.signal.addEventListener("abort",vr);let{loaderResults:Qn,fetcherResults:We}=await Ee(xr,Mr,lr,we);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",vr),be.delete(Y),$.delete(Y),Mr.forEach(kt=>$.delete(kt.key)),C.fetchers.has(Y)){let kt=ui(Ze.data);C.fetchers.set(Y,kt)}let Ft=Uh(Qn);if(Ft)return de(lr,Ft.result,!1,{preventScrollReset:Pe});if(Ft=Uh(We),Ft)return q.add(Ft.key),de(lr,Ft.result,!1,{preventScrollReset:Pe});let{loaderData:Js,errors:Wn}=n2(C,_n,Qn,void 0,Mr,We);ir(Yn),C.navigation.state==="loading"&&Yn>ie?(it(A,"Expected pending action"),S&&S.abort(),bn(C.navigation.location,{matches:_n,loaderData:Js,errors:Wn,fetchers:new Map(C.fetchers)})):(Et({errors:Wn,loaderData:r2(C.loaderData,Js,_n,Wn),fetchers:new Map(C.fetchers)}),Z=!1)}async function re(Y,ee,ae,pe,we,Ce,Ve,Pe,Me){let He=C.fetchers.get(Y);Ne(Y,tu(Me,He?He.data:void 0),{flushSync:Ve});let ke=new AbortController,Le=Al(t.history,ae,ke.signal);if(Ce){let wt=await ws(pe,new URL(Le.url).pathname,Le.signal,Y);if(wt.type==="aborted")return;if(wt.type==="error"){Re(Y,ee,wt.error,{flushSync:Ve});return}else if(wt.matches)pe=wt.matches;else{Re(Y,ee,Yr(404,{pathname:ae}),{flushSync:Ve});return}}let nt=sf(pe,ae);$.set(Y,ke);let xt=X,Ot=Ol(o,c,Le,pe,nt,s,we),Ze=(await Te(Le,Ot,we,Y))[nt.route.id];if($.get(Y)===ke&&$.delete(Y),!Le.signal.aborted){if(ye.has(Y)){Ne(Y,ui(void 0));return}if(yo(Ze))if(ie>xt){Ne(Y,ui(void 0));return}else{q.add(Y),await de(Le,Ze,!1,{preventScrollReset:Pe});return}if(Rr(Ze)){Re(Y,ee,Ze.error);return}Ne(Y,ui(Ze.data))}}async function de(Y,ee,ae,{submission:pe,fetcherSubmission:we,preventScrollReset:Ce,replace:Ve}={}){ee.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let Pe=ee.response.headers.get("Location");it(Pe,"Expected a Location header on the redirect Response"),Pe=e2(Pe,new URL(Y.url),m);let Me=Lu(C.location,Pe,{_isRedirect:!0});if(n){let Ot=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Ot=!0;else if(t0(Pe)){const bt=q_(Pe,!0);Ot=bt.origin!==e.location.origin||Xr(bt.pathname,m)==null}if(Ot){Ve?e.location.replace(Pe):e.location.assign(Pe);return}}S=null;let He=Ve===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Le,formEncType:nt}=C.navigation;!pe&&!we&&ke&&Le&&nt&&(pe=o2(C.navigation));let xt=pe||we;if(JS.has(ee.response.status)&&xt&&mr(xt.formMethod))await wn(He,Me,{submission:{...xt,formAction:Pe},preventScrollReset:Ce||N,enableViewTransition:ae?L:void 0});else{let Ot=Pg(Me,pe);await wn(He,Me,{overrideNavigation:Ot,fetcherSubmission:we,preventScrollReset:Ce||N,enableViewTransition:ae?L:void 0})}}async function Te(Y,ee,ae,pe){let we,Ce={};try{we=await lT(g,Y,ee,pe,ae,!1)}catch(Ve){return ee.filter(Pe=>Pe.shouldLoad).forEach(Pe=>{Ce[Pe.route.id]={type:"error",error:Ve}}),Ce}if(Y.signal.aborted)return Ce;for(let[Ve,Pe]of Object.entries(we))if(pT(Pe)){let Me=Pe.result;Ce[Ve]={type:"redirect",response:hT(Me,Y,Ve,ee,m)}}else Ce[Ve]=await dT(Pe);return Ce}async function Ee(Y,ee,ae,pe){let we=Te(ae,Y,pe,null),Ce=Promise.all(ee.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let ke=(await Te(Me.request,Me.matches,pe,Me.key))[Me.match.route.id];return{[Me.key]:ke}}else return Promise.resolve({[Me.key]:{type:"error",error:Yr(404,{pathname:Me.path})}})})),Ve=await we,Pe=(await Ce).reduce((Me,He)=>Object.assign(Me,He),{});return{loaderResults:Ve,fetcherResults:Pe}}function _e(){Z=!0,ce.forEach((Y,ee)=>{$.has(ee)&&B.add(ee),Zt(ee)})}function Ne(Y,ee,ae={}){C.fetchers.set(Y,ee),Et({fetchers:new Map(C.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Re(Y,ee,ae,pe={}){let we=hi(C.matches,ee);yt(Y),Et({errors:{[we.route.id]:ae},fetchers:new Map(C.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function tt(Y){return xe.set(Y,(xe.get(Y)||0)+1),ye.has(Y)&&ye.delete(Y),C.fetchers.get(Y)||ZS}function yt(Y){let ee=C.fetchers.get(Y);$.has(Y)&&!(ee&&ee.state==="loading"&&be.has(Y))&&Zt(Y),ce.delete(Y),be.delete(Y),q.delete(Y),ye.delete(Y),B.delete(Y),C.fetchers.delete(Y)}function ns(Y){let ee=(xe.get(Y)||0)-1;ee<=0?(xe.delete(Y),ye.add(Y)):xe.set(Y,ee),Et({fetchers:new Map(C.fetchers)})}function Zt(Y){let ee=$.get(Y);ee&&(ee.abort(),$.delete(Y))}function Ir(Y){for(let ee of Y){let ae=tt(ee),pe=ui(ae.data);C.fetchers.set(ee,pe)}}function ar(){let Y=[],ee=!1;for(let ae of q){let pe=C.fetchers.get(ae);it(pe,`Expected fetcher: ${ae}`),pe.state==="loading"&&(q.delete(ae),Y.push(ae),ee=!0)}return Ir(Y),ee}function ir(Y){let ee=[];for(let[ae,pe]of be)if(pe<Y){let we=C.fetchers.get(ae);it(we,`Expected fetcher: ${ae}`),we.state==="loading"&&(Zt(ae),be.delete(ae),ee.push(ae))}return Ir(ee),ee.length>0}function Gn(Y,ee){let ae=C.blockers.get(Y)||eu;return Ae.get(Y)!==ee&&Ae.set(Y,ee),ae}function Or(Y){C.blockers.delete(Y),Ae.delete(Y)}function or(Y,ee){let ae=C.blockers.get(Y)||eu;it(ae.state==="unblocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="blocked"||ae.state==="blocked"&&ee.state==="proceeding"||ae.state==="blocked"&&ee.state==="unblocked"||ae.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${ae.state} -> ${ee.state}`);let pe=new Map(C.blockers);pe.set(Y,ee),Et({blockers:pe})}function rs({currentLocation:Y,nextLocation:ee,historyAction:ae}){if(Ae.size===0)return;Ae.size>1&&Qt(!1,"A router only supports one blocker at a time");let pe=Array.from(Ae.entries()),[we,Ce]=pe[pe.length-1],Ve=C.blockers.get(we);if(!(Ve&&Ve.state==="proceeding")&&Ce({currentLocation:Y,nextLocation:ee,historyAction:ae}))return we}function Xs(Y){let ee=Yr(404,{pathname:Y}),ae=f||d,{matches:pe,route:we}=a2(ae);return{notFoundMatches:pe,route:we,error:ee}}function Bi(Y,ee,ae){if(D=Y,k=ee,M=ae||null,!z&&C.navigation===Og){z=!0;let pe=Ma(C.location,C.matches);pe!=null&&Et({restoreScrollPosition:pe})}return()=>{D=null,k=null,M=null}}function Pr(Y,ee){return M&&M(Y,ee.map(pe=>RS(pe,C.loaderData)))||Y.key}function ss(Y,ee){if(D&&k){let ae=Pr(Y,ee);D[ae]=k()}}function Ma(Y,ee){if(D){let ae=Pr(Y,ee),pe=D[ae];if(typeof pe=="number")return pe}return null}function Kn(Y,ee,ae){if(t.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:rf(ee,ae,m,!0)}}else return{active:!0,matches:rf(ee,ae,m,!0)||[]};return{active:!1,matches:null}}async function ws(Y,ee,ae,pe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Y};let we=Y;for(;;){let Ce=f==null,Ve=f||d,Pe=c;try{await t.patchRoutesOnNavigation({signal:ae,path:ee,matches:we,fetcherKey:pe,patch:(ke,Le)=>{ae.aborted||W1(ke,Le,Ve,Pe,o,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:we}}finally{Ce&&!ae.aborted&&(d=[...d])}if(ae.aborted)return{type:"aborted"};let Me=di(Ve,ee,m);if(Me)return{type:"success",matches:Me};let He=rf(Ve,ee,m,!0);if(!He||we.length===He.length&&we.every((ke,Le)=>ke.route.id===He[Le].route.id))return{type:"success",matches:null};we=He}}function _s(Y){c={},f=Vu(Y,o,void 0,c)}function ka(Y,ee,ae=!1){let pe=f==null;W1(Y,ee,f||d,c,o,ae),pe&&(d=[...d],Et({}))}return U={get basename(){return m},get future(){return x},get state(){return C},get routes(){return d},get window(){return e},initialize:Vt,subscribe:Un,enableScrollRestoration:Bi,navigate:yr,fetch:bs,revalidate:ts,createHref:Y=>t.history.createHref(Y),encodeLocation:Y=>t.history.encodeLocation(Y),getFetcher:tt,deleteFetcher:ns,dispose:gt,getBlocker:Gn,deleteBlocker:Or,patchRoutes:ka,_internalFetchControllers:$,_internalSetRoutes:_s,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){Et(Y)}},U}function rT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function uy(t,e,n,s,o,c){let d,f;if(o){d=[];for(let g of e)if(d.push(g),g.route.id===o){f=g;break}}else d=e,f=e[e.length-1];let m=em(s||".",Zf(d),Xr(t.pathname,n)||t.pathname,c==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&f){let g=n0(m.search);if(f.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let x=new URLSearchParams(m.search),b=x.getAll("index");x.delete("index"),b.filter(D=>D).forEach(D=>x.append("index",D));let w=x.toString();m.search=w?`?${w}`:""}}return n!=="/"&&(m.pathname=BS({basename:n,pathname:m.pathname})),Si(m)}function Y1(t,e,n){if(!n||!rT(n))return{path:e};if(n.formMethod&&!gT(n.formMethod))return{path:e,error:Yr(405,{method:n.formMethod})};let s=()=>({path:e,error:Yr(400,{type:"invalid-body"})}),c=(n.formMethod||"get").toUpperCase(),d=rN(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mr(c))return s();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[D,M])=>`${w}${D}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!mr(c))return s();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:c,formAction:d,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}it(typeof FormData=="function","FormData is not available in this environment");let f,m;if(n.formData)f=fy(n.formData),m=n.formData;else if(n.body instanceof FormData)f=fy(n.body),m=n.body;else if(n.body instanceof URLSearchParams)f=n.body,m=t2(f);else if(n.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(n.body),m=t2(f)}catch{return s()}let g={formMethod:c,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(mr(g.formMethod))return{path:e,submission:g};let x=Li(e);return t&&x.search&&n0(x.search)&&f.append("index",""),x.search=`?${f}`,{path:Si(x),submission:g}}function Q1(t,e,n,s,o,c,d,f,m,g,x,b,w,D,M,k,z,G,P,I){let H=I?Rr(I[1])?I[1].error:I[1].data:void 0,U=o.createURL(c.location),C=o.createURL(m),A;if(x&&c.errors){let T=Object.keys(c.errors)[0];A=d.findIndex(Z=>Z.route.id===T)}else if(I&&Rr(I[1])){let T=I[0];A=d.findIndex(Z=>Z.route.id===T)-1}let N=I?I[1].statusCode:void 0,S=N&&N>=400,L={currentUrl:U,currentParams:c.matches[0]?.params||{},nextUrl:C,nextParams:d[0].params,...f,actionResult:H,actionStatus:N},R=d.map((T,Z)=>{let{route:B}=T,$=null;if(A!=null&&Z>A?$=!1:B.lazy?$=!0:B.loader==null?$=!1:x?$=dy(B,c.loaderData,c.errors):sT(c.loaderData,c.matches[Z],T)&&($=!0),$!==null)return hy(n,s,t,T,g,e,$);let X=S?!1:b||U.pathname+U.search===C.pathname+C.search||U.search!==C.search||aT(c.matches[Z],T),ie={...L,defaultShouldRevalidate:X},be=_f(T,ie);return hy(n,s,t,T,g,e,be,ie)}),_=[];return M.forEach((T,Z)=>{if(x||!d.some(xe=>xe.route.id===T.routeId)||D.has(Z))return;let B=c.fetchers.get(Z),$=B&&B.state!=="idle"&&B.data===void 0,X=di(z,T.path,G);if(!X){if(P&&$)return;_.push({key:Z,routeId:T.routeId,path:T.path,matches:null,match:null,request:null,controller:null});return}if(k.has(Z))return;let ie=sf(X,T.path),be=new AbortController,q=Al(o,T.path,be.signal),ce=null;if(w.has(Z))w.delete(Z),ce=Ol(n,s,q,X,ie,g,e);else if($)b&&(ce=Ol(n,s,q,X,ie,g,e));else{let xe={...L,defaultShouldRevalidate:S?!1:b};_f(ie,xe)&&(ce=Ol(n,s,q,X,ie,g,e,xe))}ce&&_.push({key:Z,routeId:T.routeId,path:T.path,matches:ce,match:ie,request:q,controller:be})}),{dsMatches:R,revalidatingFetchers:_}}function dy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function sT(t,e,n){let s=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return s||o}function aT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _f(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function W1(t,e,n,s,o,c){let d;if(t){let g=s[t];it(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),d=g.children}else d=n;let f=[],m=[];if(e.forEach(g=>{let x=d.find(b=>X_(g,b));x?m.push({existingRoute:x,newRoute:g}):f.push(g)}),f.length>0){let g=Vu(f,o,[t||"_","patch",String(d?.length||"0")],s);d.push(...g)}if(c&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:x,newRoute:b}=m[g],w=x,[D]=Vu([b],o,[],{},!0);Object.assign(w,{element:D.element?D.element:w.element,errorElement:D.errorElement?D.errorElement:w.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:w.hydrateFallbackElement})}}function X_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(o=>X_(n,o))):!1}var X1=new WeakMap,J_=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let o=n[e.id];if(it(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[t];if(!c)return;let d=X1.get(o);d||(d={},X1.set(o,d));let f=d[t];if(f)return f;let m=(async()=>{let g=ES(t),b=o[t]!==void 0&&t!=="hasErrorBoundary";if(g)Qt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),d[t]=Promise.resolve();else if(b)Qt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await c();w!=null&&(Object.assign(o,{[t]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return d[t]=m,m},J1=new WeakMap;function iT(t,e,n,s,o){let c=n[t.id];if(it(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let x=J1.get(c);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let b=(async()=>{it(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),D={};for(let M in w){let k=w[M];if(k===void 0)continue;let z=TS(M),P=c[M]!==void 0&&M!=="hasErrorBoundary";z?Qt(!z,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?Qt(!P,`Route "${c.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):D[M]=k}Object.assign(c,D),Object.assign(c,{...s(c),lazy:void 0})})();return J1.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(t.lazy),f=[],m;for(let x of d){if(o&&o.includes(x))continue;let b=J_({key:x,route:t,manifest:n,mapRouteProperties:s});b&&(f.push(b),x===e&&(m=b))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function Z1(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,c)=>{n[e[c].route.id]=o}),n}async function oT(t){if(!t.matches.some(n=>n.route.unstable_middleware))return Z1(t);let e=!1;return eN(t,()=>(e=!0,Z1(t)),(n,s)=>Z_(n,s,t.matches,e))}function Z_(t,e,n,s){if(s)return{[e]:{type:"error",result:t}};{let o=Math.min(n.findIndex(d=>d.route.id===e)||0,n.findIndex(d=>d.unstable_shouldCallHandler())||0);return{[hi(n,n[o].route.id).route.id]:{type:"error",result:t}}}}async function eN(t,e,n){let{matches:s,request:o,params:c,context:d}=t,f=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(x=>[g.route.id,x]):[]),m={};return await tN({request:o,params:c,context:d},f,e,n,m),m}async function tN(t,e,n,s,o={},c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let f=e[c];if(!f){let w=await n();Object.assign(o,w);return}let[m,g]=f,x=!1,b=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");x=!0;try{let w=await tN(t,e,n,s,o,c+1);Object.assign(o,w)}catch(w){let D=await s(w,m);Object.assign(o,D)}};try{let w=await g({request:t.request,params:t.params,context:t.context},b);typeof w<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",w),x||await b()}catch(w){let D=await s(w,m);Object.assign(o,D)}}function nN(t,e,n,s,o){let c=J_({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),d=iT(s.route,mr(n.method)?"action":"loader",e,t,o);return{middleware:c,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function hy(t,e,n,s,o,c,d,f=null){let m=!1,g=nN(t,e,n,s,o);return{...s,_lazyPromises:g,shouldLoad:d,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(x){return m=!0,f?typeof x=="boolean"?_f(s,{...f,defaultShouldRevalidate:x}):_f(s,f):d},resolve(x){return m||d||x&&!mr(n.method)&&(s.route.lazy||s.route.loader)?cT({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:x,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Ol(t,e,n,s,o,c,d,f=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:nN(t,e,n,m,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hy(t,e,n,m,c,d,!0,f))}async function lT(t,e,n,s,o,c){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let d={request:e,params:n[0].params,context:o,matches:n},m=await t({...d,fetcherKey:s,unstable_runClientMiddleware:g=>{let x=d,b=!1;return eN(x,()=>(b=!0,g({...x,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,D)=>Z_(w,D,n,b))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function cT({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:o,scopedContext:c}){let d,f,m=mr(t.method),g=m?"action":"loader",x=b=>{let w,D=new Promise((z,G)=>w=G);f=()=>w(),t.signal.addEventListener("abort",f);let M=z=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):b({request:t,params:e.params,context:c},...z!==void 0?[z]:[]),k=(async()=>{try{return{type:"data",result:await(o?o(G=>M(G)):M())}}catch(z){return{type:"error",result:z}}})();return Promise.race([k,D])};try{let b=m?e.route.action:e.route.loader;if(n||s)if(b){let w,[D]=await Promise.all([x(b).catch(M=>{w=M}),n,s]);if(w!==void 0)throw w;d=D}else{await n;let w=m?e.route.action:e.route.loader;if(w)[d]=await Promise.all([x(w),s]);else if(g==="action"){let D=new URL(t.url),M=D.pathname+D.search;throw Yr(405,{method:t.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)d=await x(b);else{let w=new URL(t.url),D=w.pathname+w.search;throw Yr(404,{pathname:D})}}catch(b){return{type:"error",result:b}}finally{f&&t.signal.removeEventListener("abort",f)}return d}async function uT(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function dT(t){let{result:e,type:n}=t;if(sN(e)){let s;try{s=await uT(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new wf(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?i2(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wf(e.init?.status||500,void 0,e.data),statusCode:Uu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Uu(e)?e.status:void 0}:i2(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function hT(t,e,n,s,o){let c=t.headers.get("Location");if(it(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!t0(c)){let d=s.slice(0,s.findIndex(f=>f.route.id===n)+1);c=uy(new URL(e.url),d,o,c),t.headers.set("Location",c)}return t}function e2(t,e,n){if(t0(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),c=Xr(o.pathname,n)!=null;if(o.origin===e.origin&&c)return o.pathname+o.search+o.hash}return t}function Al(t,e,n,s){let o=t.createURL(rN(e)).toString(),c={signal:n};if(s&&mr(s.formMethod)){let{formMethod:d,formEncType:f}=s;c.method=d.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(s.json)):f==="text/plain"?c.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?c.body=fy(s.formData):c.body=s.formData}return new Request(o,c)}function fy(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function t2(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function fT(t,e,n,s=!1,o=!1){let c={},d=null,f,m=!1,g={},x=n&&Rr(n[1])?n[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in e))return;let w=b.route.id,D=e[w];if(it(!yo(D),"Cannot handle redirect results in processLoaderData"),Rr(D)){let M=D.error;if(x!==void 0&&(M=x,x=void 0),d=d||{},o)d[w]=M;else{let k=hi(t,w);d[k.route.id]==null&&(d[k.route.id]=M)}s||(c[w]=W_),m||(m=!0,f=Uu(D.error)?D.error.status:500),D.headers&&(g[w]=D.headers)}else c[w]=D.data,D.statusCode&&D.statusCode!==200&&!m&&(f=D.statusCode),D.headers&&(g[w]=D.headers)}),x!==void 0&&n&&(d={[n[0]]:x},n[2]&&(c[n[2]]=void 0)),{loaderData:c,errors:d,statusCode:f||200,loaderHeaders:g}}function n2(t,e,n,s,o,c){let{loaderData:d,errors:f}=fT(e,n,s);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:x,controller:b}=m;if(b&&b.signal.aborted)return;let w=c[g];if(it(w,"Did not find corresponding fetcher result"),Rr(w)){let D=hi(t.matches,x?.route.id);f&&f[D.route.id]||(f={...f,[D.route.id]:w.error}),t.fetchers.delete(g)}else if(yo(w))it(!1,"Unhandled fetcher revalidation redirect");else{let D=ui(w.data);t.fetchers.set(g,D)}}),{loaderData:d,errors:f}}function r2(t,e,n,s){let o=Object.entries(e).filter(([,c])=>c!==W_).reduce((c,[d,f])=>(c[d]=f,c),{});for(let c of n){let d=c.route.id;if(!e.hasOwnProperty(d)&&t.hasOwnProperty(d)&&c.route.loader&&(o[d]=t[d]),s&&s.hasOwnProperty(d))break}return o}function s2(t){return t?Rr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hi(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function a2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yr(t,{pathname:e,routeId:n,method:s,type:o,message:c}={}){let d="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(d="Bad Request",s&&e&&n?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(d="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(d="Not Found",f=`No route matches URL "${e}"`):t===405&&(d="Method Not Allowed",s&&e&&n?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new wf(t||500,d,new Error(f),!0)}function Uh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(yo(o))return{key:s,result:o}}}function rN(t){let e=typeof t=="string"?Li(t):t;return Si({...e,hash:""})}function mT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function pT(t){return sN(t.result)&&XS.has(t.result.status)}function Rr(t){return t.type==="error"}function yo(t){return(t&&t.type)==="redirect"}function i2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function sN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gT(t){return WS.has(t.toUpperCase())}function mr(t){return YS.has(t.toUpperCase())}function n0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sf(t,e){let n=typeof e=="string"?Li(e).search:e.search;if(t[t.length-1].route.index&&n0(n||""))return t[t.length-1];let s=K_(t);return s[s.length-1]}function o2(t){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:c,json:d}=t;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:e,formAction:n,formEncType:s,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:d,text:void 0}}}function Pg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ui(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vT(t,e){try{let n=t.sessionStorage.getItem(Q_);if(n){let s=JSON.parse(n);for(let[o,c]of Object.entries(s||{}))c&&Array.isArray(c)&&e.set(o,new Set(c||[]))}}catch{}}function bT(t,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{t.sessionStorage.setItem(Q_,JSON.stringify(n))}catch(s){Qt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function wT(){let t,e,n=new Promise((s,o)=>{t=async c=>{s(c);try{await n}catch{}},e=async c=>{o(c);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Oo=F.createContext(null);Oo.displayName="DataRouter";var Zu=F.createContext(null);Zu.displayName="DataRouterState";F.createContext(!1);var r0=F.createContext({isTransitioning:!1});r0.displayName="ViewTransition";var aN=F.createContext(new Map);aN.displayName="Fetchers";var _T=F.createContext(null);_T.displayName="Await";var xs=F.createContext(null);xs.displayName="Navigation";var tm=F.createContext(null);tm.displayName="Location";var Zr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var s0=F.createContext(null);s0.displayName="RouteError";function NT(t,{relative:e}={}){it(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(xs),{hash:o,pathname:c,search:d}=ed(t,{relative:e}),f=c;return n!=="/"&&(f=c==="/"?n:Us([n,c])),s.createHref({pathname:f,search:d,hash:o})}function Yl(){return F.useContext(tm)!=null}function es(){return it(Yl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(tm).location}var iN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oN(t){F.useContext(xs).static||F.useLayoutEffect(t)}function Vi(){let{isDataRoute:t}=F.useContext(Zr);return t?VT():jT()}function jT(){it(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Oo),{basename:e,navigator:n}=F.useContext(xs),{matches:s}=F.useContext(Zr),{pathname:o}=es(),c=JSON.stringify(Zf(s)),d=F.useRef(!1);return oN(()=>{d.current=!0}),F.useCallback((m,g={})=>{if(Qt(d.current,iN),!d.current)return;if(typeof m=="number"){n.go(m);return}let x=em(m,JSON.parse(c),o,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Us([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,c,o,t])}var ET=F.createContext(null);function ST(t){let e=F.useContext(Zr).outlet;return e&&F.createElement(ET.Provider,{value:t},e)}function a0(){let{matches:t}=F.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function ed(t,{relative:e}={}){let{matches:n}=F.useContext(Zr),{pathname:s}=es(),o=JSON.stringify(Zf(n));return F.useMemo(()=>em(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function TT(t,e,n,s){it(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(xs),{matches:c}=F.useContext(Zr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let G=x&&x.path||"";lN(m,!x||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let b=es(),w;w=b;let D=w.pathname||"/",M=D;if(g!=="/"){let G=g.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=di(t,{pathname:M});return Qt(x||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Qt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),IT(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Us([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:Us([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,n,s)}function AT(){let t=LT(),e=Uu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:c},"ErrorBoundary")," or"," ",F.createElement("code",{style:c},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,d)}var RT=F.createElement(AT,null),CT=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Zr.Provider,{value:this.props.routeContext},F.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DT({routeContext:t,match:e,children:n}){let s=F.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Zr.Provider,{value:t},n)}function IT(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let b,w=!1,D=null,M=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,D=g.route.errorElement||RT,d&&(f<0&&x===0?(lN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):f===x&&(w=!0,M=g.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,x+1)),z=()=>{let G;return b?G=D:w?G=M:g.route.Component?G=F.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=m,F.createElement(DT,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?F.createElement(CT,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):z()},null)}function i0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(t){let e=F.useContext(Oo);return it(e,i0(t)),e}function PT(t){let e=F.useContext(Zu);return it(e,i0(t)),e}function MT(t){let e=F.useContext(Zr);return it(e,i0(t)),e}function o0(t){let e=MT(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kT(){return o0("useRouteId")}function LT(){let t=F.useContext(s0),e=PT("useRouteError"),n=o0("useRouteError");return t!==void 0?t:e.errors?.[n]}function VT(){let{router:t}=OT("useNavigate"),e=o0("useNavigate"),n=F.useRef(!1);return oN(()=>{n.current=!0}),F.useCallback(async(o,c={})=>{Qt(n.current,iN),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var l2={};function lN(t,e,n){!e&&!l2[t]&&(l2[t]=!0,Qt(!1,n))}var c2={};function u2(t,e){!t&&!c2[e]&&(c2[e]=!0,console.warn(e))}function UT(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var zT=["HydrateFallback","hydrateFallbackElement"],FT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function BT({router:t,flushSync:e}){let[n,s]=F.useState(t.state),[o,c]=F.useState(),[d,f]=F.useState({isTransitioning:!1}),[m,g]=F.useState(),[x,b]=F.useState(),[w,D]=F.useState(),M=F.useRef(new Map),k=F.useCallback((I,{deletedFetchers:H,flushSync:U,viewTransitionOpts:C})=>{I.fetchers.forEach((N,S)=>{N.data!==void 0&&M.current.set(S,N.data)}),H.forEach(N=>M.current.delete(N)),u2(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(u2(C==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!A){e&&U?e(()=>s(I)):F.startTransition(()=>s(I));return}if(e&&U){e(()=>{x&&(m&&m.resolve(),x.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let N=t.window.document.startViewTransition(()=>{e(()=>s(I))});N.finished.finally(()=>{e(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})})}),e(()=>b(N));return}x?(m&&m.resolve(),x.skipTransition(),D({state:I,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(c(I),f({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[t.window,e,x,m]);F.useLayoutEffect(()=>t.subscribe(k),[t,k]),F.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new FT)},[d]),F.useEffect(()=>{if(m&&o&&t.window){let I=o,H=m.promise,U=t.window.document.startViewTransition(async()=>{F.startTransition(()=>s(I)),await H});U.finished.finally(()=>{g(void 0),b(void 0),c(void 0),f({isTransitioning:!1})}),b(U)}},[o,m,t.window]),F.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,x,n.location,o]),F.useEffect(()=>{!d.isTransitioning&&w&&(c(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),D(void 0))},[d.isTransitioning,w]);let z=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:I=>t.navigate(I),push:(I,H,U)=>t.navigate(I,{state:H,preventScrollReset:U?.preventScrollReset}),replace:(I,H,U)=>t.navigate(I,{replace:!0,state:H,preventScrollReset:U?.preventScrollReset})}),[t]),G=t.basename||"/",P=F.useMemo(()=>({router:t,navigator:z,static:!1,basename:G}),[t,z,G]);return F.createElement(F.Fragment,null,F.createElement(Oo.Provider,{value:P},F.createElement(Zu.Provider,{value:n},F.createElement(aN.Provider,{value:M.current},F.createElement(r0.Provider,{value:d},F.createElement($T,{basename:G,location:n.location,navigationType:n.historyAction,navigator:z},F.createElement(HT,{routes:t.routes,future:t.future,state:n})))))),null)}var HT=F.memo(qT);function qT({routes:t,future:e,state:n}){return TT(t,void 0,n,e)}function Eu({to:t,replace:e,state:n,relative:s}){it(Yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(xs);Qt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=F.useContext(Zr),{pathname:d}=es(),f=Vi(),m=em(t,Zf(c),d,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function cN(t){return ST(t.context)}function $T({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){it(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Li(n));let{pathname:m="/",search:g="",hash:x="",state:b=null,key:w="default"}=n,D=F.useMemo(()=>{let M=Xr(m,d);return M==null?null:{location:{pathname:M,search:g,hash:x,state:b,key:w},navigationType:s}},[d,m,g,x,b,w,s]);return Qt(D!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(xs.Provider,{value:f},F.createElement(tm.Provider,{children:e,value:D}))}var af="get",of="application/x-www-form-urlencoded";function nm(t){return t!=null&&typeof t.tagName=="string"}function GT(t){return nm(t)&&t.tagName.toLowerCase()==="button"}function KT(t){return nm(t)&&t.tagName.toLowerCase()==="form"}function YT(t){return nm(t)&&t.tagName.toLowerCase()==="input"}function QT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WT(t,e){return t.button===0&&(!e||e==="_self")&&!QT(t)}function my(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function XT(t,e){let n=my(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var zh=null;function JT(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var ZT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mg(t){return t!=null&&!ZT.has(t)?(Qt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${of}"`),null):t}function e6(t,e){let n,s,o,c,d;if(KT(t)){let f=t.getAttribute("action");s=f?Xr(f,e):null,n=t.getAttribute("method")||af,o=Mg(t.getAttribute("enctype"))||of,c=new FormData(t)}else if(GT(t)||YT(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Xr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||af,o=Mg(t.getAttribute("formenctype"))||Mg(f.getAttribute("enctype"))||of,c=new FormData(f,t),!JT()){let{name:g,type:x,value:b}=t;if(x==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,b)}}else{if(nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=af,s=null,o=of,d=t}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t6(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Xr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function n6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s6(t,e,n){let s=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await n6(c,n);return d.links?d.links():[]}return[]}));return l6(s.flat(1).filter(r6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d2(t,e,n,s,o,c){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,g)=>d(m,g)||f(m,g)):c==="data"?e.filter((m,g)=>{let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function a6(t,e,{includeHydrateFallback:n}={}){return i6(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function i6(t){return[...new Set(t)]}function o6(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function l6(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let c=JSON.stringify(o6(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function uN(){let t=F.useContext(Oo);return l0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c6(){let t=F.useContext(Zu);return l0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c0=F.createContext(void 0);c0.displayName="FrameworkContext";function dN(){let t=F.useContext(c0);return l0(t,"You must render this element inside a <HydratedRouter> element"),t}function u6(t,e){let n=F.useContext(c0),[s,o]=F.useState(!1),[c,d]=F.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:b}=e,w=F.useRef(null);F.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let k=G=>{G.forEach(P=>{d(P.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[t]),F.useEffect(()=>{if(s){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[s]);let D=()=>{o(!0)},M=()=>{o(!1),d(!1)};return n?t!=="intent"?[c,w,{}]:[c,w,{onFocus:nu(f,D),onBlur:nu(m,M),onMouseEnter:nu(g,D),onMouseLeave:nu(x,M),onTouchStart:nu(b,D)}]:[!1,w,{}]}function nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function d6({page:t,...e}){let{router:n}=uN(),s=F.useMemo(()=>di(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?F.createElement(f6,{page:t,matches:s,...e}):null}function h6(t){let{manifest:e,routeModules:n}=dN(),[s,o]=F.useState([]);return F.useEffect(()=>{let c=!1;return s6(t,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[t,e,n]),s}function f6({page:t,matches:e,...n}){let s=es(),{manifest:o,routeModules:c}=dN(),{basename:d}=uN(),{loaderData:f,matches:m}=c6(),g=F.useMemo(()=>d2(t,e,m,o,s,"data"),[t,e,m,o,s]),x=F.useMemo(()=>d2(t,e,m,o,s,"assets"),[t,e,m,o,s]),b=F.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,k=!1;if(e.forEach(G=>{let P=o.routes[G.route.id];!P||!P.hasLoader||(!g.some(I=>I.route.id===G.route.id)&&G.route.id in f&&c[G.route.id]?.shouldRevalidate||P.hasClientLoader?k=!0:M.add(G.route.id))}),M.size===0)return[];let z=t6(t,d,"data");return k&&M.size>0&&z.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[d,f,s,o,g,e,t,c]),w=F.useMemo(()=>a6(x,o),[x,o]),D=h6(x);return F.createElement(F.Fragment,null,b.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:k})=>F.createElement("link",{key:M,nonce:n.nonce,...k})))}function m6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hN&&(window.__reactRouterVersion="7.8.1")}catch{}function p6(t,e){return nT({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:wS({window:e?.window}),hydrationData:e?.hydrationData||g6(),routes:t,mapRouteProperties:UT,hydrationRouteProperties:zT,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function g6(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:y6(t.errors)}),t}function y6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new wf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let d=new c(o.message);d.stack="",n[s]=d}catch{}}if(n[s]==null){let c=new Error(o.message);c.stack="",n[s]=c}}else n[s]=o;return n}var fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:f,target:m,to:g,preventScrollReset:x,viewTransition:b,...w},D){let{basename:M}=F.useContext(xs),k=typeof g=="string"&&fN.test(g),z,G=!1;if(typeof g=="string"&&k&&(z=g,hN))try{let S=new URL(window.location.href),L=g.startsWith("//")?new URL(S.protocol+g):new URL(g),R=Xr(L.pathname,M);L.origin===S.origin&&R!=null?g=R+L.search+L.hash:G=!0}catch{Qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=NT(g,{relative:o}),[I,H,U]=u6(s,w),C=w6(g,{replace:d,state:f,target:m,preventScrollReset:x,relative:o,viewTransition:b});function A(S){e&&e(S),S.defaultPrevented||C(S)}let N=F.createElement("a",{...w,...U,href:z||P,onClick:G||c?e:A,ref:m6(D,H),target:m,"data-discover":!k&&n==="render"?"true":void 0});return I&&!k?F.createElement(F.Fragment,null,N,F.createElement(d6,{page:P})):N});je.displayName="Link";var x6=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:f,children:m,...g},x){let b=ed(d,{relative:g.relative}),w=es(),D=F.useContext(Zu),{navigator:M,basename:k}=F.useContext(xs),z=D!=null&&T6(b)&&f===!0,G=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,P=w.pathname,I=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(P=P.toLowerCase(),I=I?I.toLowerCase():null,G=G.toLowerCase()),I&&k&&(I=Xr(I,k)||I);const H=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let U=P===G||!o&&P.startsWith(G)&&P.charAt(H)==="/",C=I!=null&&(I===G||!o&&I.startsWith(G)&&I.charAt(G.length)==="/"),A={isActive:U,isPending:C,isTransitioning:z},N=U?e:void 0,S;typeof s=="function"?S=s(A):S=[s,U?"active":null,C?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(A):c;return F.createElement(je,{...g,"aria-current":N,className:S,ref:x,style:L,to:d,viewTransition:f},typeof m=="function"?m(A):m)});x6.displayName="NavLink";var v6=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=af,action:f,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:b,...w},D)=>{let M=E6(),k=S6(f,{relative:g}),z=d.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&fN.test(f),P=I=>{if(m&&m(I),I.defaultPrevented)return;I.preventDefault();let H=I.nativeEvent.submitter,U=H?.getAttribute("formmethod")||d;M(H||I.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:b})};return F.createElement("form",{ref:D,method:z,action:k,onSubmit:s?m:P,...w,"data-discover":!G&&t==="render"?"true":void 0})});v6.displayName="Form";function b6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mN(t){let e=F.useContext(Oo);return it(e,b6(t)),e}function w6(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=Vi(),m=es(),g=ed(t,{relative:c});return F.useCallback(x=>{if(WT(x,e)){x.preventDefault();let b=n!==void 0?n:Si(m)===Si(g);f(t,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[m,f,g,n,s,e,t,o,c,d])}function _6(t){Qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(my(t)),n=F.useRef(!1),s=es(),o=F.useMemo(()=>XT(s.search,n.current?null:e.current),[s.search]),c=Vi(),d=F.useCallback((f,m)=>{const g=my(typeof f=="function"?f(new URLSearchParams(o)):f);n.current=!0,c("?"+g,m)},[c,o]);return[o,d]}var N6=0,j6=()=>`__${String(++N6)}__`;function E6(){let{router:t}=mN("useSubmit"),{basename:e}=F.useContext(xs),n=kT();return F.useCallback(async(s,o={})=>{let{action:c,method:d,encType:f,formData:m,body:g}=e6(s,e);if(o.navigate===!1){let x=o.fetcherKey||j6();await t.fetch(x,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function S6(t,{relative:e}={}){let{basename:n}=F.useContext(xs),s=F.useContext(Zr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...ed(t||".",{relative:e})},d=es();if(t==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let x=f.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Us([n,c.pathname])),Si(c)}function T6(t,{relative:e}={}){let n=F.useContext(r0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mN("useViewTransitionState"),o=ed(t,{relative:e});if(!n.isTransitioning)return!1;let c=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bf(o.pathname,d)!=null||bf(o.pathname,c)!=null}var A6=B_();function R6(t){return F.createElement(BT,{flushSync:A6.flushSync,...t})}var rm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C6={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},D6=class{#e=C6;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},py=new D6;function I6(t){setTimeout(t,0)}var sm=typeof window>"u"||"Deno"in globalThis;function ds(){}function O6(t,e){return typeof t=="function"?t(e):t}function P6(t){return typeof t=="number"&&t>=0&&t!==1/0}function M6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gy(t,e){return typeof t=="function"?t(e):t}function k6(t,e){return typeof t=="function"?t(e):t}function h2(t,e){const{type:n="all",exact:s,fetchStatus:o,predicate:c,queryKey:d,stale:f}=t;if(d){if(s){if(e.queryHash!==u0(d,e.options))return!1}else if(!Fu(e.queryKey,d))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||c&&!c(e))}function f2(t,e){const{exact:n,status:s,predicate:o,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(zu(e.options.mutationKey)!==zu(c))return!1}else if(!Fu(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function u0(t,e){return(e?.queryKeyHashFn||zu)(t)}function zu(t){return JSON.stringify(t,(e,n)=>yy(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fu(t[n],e[n])):!1}var L6=Object.prototype.hasOwnProperty;function pN(t,e){if(t===e)return t;const n=m2(t)&&m2(e);if(!n&&!(yy(t)&&yy(e)))return e;const o=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),d=c.length,f=n?new Array(d):{};let m=0;for(let g=0;g<d;g++){const x=n?g:c[g],b=t[x],w=e[x];if(b===w){f[x]=b,(n?g<o:L6.call(t,x))&&m++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){f[x]=w;continue}const D=pN(b,w);f[x]=D,D===b&&m++}return o===d&&m===o?t:f}function m2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yy(t){if(!p2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!p2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function p2(t){return Object.prototype.toString.call(t)==="[object Object]"}function V6(t){return new Promise(e=>{py.setTimeout(e,t)})}function U6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pN(t,e):e}function z6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function F6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var d0=Symbol();function gN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===d0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var B6=class extends rm{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!sm&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},yN=new B6;function H6(){let t,e;const n=new Promise((o,c)=>{t=o,e=c});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},n.reject=o=>{s({status:"rejected",reason:o}),e(o)},n}var q6=I6;function $6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},o=q6;const c=f=>{e?t.push(f):o(()=>{n(f)})},d=()=>{const f=t;t=[],f.length&&o(()=>{s(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;e++;try{m=f()}finally{e--,e||d()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{o=f}}}var nr=$6(),G6=class extends rm{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!sm&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Nf=new G6;function K6(t){return Math.min(1e3*2**t,3e4)}function xN(t){return(t??"online")==="online"?Nf.isOnline():!0}var xy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function vN(t){let e=!1,n=0,s;const o=H6(),c=()=>o.status!=="pending",d=k=>{if(!c()){const z=new xy(k);w(z),t.onCancel?.(z)}},f=()=>{e=!0},m=()=>{e=!1},g=()=>yN.isFocused()&&(t.networkMode==="always"||Nf.isOnline())&&t.canRun(),x=()=>xN(t.networkMode)&&t.canRun(),b=k=>{c()||(s?.(),o.resolve(k))},w=k=>{c()||(s?.(),o.reject(k))},D=()=>new Promise(k=>{s=z=>{(c()||g())&&k(z)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),M=()=>{if(c())return;let k;const z=n===0?t.initialPromise:void 0;try{k=z??t.fn()}catch(G){k=Promise.reject(G)}Promise.resolve(k).then(b).catch(G=>{if(c())return;const P=t.retry??(sm?0:3),I=t.retryDelay??K6,H=typeof I=="function"?I(n,G):I,U=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,G);if(e||!U){w(G);return}n++,t.onFail?.(n,G),V6(H).then(()=>g()?void 0:D()).then(()=>{e?w(G):M()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(s?.(),o),cancelRetry:f,continueRetry:m,canStart:x,start:()=>(x()?M():D().then(M),o)}}var bN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P6(this.gcTime)&&(this.#e=py.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sm?1/0:300*1e3))}clearGcTimeout(){this.#e&&(py.clearTimeout(this.#e),this.#e=void 0)}},Y6=class extends bN{#e;#t;#n;#s;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=g2(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=g2(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=U6(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#a({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(ds).catch(ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>k6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!M6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},c=()=>{const m=gN(this.options,n),x=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(b),b})();return this.#o=!1,this.options.persister?this.options.persister(m,x,this):m(x)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#a({type:"fetch",meta:f.fetchOptions?.meta}),this.#r=vN({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof xy&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(m,g)=>{this.#a({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#r.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof xy){if(m.silent)return this.#r.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#a({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#a(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Q6(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const c=e.error;return{...s,error:c,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Q6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function g2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function y2(t){return{onFetch:(e,n)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let x=!1;const b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=gN(e.options,e.fetchOptions),D=async(M,k,z)=>{if(x)return Promise.reject();if(k==null&&M.pages.length)return Promise.resolve(M);const P=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:k,direction:z?"backward":"forward",meta:e.options.meta};return b(C),C})(),I=await w(P),{maxPages:H}=e.options,U=z?F6:z6;return{pages:U(M.pages,I,H),pageParams:U(M.pageParams,k,H)}};if(o&&c.length){const M=o==="backward",k=M?W6:x2,z={pages:c,pageParams:d},G=k(s,z);f=await D(z,G,M)}else{const M=t??c.length;do{const k=m===0?d[0]??s.initialPageParam:x2(s,f);if(m>0&&k==null)break;f=await D(f,k),m++}while(m<M)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function x2(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function W6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var X6=class extends bN{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||J6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#s({type:"continue"})};this.#n=vN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",o=!this.#n.canStart();try{if(s)n();else{this.#s({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const d=await this.options.onMutate?.(e);d!==this.state.context&&this.#s({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#n.start();return await this.#t.config.onSuccess?.(c,e,this.state.context,this),await this.options.onSuccess?.(c,e,this.state.context),await this.#t.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,e,this.state.context),this.#s({type:"success",data:c}),c}catch(c){try{throw await this.#t.config.onError?.(c,e,this.state.context,this),await this.options.onError?.(c,e,this.state.context),await this.#t.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,e,this.state.context),c}finally{this.#s({type:"error",error:c})}}finally{this.#t.runNext(this)}}#s(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function J6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Z6=class extends rm{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new X6({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Fh(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Fh(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Fh(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Fh(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>f2(e,n))}findAll(t={}){return this.getAll().filter(e=>f2(t,e))}notify(t){nr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return nr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ds))))}};function Fh(t){return t.options.scope?.id}var eA=class extends rm{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,o=e.queryHash??u0(s,e);let c=this.get(o);return c||(c=new Y6({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>h2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>h2(t,n)):e}notify(t){nr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tA=class{#e;#t;#n;#s;#r;#i;#o;#a;constructor(t={}){this.#e=t.queryCache||new eA,this.#t=t.mutationCache||new Z6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=yN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Nf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,d=O6(e,c);if(d!==void 0)return this.#e.build(this,s).setData(d,{...n,manual:!0})}setQueriesData(t,e,n){return nr.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;nr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return nr.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=nr.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(s).then(ds).catch(ds)}invalidateQueries(t,e={}){return nr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=nr.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,n);return n.throwOnError||(c=c.catch(ds)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(ds)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(gy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ds).catch(ds)}fetchInfiniteQuery(t){return t.behavior=y2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ds).catch(ds)}ensureInfiniteQueryData(t){return t.behavior=y2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(zu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Fu(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(zu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Fu(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=u0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===d0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},nA=F.createContext(void 0),rA=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(nA.Provider,{value:t,children:e})),kg,v2;function sA(){if(v2)return kg;v2=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var f,m,g;if(Array.isArray(c)){if(f=c.length,f!=d.length)return!1;for(m=f;m--!==0;)if(!o(c[m],d[m]))return!1;return!0}var x;if(e&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(x=c.entries();!(m=x.next()).done;)if(!d.has(m.value[0]))return!1;for(x=c.entries();!(m=x.next()).done;)if(!o(m.value[1],d.get(m.value[0])))return!1;return!0}if(n&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(x=c.entries();!(m=x.next()).done;)if(!d.has(m.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if(f=c.length,f!=d.length)return!1;for(m=f;m--!==0;)if(c[m]!==d[m])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if(g=Object.keys(c),f=g.length,f!==Object.keys(d).length)return!1;for(m=f;m--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[m]))return!1;if(t&&c instanceof Element)return!1;for(m=f;m--!==0;)if(!((g[m]==="_owner"||g[m]==="__v"||g[m]==="__o")&&c.$$typeof)&&!o(c[g[m]],d[g[m]]))return!1;return!0}return c!==c&&d!==d}return kg=function(d,f){try{return o(d,f)}catch(m){if((m.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw m}},kg}var aA=sA();const iA=Jf(aA);var Lg,b2;function oA(){if(b2)return Lg;b2=1;var t=function(e,n,s,o,c,d,f,m){if(!e){var g;if(n===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[s,o,c,d,f,m],b=0;g=new Error(n.replace(/%s/g,function(){return x[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return Lg=t,Lg}var lA=oA();const w2=Jf(lA);var Vg,_2;function cA(){return _2||(_2=1,Vg=function(e,n,s,o){var c=s?s.call(o,e,n):void 0;if(c!==void 0)return!!c;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(n),g=0;g<d.length;g++){var x=d[g];if(!m(x))return!1;var b=e[x],w=n[x];if(c=s?s.call(o,b,w,x):void 0,c===!1||c===void 0&&b!==w)return!1}return!0}),Vg}var uA=cA();const dA=Jf(uA);var wN=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(wN||{}),Ug={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},N2=Object.values(wN),h0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hA=Object.entries(h0).reduce((t,[e,n])=>(t[n]=e,t),{}),ms="data-rh",Pl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ml=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const s=t[n];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},fA=t=>{let e=Ml(t,"title");const n=Ml(t,Pl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const s=Ml(t,Pl.DEFAULT_TITLE);return e||s||void 0},mA=t=>Ml(t,Pl.ON_CHANGE_CLIENT_STATE)||(()=>{}),zg=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,s)=>({...n,...s}),{}),pA=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,s)=>{if(!n.length){const o=Object.keys(s);for(let c=0;c<o.length;c+=1){const f=o[c].toLowerCase();if(t.indexOf(f)!==-1&&s[f])return n.concat(s)}}return n},[]),gA=t=>console&&typeof console.warn=="function"&&console.warn(t),ru=(t,e,n)=>{const s={};return n.filter(o=>Array.isArray(o[t])?!0:(typeof o[t]<"u"&&gA(`Helmet: ${t} should be of type "Array". Instead found type "${typeof o[t]}"`),!1)).map(o=>o[t]).reverse().reduce((o,c)=>{const d={};c.filter(m=>{let g;const x=Object.keys(m);for(let w=0;w<x.length;w+=1){const D=x[w],M=D.toLowerCase();e.indexOf(M)!==-1&&!(g==="rel"&&m[g].toLowerCase()==="canonical")&&!(M==="rel"&&m[M].toLowerCase()==="stylesheet")&&(g=M),e.indexOf(D)!==-1&&(D==="innerHTML"||D==="cssText"||D==="itemprop")&&(g=D)}if(!g||!m[g])return!1;const b=m[g].toLowerCase();return s[g]||(s[g]={}),d[g]||(d[g]={}),s[g][b]?!1:(d[g][b]=!0,!0)}).reverse().forEach(m=>o.push(m));const f=Object.keys(d);for(let m=0;m<f.length;m+=1){const g=f[m],x={...s[g],...d[g]};s[g]=x}return o},[]).reverse()},yA=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},xA=t=>({baseTag:pA(["href"],t),bodyAttributes:zg("bodyAttributes",t),defer:Ml(t,Pl.DEFER),encode:Ml(t,Pl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:zg("htmlAttributes",t),linkTags:ru("link",["rel","href"],t),metaTags:ru("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ru("noscript",["innerHTML"],t),onChangeClientState:mA(t),scriptTags:ru("script",["src","innerHTML"],t),styleTags:ru("style",["cssText"],t),title:fA(t),titleAttributes:zg("titleAttributes",t),prioritizeSeoTags:yA(t,Pl.PRIORITIZE_SEO_TAGS)}),_N=t=>Array.isArray(t)?t.join(""):t,vA=(t,e)=>{const n=Object.keys(t);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(t[n[s]]))return!0;return!1},Fg=(t,e)=>Array.isArray(t)?t.reduce((n,s)=>(vA(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:t,priority:[]},j2=(t,e)=>({...t,[e]:void 0}),bA=["noscript","script","style"],vy=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),NN=t=>Object.keys(t).reduce((e,n)=>{const s=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),wA=(t,e,n,s)=>{const o=NN(n),c=_N(e);return o?`<${t} ${ms}="true" ${o}>${vy(c,s)}</${t}>`:`<${t} ${ms}="true">${vy(c,s)}</${t}>`},_A=(t,e,n=!0)=>e.reduce((s,o)=>{const c=o,d=Object.keys(c).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,x)=>{const b=typeof c[x]>"u"?x:`${x}="${vy(c[x],n)}"`;return g?`${g} ${b}`:b},""),f=c.innerHTML||c.cssText||"",m=bA.indexOf(t)===-1;return`${s}<${t} ${ms}="true" ${d}${m?"/>":`>${f}</${t}>`}`},""),jN=(t,e={})=>Object.keys(t).reduce((n,s)=>{const o=h0[s];return n[o||s]=t[s],n},e),NA=(t,e,n)=>{const s={key:e,[ms]:!0},o=jN(n,s);return[It.createElement("title",o,e)]},lf=(t,e)=>e.map((n,s)=>{const o={key:s,[ms]:!0};return Object.keys(n).forEach(c=>{const f=h0[c]||c;if(f==="innerHTML"||f==="cssText"){const m=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:m}}else o[f]=n[c]}),It.createElement(t,o)}),Kr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>NA(t,e.title,e.titleAttributes),toString:()=>wA(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>jN(e),toString:()=>NN(e)};default:return{toComponent:()=>lf(t,e),toString:()=>_A(t,e,n)}}},jA=({metaTags:t,linkTags:e,scriptTags:n,encode:s})=>{const o=Fg(t,Ug.meta),c=Fg(e,Ug.link),d=Fg(n,Ug.script);return{priorityMethods:{toComponent:()=>[...lf("meta",o.priority),...lf("link",c.priority),...lf("script",d.priority)],toString:()=>`${Kr("meta",o.priority,s)} ${Kr("link",c.priority,s)} ${Kr("script",d.priority,s)}`},metaTags:o.default,linkTags:c.default,scriptTags:d.default}},EA=t=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:o,noscriptTags:c,styleTags:d,title:f="",titleAttributes:m,prioritizeSeoTags:g}=t;let{linkTags:x,metaTags:b,scriptTags:w}=t,D={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:D,linkTags:x,metaTags:b,scriptTags:w}=jA(t)),{priority:D,base:Kr("base",e,s),bodyAttributes:Kr("bodyAttributes",n,s),htmlAttributes:Kr("htmlAttributes",o,s),link:Kr("link",x,s),meta:Kr("meta",b,s),noscript:Kr("noscript",c,s),script:Kr("script",w,s),style:Kr("style",d,s),title:Kr("title",{title:f,titleAttributes:m},s)}},by=EA,Bh=[],EN=!!(typeof window<"u"&&window.document&&window.document.createElement),wy=class{instances=[];canUseDOM=EN;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Bh:this.instances,add:t=>{(this.canUseDOM?Bh:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Bh:this.instances).indexOf(t);(this.canUseDOM?Bh:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=by({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},SA={},SN=It.createContext(SA),TN=class AN extends F.Component{static canUseDOM=EN;helmetData;constructor(e){super(e),this.helmetData=new wy(this.props.context||{},AN.canUseDOM)}render(){return It.createElement(SN.Provider,{value:this.helmetData.value},this.props.children)}},jl=(t,e)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${t}[${ms}]`),o=[].slice.call(s),c=[];let d;return e&&e.length&&e.forEach(f=>{const m=document.createElement(t);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g))if(g==="innerHTML")m.innerHTML=f.innerHTML;else if(g==="cssText")m.styleSheet?m.styleSheet.cssText=f.cssText:m.appendChild(document.createTextNode(f.cssText));else{const x=g,b=typeof f[x]>"u"?"":f[x];m.setAttribute(g,b)}m.setAttribute(ms,"true"),o.some((g,x)=>(d=x,m.isEqualNode(g)))?o.splice(d,1):c.push(m)}),o.forEach(f=>f.parentNode?.removeChild(f)),c.forEach(f=>n.appendChild(f)),{oldTags:o,newTags:c}},_y=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const s=n.getAttribute(ms),o=s?s.split(","):[],c=[...o],d=Object.keys(e);for(const f of d){const m=e[f]||"";n.getAttribute(f)!==m&&n.setAttribute(f,m),o.indexOf(f)===-1&&o.push(f);const g=c.indexOf(f);g!==-1&&c.splice(g,1)}for(let f=c.length-1;f>=0;f-=1)n.removeAttribute(c[f]);o.length===c.length?n.removeAttribute(ms):n.getAttribute(ms)!==d.join(",")&&n.setAttribute(ms,d.join(","))},TA=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=_N(t)),_y("title",e)},E2=(t,e)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:o,linkTags:c,metaTags:d,noscriptTags:f,onChangeClientState:m,scriptTags:g,styleTags:x,title:b,titleAttributes:w}=t;_y("body",s),_y("html",o),TA(b,w);const D={baseTag:jl("base",n),linkTags:jl("link",c),metaTags:jl("meta",d),noscriptTags:jl("noscript",f),scriptTags:jl("script",g),styleTags:jl("style",x)},M={},k={};Object.keys(D).forEach(z=>{const{newTags:G,oldTags:P}=D[z];G.length&&(M[z]=G),P.length&&(k[z]=D[z].oldTags)}),e&&e(),m(t,M,k)},su=null,AA=t=>{su&&cancelAnimationFrame(su),t.defer?su=requestAnimationFrame(()=>{E2(t,()=>{su=null})}):(E2(t),su=null)},RA=AA,S2=class extends F.Component{rendered=!1;shouldComponentUpdate(t){return!dA(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const s=xA(t.get().map(o=>{const c={...o.props};return delete c.context,c}));TN.canUseDOM?RA(s):by&&(n=by(s)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Xt=class extends F.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!iA(j2(this.props,"helmetData"),j2(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,s){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,s)}]}}mapObjectTypeChildren(t,e,n,s){switch(t.type){case"title":return{...e,[t.type]:s,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(s=>{n={...n,[s]:t[s]}}),n}warnOnInvalidChildren(t,e){return w2(N2.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${N2.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),w2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return It.Children.forEach(t,s=>{if(!s||!s.props)return;const{children:o,...c}=s.props,d=Object.keys(c).reduce((m,g)=>(m[hA[g]||g]=c[g],m),{});let{type:f}=s;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(s,o),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(s,n,d,o);break;default:e=this.mapObjectTypeChildren(s,e,d,o);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:s}=e;if(t&&(n=this.mapChildrenToProps(t,n)),s&&!(s instanceof wy)){const o=s;s=new wy(o.context,!0),delete n.helmetData}return s?It.createElement(S2,{...n,context:s.value}):It.createElement(SN.Consumer,null,o=>It.createElement(S2,{...n,context:o}))}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>{};var T2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DA=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],d=t[n++],f=t[n++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=t[n++],d=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},CN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const c=t[o],d=o+1<t.length,f=d?t[o+1]:0,m=o+2<t.length,g=m?t[o+2]:0,x=c>>2,b=(c&3)<<4|f>>4;let w=(f&15)<<2|g>>6,D=g&63;m||(D=64,d||(w=64)),s.push(n[x],n[b],n[w],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||f==null||g==null||b==null)throw new IA;const w=c<<2|f>>4;if(s.push(w),g!==64){const D=f<<4&240|g>>2;if(s.push(D),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(t){const e=RN(t);return CN.encodeByteArray(e,!0)},jf=function(t){return OA(t).replace(/\./g,"")},DN=function(t){try{return CN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>PA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof T2>"u")return;const t=T2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DN(t[1]);return e&&JSON.parse(e)},am=()=>{try{return CA()||MA()||kA()||LA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IN=t=>am()?.emulatorHosts?.[t],ON=t=>{const e=IN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PN=()=>am()?.config,MN=t=>am()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jf(JSON.stringify(n)),jf(JSON.stringify(d)),""].join(".")}const Su={};function UA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?t.emulator.push(e):t.prod.push(e);return t}function zA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A2=!1;function m0(t,e){if(typeof window>"u"||typeof document>"u"||!Ui(window.location.host)||Su[t]===e||Su[t]||A2)return;Su[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=UA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{A2=!0,d()},w}function x(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=zA(s),D=n("text"),M=document.getElementById(D)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),G=n("preprendIcon"),P=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const I=w.element;f(I),x(z,k);const H=g();m(P,G),I.append(P,M,z,H),document.body.appendChild(I)}c?(M.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function BA(){const t=am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WA,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?XA(c,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Ws(o,f,s)}}function XA(t,e){return t.replace(JA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JA=/\{\$([^}]+)}/g;function ZA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function No(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=t[o],d=e[o];if(R2(c)&&R2(d)){if(!No(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function R2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eR(t,e){const n=new tR(t,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Bg),o.error===void 0&&(o.error=Bg),o.complete===void 0&&(o.complete=Bg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);s===f&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(t){return t===go?void 0:t}function aR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const oR={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},lR=ct.INFO,cR={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},uR=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=cR[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const dR=(t,e)=>e.some(n=>t instanceof n);let C2,D2;function hR(){return C2||(C2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return D2||(D2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LN=new WeakMap,Ny=new WeakMap,VN=new WeakMap,Hg=new WeakMap,g0=new WeakMap;function mR(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(wi(t.result)),o()},d=()=>{s(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&LN.set(n,t)}).catch(()=>{}),g0.set(e,t),e}function pR(t){if(Ny.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});Ny.set(t,e)}let jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gR(t){jy=t(jy)}function yR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(qg(this),e,...n);return VN.set(s,e.sort?e.sort():[e]),wi(s)}:fR().includes(t)?function(...e){return t.apply(qg(this),e),wi(LN.get(this))}:function(...e){return wi(t.apply(qg(this),e))}}function xR(t){return typeof t=="function"?yR(t):(t instanceof IDBTransaction&&pR(t),dR(t,hR())?new Proxy(t,jy):t)}function wi(t){if(t instanceof IDBRequest)return mR(t);if(Hg.has(t))return Hg.get(t);const e=xR(t);return e!==t&&(Hg.set(t,e),g0.set(e,t)),e}const qg=t=>g0.get(t);function vR(t,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(t,e),f=wi(d);return s&&d.addEventListener("upgradeneeded",m=>{s(wi(d.result),m.oldVersion,m.newVersion,wi(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const bR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],$g=new Map;function I2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bR.includes(n)))return;const c=async function(d,...f){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&m.done]))[0]};return $g.set(e,c),c}gR(t=>({...t,get:(e,n,s)=>I2(e,n)||t.get(e,n,s),has:(e,n)=>!!I2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NR(t){return t.getComponent()?.type==="VERSION"}const Ey="@firebase/app",O2="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new p0("@firebase/app"),jR="@firebase/app-compat",ER="@firebase/analytics-compat",SR="@firebase/analytics",TR="@firebase/app-check-compat",AR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",DR="@firebase/database",IR="@firebase/data-connect",OR="@firebase/database-compat",PR="@firebase/functions",MR="@firebase/functions-compat",kR="@firebase/installations",LR="@firebase/installations-compat",VR="@firebase/messaging",UR="@firebase/messaging-compat",zR="@firebase/performance",FR="@firebase/performance-compat",BR="@firebase/remote-config",HR="@firebase/remote-config-compat",qR="@firebase/storage",$R="@firebase/storage-compat",GR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",QR="firebase",WR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="[DEFAULT]",XR={[Ey]:"fire-core",[jR]:"fire-core-compat",[SR]:"fire-analytics",[ER]:"fire-analytics-compat",[AR]:"fire-app-check",[TR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[DR]:"fire-rtdb",[IR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[PR]:"fire-fn",[MR]:"fire-fn-compat",[kR]:"fire-iid",[LR]:"fire-iid-compat",[VR]:"fire-fcm",[UR]:"fire-fcm-compat",[zR]:"fire-perf",[FR]:"fire-perf-compat",[BR]:"fire-rc",[HR]:"fire-rc-compat",[qR]:"fire-gcs",[$R]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,JR=new Map,Ty=new Map;function P2(t,e){try{t.container.addComponent(e)}catch(n){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(Ty.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of Ef.values())P2(n,t);for(const n of JR.values())P2(n,t);return!0}function im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new td("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=WR;function UN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Sy,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _i.create("bad-app-name",{appName:String(o)});if(n||(n=PN()),!n)throw _i.create("no-options");const c=Ef.get(o);if(c){if(No(n,c.options)&&No(s,c.config))return c;throw _i.create("duplicate-app",{appName:o})}const d=new iR(o);for(const m of Ty.values())d.addComponent(m);const f=new eC(n,s,d);return Ef.set(o,f),f}function y0(t=Sy){const e=Ef.get(t);if(!e&&t===Sy&&PN())return UN();if(!e)throw _i.create("no-app",{appName:t});return e}function zs(t,e,n){let s=XR[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(d.join(" "));return}jo(new Ti(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-heartbeat-database",nC=1,Bu="firebase-heartbeat-store";let Gg=null;function zN(){return Gg||(Gg=vR(tC,nC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function rC(t){try{const n=(await zN()).transaction(Bu),s=await n.objectStore(Bu).get(FN(t));return await n.done,s}catch(e){if(e instanceof Ws)Ra.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e?.message});Ra.warn(n.message)}}}async function M2(t,e){try{const s=(await zN()).transaction(Bu,"readwrite");await s.objectStore(Bu).put(e,FN(t)),await s.done}catch(n){if(n instanceof Ws)Ra.warn(n.message);else{const s=_i.create("idb-set",{originalErrorMessage:n?.message});Ra.warn(s.message)}}}function FN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1024,aC=30;class iC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>aC){const o=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ra.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k2(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ra.warn(e),""}}}function k2(){return new Date().toISOString().substring(0,10)}function oC(t,e=sC){const n=[];let s=t.slice();for(const o of t){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),L2(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return M2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function L2(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}function cC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){jo(new Ti("platform-logger",e=>new _R(e),"PRIVATE")),jo(new Ti("heartbeat",e=>new iC(e),"PRIVATE")),zs(Ey,O2,t),zs(Ey,O2,"esm2020"),zs("fire-js","")}uC("");function BN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dC=BN,HN=new td("auth","Firebase",BN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new p0("@firebase/auth");function hC(t,...e){Sf.logLevel<=ct.WARN&&Sf.warn(`Auth (${Po}): ${t}`,...e)}function cf(t,...e){Sf.logLevel<=ct.ERROR&&Sf.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw v0(t,...e)}function ys(t,...e){return v0(t,...e)}function x0(t,e,n){const s={...dC(),[e]:n};return new td("auth","Firebase",s).create(e,{appName:t.name})}function ja(t){return x0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fC(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Jr(t,"argument-error"),x0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return HN.create(t,...e)}function Ye(t,e,...n){if(!t)throw v0(e,...n)}function _a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function Ca(t,e){t||_a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){return typeof self<"u"&&self.location?.href||""}function mC(){return V2()==="http:"||V2()==="https:"}function V2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||qA()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ca(n>e,"Short delay should be less than long delay!"),this.isMobile=FA()||$A()}get(){return pC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e){Ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vC=new rd(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oa(t,e,n,s,o={}){return $N(t,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const f=nd({key:t.config.apiKey,...d}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...c};return HA()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ui(t.emulatorConfig.host)&&(g.credentials="include"),qN.fetch()(await GN(t,t.config.apiHost,n,f),g)})}async function $N(t,e,n){t._canInitEmulator=!1;const s={...yC,...e};try{const o=new wC(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hh(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",d);if(m==="USER_DISABLED")throw Hh(t,"user-disabled",d);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw x0(t,x,g);Jr(t,x)}}catch(o){if(o instanceof Ws)throw o;Jr(t,"network-request-failed",{message:String(o)})}}async function sd(t,e,n,s,o={}){const c=await Oa(t,e,n,s,o);return"mfaPendingCredential"in c&&Jr(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function GN(t,e,n,s){const o=`${e}${n}?${s}`,c=t,d=c.config.emulator?b0(t.config,o):`${t.config.apiScheme}://${o}`;return xC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function bC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ys(this.auth,"network-request-failed")),vC.get())})}}function Hh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ys(t,e,s);return o.customData._tokenResponse=n,o}function U2(t){return t!==void 0&&t.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NC(t,e){return Oa(t,"GET","/v2/recaptchaConfig",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e){return Oa(t,"POST","/v1/accounts:delete",e)}async function Tf(t,e){return Oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(t,e=!1){const n=vn(t),s=await n.getIdToken(e),o=w0(s);Ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Tu(Kg(o.auth_time)),issuedAtTime:Tu(Kg(o.iat)),expirationTime:Tu(Kg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kg(t){return Number(t)*1e3}function w0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=DN(n);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z2(t){const e=w0(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ws&&SC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function SC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(t){const e=t.auth,n=await t.getIdToken(),s=await zl(t,Tf(e,{idToken:n}));Ye(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=o.providerUserInfo?.length?KN(o.providerUserInfo):[],d=RC(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!d?.length,g=f?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Ry(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function AC(t){const e=vn(t);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RC(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e){const n=await $N(t,{},async()=>{const s=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,d=await GN(t,o,"/v1/token",`key=${c}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ui(t.emulatorConfig.host)&&(m.credentials="include"),qN.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DC(t,e){return Oa(t,"POST","/v2/accounts:revokeToken",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=z2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await CC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new kl;return s&&(Ye(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ye(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ye(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ry(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EC(this,e)}reload(){return AC(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await zl(this,jC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:M,stsTokenManager:k}=n;Ye(b&&k,e,"internal-error");const z=kl.fromJSON(this.name,k);Ye(typeof b=="string",e,"internal-error"),ci(s,e.name),ci(o,e.name),Ye(typeof w=="boolean",e,"internal-error"),Ye(typeof D=="boolean",e,"internal-error"),ci(c,e.name),ci(d,e.name),ci(f,e.name),ci(m,e.name),ci(g,e.name),ci(x,e.name);const G=new ps({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:z,createdAt:g,lastLoginAt:x});return M&&Array.isArray(M)&&(G.providerData=M.map(P=>({...P}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new kl;o.updateFromServerResponse(n);const c=new ps({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Af(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?KN(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,f=new kl;f.updateFromIdToken(s);const m=new ps({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ry(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Map;function Na(t){Ca(t instanceof Function,"Expected a class definition");let e=F2.get(t);return e?(Ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YN.type="NONE";const B2=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,c),this.fullPersistenceKey=uf("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tf(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ll(Na(B2),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Na(B2);const d=uf(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const x=await g._get(d);if(x){let b;if(typeof x=="string"){const w=await Tf(e,{idToken:x}).catch(()=>{});if(!w)break;b=await ps._fromGetAccountInfoResponse(e,w,x)}else b=ps._fromJSON(e,x);g!==c&&(f=b),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Ll(c,e,s):(c=m[0],f&&await c._set(d,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ll(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e4(e))return"Blackberry";if(t4(e))return"Webos";if(WN(e))return"Safari";if((e.includes("chrome/")||XN(e))&&!e.includes("edge/"))return"Chrome";if(ZN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function QN(t=$n()){return/firefox\//i.test(t)}function WN(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XN(t=$n()){return/crios\//i.test(t)}function JN(t=$n()){return/iemobile/i.test(t)}function ZN(t=$n()){return/android/i.test(t)}function e4(t=$n()){return/blackberry/i.test(t)}function t4(t=$n()){return/webos/i.test(t)}function _0(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IC(t=$n()){return _0(t)&&!!window.navigator?.standalone}function OC(){return GA()&&document.documentMode===10}function n4(t=$n()){return _0(t)||ZN(t)||t4(t)||e4(t)||/windows phone/i.test(t)||JN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e=[]){let n;switch(t){case"Browser":n=H2($n());break;case"Worker":n=`${H2($n())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,f)=>{try{const m=e(c);d(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(t,e={}){return Oa(t,"GET","/v2/passwordPolicy",zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class LC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q2(this),this.idTokenSubscription=new q2(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Na(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tf(this,{idToken:e}),s=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(ja(this));const n=e?vn(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MC(this),n=new LC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Na(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fi(t){return vn(t)}class q2{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(t){om=t}function s4(t){return om.loadJS(t)}function zC(){return om.recaptchaEnterpriseScript}function FC(){return om.gapiScript}function BC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HC{constructor(){this.enterprise=new qC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $C="recaptcha-enterprise",a4="NO_RECAPTCHA";class GC{constructor(e){this.type=$C,this.auth=Fi(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{NC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new _C(m);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(m=>{f(m)})})}function o(c,d,f){const m=window.grecaptcha;U2(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(a4)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(f=>{if(!n&&U2(window.grecaptcha))o(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=zC();m.length!==0&&(m+=f),s4(m).then(()=>{o(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function $2(t,e,n,s=!1,o=!1){const c=new GC(t);let d;if(o)d=a4;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Cy(t,e,n,s,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $2(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $2(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){const n=im(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(No(c,e??{}))return o;Jr(o,"already-initialized")}return n.initialize({options:e})}function YC(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Na);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function QC(t,e,n){const s=Fi(t);Ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=i4(e),{host:d,port:f}=WC(e),m=f===null?"":`:${f}`,g={url:`${c}//${d}${m}/`},x=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ye(No(g,s.config.emulator)&&No(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Ui(d)?(f0(`${c}//${d}${m}`),m0("Auth",!0)):XC()}function i4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WC(t){const e=i4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:G2(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:G2(d)}}}function G2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _a("not implemented")}_getIdTokenResponse(e){return _a("not implemented")}_linkToIdToken(e,n){return _a("not implemented")}_getReauthenticationResolver(e){return _a("not implemented")}}async function JC(t,e){return Oa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(t,e){return sd(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t,e){return sd(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function t5(t,e){return sd(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends N0{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,n,"signInWithPassword",ZC);case"emailLink":return e5(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,s,"signUpPassword",JC);case"emailLink":return t5(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return sd(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="http://localhost";class Eo extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new Eo(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:n5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s5(t){const e=yu(xu(t)).link,n=e?yu(xu(e)).deep_link_id:null,s=yu(xu(t)).deep_link_id;return(s?yu(xu(s)).link:null)||s||n||e||t}class j0{constructor(e){const n=yu(xu(e)),s=n.apiKey??null,o=n.oobCode??null,c=r5(n.mode??null);Ye(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s5(e);try{return new j0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,n){return Hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=j0.parseLink(n);return Ye(s,"argument-error"),Hu._fromEmailAndCode(e,s.code,s.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends E0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ad{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Eo._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wa.credential(n,s)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends ad{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ad{constructor(){super("twitter.com")}static credential(e,n){return Eo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pi.credential(n,s)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return sd(t,"POST","/v1/accounts:signUp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ps._fromIdTokenResponse(e,s,o),d=K2(s);return new So({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=K2(s);return new So({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function K2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends Ws{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rf(e,n,s,o)}}function o4(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,c,e,s):c})}async function i5(t,e,n=!1){const s=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e,n=!1){const{auth:s}=t;if(pr(s.app))return Promise.reject(ja(s));const o="reauthenticate";try{const c=await zl(t,o4(s,o,e,t),n);Ye(c.idToken,s,"internal-error");const d=w0(c.idToken);Ye(d,s,"internal-error");const{sub:f}=d;return Ye(t.uid===f,s,"user-mismatch"),So._forOperation(t,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e,n=!1){if(pr(t.app))return Promise.reject(ja(t));const s="signIn",o=await o4(t,s,e),c=await So._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(c.user),c}async function l5(t,e){return l4(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c5(t,e,n){if(pr(t.app))return Promise.reject(ja(t));const s=Fi(t),d=await Cy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a5).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&c4(t),m}),f=await So._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(f.user),f}function u5(t,e,n){return pr(t.app)?Promise.reject(ja(t)):l5(vn(t),Ql.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&c4(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return Oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=vn(t),c={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await zl(s,d5(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const f=s.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function f5(t,e,n,s){return vn(t).onIdTokenChanged(e,n,s)}function m5(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function p5(t,e,n,s){return vn(t).onAuthStateChanged(e,n,s)}function g5(t){return vn(t).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=1e3,x5=10;class d4 extends u4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,f,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);OC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,x5):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d4.type="LOCAL";const v5=d4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4 extends u4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h4.type="SESSION";const f4=h4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async g=>g(n.origin,c)),m=await b5(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,m)=>{const g=S0("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(w.data.response);break;default:clearTimeout(x),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function _5(t){Fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function N5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j5(){return navigator?.serviceWorker?.controller||null}function E5(){return m4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebaseLocalStorageDb",S5=1,Df="firebaseLocalStorage",g4="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function T5(){const t=indexedDB.deleteDatabase(p4);return new id(t).toPromise()}function Dy(){const t=indexedDB.open(p4,S5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Df,{keyPath:g4})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Df)?e(s):(s.close(),await T5(),e(await Dy()))})})}async function Y2(t,e,n){const s=cm(t,!0).put({[g4]:e,value:n});return new id(s).toPromise()}async function A5(t,e){const n=cm(t,!1).get(e),s=await new id(n).toPromise();return s===void 0?null:s.value}function Q2(t,e){const n=cm(t,!0).delete(e);return new id(n).toPromise()}const R5=800,C5=3;class y4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>C5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(E5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N5(),!this.activeServiceWorker)return;this.sender=new w5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await Y2(e,Cf,"1"),await Q2(e,Cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Y2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=cm(o,!1).getAll();return new id(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y4.type="LOCAL";const D5=y4;new rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){return e?Na(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I5(t){return l4(t.auth,new T0(t),t.bypassAuthState)}function O5(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),o5(n,new T0(t),t.bypassAuthState)}async function P5(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),i5(n,new T0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I5;case"linkViaPopup":case"linkViaRedirect":return P5;case"reauthViaPopup":case"reauthViaRedirect":return O5;default:Jr(this.auth,"internal-error")}}resolve(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new rd(2e3,1e4);async function k5(t,e,n){if(pr(t.app))return Promise.reject(ys(t,"operation-not-supported-in-this-environment"));const s=Fi(t);fC(t,e,E0);const o=x4(s,n);return new xo(s,"signInViaPopup",e,o).executeNotNull()}class xo extends v4{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Ca(this.filter.length===1,"Popup operations only handle one event");const e=S0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M5.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="pendingRedirect",df=new Map;class V5 extends v4{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const s=await U5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U5(t,e){const n=B5(e),s=F5(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function z5(t,e){df.set(t._key(),e)}function F5(t){return Na(t._redirectPersistence)}function B5(t){return uf(L5,t.config.apiKey,t.name)}async function H5(t,e,n=!1){if(pr(t.app))return Promise.reject(ja(t));const s=Fi(t),o=x4(s,e),d=await new V5(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=600*1e3;class $5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!b4(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q5&&this.cachedEventUids.clear(),this.cachedEventUids.has(W2(e))}saveEventToCache(e){this.cachedEventUids.add(W2(e)),this.lastProcessedEventTime=Date.now()}}function W2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function G5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e={}){return Oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q5=/^https?/;async function W5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K5(t);for(const n of e)try{if(X5(n))return}catch{}Jr(t,"unauthorized-domain")}function X5(t){const e=Ay(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Q5.test(n))return!1;if(Y5.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new rd(3e4,6e4);function X2(){const t=Fs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z5(t){return new Promise((e,n)=>{function s(){X2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X2(),n(ys(t,"network-request-failed"))},timeout:J5.get()})}if(Fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fs().gapi?.load)s();else{const o=BC("iframefcb");return Fs()[o]=()=>{gapi.load?s():n(ys(t,"network-request-failed"))},s4(`${FC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw hf=null,e})}let hf=null;function e8(t){return hf=hf||Z5(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new rd(5e3,15e3),n8="__/auth/iframe",r8="emulator/auth/iframe",s8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i8(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?b0(e,r8):`https://${t.config.authDomain}/${n8}`,s={apiKey:e.apiKey,appName:t.name,v:Po},o=a8.get(t.config.apiHost);o&&(s.eid=o);const c=t._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${nd(s).slice(1)}`}async function o8(t){const e=await e8(t),n=Fs().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:i8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s8,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=ys(t,"network-request-failed"),f=Fs().setTimeout(()=>{c(d)},t8.get());function m(){Fs().clearTimeout(f),o(s)}s.ping(m).then(m,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c8=500,u8=600,d8="_blank",h8="http://localhost";class J2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f8(t,e,n,s=c8,o=u8){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...l8,width:s.toString(),height:o.toString(),top:c,left:d},g=$n().toLowerCase();n&&(f=XN(g)?d8:n),QN(g)&&(e=e||h8,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[D,M])=>`${w}${D}=${M},`,"");if(IC(g)&&f!=="_self")return m8(e||"",f),new J2(null);const b=window.open(e||"",f,x);Ye(b,t,"popup-blocked");try{b.focus()}catch{}return new J2(b)}function m8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="__/auth/handler",g8="emulator/auth/handler",y8=encodeURIComponent("fac");async function Z2(t,e,n,s,o,c){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(e instanceof E0){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",ZA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))d[x]=b}if(e instanceof ad){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(d.scopes=x.join(","))}t.tenantId&&(d.tid=t.tenantId);const f=d;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await t._getAppCheckToken(),g=m?`#${y8}=${encodeURIComponent(m)}`:"";return`${x8(t)}?${nd(f).slice(1)}${g}`}function x8({config:t}){return t.emulator?b0(t,g8):`https://${t.authDomain}/${p8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class v8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f4,this._completeRedirectFn=H5,this._overrideRedirectResult=z5}async _openPopup(e,n,s,o){Ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Z2(e,n,s,Ay(),o);return f8(e,c,S0())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await Z2(e,n,s,Ay(),o);return _5(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ca(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await o8(e),s=new $5(e);return n.register("authEvent",o=>(Ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},o=>{const c=o?.[0]?.[Yg];c!==void 0&&n(!!c),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n4()||WN()||_0()}}const b8=v8;var ew="@firebase/auth",tw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N8(t){jo(new Ti("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Ye(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r4(t)},g=new VC(s,o,c,m);return YC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),jo(new Ti("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(s=>new w8(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(ew,tw,_8(t)),zs(ew,tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=300,E8=MN("authIdTokenMaxAge")||j8;let nw=null;const S8=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>E8)return;const o=n?.token;nw!==o&&(nw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function T8(t=y0()){const e=im(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KC(t,{popupRedirectResolver:b8,persistence:[D5,v5,f4]}),s=MN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=S8(c.toString());m5(n,d,()=>d(n.currentUser)),f5(n,f=>d(f))}}const o=IN("auth");return o&&QC(n,`http://${o}`),n}function A8(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const c=ys("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",A8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N8("Browser");var R8="firebase",C8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(R8,C8,"app");var rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,w4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function S(){}S.prototype=N.prototype,A.D=N.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(L,R,_){for(var T=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)T[Z-2]=arguments[Z];return N.prototype[R].apply(L,T)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,N,S){S||(S=0);var L=Array(16);if(typeof N=="string")for(var R=0;16>R;++R)L[R]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(R=0;16>R;++R)L[R]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=A.g[0],S=A.g[1],R=A.g[2];var _=A.g[3],T=N+(_^S&(R^_))+L[0]+3614090360&4294967295;N=S+(T<<7&4294967295|T>>>25),T=_+(R^N&(S^R))+L[1]+3905402710&4294967295,_=N+(T<<12&4294967295|T>>>20),T=R+(S^_&(N^S))+L[2]+606105819&4294967295,R=_+(T<<17&4294967295|T>>>15),T=S+(N^R&(_^N))+L[3]+3250441966&4294967295,S=R+(T<<22&4294967295|T>>>10),T=N+(_^S&(R^_))+L[4]+4118548399&4294967295,N=S+(T<<7&4294967295|T>>>25),T=_+(R^N&(S^R))+L[5]+1200080426&4294967295,_=N+(T<<12&4294967295|T>>>20),T=R+(S^_&(N^S))+L[6]+2821735955&4294967295,R=_+(T<<17&4294967295|T>>>15),T=S+(N^R&(_^N))+L[7]+4249261313&4294967295,S=R+(T<<22&4294967295|T>>>10),T=N+(_^S&(R^_))+L[8]+1770035416&4294967295,N=S+(T<<7&4294967295|T>>>25),T=_+(R^N&(S^R))+L[9]+2336552879&4294967295,_=N+(T<<12&4294967295|T>>>20),T=R+(S^_&(N^S))+L[10]+4294925233&4294967295,R=_+(T<<17&4294967295|T>>>15),T=S+(N^R&(_^N))+L[11]+2304563134&4294967295,S=R+(T<<22&4294967295|T>>>10),T=N+(_^S&(R^_))+L[12]+1804603682&4294967295,N=S+(T<<7&4294967295|T>>>25),T=_+(R^N&(S^R))+L[13]+4254626195&4294967295,_=N+(T<<12&4294967295|T>>>20),T=R+(S^_&(N^S))+L[14]+2792965006&4294967295,R=_+(T<<17&4294967295|T>>>15),T=S+(N^R&(_^N))+L[15]+1236535329&4294967295,S=R+(T<<22&4294967295|T>>>10),T=N+(R^_&(S^R))+L[1]+4129170786&4294967295,N=S+(T<<5&4294967295|T>>>27),T=_+(S^R&(N^S))+L[6]+3225465664&4294967295,_=N+(T<<9&4294967295|T>>>23),T=R+(N^S&(_^N))+L[11]+643717713&4294967295,R=_+(T<<14&4294967295|T>>>18),T=S+(_^N&(R^_))+L[0]+3921069994&4294967295,S=R+(T<<20&4294967295|T>>>12),T=N+(R^_&(S^R))+L[5]+3593408605&4294967295,N=S+(T<<5&4294967295|T>>>27),T=_+(S^R&(N^S))+L[10]+38016083&4294967295,_=N+(T<<9&4294967295|T>>>23),T=R+(N^S&(_^N))+L[15]+3634488961&4294967295,R=_+(T<<14&4294967295|T>>>18),T=S+(_^N&(R^_))+L[4]+3889429448&4294967295,S=R+(T<<20&4294967295|T>>>12),T=N+(R^_&(S^R))+L[9]+568446438&4294967295,N=S+(T<<5&4294967295|T>>>27),T=_+(S^R&(N^S))+L[14]+3275163606&4294967295,_=N+(T<<9&4294967295|T>>>23),T=R+(N^S&(_^N))+L[3]+4107603335&4294967295,R=_+(T<<14&4294967295|T>>>18),T=S+(_^N&(R^_))+L[8]+1163531501&4294967295,S=R+(T<<20&4294967295|T>>>12),T=N+(R^_&(S^R))+L[13]+2850285829&4294967295,N=S+(T<<5&4294967295|T>>>27),T=_+(S^R&(N^S))+L[2]+4243563512&4294967295,_=N+(T<<9&4294967295|T>>>23),T=R+(N^S&(_^N))+L[7]+1735328473&4294967295,R=_+(T<<14&4294967295|T>>>18),T=S+(_^N&(R^_))+L[12]+2368359562&4294967295,S=R+(T<<20&4294967295|T>>>12),T=N+(S^R^_)+L[5]+4294588738&4294967295,N=S+(T<<4&4294967295|T>>>28),T=_+(N^S^R)+L[8]+2272392833&4294967295,_=N+(T<<11&4294967295|T>>>21),T=R+(_^N^S)+L[11]+1839030562&4294967295,R=_+(T<<16&4294967295|T>>>16),T=S+(R^_^N)+L[14]+4259657740&4294967295,S=R+(T<<23&4294967295|T>>>9),T=N+(S^R^_)+L[1]+2763975236&4294967295,N=S+(T<<4&4294967295|T>>>28),T=_+(N^S^R)+L[4]+1272893353&4294967295,_=N+(T<<11&4294967295|T>>>21),T=R+(_^N^S)+L[7]+4139469664&4294967295,R=_+(T<<16&4294967295|T>>>16),T=S+(R^_^N)+L[10]+3200236656&4294967295,S=R+(T<<23&4294967295|T>>>9),T=N+(S^R^_)+L[13]+681279174&4294967295,N=S+(T<<4&4294967295|T>>>28),T=_+(N^S^R)+L[0]+3936430074&4294967295,_=N+(T<<11&4294967295|T>>>21),T=R+(_^N^S)+L[3]+3572445317&4294967295,R=_+(T<<16&4294967295|T>>>16),T=S+(R^_^N)+L[6]+76029189&4294967295,S=R+(T<<23&4294967295|T>>>9),T=N+(S^R^_)+L[9]+3654602809&4294967295,N=S+(T<<4&4294967295|T>>>28),T=_+(N^S^R)+L[12]+3873151461&4294967295,_=N+(T<<11&4294967295|T>>>21),T=R+(_^N^S)+L[15]+530742520&4294967295,R=_+(T<<16&4294967295|T>>>16),T=S+(R^_^N)+L[2]+3299628645&4294967295,S=R+(T<<23&4294967295|T>>>9),T=N+(R^(S|~_))+L[0]+4096336452&4294967295,N=S+(T<<6&4294967295|T>>>26),T=_+(S^(N|~R))+L[7]+1126891415&4294967295,_=N+(T<<10&4294967295|T>>>22),T=R+(N^(_|~S))+L[14]+2878612391&4294967295,R=_+(T<<15&4294967295|T>>>17),T=S+(_^(R|~N))+L[5]+4237533241&4294967295,S=R+(T<<21&4294967295|T>>>11),T=N+(R^(S|~_))+L[12]+1700485571&4294967295,N=S+(T<<6&4294967295|T>>>26),T=_+(S^(N|~R))+L[3]+2399980690&4294967295,_=N+(T<<10&4294967295|T>>>22),T=R+(N^(_|~S))+L[10]+4293915773&4294967295,R=_+(T<<15&4294967295|T>>>17),T=S+(_^(R|~N))+L[1]+2240044497&4294967295,S=R+(T<<21&4294967295|T>>>11),T=N+(R^(S|~_))+L[8]+1873313359&4294967295,N=S+(T<<6&4294967295|T>>>26),T=_+(S^(N|~R))+L[15]+4264355552&4294967295,_=N+(T<<10&4294967295|T>>>22),T=R+(N^(_|~S))+L[6]+2734768916&4294967295,R=_+(T<<15&4294967295|T>>>17),T=S+(_^(R|~N))+L[13]+1309151649&4294967295,S=R+(T<<21&4294967295|T>>>11),T=N+(R^(S|~_))+L[4]+4149444226&4294967295,N=S+(T<<6&4294967295|T>>>26),T=_+(S^(N|~R))+L[11]+3174756917&4294967295,_=N+(T<<10&4294967295|T>>>22),T=R+(N^(_|~S))+L[2]+718787259&4294967295,R=_+(T<<15&4294967295|T>>>17),T=S+(_^(R|~N))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+_&4294967295}s.prototype.u=function(A,N){N===void 0&&(N=A.length);for(var S=N-this.blockSize,L=this.B,R=this.h,_=0;_<N;){if(R==0)for(;_<=S;)o(this,A,_),_+=this.blockSize;if(typeof A=="string"){for(;_<N;)if(L[R++]=A.charCodeAt(_++),R==this.blockSize){o(this,L),R=0;break}}else for(;_<N;)if(L[R++]=A[_++],R==this.blockSize){o(this,L),R=0;break}}this.h=R,this.o+=N},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;var S=8*this.o;for(N=A.length-8;N<A.length;++N)A[N]=S&255,S/=256;for(this.u(A),A=Array(16),N=S=0;4>N;++N)for(var L=0;32>L;L+=8)A[S++]=this.g[N]>>>L&255;return A};function c(A,N){var S=f;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=N(A)}function d(A,N){this.h=N;for(var S=[],L=!0,R=A.length-1;0<=R;R--){var _=A[R]|0;L&&_==N||(S[R]=_,L=!1)}this.g=S}var f={};function m(A){return-128<=A&&128>A?c(A,function(N){return new d([N|0],0>N?-1:0)}):new d([A|0],0>A?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return b;if(0>A)return z(g(-A));for(var N=[],S=1,L=0;A>=S;L++)N[L]=A/S|0,S*=4294967296;return new d(N,0)}function x(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return z(x(A.substring(1),N));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(N,8)),L=b,R=0;R<A.length;R+=8){var _=Math.min(8,A.length-R),T=parseInt(A.substring(R,R+_),N);8>_?(_=g(Math.pow(N,_)),L=L.j(_).add(g(T))):(L=L.j(S),L=L.add(g(T)))}return L}var b=m(0),w=m(1),D=m(16777216);t=d.prototype,t.m=function(){if(k(this))return-z(this).m();for(var A=0,N=1,S=0;S<this.g.length;S++){var L=this.i(S);A+=(0<=L?L:4294967296+L)*N,N*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M(this))return"0";if(k(this))return"-"+z(this).toString(A);for(var N=g(Math.pow(A,6)),S=this,L="";;){var R=H(S,N).g;S=G(S,R.j(N));var _=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=R,M(S))return _+L;for(;6>_.length;)_="0"+_;L=_+L}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function M(A){if(A.h!=0)return!1;for(var N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function k(A){return A.h==-1}t.l=function(A){return A=G(this,A),k(A)?-1:M(A)?0:1};function z(A){for(var N=A.g.length,S=[],L=0;L<N;L++)S[L]=~A.g[L];return new d(S,~A.h).add(w)}t.abs=function(){return k(this)?z(this):this},t.add=function(A){for(var N=Math.max(this.g.length,A.g.length),S=[],L=0,R=0;R<=N;R++){var _=L+(this.i(R)&65535)+(A.i(R)&65535),T=(_>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);L=T>>>16,_&=65535,T&=65535,S[R]=T<<16|_}return new d(S,S[S.length-1]&-2147483648?-1:0)};function G(A,N){return A.add(z(N))}t.j=function(A){if(M(this)||M(A))return b;if(k(this))return k(A)?z(this).j(z(A)):z(z(this).j(A));if(k(A))return z(this.j(z(A)));if(0>this.l(D)&&0>A.l(D))return g(this.m()*A.m());for(var N=this.g.length+A.g.length,S=[],L=0;L<2*N;L++)S[L]=0;for(L=0;L<this.g.length;L++)for(var R=0;R<A.g.length;R++){var _=this.i(L)>>>16,T=this.i(L)&65535,Z=A.i(R)>>>16,B=A.i(R)&65535;S[2*L+2*R]+=T*B,P(S,2*L+2*R),S[2*L+2*R+1]+=_*B,P(S,2*L+2*R+1),S[2*L+2*R+1]+=T*Z,P(S,2*L+2*R+1),S[2*L+2*R+2]+=_*Z,P(S,2*L+2*R+2)}for(L=0;L<N;L++)S[L]=S[2*L+1]<<16|S[2*L];for(L=N;L<2*N;L++)S[L]=0;return new d(S,0)};function P(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function I(A,N){this.g=A,this.h=N}function H(A,N){if(M(N))throw Error("division by zero");if(M(A))return new I(b,b);if(k(A))return N=H(z(A),N),new I(z(N.g),z(N.h));if(k(N))return N=H(A,z(N)),new I(z(N.g),N.h);if(30<A.g.length){if(k(A)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var S=w,L=N;0>=L.l(A);)S=U(S),L=U(L);var R=C(S,1),_=C(L,1);for(L=C(L,2),S=C(S,2);!M(L);){var T=_.add(L);0>=T.l(A)&&(R=R.add(S),_=T),L=C(L,1),S=C(S,1)}return N=G(A,R.j(N)),new I(R,N)}for(R=b;0<=A.l(N);){for(S=Math.max(1,Math.floor(A.m()/N.m())),L=Math.ceil(Math.log(S)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),_=g(S),T=_.j(N);k(T)||0<T.l(A);)S-=L,_=g(S),T=_.j(N);M(_)&&(_=w),R=R.add(_),A=G(A,T)}return new I(R,A)}t.A=function(A){return H(this,A).h},t.and=function(A){for(var N=Math.max(this.g.length,A.g.length),S=[],L=0;L<N;L++)S[L]=this.i(L)&A.i(L);return new d(S,this.h&A.h)},t.or=function(A){for(var N=Math.max(this.g.length,A.g.length),S=[],L=0;L<N;L++)S[L]=this.i(L)|A.i(L);return new d(S,this.h|A.h)},t.xor=function(A){for(var N=Math.max(this.g.length,A.g.length),S=[],L=0;L<N;L++)S[L]=this.i(L)^A.i(L);return new d(S,this.h^A.h)};function U(A){for(var N=A.g.length+1,S=[],L=0;L<N;L++)S[L]=A.i(L)<<1|A.i(L-1)>>>31;return new d(S,A.h)}function C(A,N){var S=N>>5;N%=32;for(var L=A.g.length-S,R=[],_=0;_<L;_++)R[_]=0<N?A.i(_+S)>>>N|A.i(_+S+1)<<32-N:A.i(_+S);return new d(R,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w4=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=x,Ni=d}).apply(typeof rw<"u"?rw:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _4,vu,N4,ff,Iy,j4,E4,S4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,j){return h==Array.prototype||h==Object.prototype||(h[v]=j.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var v=0;v<h.length;++v){var j=h[v];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var j=s;h=h.split(".");for(var V=0;V<h.length-1;V++){var te=h[V];if(!(te in j))break e;j=j[te]}h=h[h.length-1],V=j[h],v=v(V),v!=V&&v!=null&&e(j,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var j=0,V=!1,te={next:function(){if(!V&&j<h.length){var ue=j++;return{value:v(ue,h[ue]),done:!1}}return V=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}o("Array.prototype.values",function(h){return h||function(){return c(this,function(v,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,j){return h.call.apply(h.bind,arguments)}function b(h,v,j){if(!h)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,V),h.apply(v,te)}}return function(){return h.apply(v,arguments)}}function w(h,v,j){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:b,w.apply(null,arguments)}function D(h,v){var j=Array.prototype.slice.call(arguments,1);return function(){var V=j.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function M(h,v){function j(){}j.prototype=v.prototype,h.aa=v.prototype,h.prototype=new j,h.prototype.constructor=h,h.Qb=function(V,te,ue){for(var Se=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Se[ht-2]=arguments[ht];return v.prototype[te].apply(V,Se)}}function k(h){const v=h.length;if(0<v){const j=Array(v);for(let V=0;V<v;V++)j[V]=h[V];return j}return[]}function z(h,v){for(let j=1;j<arguments.length;j++){const V=arguments[j];if(m(V)){const te=h.length||0,ue=V.length||0;h.length=te+ue;for(let Se=0;Se<ue;Se++)h[te+Se]=V[Se]}else h.push(V)}}class G{constructor(v,j){this.i=v,this.j=j,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){return/^[\s\xa0]*$/.test(h)}function I(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function C(h,v,j){for(const V in h)v.call(j,h[V],V,h)}function A(h,v){for(const j in h)v.call(void 0,h[j],j,h)}function N(h){const v={};for(const j in h)v[j]=h[j];return v}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let j,V;for(let te=1;te<arguments.length;te++){V=arguments[te];for(j in V)h[j]=V[j];for(let ue=0;ue<S.length;ue++)j=S[ue],Object.prototype.hasOwnProperty.call(V,j)&&(h[j]=V[j])}}function R(h){var v=1;h=h.split(":");const j=[];for(;0<v&&h.length;)j.push(h.shift()),v--;return h.length&&j.push(h.join(":")),j}function _(h){f.setTimeout(()=>{throw h},0)}function T(){var h=be;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,j){const V=B.get();V.set(v,j),this.h?this.h.next=V:this.g=V,this.h=V}}var B=new G(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,j){this.h=v,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ie=!1,be=new Z,q=()=>{const h=f.Promise.resolve(void 0);X=()=>{h.then(ce)}};var ce=()=>{for(var h;h=T();){try{h.h.call(h.g)}catch(j){_(j)}var v=B;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ie=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const j=()=>{};f.addEventListener("test",j,v),f.removeEventListener("test",j,v)}catch{}return h})();function Ge(h,v){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var j=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(U){e:{try{H(v.nodeName);var te=!0;break e}catch{}te=!1}te||(v=null)}}else j=="mouseover"?v=h.fromElement:j=="mouseout"&&(v=h.toElement);this.relatedTarget=v,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Be[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ge.aa.h.call(this)}}M(Ge,ye);var Be={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function Un(h,v,j,V,te){this.listener=h,this.proxy=null,this.src=v,this.type=j,this.capture=!!V,this.ha=te,this.key=++gt,this.da=this.fa=!1}function Et(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function bn(h){this.src=h,this.g={},this.h=0}bn.prototype.add=function(h,v,j,V,te){var ue=h.toString();h=this.g[ue],h||(h=this.g[ue]=[],this.h++);var Se=ts(h,v,V,te);return-1<Se?(v=h[Se],j||(v.fa=!1)):(v=new Un(v,this.src,ue,!!V,te),v.fa=j,h.push(v)),v};function yr(h,v){var j=v.type;if(j in h.g){var V=h.g[j],te=Array.prototype.indexOf.call(V,v,void 0),ue;(ue=0<=te)&&Array.prototype.splice.call(V,te,1),ue&&(Et(v),h.g[j].length==0&&(delete h.g[j],h.h--))}}function ts(h,v,j,V){for(var te=0;te<h.length;++te){var ue=h[te];if(!ue.da&&ue.listener==v&&ue.capture==!!j&&ue.ha==V)return te}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),vs={};function Pa(h,v,j,V,te){if(Array.isArray(v)){for(var ue=0;ue<v.length;ue++)Pa(h,v[ue],j,V,te);return null}return j=_e(j),h&&h[Vt]?h.K(v,j,g(V)?!!V.capture:!1,te):Cn(h,v,j,!1,V,te)}function Cn(h,v,j,V,te,ue){if(!v)throw Error("Invalid event type");var Se=g(te)?!!te.capture:!!te,ht=Te(h);if(ht||(h[wn]=ht=new bn(h)),j=ht.add(v,j,V,Se,ue),j.proxy)return j;if(V=Uo(),j.proxy=V,V.src=h,V.listener=j,h.addEventListener)Ae||(te=Se),te===void 0&&(te=!1),h.addEventListener(v.toString(),V,te);else if(h.attachEvent)h.attachEvent(re(v.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Uo(){function h(j){return v.call(h.src,h.listener,j)}const v=de;return h}function bs(h,v,j,V,te){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)bs(h,v[ue],j,V,te);else V=g(V)?!!V.capture:!!V,j=_e(j),h&&h[Vt]?(h=h.i,v=String(v).toString(),v in h.g&&(ue=h.g[v],j=ts(ue,j,V,te),-1<j&&(Et(ue[j]),Array.prototype.splice.call(ue,j,1),ue.length==0&&(delete h.g[v],h.h--)))):h&&(h=Te(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ts(v,j,V,te)),(j=-1<h?v[h]:null)&&Q(j))}function Q(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Vt])yr(v.i,h);else{var j=h.type,V=h.proxy;v.removeEventListener?v.removeEventListener(j,V,h.capture):v.detachEvent?v.detachEvent(re(j),V):v.addListener&&v.removeListener&&v.removeListener(V),(j=Te(v))?(yr(j,h),j.h==0&&(j.src=null,v[wn]=null)):Et(h)}}}function re(h){return h in vs?vs[h]:vs[h]="on"+h}function de(h,v){if(h.da)h=!0;else{v=new Ge(v,this);var j=h.listener,V=h.ha||h.src;h.fa&&Q(h),h=j.call(V,v)}return h}function Te(h){return h=h[wn],h instanceof bn?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(v){return h.handleEvent(v)}),h[Ee])}function Ne(){xe.call(this),this.i=new bn(this),this.M=this,this.F=null}M(Ne,xe),Ne.prototype[Vt]=!0,Ne.prototype.removeEventListener=function(h,v,j,V){bs(this,h,v,j,V)};function Re(h,v){var j,V=h.F;if(V)for(j=[];V;V=V.F)j.push(V);if(h=h.M,V=v.type||v,typeof v=="string")v=new ye(v,h);else if(v instanceof ye)v.target=v.target||h;else{var te=v;v=new ye(V,h),L(v,te)}if(te=!0,j)for(var ue=j.length-1;0<=ue;ue--){var Se=v.g=j[ue];te=tt(Se,V,!0,v)&&te}if(Se=v.g=h,te=tt(Se,V,!0,v)&&te,te=tt(Se,V,!1,v)&&te,j)for(ue=0;ue<j.length;ue++)Se=v.g=j[ue],te=tt(Se,V,!1,v)&&te}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var j=h.g[v],V=0;V<j.length;V++)Et(j[V]);delete h.g[v],h.h--}}this.F=null},Ne.prototype.K=function(h,v,j,V){return this.i.add(String(h),v,!1,j,V)},Ne.prototype.L=function(h,v,j,V){return this.i.add(String(h),v,!0,j,V)};function tt(h,v,j,V){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var te=!0,ue=0;ue<v.length;++ue){var Se=v[ue];if(Se&&!Se.da&&Se.capture==j){var ht=Se.listener,hn=Se.ha||Se.src;Se.fa&&yr(h.i,Se),te=ht.call(hn,V)!==!1&&te}}return te&&!V.defaultPrevented}function yt(h,v,j){if(typeof h=="function")j&&(h=w(h,j));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function ns(h){h.g=yt(()=>{h.g=null,h.i&&(h.i=!1,ns(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Zt extends xe{constructor(v,j){super(),this.m=v,this.l=j,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(h){xe.call(this),this.h=h,this.g={}}M(Ir,xe);var ar=[];function ir(h){C(h.g,function(v,j){this.g.hasOwnProperty(j)&&Q(v)},h),h.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),ir(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=f.JSON.stringify,Or=f.JSON.parse,or=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function rs(){}rs.prototype.h=null;function Xs(h){return h.h||(h.h=h.i())}function Bi(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ss(){ye.call(this,"d")}M(ss,ye);function Ma(){ye.call(this,"c")}M(Ma,ye);var Kn={},ws=null;function _s(){return ws=ws||new Ne}Kn.La="serverreachability";function ka(h){ye.call(this,Kn.La,h)}M(ka,ye);function Y(h){const v=_s();Re(v,new ka(v))}Kn.STAT_EVENT="statevent";function ee(h,v){ye.call(this,Kn.STAT_EVENT,h),this.stat=v}M(ee,ye);function ae(h){const v=_s();Re(v,new ee(v,h))}Kn.Ma="timingevent";function pe(h,v){ye.call(this,Kn.Ma,h),this.size=v}M(pe,ye);function we(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function Ve(h,v,j,V,te,ue){h.info(function(){if(h.g)if(ue)for(var Se="",ht=ue.split("&"),hn=0;hn<ht.length;hn++){var ft=ht[hn].split("=");if(1<ft.length){var jn=ft[0];ft=ft[1];var fn=jn.split("_");Se=2<=fn.length&&fn[1]=="type"?Se+(jn+"="+ft+"&"):Se+(jn+"=redacted&")}}else Se=null;else Se=ue;return"XMLHTTP REQ ("+V+") [attempt "+te+"]: "+v+`
`+j+`
`+Se})}function Pe(h,v,j,V,te,ue,Se){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+te+"]: "+v+`
`+j+`
`+ue+" "+Se})}function Me(h,v,j,V){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ke(h,j)+(V?" "+V:"")})}function He(h,v){h.info(function(){return"TIMEOUT: "+v})}Ce.prototype.info=function(){};function ke(h,v){if(!h.g)return v;if(!v)return null;try{var j=JSON.parse(v);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var V=j[h];if(!(2>V.length)){var te=V[1];if(Array.isArray(te)&&!(1>te.length)){var ue=te[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Se=1;Se<te.length;Se++)te[Se]=""}}}}return Gn(j)}catch{return v}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xt;function Ot(){}M(Ot,rs),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},xt=new Ot;function bt(h,v,j,V){this.j=h,this.i=v,this.l=j,this.R=V||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ze}function Ze(){this.i=null,this.g="",this.h=!1}var wt={},lr={};function Dn(h,v,j){h.L=1,h.v=$i(br(v)),h.m=j,h.P=!0,_n(h,null)}function _n(h,v){h.F=Date.now(),xr(h),h.A=br(h.v);var j=h.A,V=h.R;Array.isArray(V)||(V=[String(V)]),ac(j.i,"t",V),h.C=0,j=h.j.J,h.h=new Ze,h.g=Md(h.j,j?v:null,!h.m),0<h.O&&(h.M=new Zt(w(h.Y,h,h.g),h.O)),v=h.U,j=h.g,V=h.ca;var te="readystatechange";Array.isArray(te)||(te&&(ar[0]=te.toString()),te=ar);for(var ue=0;ue<te.length;ue++){var Se=Pa(j,te[ue],V||v.handleEvent,!1,v.h||v);if(!Se)break;v.g[Se.key]=Se}v=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Y(),Ve(h.i,h.u,h.A,h.l,h.R,h.m)}bt.prototype.ca=function(h){h=h.target;const v=this.M;v&&Ur(h)==3?v.j():this.Y(h)},bt.prototype.Y=function(h){try{if(h==this.g)e:{const fn=Ur(this.g);var v=this.g.Ba();const aa=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||Td(this.g)))){this.J||fn!=4||v==7||(v==8||0>=aa?Y(3):Y(2)),vr(this);var j=this.g.Z();this.X=j;t:if(Yn(this)){var V=Td(this.g);h="";var te=V.length,ue=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Qn(this);var Se="";break t}this.h.i=new f.TextDecoder}for(v=0;v<te;v++)this.h.h=!0,h+=this.h.i.decode(V[v],{stream:!(ue&&v==te-1)});V.length=0,this.h.g+=h,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=j==200,Pe(this.i,this.u,this.A,this.l,this.R,fn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,hn=this.g;if((ht=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ht)){var ft=ht;break t}}ft=null}if(j=ft)Me(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,j);else{this.o=!1,this.s=3,ae(12),We(this),Qn(this);break e}}if(this.P){j=!0;let In;for(;!this.J&&this.C<Se.length;)if(In=La(this,Se),In==lr){fn==4&&(this.s=4,ae(14),j=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}else if(In==wt){this.s=4,ae(15),Me(this.i,this.l,Se,"[Invalid Chunk]"),j=!1;break}else Me(this.i,this.l,In,null),Ft(this,In);if(Yn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||Se.length!=0||this.h.h||(this.s=1,ae(16),j=!1),this.o=this.o&&j,!j)Me(this.i,this.l,Se,"[Invalid Chunked Response]"),We(this),Qn(this);else if(0<Se.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Zi(jn),jn.M=!0,ae(11))}}else Me(this.i,this.l,Se,null),Ft(this,Se);fn==4&&We(this),this.o&&!this.J&&(fn==4?Id(this.j,this):(this.o=!1,xr(this)))}else Om(this.g),j==400&&0<Se.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),We(this),Qn(this)}}}catch{}finally{}};function Yn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function La(h,v){var j=h.C,V=v.indexOf(`
`,j);return V==-1?lr:(j=Number(v.substring(j,V)),isNaN(j)?wt:(V+=1,V+j>v.length?lr:(v=v.slice(V,V+j),h.C=V+j,v)))}bt.prototype.cancel=function(){this.J=!0,We(this)};function xr(h){h.S=Date.now()+h.I,Mr(h,h.I)}function Mr(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=we(w(h.ba,h),v)}function vr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}bt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(He(this.i,this.A),this.L!=2&&(Y(),ae(17)),We(this),this.s=2,Qn(this)):Mr(this,this.S-h)};function Qn(h){h.j.G==0||h.J||Id(h.j,h)}function We(h){vr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ir(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ft(h,v){try{var j=h.j;if(j.G!=0&&(j.g==h||Va(j.h,h))){if(!h.K&&Va(j.h,h)&&j.G==3){try{var V=j.Da.g.parse(v)}catch{V=null}if(Array.isArray(V)&&V.length==3){var te=V;if(te[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<h.F)Yo(j),Go(j);else break e;uc(j),ae(18)}}else j.za=te[1],0<j.za-j.T&&37500>te[2]&&j.F&&j.v==0&&!j.C&&(j.C=we(w(j.Za,j),6e3));if(1>=as(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else sa(j,11)}else if((h.K||j.g==h)&&Yo(j),!P(v))for(te=j.Da.g.parse(v),v=0;v<te.length;v++){let ft=te[v];if(j.T=ft[0],ft=ft[1],j.G==2)if(ft[0]=="c"){j.K=ft[1],j.ia=ft[2];const jn=ft[3];jn!=null&&(j.la=jn,j.j.info("VER="+j.la));const fn=ft[4];fn!=null&&(j.Aa=fn,j.j.info("SVER="+j.Aa));const aa=ft[5];aa!=null&&typeof aa=="number"&&0<aa&&(V=1.5*aa,j.L=V,j.j.info("backChannelRequestTimeoutMs_="+V)),V=j;const In=h.g;if(In){const Rs=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var ue=V.h;ue.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Ua(ue,ue.h),ue.h=null))}if(V.D){const hc=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(V.ya=hc,At(V.I,V.D,hc))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-h.F,j.j.info("Handshake RTT: "+j.R+"ms")),V=j;var Se=h;if(V.qa=Pd(V,V.J?V.ia:null,V.W),Se.K){Xn(V.h,Se);var ht=Se,hn=V.L;hn&&(ht.I=hn),ht.B&&(vr(ht),xr(ht)),V.g=Se}else Cd(V);0<j.i.length&&Ko(j)}else ft[0]!="stop"&&ft[0]!="close"||sa(j,7);else j.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?sa(j,7):lc(j):ft[0]!="noop"&&j.l&&j.l.ta(ft),j.v=0)}}Y(4)}catch{}}var Js=class{constructor(h,v){this.g=h,this.map=v}};function Wn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function as(h){return h.h?1:h.g?h.g.size:0}function Va(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ua(h,v){h.g?h.g.add(v):h.h=v}function Xn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Wn.prototype.cancel=function(){if(this.i=tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function tc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const j of h.g.values())v=v.concat(j.D);return v}return k(h.i)}function Rm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],j=h.length,V=0;V<j;V++)v.push(h[V]);return v}v=[],j=0;for(V in h)v[j++]=h[V];return v}function zo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var j=0;j<h;j++)v.push(j);return v}v=[],j=0;for(const V in h)v[j++]=V;return v}}}function nc(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var j=zo(h),V=Rm(h),te=V.length,ue=0;ue<te;ue++)v.call(void 0,V[ue],j&&j[ue],h)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cm(h,v){if(h){h=h.split("&");for(var j=0;j<h.length;j++){var V=h[j].indexOf("="),te=null;if(0<=V){var ue=h[j].substring(0,V);te=h[j].substring(V+1)}else ue=h[j];v(ue,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function sn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof sn){this.h=h.h,qi(this,h.j),this.o=h.o,this.g=h.g,za(this,h.s),this.l=h.l;var v=h.i,j=new ea;j.i=v.i,v.g&&(j.g=new Map(v.g),j.h=v.h),Zs(this,j),this.m=h.m}else h&&(v=String(h).match(Hi))?(this.h=!1,qi(this,v[1]||"",!0),this.o=kr(v[2]||""),this.g=kr(v[3]||"",!0),za(this,v[4]),this.l=kr(v[5]||"",!0),Zs(this,v[6]||"",!0),this.m=kr(v[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}sn.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Gi(v,rc,!0),":");var j=this.g;return(j||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Gi(v,rc,!0),"@"),h.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&h.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&h.push("/"),h.push(Gi(j,j.charAt(0)=="/"?Dm:sc,!0))),(j=this.i.toString())&&h.push("?",j),(j=this.m)&&h.push("#",Gi(j,Fo)),h.join("")};function br(h){return new sn(h)}function qi(h,v,j){h.j=j?kr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function za(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Zs(h,v,j){v instanceof ea?(h.i=v,Ed(h.i,h.h)):(j||(v=Gi(v,Im)),h.i=new ea(v,h.h))}function At(h,v,j){h.i.set(v,j)}function $i(h){return At(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function kr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gi(h,v,j){return typeof h=="string"?(h=encodeURI(h).replace(v,jd),j&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var rc=/[#\/\?@]/g,sc=/[#\?:]/g,Dm=/[#\?]/g,Im=/[#\?@]/g,Fo=/#/g;function ea(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Lr(h){h.g||(h.g=new Map,h.h=0,h.i&&Cm(h.i,function(v,j){h.add(decodeURIComponent(v.replace(/\+/g," ")),j)}))}t=ea.prototype,t.add=function(h,v){Lr(this),this.i=null,h=Ns(this,h);var j=this.g.get(h);return j||this.g.set(h,j=[]),j.push(v),this.h+=1,this};function ta(h,v){Lr(h),v=Ns(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function na(h,v){return Lr(h),v=Ns(h,v),h.g.has(v)}t.forEach=function(h,v){Lr(this),this.g.forEach(function(j,V){j.forEach(function(te){h.call(v,te,V,this)},this)},this)},t.na=function(){Lr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),j=[];for(let V=0;V<v.length;V++){const te=h[V];for(let ue=0;ue<te.length;ue++)j.push(v[V])}return j},t.V=function(h){Lr(this);let v=[];if(typeof h=="string")na(this,h)&&(v=v.concat(this.g.get(Ns(this,h))));else{h=Array.from(this.g.values());for(let j=0;j<h.length;j++)v=v.concat(h[j])}return v},t.set=function(h,v){return Lr(this),this.i=null,h=Ns(this,h),na(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ac(h,v,j){ta(h,v),0<j.length&&(h.i=null,h.g.set(Ns(h,v),k(j)),h.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var j=0;j<v.length;j++){var V=v[j];const ue=encodeURIComponent(String(V)),Se=this.V(V);for(V=0;V<Se.length;V++){var te=ue;Se[V]!==""&&(te+="="+encodeURIComponent(String(Se[V]))),h.push(te)}}return this.i=h.join("&")};function Ns(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ed(h,v){v&&!h.j&&(Lr(h),h.i=null,h.g.forEach(function(j,V){var te=V.toLowerCase();V!=te&&(ta(this,V),ac(this,te,j))},h)),h.j=v}function Ki(h,v){const j=new Ce;if(f.Image){const V=new Image;V.onload=D(Vr,j,"TestLoadImage: loaded",!0,v,V),V.onerror=D(Vr,j,"TestLoadImage: error",!1,v,V),V.onabort=D(Vr,j,"TestLoadImage: abort",!1,v,V),V.ontimeout=D(Vr,j,"TestLoadImage: timeout",!1,v,V),f.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else v(!1)}function is(h,v){const j=new Ce,V=new AbortController,te=setTimeout(()=>{V.abort(),Vr(j,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:V.signal}).then(ue=>{clearTimeout(te),ue.ok?Vr(j,"TestPingServer: ok",!0,v):Vr(j,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(te),Vr(j,"TestPingServer: error",!1,v)})}function Vr(h,v,j,V,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),V(j)}catch{}}function Yi(){this.g=new or}function js(h,v,j){const V=j||"";try{nc(h,function(te,ue){let Se=te;g(te)&&(Se=Gn(te)),v.push(V+ue+"="+encodeURIComponent(Se))})}catch(te){throw v.push(V+"type="+encodeURIComponent("_badmap")),te}}function Fa(h){this.l=h.Ub||null,this.j=h.eb||!1}M(Fa,rs),Fa.prototype.g=function(){return new ra(this.l,this.j)},Fa.prototype.i=(function(h){return function(){return h}})({});function ra(h,v){Ne.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ra,Ne),t=ra.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ss(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ic(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ic(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Es(this):Ss(this),this.readyState==3&&ic(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Es(this))},t.Qa=function(h){this.g&&(this.response=h,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ss(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var j=v.next();!j.done;)j=j.value,h.push(j[0]+": "+j[1]),j=v.next();return h.join(`\r
`)};function Ss(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oc(h){let v="";return C(h,function(j,V){v+=V,v+=":",v+=j,v+=`\r
`}),v}function Nn(h,v,j){e:{for(V in j){var V=!1;break e}V=!0}V||(j=oc(j),typeof h=="string"?j!=null&&encodeURIComponent(String(j)):At(h,v,j))}function jt(h){Ne.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(jt,Ne);var Bo=/^https?$/i,Qi=["POST","PUT"];t=jt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,j,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xt.g(),this.v=this.o?Xs(this.o):Xs(xt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ue){Sd(this,ue);return}if(h=j||"",j=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var te in V)j.set(te,V[te]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ue of V.keys())j.set(ue,V.get(ue));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(j.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qi,v,void 0))||V||te||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Se]of j)this.g.setRequestHeader(ue,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wi(this),this.u=!0,this.g.send(h),this.u=!1}catch(ue){Sd(this,ue)}};function Sd(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ho(h),Ts(h)}function Ho(h){h.A||(h.A=!0,Re(h,"complete"),Re(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Re(this,"complete"),Re(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qo(this):this.bb())},t.bb=function(){qo(this)};function qo(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Ur(h)!=4||h.Z()!=2)){if(h.u&&Ur(h)==4)yt(h.Ea,0,h);else if(Re(h,"readystatechange"),Ur(h)==4){h.h=!1;try{const Se=h.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var j;if(!(j=v)){var V;if(V=Se===0){var te=String(h.D).match(Hi)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),V=!Bo.test(te?te.toLowerCase():"")}j=V}if(j)Re(h,"complete"),Re(h,"success");else{h.m=6;try{var ue=2<Ur(h)?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.Z()+"]",Ho(h)}}finally{Ts(h)}}}}function Ts(h,v){if(h.g){Wi(h);const j=h.g,V=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Re(h,"ready");try{j.onreadystatechange=V}catch{}}}function Wi(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ur(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Or(v)}};function Td(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(h){const v={};h=(h.g&&2<=Ur(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(P(h[V]))continue;var j=R(h[V]);const te=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ue=v[te]||[];v[te]=ue,ue.push(j)}A(v,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,v,j){return j&&j.internalChannelParams&&j.internalChannelParams[h]||v}function $o(h){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,h),this.cb=Xi("retryDelaySeedMs",1e4,h),this.Wa=Xi("forwardChannelMaxRetries",2,h),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Wn(h&&h.concurrentRequestLimit),this.Da=new Yi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$o.prototype,t.la=8,t.G=1,t.connect=function(h,v,j,V){ae(0),this.W=h,this.H=v||{},j&&V!==void 0&&(this.H.OSID=j,this.H.OAID=V),this.F=this.X,this.I=Pd(this,null,this.W),Ko(this)};function lc(h){if(Ad(h),h.G==3){var v=h.U++,j=br(h.I);if(At(j,"SID",h.K),At(j,"RID",v),At(j,"TYPE","terminate"),Ji(h,j),v=new bt(h,h.j,v),v.L=2,v.v=$i(br(j)),j=!1,f.navigator&&f.navigator.sendBeacon)try{j=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!j&&f.Image&&(new Image().src=v.v,j=!0),j||(v.g=Md(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xr(v)}Od(h)}function Go(h){h.g&&(Zi(h),h.g.cancel(),h.g=null)}function Ad(h){Go(h),h.u&&(f.clearTimeout(h.u),h.u=null),Yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ko(h){if(!kt(h.h)&&!h.s){h.s=!0;var v=h.Ga;X||q(),ie||(X(),ie=!0),be.add(v,h),h.B=0}}function Pm(h,v){return as(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=we(w(h.Ga,h,v),dc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const te=new bt(this,this.j,h);let ue=this.o;if(this.S&&(ue?(ue=N(ue),L(ue,this.S)):ue=this.S),this.m!==null||this.O||(te.H=ue,ue=null),this.P)e:{for(var v=0,j=0;j<this.i.length;j++){t:{var V=this.i[j];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(v+=V,4096<v){v=j;break e}if(v===4096||j===this.i.length-1){v=j+1;break e}}v=1e3}else v=1e3;v=Rd(this,te,v),j=br(this.I),At(j,"RID",h),At(j,"CVER",22),this.D&&At(j,"X-HTTP-Session-Id",this.D),Ji(this,j),ue&&(this.O?v="headers="+encodeURIComponent(String(oc(ue)))+"&"+v:this.m&&Nn(j,this.m,ue)),Ua(this.h,te),this.Ua&&At(j,"TYPE","init"),this.P?(At(j,"$req",v),At(j,"SID","null"),te.T=!0,Dn(te,j,null)):Dn(te,j,v),this.G=2}}else this.G==3&&(h?cc(this,h):this.i.length==0||kt(this.h)||cc(this))};function cc(h,v){var j;v?j=v.l:j=h.U++;const V=br(h.I);At(V,"SID",h.K),At(V,"RID",j),At(V,"AID",h.T),Ji(h,V),h.m&&h.o&&Nn(V,h.m,h.o),j=new bt(h,h.j,j,h.B+1),h.m===null&&(j.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rd(h,j,1e3),j.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ua(h.h,j),Dn(j,V,v)}function Ji(h,v){h.H&&C(h.H,function(j,V){At(v,V,j)}),h.l&&nc({},function(j,V){At(v,V,j)})}function Rd(h,v,j){j=Math.min(h.i.length,j);var V=h.l?w(h.l.Na,h.l,h):null;e:{var te=h.i;let ue=-1;for(;;){const Se=["count="+j];ue==-1?0<j?(ue=te[0].g,Se.push("ofs="+ue)):ue=0:Se.push("ofs="+ue);let ht=!0;for(let hn=0;hn<j;hn++){let ft=te[hn].g;const jn=te[hn].map;if(ft-=ue,0>ft)ue=Math.max(0,te[hn].g-100),ht=!1;else try{js(jn,Se,"req"+ft+"_")}catch{V&&V(jn)}}if(ht){V=Se.join("&");break e}}}return h=h.i.splice(0,j),v.D=h,V}function Cd(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;X||q(),ie||(X(),ie=!0),be.add(v,h),h.v=0}}function uc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=we(w(h.Fa,h),dc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=we(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Go(this),Dd(this))};function Zi(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Dd(h){h.g=new bt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=br(h.qa);At(v,"RID","rpc"),At(v,"SID",h.K),At(v,"AID",h.T),At(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&At(v,"TO",h.ja),At(v,"TYPE","xmlhttp"),Ji(h,v),h.m&&h.o&&Nn(v,h.m,h.o),h.L&&(h.g.I=h.L);var j=h.g;h=h.ia,j.L=1,j.v=$i(br(v)),j.m=null,j.P=!0,_n(j,h)}t.Za=function(){this.C!=null&&(this.C=null,Go(this),uc(this),ae(19))};function Yo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Id(h,v){var j=null;if(h.g==v){Yo(h),Zi(h),h.g=null;var V=2}else if(Va(h.h,v))j=v.D,Xn(h.h,v),V=1;else return;if(h.G!=0){if(v.o)if(V==1){j=v.m?v.m.length:0,v=Date.now()-v.F;var te=h.B;V=_s(),Re(V,new pe(V,j)),Ko(h)}else Cd(h);else if(te=v.s,te==3||te==0&&0<v.X||!(V==1&&Pm(h,v)||V==2&&uc(h)))switch(j&&0<j.length&&(v=h.h,v.i=v.i.concat(j)),te){case 1:sa(h,5);break;case 4:sa(h,10);break;case 3:sa(h,6);break;default:sa(h,2)}}}function dc(h,v){let j=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(j*=2),j*v}function sa(h,v){if(h.j.info("Error code "+v),v==2){var j=w(h.fb,h),V=h.Xa;const te=!V;V=new sn(V||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qi(V,"https"),$i(V),te?Ki(V.toString(),j):is(V.toString(),j)}else ae(2);h.G=0,h.l&&h.l.sa(v),Od(h),Ad(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Od(h){if(h.G=0,h.ka=[],h.l){const v=tc(h.h);(v.length!=0||h.i.length!=0)&&(z(h.ka,v),z(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function Pd(h,v,j){var V=j instanceof sn?br(j):new sn(j);if(V.g!="")v&&(V.g=v+"."+V.g),za(V,V.s);else{var te=f.location;V=te.protocol,v=v?v+"."+te.hostname:te.hostname,te=+te.port;var ue=new sn(null);V&&qi(ue,V),v&&(ue.g=v),te&&za(ue,te),j&&(ue.l=j),V=ue}return j=h.D,v=h.ya,j&&v&&At(V,j,v),At(V,"VER",h.la),Ji(h,V),V}function Md(h,v,j){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new jt(new Fa({eb:j})):new jt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}t=kd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qo(){}Qo.prototype.g=function(h,v){return new Jn(h,v)};function Jn(h,v){Ne.call(this),this.g=new $o(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!P(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new As(this)}M(Jn,Ne),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){lc(this.g)},Jn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var j={};j.__data__=h,h=j}else this.u&&(j={},j.__data__=Gn(h),h=j);v.i.push(new Js(v.Ya++,h)),v.G==3&&Ko(v)},Jn.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Jn.aa.N.call(this)};function Ld(h){ss.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const j in v){h=j;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}M(Ld,ss);function Vd(){Ma.call(this),this.status=1}M(Vd,Ma);function As(h){this.g=h}M(As,kd),As.prototype.ua=function(){Re(this.g,"a")},As.prototype.ta=function(h){Re(this.g,new Ld(h))},As.prototype.sa=function(h){Re(this.g,new Vd)},As.prototype.ra=function(){Re(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,S4=function(){return new Qo},E4=function(){return _s()},j4=Kn,Iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,ff=Le,nt.COMPLETE="complete",N4=nt,Bi.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,vu=Bi,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,_4=jt}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const sw="@firebase/firestore",aw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new p0("@firebase/firestore");function Rl(){return To.logLevel}function De(t,...e){if(To.logLevel<=ct.DEBUG){const n=e.map(A0);To.debug(`Firestore (${Wl}): ${t}`,...n)}}function Da(t,...e){if(To.logLevel<=ct.ERROR){const n=e.map(A0);To.error(`Firestore (${Wl}): ${t}`,...n)}}function Fl(t,...e){if(To.logLevel<=ct.WARN){const n=e.map(A0);To.warn(`Firestore (${Wl}): ${t}`,...n)}}function A0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,T4(t,s,n)}function T4(t,e,n){let s=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Da(s),new Error(s)}function Nt(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||T4(e,o,s)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class I8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class O8{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let c=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ea,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ea)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nt(typeof s.accessToken=="string",31837,{l:s}),new A4(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class P8{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M8{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new P8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nt(this.o===void 0,3512);const s=c=>{c.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,De("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=L8(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function ut(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),c=e.charAt(s);if(o!==c)return Qg(o)===Qg(c)?ut(o,c):Qg(o)?1:-1}return ut(t.length,e.length)}const V8=55296,U8=57343;function Qg(t){const e=t.charCodeAt(0);return e>=V8&&e<=U8}function Bl(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__name__";class Ms{constructor(e,n,s){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Ms.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ut(e.length,n.length)}static compareSegments(e,n){const s=Ms.isNumericId(e),o=Ms.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class Ut extends Ms{construct(e,n,s){return new Ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ze(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const z8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Ms{construct(e,n,s){return new Ln(e,n,s)}static isValidIdentifier(e){return z8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new Ln([ow])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ze(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ze(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ze(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(c(),o++)}if(c(),d)throw new ze(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ut.fromString(e))}static fromName(e){return new qe(Ut.fromString(e).popFirst(5))}static empty(){return new qe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,n){if(!n)throw new ze(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F8(t,e,n,s){if(e===!0&&s===!0)throw new ze(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lw(t){if(!qe.isDocumentKey(t))throw new ze(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cw(t){if(qe.isDocumentKey(t))throw new ze(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Hl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new ze(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function od(t,e){if(!C4(t))throw new ze(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const d=t[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ze(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=-62135596800,dw=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*dw);return new zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uw)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dw}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(od(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:dn("string",zt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new zt(0,0))}static max(){return new et(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function B8(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=et.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new Ai(o,qe.empty(),e)}function H8(t){return new Ai(t.readTime,t.key,qu)}class Ai{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ai(et.min(),qe.empty(),qu)}static max(){return new Ai(et.max(),qe.empty(),qu)}}function q8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==$8)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,s)=>{n(e)}))}static reject(e){return new ge(((n,s)=>{s(e)}))}static waitFor(e){return new ge(((n,s)=>{let o=0,c=0,d=!1;e.forEach((f=>{++o,f.next((()=>{++c,d&&c===o&&n()}),(m=>s(m)))})),d=!0,c===o&&n()}))}static or(e){let n=ge.resolve(!1);for(const s of e)n=n.next((o=>o?ge.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ge(((s,o)=>{const c=e.length,d=new Array(c);let f=0;for(let m=0;m<c;m++){const g=m;n(e[g]).next((x=>{d[g]=x,++f,f===c&&s(d)}),(x=>o(x)))}}))}static doWhile(e,n){return new ge(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function K8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}um.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-1;function dm(t){return t==null}function If(t){return t===0&&1/t==-1/0}function Y8(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="";function Q8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hw(e)),e=W8(t.get(n),e);return hw(e)}function W8(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const c=t.charAt(o);switch(c){case"\0":n+="";break;case D4:n+="";break;default:n+=c}}return n}function hw(t){return t+D4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X8(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function I4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??kn.RED,this.left=o??kn.EMPTY,this.right=c??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new kn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return kn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new gs([])}unionWith(e){let n=new xn(Ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new O4("Invalid base64 string: "+c):c}})(e);return new Vn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const J8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Nt(!!t,39018),typeof t=="string"){let e=0;const n=J8.exec(t);if(Nt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="server_timestamp",M4="__type__",k4="__previous_value__",L4="__local_write_time__";function I0(t){return(t?.mapValue?.fields||{})[M4]?.stringValue===P4}function hm(t){const e=t.mapValue.fields[k4];return I0(e)?hm(e):e}function $u(t){const e=Ri(t.mapValue.fields[L4].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,s,o,c,d,f,m,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=x}}const Of="(default)";class Gu{constructor(e,n){this.projectId=e,this.database=n||Of}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Of}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__type__",e9="__max__",Gh={mapValue:{}},U4="__vector__",Pf="value";function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:n9(t)?9007199254740991:t9(t)?10:11:Qe(28295,{value:t})}function Ks(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ri(o.timestampValue),f=Ri(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,c){return Ci(o.bytesValue).isEqual(Ci(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,c){return nn(o.geoPointValue.latitude)===nn(c.geoPointValue.latitude)&&nn(o.geoPointValue.longitude)===nn(c.geoPointValue.longitude)})(t,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return nn(o.integerValue)===nn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=nn(o.doubleValue),f=nn(c.doubleValue);return d===f?If(d)===If(f):isNaN(d)&&isNaN(f)}return!1})(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},f=c.mapValue.fields||{};if(fw(d)!==fw(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(f[m]===void 0||!Ks(d[m],f[m])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function Ku(t,e){return(t.values||[]).find((n=>Ks(n,e)))!==void 0}function ql(t,e){if(t===e)return 0;const n=Di(t),s=Di(e);if(n!==s)return ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(c,d){const f=nn(c.integerValue||c.doubleValue),m=nn(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw($u(t),$u(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return(function(c,d){const f=Ci(c),m=Ci(d);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(c,d){const f=c.split("/"),m=d.split("/");for(let g=0;g<f.length&&g<m.length;g++){const x=ut(f[g],m[g]);if(x!==0)return x}return ut(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,d){const f=ut(nn(c.latitude),nn(d.latitude));return f!==0?f:ut(nn(c.longitude),nn(d.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gw(t.arrayValue,e.arrayValue);case 10:return(function(c,d){const f=c.fields||{},m=d.fields||{},g=f[Pf]?.arrayValue,x=m[Pf]?.arrayValue,b=ut(g?.values?.length||0,x?.values?.length||0);return b!==0?b:gw(g,x)})(t.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gh.mapValue&&d===Gh.mapValue)return 0;if(c===Gh.mapValue)return 1;if(d===Gh.mapValue)return-1;const f=c.fields||{},m=Object.keys(f),g=d.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let b=0;b<m.length&&b<x.length;++b){const w=Oy(m[b],x[b]);if(w!==0)return w;const D=ql(f[m[b]],g[x[b]]);if(D!==0)return D}return ut(m.length,x.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Ri(t),s=Ri(e),o=ut(n.seconds,s.seconds);return o!==0?o:ut(n.nanos,s.nanos)}function gw(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=ql(n[o],s[o]);if(c)return c}return ut(n.length,s.length)}function $l(t){return Py(t)}function Py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ri(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ci(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Py(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Py(n.fields[d])}`;return o+"}"})(t.mapValue):Qe(61005,{value:t})}function mf(t){switch(Di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+mf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+mf(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return Mo(s.fields,((c,d)=>{o+=c.length+mf(d)})),o})(t.mapValue);default:throw Qe(13486,{value:t})}}function My(t){return!!t&&"integerValue"in t}function O0(t){return!!t&&"arrayValue"in t}function yw(t){return!!t&&"nullValue"in t}function xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function t9(t){return(t?.mapValue?.fields||{})[V4]?.stringValue===U4}function Au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Au(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return{...t}}function n9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=Ln.emptyPath(),s={},o=[];e.forEach(((d,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=f.popLast()}d?s[f.lastSegment()]=Au(d):o.push(f.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Mo(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Qr(Au(this.value))}}function z4(t){const e=[];return Mo(t.fields,((n,s)=>{const o=new Ln([n]);if(pf(s)){const c=z4(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new gs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,s,o,c,d,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new qn(e,0,et.min(),et.min(),et.min(),Qr.empty(),0)}static newFoundDocument(e,n,s,o){return new qn(e,1,n,et.min(),s,o,0)}static newNoDocument(e,n){return new qn(e,2,n,et.min(),et.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,et.min(),et.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.position=e,this.inclusive=n}}function vw(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const c=e[o],d=t.position[o];if(c.field.isKeyField()?s=qe.comparator(qe.fromName(d.referenceValue),n.key):s=ql(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function r9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class gn extends F4{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a9(e,n,s):n==="array-contains"?new l9(e,s):n==="in"?new c9(e,s):n==="not-in"?new u9(e,s):n==="array-contains-any"?new d9(e,s):new gn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new i9(e,s):new o9(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ql(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends F4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ys(e,n)}matches(e){return B4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B4(t){return t.op==="and"}function H4(t){return s9(t)&&B4(t)}function s9(t){for(const e of t.filters)if(e instanceof Ys)return!1;return!0}function ky(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(H4(t))return t.filters.map((e=>ky(e))).join(",");{const e=t.filters.map((n=>ky(n))).join(",");return`${t.op}(${e})`}}function q4(t,e){return t instanceof gn?(function(s,o){return o instanceof gn&&s.op===o.op&&s.field.isEqual(o.field)&&Ks(s.value,o.value)})(t,e):t instanceof Ys?(function(s,o){return o instanceof Ys&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,f)=>c&&q4(d,o.filters[f])),!0):!1})(t,e):void Qe(19439)}function $4(t){return t instanceof gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`})(t):t instanceof Ys?(function(n){return n.op.toString()+" {"+n.getFilters().map($4).join(" ,")+"}"})(t):"Filter"}class a9 extends gn{constructor(e,n,s){super(e,n,s),this.key=qe.fromName(s.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class i9 extends gn{constructor(e,n){super(e,"in",n),this.keys=G4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o9 extends gn{constructor(e,n){super(e,"not-in",n),this.keys=G4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G4(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class l9 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O0(n)&&Ku(n.arrayValue,this.value)}}class c9 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class u9 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}}class d9 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n=null,s=[],o=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=f,this.Te=null}}function ww(t,e=null,n=[],s=[],o=null,c=null,d=null){return new h9(t,e,n,s,o,c,d)}function P0(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ky(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>$l(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>$l(s))).join(",")),e.Te=n}return e.Te}function M0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}function Ly(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n=null,s=[],o=[],c=null,d="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f9(t,e,n,s,o,c,d,f){return new fm(t,e,n,s,o,c,d,f)}function k0(t){return new fm(t)}function _w(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m9(t){return t.collectionGroup!==null}function Ru(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new xn(Ln.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new kf(c,s))})),n.has(Ln.keyField().canonicalString())||e.Ie.push(new kf(Ln.keyField(),s))}return e.Ie}function Bs(t){const e=Je(t);return e.Ee||(e.Ee=K4(e,Ru(t))),e.Ee}function p9(t){const e=Je(t);return e.de||(e.de=K4(e,t.explicitOrderBy)),e.de}function K4(t,e){if(t.limitType==="F")return ww(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new kf(o.field,c)}));const n=t.endAt?new Mf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Mf(t.startAt.position,t.startAt.inclusive):null;return ww(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vy(t,e,n){return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return M0(Bs(t),Bs(e))&&t.limitType===e.limitType}function Y4(t){return`${P0(Bs(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$4(o))).join(", ")}]`),dm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>$l(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>$l(o))).join(",")),`Target(${s})`})(Bs(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):qe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,o){for(const c of Ru(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(d,f,m){const g=vw(d,f,m);return d.inclusive?g<=0:g<0})(s.startAt,Ru(s),o)||s.endAt&&!(function(d,f,m){const g=vw(d,f,m);return d.inclusive?g>=0:g>0})(s.endAt,Ru(s),o))})(t,e)}function g9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q4(t){return(e,n)=>{let s=!1;for(const o of Ru(t)){const c=y9(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function y9(t,e,n){const s=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(c,d,f){const m=d.data.field(c),g=f.data.field(c);return m!==null&&g!==null?ql(m,g):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return I4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new $t(qe.comparator);function Ia(){return x9}const W4=new $t(qe.comparator);function bu(...t){let e=W4;for(const n of t)e=e.insert(n.key,n);return e}function X4(t){let e=W4;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function vo(){return Cu()}function J4(){return Cu()}function Cu(){return new ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const v9=new $t(qe.comparator),b9=new xn(qe.comparator);function dt(...t){let e=b9;for(const n of t)e=e.add(n);return e}const w9=new xn(ut);function _9(){return w9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function Z4(t){return{integerValue:""+t}}function N9(t,e){return Y8(e)?Z4(e):L0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function j9(t,e,n){return t instanceof Yu?(function(o,c){const d={fields:{[M4]:{stringValue:P4},[L4]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&I0(c)&&(c=hm(c)),c&&(d.fields[k4]=c),{mapValue:d}})(n,e):t instanceof Qu?tj(t,e):t instanceof Wu?nj(t,e):(function(o,c){const d=ej(o,c),f=Nw(d)+Nw(o.Ae);return My(d)&&My(o.Ae)?Z4(f):L0(o.serializer,f)})(t,e)}function E9(t,e,n){return t instanceof Qu?tj(t,e):t instanceof Wu?nj(t,e):n}function ej(t,e){return t instanceof Lf?(function(s){return My(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Yu extends gm{}class Qu extends gm{constructor(e){super(),this.elements=e}}function tj(t,e){const n=rj(e);for(const s of t.elements)n.some((o=>Ks(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends gm{constructor(e){super(),this.elements=e}}function nj(t,e){let n=rj(e);for(const s of t.elements)n=n.filter((o=>!Ks(o,s)));return{arrayValue:{values:n}}}class Lf extends gm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nw(t){return nn(t.integerValue||t.doubleValue)}function rj(t){return O0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n){this.field=e,this.transform=n}}function T9(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof Qu&&o instanceof Qu||s instanceof Wu&&o instanceof Wu?Bl(s.elements,o.elements,Ks):s instanceof Lf&&o instanceof Lf?Ks(s.Ae,o.Ae):s instanceof Yu&&o instanceof Yu})(t.transform,e.transform)}class A9{constructor(e,n){this.version=e,this.transformResults=n}}class Sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sa}static exists(e){return new Sa(void 0,e)}static updateTime(e){return new Sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function sj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ij(t.key,Sa.none()):new ld(t.key,t.data,Sa.none());{const n=t.data,s=Qr.empty();let o=new xn(Ln.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Lo(t.key,s,new gs(o.toArray()),Sa.none())}}function R9(t,e,n){t instanceof ld?(function(o,c,d){const f=o.value.clone(),m=Ew(o.fieldTransforms,c,d.transformResults);f.setAll(m),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Lo?(function(o,c,d){if(!gf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Ew(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(aj(o)),m.setAll(f),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(t,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Du(t,e,n,s){return t instanceof ld?(function(c,d,f,m){if(!gf(c.precondition,d))return f;const g=c.value.clone(),x=Sw(c.fieldTransforms,m,d);return g.setAll(x),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Lo?(function(c,d,f,m){if(!gf(c.precondition,d))return f;const g=Sw(c.fieldTransforms,m,d),x=d.data;return x.setAll(aj(c)),x.setAll(g),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(c,d,f){return gf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(t,e,n)}function C9(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),c=ej(s.transform,o||null);c!=null&&(n===null&&(n=Qr.empty()),n.set(s.field,c))}return n||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bl(s,o,((c,d)=>T9(c,d)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ld extends ym{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lo extends ym{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Ew(t,e,n){const s=new Map;Nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const c=t[o],d=c.transform,f=e.data.field(c.field);s.set(c.field,E9(d,f,n[o]))}return s}function Sw(t,e,n){const s=new Map;for(const o of t){const c=o.transform,d=n.data.field(o.field);s.set(o.field,j9(c,d,e))}return s}class ij extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D9 extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&R9(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=J4();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=n.has(o.key)?null:f;const m=sj(d,f);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(et.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((n,s)=>jw(n,s)))&&Bl(this.baseMutations,e.baseMutations,((n,s)=>jw(n,s)))}}class V0{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return v9})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new V0(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,pt;function k9(t){switch(t){case ve.OK:return Qe(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function oj(t){if(t===void 0)return Da("GRPC error has no .code"),ve.UNKNOWN;switch(t){case cn.OK:return ve.OK;case cn.CANCELLED:return ve.CANCELLED;case cn.UNKNOWN:return ve.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ve.INTERNAL;case cn.UNAVAILABLE:return ve.UNAVAILABLE;case cn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case cn.NOT_FOUND:return ve.NOT_FOUND;case cn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case cn.ABORTED:return ve.ABORTED;case cn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case cn.DATA_LOSS:return ve.DATA_LOSS;default:return Qe(39323,{code:t})}}(pt=cn||(cn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Ni([4294967295,4294967295],0);function Tw(t){const e=L9().encode(t),n=new w4;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ni([n,s],0),new Ni([o,c],0)]}class U0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(s<0)throw new wu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ni.fromNumber(s)));return o.compare(V9)===1&&(o=new Ni([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tw(e),[s,o]=Aw(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new U0(c,o,n);return s.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const n=Tw(e),[s,o]=Aw(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xm(et.min(),o,new $t(ut),Ia(),dt())}}class cd{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cd(s,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class lj{constructor(e,n){this.targetId=e,this.Ce=n}}class cj{constructor(e,n,s=Vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Rw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),s=dt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Qe(38017,{changeType:c})}})),new cd(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.Je=Kh(),this.He=Kh(),this.Ye=new $t(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ly(c))if(s===0){const d=new qe(c.path);this.et(n,d,qn.newNoDocument(d,et.min()))}else Nt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const f=this.ut(e),m=f?this.ct(f,e,d):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,f;try{d=Ci(s).toUint8Array()}catch(m){if(m instanceof O4)return Fl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new U0(d,o,c)}catch(m){return Fl(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const f=this.ot(d);if(f){if(c.current&&Ly(f.target)){const m=new qe(f.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,qn.newNoDocument(m,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=dt();this.He.forEach(((c,d)=>{let f=!0;d.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new xm(e,n,this.Ye,this.je,s);return this.je=Ia(),this.Je=Kh(),this.He=Kh(),this.Ye=new $t(ut),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kh(){return new $t(qe.comparator)}function Cw(){return new $t(qe.comparator)}const z9={asc:"ASCENDING",desc:"DESCENDING"},F9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B9={and:"AND",or:"OR"};class H9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uy(t,e){return t.useProto3Json||dm(e)?e:{value:e}}function Vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q9(t,e){return Vf(t,e.toTimestamp())}function Hs(t){return Nt(!!t,49232),et.fromTimestamp((function(n){const s=Ri(n);return new zt(s.seconds,s.nanos)})(t))}function z0(t,e){return zy(t,e).canonicalString()}function zy(t,e){const n=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dj(t){const e=Ut.fromString(t);return Nt(yj(e),10190,{key:e.toString()}),e}function Fy(t,e){return z0(t.databaseId,e.path)}function Wg(t,e){const n=dj(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(fj(n))}function hj(t,e){return z0(t.databaseId,e)}function $9(t){const e=dj(t);return e.length===4?Ut.emptyPath():fj(e)}function By(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fj(t){return Nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function G9(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,x){return g.useProto3Json?(Nt(x===void 0||typeof x=="string",58123),Vn.fromBase64String(x||"")):(Nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(g){const x=g.code===void 0?ve.UNKNOWN:oj(g.code);return new ze(x,g.message||"")})(d);n=new cj(s,o,c,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wg(t,s.document.name),c=Hs(s.document.updateTime),d=s.document.createTime?Hs(s.document.createTime):et.min(),f=new Qr({mapValue:{fields:s.document.fields}}),m=qn.newFoundDocument(o,c,d,f),g=s.targetIds||[],x=s.removedTargetIds||[];n=new yf(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wg(t,s.document),c=s.readTime?Hs(s.readTime):et.min(),d=qn.newNoDocument(o,c),f=s.removedTargetIds||[];n=new yf([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wg(t,s.document),c=s.removedTargetIds||[];n=new yf([],c,o,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new M9(o,c),f=s.targetId;n=new lj(f,d)}}return n}function K9(t,e){let n;if(e instanceof ld)n={update:Dw(t,e.key,e.value)};else if(e instanceof ij)n={delete:Fy(t,e.key)};else if(e instanceof Lo)n={update:Dw(t,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof D9))return Qe(16599,{Vt:e.type});n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const f=d.transform;if(f instanceof Yu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Qu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lf)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw Qe(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:q9(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Qe(27497)})(t,e.precondition)),n}function Y9(t,e){return t&&t.length>0?(Nt(e!==void 0,14353),t.map((n=>(function(o,c){let d=o.updateTime?Hs(o.updateTime):Hs(c);return d.isEqual(et.min())&&(d=Hs(c)),new A9(d,o.transformResults||[])})(n,e)))):[]}function Q9(t,e){return{documents:[hj(t,e.path)]}}function mj(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hj(t,o);const c=(function(g){if(g.length!==0)return gj(Ys.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((x=>(function(w){return{field:gi(w.field),direction:Z9(w.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const f=Uy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function W9(t,e,n,s){const{ft:o,parent:c}=mj(t,e),d={},f=[];let m=0;return n.forEach((g=>{const x="aggregate_"+m++;d[x]=g.alias,g.aggregateType==="count"?f.push({alias:x,count:{}}):g.aggregateType==="avg"?f.push({alias:x,avg:{field:gi(g.fieldPath)}}):g.aggregateType==="sum"&&f.push({alias:x,sum:{field:gi(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function X9(t){let e=$9(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Nt(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(b){const w=pj(b);return w instanceof Ys&&H4(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((w=>(function(M){return new kf(Dl(M.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,dm(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,D=b.values||[];return new Mf(D,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,D=b.values||[];return new Mf(D,w)})(n.endAt)),f9(e,o,d,c,f,"F",m,g)}function J9(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Dl(n.unaryFilter.field);return gn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(n.unaryFilter.field);return gn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(n.unaryFilter.field);return gn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Dl(n.unaryFilter.field);return gn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return gn.create(Dl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ys.create(n.compositeFilter.filters.map((s=>pj(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function Z9(t){return z9[t]}function eD(t){return F9[t]}function tD(t){return B9[t]}function gi(t){return{fieldPath:t.canonicalString()}}function Dl(t){return Ln.fromServerFormat(t.fieldPath)}function gj(t){return t instanceof gn?(function(n){if(n.op==="=="){if(xw(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xw(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(n.field),op:eD(n.op),value:n.value}}})(t):t instanceof Ys?(function(n){const s=n.getFilters().map((o=>gj(o)));return s.length===1?s[0]:{compositeFilter:{op:tD(n.op),filters:s}}})(t):Qe(54877,{filter:t})}function nD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,s,o,c=et.min(),d=et.min(),f=Vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.yt=e}}function sD(t){const e=X9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Cn=new iD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ai.min())}updateCollectionGroup(e,n,s){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xn(Ut.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xj=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(xj,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="LruGarbageCollector",oD=1048576;function Pw([t,e],[n,s]){const o=ut(t,n);return o===0?ut(e,s):o}class lD{constructor(e){this.Ir=e,this.buffer=new xn(Pw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Pw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(Ow,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jl(n)?De(Ow,"Ignoring IndexedDB error during garbage collection: ",n):await Xl(n)}await this.Vr(3e5)}))}}class uD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(um.ce);const s=new lD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Iw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,f,m,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Rl()<=ct.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${c} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function dD(t,e){return new uD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ge.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Du(s.mutation,o,gs.empty(),zt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,dt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=dt()){const o=vo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=bu();return c.forEach(((f,m)=>{d=d.insert(f,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=vo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,dt())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,f)=>{n.set(d,f)}))}))}computeViews(e,n,s,o){let c=Ia();const d=Cu(),f=(function(){return Cu()})();return n.forEach(((m,g)=>{const x=s.get(g.key);o.has(g.key)&&(x===void 0||x.mutation instanceof Lo)?c=c.insert(g.key,g):x!==void 0?(d.set(g.key,x.mutation.getFieldMask()),Du(x.mutation,g,x.mutation.getFieldMask(),zt.now())):d.set(g.key,gs.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((g,x)=>d.set(g,x))),n.forEach(((g,x)=>f.set(g,new fD(x,d.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Cu();let o=new $t(((d,f)=>d-f)),c=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const f of d)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let x=s.get(m)||gs.empty();x=f.applyToLocalView(g,x),s.set(m,x);const b=(o.get(f.batchId)||dt()).add(m);o=o.insert(f.batchId,b)}))})).next((()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,x=m.value,b=J4();x.forEach((w=>{if(!c.has(w)){const D=sj(n.get(w),s.get(w));D!==null&&b.set(w,D),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ge.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return qe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ge.resolve(vo());let f=qu,m=c;return d.next((g=>ge.forEach(g,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),c.get(x)?ge.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{m=m.insert(x,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,m,g,dt()))).next((x=>({batchId:f,changes:X4(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((s=>{let o=bu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=bu();return this.indexManager.getCollectionParents(e,c).next((f=>ge.forEach(f,(m=>{const g=(function(b,w){return new fm(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((x=>{x.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((m,g)=>{const x=g.getKey();d.get(x)===null&&(d=d.insert(x,qn.newInvalidDocument(x)))}));let f=bu();return d.forEach(((m,g)=>{const x=c.get(m);x!==void 0&&Du(x.mutation,g,gs.empty(),zt.now()),pm(n,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hs(o.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:sD(o.bundledQuery),readTime:Hs(o.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.overlays=new $t(qe.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const s=vo();return ge.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ge.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ge.resolve()}getOverlaysForCollection(e,n,s){const o=vo(),c=n.length+1,d=new qe(n.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new $t(((g,x)=>g-x));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let x=c.get(g.largestBatchId);x===null&&(x=vo(),c=c.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=vo(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,x)=>f.set(g,x))),!(f.size()>=o)););return ge.resolve(f)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new O9(n,s));let c=this.qr.get(n);c===void 0&&(c=dt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.Qr=new xn(Rn.$r),this.Ur=new xn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Rn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Rn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new qe(new Ut([])),s=new Rn(n,e),o=new Rn(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new Ut([])),s=new Rn(n,e),o=new Rn(n,e+1);let c=dt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Rn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xn(Rn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new I9(c,n,s,o);this.mutationQueue.push(d);for(const f of o)this.Zr=this.Zr.add(new Rn(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?D0:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Rn(n,0),o=new Rn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const f=this.Xr(d.Yr);c.push(f)})),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xn(ut);return n.forEach((o=>{const c=new Rn(o,0),d=new Rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(f=>{s=s.add(f.Yr)}))})),ge.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;qe.isDocumentKey(c)||(c=c.child(""));const d=new Rn(new qe(c),0);let f=new xn(ut);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(m.Yr)),!0)}),d),ge.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ge.forEach(n.mutations,(o=>{const c=new Rn(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Rn(n,0),o=this.Zr.firstAfterOrEqual(s);return ge.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ri=e,this.docs=(function(){return new $t(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ge.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let s=Ia();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():qn.newInvalidDocument(o))})),ge.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ia();const d=n.path,f=new qe(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||q8(H8(x),s)<=0||(o.has(x.key)||pm(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ge.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Qe(9500)}ii(e,n){return ge.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new bD(this)}getSize(e){return ge.resolve(this.size)}}class bD extends hD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.persistence=e,this.si=new ko((n=>P0(n)),M0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new F0,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ge.waitFor(c).next((()=>o))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ge.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ge.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ge.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ge.resolve(s)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.ui={},this.overlays={},this.ci=new um(0),this.li=!1,this.li=!0,this.hi=new yD,this.referenceDelegate=e(this),this.Pi=new wD(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new vD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new rD(n),this.Ii=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new xD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){De("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ge.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class _D extends G8{constructor(e){super(),this.currentSequenceNumber=e}}class B0{constructor(e){this.persistence=e,this.Ri=new F0,this.Vi=null}static mi(e){return new B0(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ge.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(s=>{const o=qe.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uf{constructor(e,n){this.persistence=e,this.pi=new ko((s=>Q8(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dD(this,n)}static mi(e,n){return new Uf(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ge.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((f=>{f||(s++,c.removeEntry(d,et.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mf(e.data.value)),n}br(e,n,s){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ge.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=dt(),o=dt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new H0(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KA()?8:K8($n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ND;return this.Ss(e,n,d).next((f=>{if(c.result=f,this.Vs)return this.bs(e,n,d,f.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Rl()<=ct.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Rl()<=ct.DEBUG&&De("QueryEngine","Query:",Cl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Rl()<=ct.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bs(n))):ge.resolve())}ys(e,n){if(_w(n))return ge.resolve(null);let s=Bs(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vy(n,null,"F"),s=Bs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=dt(...c);return this.ps.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,d,m.readTime)?this.ys(e,Vy(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,o){return _w(n)||o.isEqual(et.min())?ge.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ge.resolve(null):(Rl()<=ct.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cl(n)),this.vs(e,d,n,B8(o,qu)).next((f=>f)))}))}Ds(e,n){let s=new xn(Q4(e));return n.forEach(((o,c)=>{pm(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Rl()<=ct.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ai.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LocalStore",ED=3e8;class SD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new $t(ut),this.xs=new ko((c=>P0(c)),M0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TD(t,e,n,s){return new SD(t,e,n,s)}async function bj(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],f=[];let m=dt();for(const g of o){d.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of c){f.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:f})))}))}))}function AD(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,x){const b=g.batch,w=b.keys();let D=ge.resolve();return w.forEach((M=>{D=D.next((()=>x.getEntry(m,M))).next((k=>{const z=g.docVersions.get(M);Nt(z!==null,48541),k.version.compareTo(z)<0&&(b.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),x.addEntry(k)))}))})),D.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=dt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wj(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RD(t,e){const n=Je(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((x,b)=>{const w=o.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,b))));let D=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Vn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,s)),o=o.insert(b,D),(function(k,z,G){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=ED?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(w,D,x)&&f.push(n.Pi.updateTargetData(c,D))}));let m=Ia(),g=dt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),f.push(CD(c,d,e.documentUpdates).next((x=>{m=x.ks,g=x.qs}))),!s.isEqual(et.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));f.push(x)}return ge.waitFor(f).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(n.Ms=o,c)))}function CD(t,e,n){let s=dt(),o=dt();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let d=Ia();return n.forEach(((f,m)=>{const g=c.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(et.min())?(e.removeEntry(f,m.readTime),d=d.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(f,m)):De(q0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:d,qs:o}}))}function DD(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=D0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ID(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ge.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new bi(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Hy(t,e,n){const s=Je(t),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Jl(d))throw d;De(q0,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Mw(t,e,n){const s=Je(t);let o=et.min(),c=dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,g,x){const b=Je(m),w=b.xs.get(x);return w!==void 0?ge.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,x)})(s,d,Bs(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,f.targetId).next((m=>{c=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:et.min(),n?c:dt()))).next((f=>(OD(s,g9(e),f),{documents:f,Qs:c})))))}function OD(t,e,n){let s=t.Os.get(e)||et.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class kw{constructor(){this.activeTargetIds=_9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.Mo=new kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="ConnectivityMonitor";class Vw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function qy(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Of?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=qy(),f=this.zo(e,n.toUriEncodedString());De(Xg,`Sending RPC '${e}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,c);const{host:g}=new URL(f),x=Ui(g);return this.Jo(e,f,m,s,x).then((b=>(De(Xg,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Fl(Xg,`RPC '${e}' ${d} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=kD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class UD extends LD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=qy();return new Promise(((f,m)=>{const g=new _4;g.setWithCredentials(!0),g.listenOnce(N4.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ff.NO_ERROR:const b=g.getResponseJson();De(Bn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),f(b);break;case ff.TIMEOUT:De(Bn,`RPC '${e}' ${d} timed out`),m(new ze(ve.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const w=g.getStatus();if(De(Bn,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D?.error;if(M&&M.status&&M.message){const k=(function(G){const P=G.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(P)>=0?P:ve.UNKNOWN})(M.status);m(new ze(k,M.message))}else m(new ze(ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ze(ve.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(Bn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);De(Bn,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=qy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S4(),f=E4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=c.join("");De(Bn,`Creating RPC '${e}' stream ${o}: ${x}`,m);const b=d.createWebChannel(x,m);this.I_(b);let w=!1,D=!1;const M=new VD({Yo:z=>{D?De(Bn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(w||(De(Bn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),De(Bn,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Zo:()=>b.close()}),k=(z,G,P)=>{z.listen(G,(I=>{try{P(I)}catch(H){setTimeout((()=>{throw H}),0)}}))};return k(b,vu.EventType.OPEN,(()=>{D||(De(Bn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),k(b,vu.EventType.CLOSE,(()=>{D||(D=!0,De(Bn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(b))})),k(b,vu.EventType.ERROR,(z=>{D||(D=!0,Fl(Bn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),M.a_(new ze(ve.UNAVAILABLE,"The operation could not be completed")))})),k(b,vu.EventType.MESSAGE,(z=>{if(!D){const G=z.data[0];Nt(!!G,16349);const P=G,I=P?.error||P[0]?.error;if(I){De(Bn,`RPC '${e}' stream ${o} received error:`,I);const H=I.status;let U=(function(N){const S=cn[N];if(S!==void 0)return oj(S)})(H),C=I.message;U===void 0&&(U=ve.INTERNAL,C="Unknown error status: "+H+" with message "+I.message),D=!0,M.a_(new ze(U,C)),b.close()}else De(Bn,`RPC '${e}' stream ${o} received:`,G),M.u_(G)}})),k(f,j4.STAT_EVENT,(z=>{z.stat===Iy.PROXY?De(Bn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Iy.NOPROXY&&De(Bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return new H9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&De("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="PersistentStream";class Nj{constructor(e,n,s,o,c,d,f,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _j(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Da(n.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ze(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(Uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(Uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends Nj{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G9(this.serializer,e),s=(function(c){if(!("targetChange"in c))return et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?et.min():d.readTime?Hs(d.readTime):et.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=By(this.serializer),n.addTarget=(function(c,d){let f;const m=d.target;if(f=Ly(m)?{documents:Q9(c,m)}:{query:mj(c,m).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=uj(c,d.resumeToken);const g=Uy(c,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(et.min())>0){f.readTime=Vf(c,d.snapshotVersion.toTimestamp());const g=Uy(c,d.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=J9(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=By(this.serializer),n.removeTarget=e,this.q_(n)}}class FD extends Nj{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y9(e.writeResults,e.commitTime),s=Hs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=By(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>K9(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class HD extends BD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,zy(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ze(ve.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.Ho(e,zy(n,s),o,d,f,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ze(ve.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Da(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class $D{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Vo(this)&&(De(Ao,"Restarting streams for network reachability change."),await(async function(m){const g=Je(m);g.Ea.add(4),await ud(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bm(g)})(this))}))})),this.Ra=new qD(s,o)}}async function bm(t){if(Vo(t))for(const e of t.da)await e(!0)}async function ud(t){for(const e of t.da)await e(!1)}function jj(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Y0(n)?K0(n):Zl(n).O_()&&G0(n,e))}function $0(t,e){const n=Je(t),s=Zl(n);n.Ia.delete(e),s.O_()&&Ej(n,e),n.Ia.size===0&&(s.O_()?s.L_():Vo(n)&&n.Ra.set("Unknown"))}function G0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).Y_(e)}function Ej(t,e){t.Va.Ue(e),Zl(t).Z_(e)}function K0(t){t.Va=new U9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.Ra.ua()}function Y0(t){return Vo(t)&&!Zl(t).x_()&&t.Ia.size>0}function Vo(t){return Je(t).Ea.size===0}function Sj(t){t.Va=void 0}async function GD(t){t.Ra.set("Online")}async function KD(t){t.Ia.forEach(((e,n)=>{G0(t,e)}))}async function YD(t,e){Sj(t),Y0(t)?(t.Ra.ha(e),K0(t)):t.Ra.set("Unknown")}async function QD(t,e,n){if(t.Ra.set("Online"),e instanceof cj&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const f of c.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(s){De(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(t,s)}else if(e instanceof yf?t.Va.Ze(e):e instanceof lj?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const s=await wj(t.localStore);n.compareTo(s)>=0&&await(function(c,d){const f=c.Va.Tt(d);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=c.Ia.get(g);x&&c.Ia.set(g,x.withResumeToken(m.resumeToken,d))}})),f.targetMismatches.forEach(((m,g)=>{const x=c.Ia.get(m);if(!x)return;c.Ia.set(m,x.withResumeToken(Vn.EMPTY_BYTE_STRING,x.snapshotVersion)),Ej(c,m);const b=new bi(x.target,m,g,x.sequenceNumber);G0(c,b)})),c.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){De(Ao,"Failed to raise snapshot:",s),await zf(t,s)}}async function zf(t,e,n){if(!Jl(e))throw e;t.Ea.add(1),await ud(t),t.Ra.set("Offline"),n||(n=()=>wj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bm(t)}))}function Tj(t,e){return e().catch((n=>zf(t,n,e)))}async function wm(t){const e=Je(t),n=Ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D0;for(;WD(e);)try{const o=await DD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XD(e,o)}catch(o){await zf(e,o)}Aj(e)&&Rj(e)}function WD(t){return Vo(t)&&t.Ta.length<10}function XD(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Aj(t){return Vo(t)&&!Ii(t).x_()&&t.Ta.length>0}function Rj(t){Ii(t).start()}async function JD(t){Ii(t).ra()}async function ZD(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function eI(t,e,n){const s=t.Ta.shift(),o=V0.from(s,e,n);await Tj(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await wm(t)}async function tI(t,e){e&&Ii(t).X_&&await(async function(s,o){if((function(d){return k9(d)&&d!==ve.ABORTED})(o.code)){const c=s.Ta.shift();Ii(s).B_(),await Tj(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await wm(s)}})(t,e),Aj(t)&&Rj(t)}async function zw(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),De(Ao,"RemoteStore received new credentials");const s=Vo(n);n.Ea.add(3),await ud(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function nI(t,e){const n=Je(t);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await ud(n),n.Ra.set("Unknown"))}function Zl(t){return t.ma||(t.ma=(function(n,s,o){const c=Je(n);return c.sa(),new zD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:GD.bind(null,t),t_:KD.bind(null,t),r_:YD.bind(null,t),H_:QD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Y0(t)?K0(t):t.Ra.set("Unknown")):(await t.ma.stop(),Sj(t))}))),t.ma}function Ii(t){return t.fa||(t.fa=(function(n,s,o){const c=Je(n);return c.sa(),new FD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,t),r_:tI.bind(null,t),ta:ZD.bind(null,t),na:eI.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wm(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,f=new Q0(e,n,d,o,c);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(Da("AsyncQueue",`${e}: ${t}`),Jl(t))return new ze(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||qe.comparator(n.key,s.key):(n,s)=>qe.comparator(n.key,s.key),this.keyedMap=bu(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ga=new $t(qe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Kl{constructor(e,n,s,o,c,d,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((f=>{d.push({type:0,doc:f})})),new Kl(e,n,Ul.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sI{constructor(){this.queries=Bw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Je(n),c=o.queries;o.queries=Bw(),c.forEach(((d,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ze(ve.ABORTED,"Firestore shutting down"))}}function Bw(){return new ko((t=>Y4(t)),mm)}async function aI(t,e){const n=Je(t);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new rI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const f=W0(d,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&X0(n)}async function iI(t,e){const n=Je(t),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oI(t,e){const n=Je(t);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const f of d.Sa)f.Fa(o)&&(s=!0);d.wa=o}}s&&X0(n)}function lI(t,e,n){const s=Je(t),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function X0(t){t.Ca.forEach((e=>{e.next()}))}var $y,Hw;(Hw=$y||($y={})).Ma="default",Hw.Cache="cache";class cI{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Kl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.key=e}}class Dj{constructor(e){this.key=e}}class uI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=Q4(e),this.tu=new Ul(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Fw,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,b)=>{const w=o.get(x),D=pm(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;w&&D?w.data.isEqual(D.data)?M!==k&&(s.track({type:3,doc:D}),z=!0):this.su(w,D)||(s.track({type:2,doc:D}),z=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(f=!0)):!w&&D?(s.track({type:0,doc:D}),z=!0):w&&!D&&(s.track({type:1,doc:w}),z=!0,(m||g)&&(f=!0)),z&&(D?(d=d.add(D),c=k?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:d,iu:s,Cs:f,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,b)=>(function(D,M){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:z})}};return k(D)-k(M)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(s),o=o??!1;const f=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,d.length!==0||g?{snapshot:new Kl(this.query,e.tu,c,d,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Dj(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Cj(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const J0="SyncEngine";class dI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hI{constructor(e){this.key=e,this.hu=!1}}class fI{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ko((f=>Y4(f)),mm),this.Iu=new Map,this.Eu=new Set,this.du=new $t(qe.comparator),this.Au=new Map,this.Ru=new F0,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mI(t,e,n=!0){const s=Lj(t);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Ij(s,e,n,!0),o}async function pI(t,e){const n=Lj(t);await Ij(n,e,!0,!1)}async function Ij(t,e,n,s){const o=await ID(t.localStore,Bs(e)),c=o.targetId,d=t.sharedClientState.addLocalQueryTarget(c,n);let f;return s&&(f=await gI(t,e,c,d==="current",o.resumeToken)),t.isPrimaryClient&&n&&jj(t.remoteStore,o),f}async function gI(t,e,n,s,o){t.pu=(b,w,D)=>(async function(k,z,G,P){let I=z.view.ru(G);I.Cs&&(I=await Mw(k.localStore,z.query,!1).then((({documents:A})=>z.view.ru(A,I))));const H=P&&P.targetChanges.get(z.targetId),U=P&&P.targetMismatches.get(z.targetId)!=null,C=z.view.applyChanges(I,k.isPrimaryClient,H,U);return $w(k,z.targetId,C.au),C.snapshot})(t,b,w,D);const c=await Mw(t.localStore,e,!0),d=new uI(e,c.Qs),f=d.ru(c.documents),m=cd.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=d.applyChanges(f,t.isPrimaryClient,m);$w(t,n,g.au);const x=new dI(e,n,d);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function yI(t,e,n){const s=Je(t),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!mm(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$0(s.remoteStore,o.targetId),Gy(s,o.targetId)})).catch(Xl)):(Gy(s,o.targetId),await Hy(s.localStore,o.targetId,!0))}async function xI(t,e){const n=Je(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$0(n.remoteStore,s.targetId))}async function vI(t,e,n){const s=SI(t);try{const o=await(function(d,f){const m=Je(d),g=zt.now(),x=f.reduce(((D,M)=>D.add(M.key)),dt());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let M=Ia(),k=dt();return m.Ns.getEntries(D,x).next((z=>{M=z,M.forEach(((G,P)=>{P.isValidDocument()||(k=k.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,M))).next((z=>{b=z;const G=[];for(const P of f){const I=C9(P,b.get(P.key).overlayedDocument);I!=null&&G.push(new Lo(P.key,I,z4(I.value.mapValue),Sa.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,G,f)})).next((z=>{w=z;const G=z.applyToLocalDocumentSet(b,k);return m.documentOverlayCache.saveOverlays(D,z.batchId,G)}))})).then((()=>({batchId:w.batchId,changes:X4(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,f,m){let g=d.Vu[d.currentUser.toKey()];g||(g=new $t(ut)),g=g.insert(f,m),d.Vu[d.currentUser.toKey()]=g})(s,o.batchId,n),await dd(s,o.changes),await wm(s.remoteStore)}catch(o){const c=W0(o,"Failed to persist write");n.reject(c)}}async function Oj(t,e){const n=Je(t);try{const s=await RD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Nt(d.hu,14607):o.removedDocuments.size>0&&(Nt(d.hu,42227),d.hu=!1))})),await dd(n,s,e)}catch(s){await Xl(s)}}function qw(t,e,n){const s=Je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const f=d.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(d,f){const m=Je(d);m.onlineState=f;let g=!1;m.queries.forEach(((x,b)=>{for(const w of b.Sa)w.va(f)&&(g=!0)})),g&&X0(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bI(t,e,n){const s=Je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new $t(qe.comparator);d=d.insert(c,qn.newNoDocument(c,et.min()));const f=dt().add(c),m=new xm(et.min(),new Map,new $t(ut),d,f);await Oj(s,m),s.du=s.du.remove(c),s.Au.delete(e),Z0(s)}else await Hy(s.localStore,e,!1).then((()=>Gy(s,e,n))).catch(Xl)}async function wI(t,e){const n=Je(t),s=e.batch.batchId;try{const o=await AD(n.localStore,e);Mj(n,s,null),Pj(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await dd(n,o)}catch(o){await Xl(o)}}async function _I(t,e,n){const s=Je(t);try{const o=await(function(d,f){const m=Je(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(Nt(b!==null,37113),x=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>m.localDocuments.getDocuments(g,x)))}))})(s.localStore,e);Mj(s,e,n),Pj(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await dd(s,o)}catch(o){await Xl(o)}}function Pj(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Mj(t,e,n){const s=Je(t);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||kj(t,s)}))}function kj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Z0(t))}function $w(t,e,n){for(const s of n)s instanceof Cj?(t.Ru.addReference(s.key,e),NI(t,s)):s instanceof Dj?(De(J0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kj(t,s.key)):Qe(19791,{wu:s})}function NI(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(De(J0,"New document in limbo: "+n),t.Eu.add(s),Z0(t))}function Z0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Ut.fromString(e)),s=t.fu.next();t.Au.set(s,new hI(n)),t.du=t.du.insert(n,s),jj(t.remoteStore,new bi(Bs(k0(n.path)),s,"TargetPurposeLimboResolution",um.ce))}}async function dd(t,e,n){const s=Je(t),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{d.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){o.push(g);const x=H0.As(m.targetId,g);c.push(x)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(m,g){const x=Je(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ge.forEach(g,(w=>ge.forEach(w.Es,(D=>x.persistence.referenceDelegate.addReference(b,w.targetId,D))).next((()=>ge.forEach(w.ds,(D=>x.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))))))}catch(b){if(!Jl(b))throw b;De(q0,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const D=x.Ms.get(w),M=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(M);x.Ms=x.Ms.insert(w,k)}}})(s.localStore,c))}async function jI(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){De(J0,"User change. New user:",e.toKey());const s=await bj(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((f=>{f.forEach((m=>{m.reject(new ze(ve.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await dd(n,s.Ls)}}function EI(t,e){const n=Je(t),s=n.Au.get(e);if(s&&s.hu)return dt().add(s.key);{let o=dt();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const f=n.Tu.get(d);o=o.unionWith(f.view.nu)}return o}}function Lj(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Oj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bI.bind(null,e),e.Pu.H_=oI.bind(null,e.eventManager),e.Pu.yu=lI.bind(null,e.eventManager),e}function SI(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_I.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TD(this.persistence,new jD,e.initialUser,this.serializer)}Cu(e){return new vj(B0.mi,this.serializer)}Du(e){return new PD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class TI extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nt(this.persistence.referenceDelegate instanceof Uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new vj((s=>Uf.mi(s,n)),this.serializer)}}class Ky{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await nI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sI})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),s=(function(c){return new UD(c)})(e.databaseInfo);return(function(c,d,f,m){return new HD(c,d,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,f){return new $D(s,o,c,d,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>qw(this.syncEngine,n,0)),(function(){return Vw.v()?new Vw:new MD})())}createSyncEngine(e,n){return(function(o,c,d,f,m,g,x){const b=new fI(o,c,d,f,m,g);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Je(n);De(Ao,"RemoteStore shutting down."),s.Ea.add(5),await ud(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ky.provider={build:()=>new Ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="FirestoreClient";class RI{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{De(Oi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(De(Oi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=W0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zg(t,e){t.asyncQueue.verifyOperationInProgress(),De(Oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bj(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CI(t);De(Oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>zw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>zw(e.remoteStore,o))),t._onlineComponents=e}async function CI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Oi,"Using user provided OfflineComponentProvider");try{await Zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ve.FAILED_PRECONDITION||o.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await Zg(t,new Ff)}}else De(Oi,"Using default OfflineComponentProvider"),await Zg(t,new TI(void 0));return t._offlineComponents}async function ex(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Oi,"Using user provided OnlineComponentProvider"),await Gw(t,t._uninitializedComponentsProvider._online)):(De(Oi,"Using default OnlineComponentProvider"),await Gw(t,new Ky))),t._onlineComponents}function DI(t){return ex(t).then((e=>e.syncEngine))}function II(t){return ex(t).then((e=>e.datastore))}async function OI(t){const e=await ex(t),n=e.eventManager;return n.onListen=mI.bind(null,e.syncEngine),n.onUnlisten=yI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xI.bind(null,e.syncEngine),n}function PI(t,e,n={}){const s=new Ea;return t.asyncQueue.enqueueAndForget((async()=>(function(c,d,f,m,g){const x=new AI({next:w=>{x.Nu(),d.enqueueAndForget((()=>iI(c,b)));const D=w.docs.has(f);!D&&w.fromCache?g.reject(new ze(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?g.reject(new ze(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new cI(k0(f.path),x,{includeMetadataChanges:!0,qa:!0});return aI(c,b)})(await OI(t),t.asyncQueue,e,n,s))),s.promise}function MI(t,e,n){const s=new Ea;return t.asyncQueue.enqueueAndForget((async()=>{try{const o=await II(t);s.resolve((async function(d,f,m){const g=Je(d),{request:x,gt:b,parent:w}=W9(g.serializer,p9(f),m);g.connection.$o||delete x.parent;const D=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,w,x,1)).filter((k=>!!k.result));Nt(D.length===1,64727);const M=D[0].result?.aggregateFields;return Object.keys(M).reduce(((k,z)=>(k[b[z]]=M[z],k)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="firestore.googleapis.com",Yw=!0;class Qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uj,this.ssl=Yw}else this.host=e.host,this.ssl=e.ssl??Yw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new ze(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vj(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new D8;switch(s.type){case"firstParty":return new M8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ze(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Kw.get(n);s&&(De("ComponentProvider","Removing Datastore"),Kw.delete(n),s.terminate())})(this),Promise.resolve()}}function kI(t,e,n,s={}){t=Hl(t,_m);const o=Ui(e),c=t._getSettings(),d={...c,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(f0(`https://${f}`),m0("Firestore",!0)),c.host!==Uj&&c.host!==f&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:f,ssl:o,emulatorOptions:s};if(!No(m,d)&&(t._setSettings(m),s.mockUserToken)){let g,x;if(typeof s.mockUserToken=="string")g=s.mockUserToken,x=Hn.MOCK_USER;else{g=kN(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ze(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Hn(b)}t._authCredentials=new I8(new A4(g,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tx(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(od(n,yn._jsonSchema))return new yn(e,s||null,new qe(Ut.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:dn("string",yn._jsonSchemaVersion),referencePath:dn("string")};class ji extends tx{constructor(e,n,s){super(e,n,k0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new qe(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function zj(t,e,...n){if(t=vn(t),R4("collection","path",e),t instanceof _m){const s=Ut.fromString(e,...n);return cw(s),new ji(t,null,s)}{if(!(t instanceof yn||t instanceof ji))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return cw(s),new ji(t.firestore,null,s)}}function Il(t,e,...n){if(t=vn(t),arguments.length===1&&(e=R0.newId()),R4("doc","path",e),t instanceof _m){const s=Ut.fromString(e,...n);return lw(s),new yn(t,null,new qe(s))}{if(!(t instanceof yn||t instanceof ji))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ut.fromString(e,...n));return lw(s),new yn(t.firestore,t instanceof ji?t.converter:null,new qe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class Xw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _j(this,"async_queue_retry"),this._c=()=>{const s=Jg();s&&De(Ww,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;De(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Da("INTERNAL UNHANDLED ERROR: ",Jw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Q0.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Qe(47125,{Pc:Jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nm extends _m{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Xw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xw(e),this._firestoreClient=void 0,await e}}}function LI(t,e){const n=typeof t=="object"?t:y0(),s=typeof t=="string"?t:Of,o=im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=ON("firestore");c&&kI(o,...c)}return o}function nx(t){if(t._terminated)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VI(t),t._firestoreClient}function VI(t){const e=t._freezeSettings(),n=(function(o,c,d,f){return new Z8(o,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Vj(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new RI(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class zI{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(Vn.fromBase64String(e))}catch(n){throw new ze(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wr(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(od(e,Wr._jsonSchema))return Wr.fromBase64String(e.bytes)}}Wr._jsonSchemaVersion="firestore/bytes/1.0",Wr._jsonSchema={type:dn("string",Wr._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(e){if(od(e,qs._jsonSchema))return new qs(e.latitude,e.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:dn("string",qs._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(od(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new ze(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:dn("string",$s._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^__.*__$/;class BI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ld(e,this.data,n,this.fieldTransforms)}}function Fj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class ax{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ax({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fj(this.Ac)&&FI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vm(e)}Cc(e,n,s,o=!1){return new ax({Ac:e,methodName:n,Dc:s,path:Ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qI(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new HI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $I(t,e,n,s,o,c={}){const d=t.Cc(c.merge||c.mergeFields?2:0,e,n,o);$j("Data must be an object, but it was:",d,s);const f=Hj(s,d);let m,g;if(c.merge)m=new gs(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const b of c.mergeFields){const w=GI(e,b,n);if(!d.contains(w))throw new ze(ve.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);YI(x,w)||x.push(w)}m=new gs(x),g=d.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=d.fieldTransforms;return new BI(new Qr(f),m,g)}class ix extends sx{_toFieldTransform(e){return new S9(e.path,new Yu)}isEqual(e){return e instanceof ix}}function Bj(t,e){if(qj(t=vn(t)))return $j("Unsupported field value:",e,t),Hj(t,e);if(t instanceof sx)return(function(s,o){if(!Fj(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const f of s){let m=Bj(f,o.wc(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(t,e)}return(function(s,o){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N9(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=zt.fromDate(s);return{timestampValue:Vf(o.serializer,c)}}if(s instanceof zt){const c=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vf(o.serializer,c)}}if(s instanceof qs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wr)return{bytesValue:uj(o.serializer,s._byteString)};if(s instanceof yn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:z0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $s)return(function(d,f){return{mapValue:{fields:{[V4]:{stringValue:U4},[Pf]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return L0(f.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${C0(s)}`)})(t,e)}function Hj(t,e){const n={};return I4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,((s,o)=>{const c=Bj(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function qj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof qs||t instanceof Wr||t instanceof yn||t instanceof sx||t instanceof $s)}function $j(t,e,n){if(!qj(n)||!C4(n)){const s=C0(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function GI(t,e,n){if((e=vn(e))instanceof rx)return e._internalPath;if(typeof e=="string")return Gj(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const KI=new RegExp("[~\\*/\\[\\]]");function Gj(t,e,n){if(e.search(KI)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rx(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new ze(ve.INVALID_ARGUMENT,f+t+m)}function YI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QI extends Kj{data(){return super.data()}}function Yj(t,e){return typeof e=="string"?Gj(t,e):e instanceof rx?e._internalPath:e._delegate._internalPath}class WI{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mo(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Pf].arrayValue?.values?.map((s=>nn(s.doubleValue)));return new $s(n)}convertGeoPoint(e){return new qs(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ut.fromString(e);Nt(yj(s),9688,{name:e});const o=new Gu(s.get(1),s.get(3)),c=new qe(s.popFirst(5));return o.isEqual(n)||Da(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function JI(){return new UI("count")}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends Kj{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yj("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:dn("string",wo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class xf extends wo{data(e={}){return super.data(e)}}class Iu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new _u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xf(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((f=>{const m=new xf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new _u(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const m=new xf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new _u(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,x=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),x=d.indexOf(f.doc.key)),{type:ZI(f.type),doc:m,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Iu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){t=Hl(t,yn);const e=Hl(t.firestore,Nm);return PI(nx(e),t._key).then((n=>t7(e,t,n)))}Iu._jsonSchemaVersion="firestore/querySnapshot/1.0",Iu._jsonSchema={type:dn("string",Iu._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Qj extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function El(t,e,n){t=Hl(t,yn);const s=Hl(t.firestore,Nm),o=XI(t.converter,e,n);return e7(s,[$I(qI(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Sa.none())])}function e7(t,e){return(function(s,o){const c=new Ea;return s.asyncQueue.enqueueAndForget((async()=>vI(await DI(s),o,c))),c.promise})(nx(t),e)}function t7(t,e,n){const s=n.docs.get(e._key),o=new Qj(t);return new wo(t,o,e._key,s,new _u(n.hasPendingWrites,n.fromCache),e.converter)}function Wj(t){return n7(t,{count:JI()})}function n7(t,e){const n=Hl(t.firestore,Nm),s=nx(n),o=X8(e,((c,d)=>new P9(d,c.aggregateType,c._internalFieldPath)));return MI(s,t._query,o).then((c=>(function(f,m,g){const x=new Qj(f);return new zI(m,x,g)})(n,t,c)))}function va(){return new ix("serverTimestamp")}(function(e,n=!0){(function(o){Wl=o})(Po),jo(new Ti("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),f=new Nm(new O8(s.getProvider("auth-internal")),new k8(d,s.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ze(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(g.options.projectId,x)})(d,o),d);return c={useFetchStreams:n,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),zs(sw,aw,e),zs(sw,aw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firebasestorage.googleapis.com",Jj="storageBucket",r7=120*1e3,s7=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Ws{constructor(e,n,s=0){super(ey(e),`Firebase Storage: ${n} (${ey(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function ey(t){return"storage/"+t}function ox(){const t="An unknown error occurred, please check the error payload for server response.";return new Jt(Wt.UNKNOWN,t)}function a7(t){return new Jt(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function i7(t){return new Jt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Wt.UNAUTHENTICATED,t)}function l7(){return new Jt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c7(t){return new Jt(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function u7(){return new Jt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d7(){return new Jt(Wt.CANCELED,"User canceled the upload/download.")}function h7(t){return new Jt(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function f7(t){return new Jt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m7(){return new Jt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jj+"' property when initializing the app?")}function p7(){return new Jt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g7(){return new Jt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y7(t){return new Jt(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yy(t){return new Jt(Wt.INVALID_ARGUMENT,t)}function Zj(){return new Jt(Wt.APP_DELETED,"The Firebase app was deleted.")}function x7(t){return new Jt(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ou(t,e){return new Jt(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function au(t){throw new Jt(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(s.path==="")return s;throw f7(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function g(H){H.path_=decodeURIComponent(H.path)}const x="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${x}/b/${o}/o${w}`,"i"),M={bucket:1,path:3},k=n===Xj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",G=new RegExp(`^https?://${k}/${o}/${z}`,"i"),I=[{regex:f,indices:m,postModify:c},{regex:D,indices:M,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let H=0;H<I.length;H++){const U=I[H],C=U.regex.exec(e);if(C){const A=C[U.indices.bucket];let N=C[U.indices.path];N||(N=""),s=new Cr(A,N),U.postModify(s);break}}if(s==null)throw h7(e);return s}}class v7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e,n){let s=1,o=null,c=null,d=!1,f=0;function m(){return f===2}let g=!1;function x(...z){g||(g=!0,e.apply(null,z))}function b(z){o=setTimeout(()=>{o=null,t(D,m())},z)}function w(){c&&clearTimeout(c)}function D(z,...G){if(g){w();return}if(z){w(),x.call(null,z,...G);return}if(m()||d){w(),x.call(null,z,...G);return}s<64&&(s*=2);let I;f===1?(f=2,I=0):I=(s+Math.random())*1e3,b(I)}let M=!1;function k(z){M||(M=!0,w(),!g&&(o!==null?(z||(f=2),clearTimeout(o),b(0)):z||(f=1)))}return b(0),c=setTimeout(()=>{d=!0,k(!0)},n),k}function w7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return t!==void 0}function N7(t){return typeof t=="object"&&!Array.isArray(t)}function lx(t){return typeof t=="string"||t instanceof String}function Zw(t){return cx()&&t instanceof Blob}function cx(){return typeof Blob<"u"}function e_(t,e,n,s){if(s<e)throw Yy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Yy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function eE(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var _o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_o||(_o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n,s,o,c,d,f,m,g,x,b,w=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Qh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===_o.NO_ERROR,m=c.getStatus();if(!f||j7(m,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===_o.ABORT;s(!1,new Qh(!1,null,x));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Qh(g,c))})},n=(s,o)=>{const c=this.resolve_,d=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());_7(m)?c(m):c()}catch(m){d(m)}else if(f!==null){const m=ox();m.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,m)):d(m)}else if(o.canceled){const m=this.appDelete_?Zj():d7();d(m)}else{const m=u7();d(m)}};this.canceled_?n(!1,new Qh(!1,null,!0)):this.backoffId_=b7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function S7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function T7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function R7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function C7(t,e,n,s,o,c,d=!0,f=!1){const m=eE(t.urlParams),g=t.url+m,x=Object.assign({},t.headers);return A7(x,e),S7(x,n),T7(x,c),R7(x,s),new E7(g,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function I7(...t){const e=D7();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(cx())return new Blob(t);throw new Jt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){if(typeof atob>"u")throw y7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ty{constructor(e,n){this.data=e,this.contentType=n||null}}function M7(t,e){switch(t){case Ls.RAW:return new ty(tE(e));case Ls.BASE64:case Ls.BASE64URL:return new ty(nE(t,e));case Ls.DATA_URL:return new ty(L7(e),V7(e))}throw ox()}function tE(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=t.charCodeAt(++n);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function k7(t){let e;try{e=decodeURIComponent(t)}catch{throw Ou(Ls.DATA_URL,"Malformed data URL.")}return tE(e)}function nE(t,e){switch(t){case Ls.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Ou(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Ou(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=P7(e)}catch(o){throw o.message.includes("polyfill")?o:Ou(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class rE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ou(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=U7(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function L7(t){const e=new rE(t);return e.base64?nE(Ls.BASE64,e.rest):k7(e.rest)}function V7(t){return new rE(t).contentType}function U7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){let s=0,o="";Zw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Zw(this.data_)){const s=this.data_,o=O7(s,e,n);return o===null?null:new yi(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new yi(s,!0)}}static getBlob(...e){if(cx()){const n=e.map(s=>s instanceof yi?s.data_:s);return new yi(I7.apply(null,n))}else{const n=e.map(d=>lx(d)?M7(Ls.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(d=>{for(let f=0;f<d.length;f++)o[c++]=d[f]}),new yi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){let e;try{e=JSON.parse(t)}catch{return null}return N7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F7(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function aE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t,e){return e}class er{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||B7}}let Wh=null;function H7(t){return!lx(t)||t.length<2?t:aE(t)}function iE(){if(Wh)return Wh;const t=[];t.push(new er("bucket")),t.push(new er("generation")),t.push(new er("metageneration")),t.push(new er("name","fullPath",!0));function e(c,d){return H7(d)}const n=new er("name");n.xform=e,t.push(n);function s(c,d){return d!==void 0?Number(d):d}const o=new er("size");return o.xform=s,t.push(o),t.push(new er("timeCreated")),t.push(new er("updated")),t.push(new er("md5Hash",null,!0)),t.push(new er("cacheControl",null,!0)),t.push(new er("contentDisposition",null,!0)),t.push(new er("contentEncoding",null,!0)),t.push(new er("contentLanguage",null,!0)),t.push(new er("contentType",null,!0)),t.push(new er("metadata","customMetadata",!0)),Wh=t,Wh}function q7(t,e){function n(){const s=t.bucket,o=t.fullPath,c=new Cr(s,o);return e._makeStorageReference(c)}Object.defineProperty(t,"ref",{get:n})}function $7(t,e,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const d=n[c];s[d.local]=d.xform(s,e[d.server])}return q7(s,t),s}function oE(t,e,n){const s=sE(e);return s===null?null:$7(t,s,n)}function G7(t,e,n,s){const o=sE(e);if(o===null||!lx(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(g=>{const x=t.bucket,b=t.fullPath,w="/b/"+d(x)+"/o/"+d(b),D=ux(w,n,s),M=eE({alt:"media",token:g});return D+M})[0]}function K7(t,e){const n={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(n[c.server]=t[c.local])}return JSON.stringify(n)}class lE{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){if(!t)throw ox()}function Y7(t,e){function n(s,o){const c=oE(t,o,e);return cE(c!==null),c}return n}function Q7(t,e){function n(s,o){const c=oE(t,o,e);return cE(c!==null),G7(c,o,t.host,t._protocol)}return n}function uE(t){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=l7():o=o7():n.getStatus()===402?o=i7(t.bucket):n.getStatus()===403?o=c7(t.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function W7(t){const e=uE(t);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=a7(t.path)),c.serverResponse=o.serverResponse,c}return n}function X7(t,e,n){const s=e.fullServerUrl(),o=ux(s,t.host,t._protocol),c="GET",d=t.maxOperationRetryTime,f=new lE(o,c,Q7(t,n),d);return f.errorHandler=W7(e),f}function J7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Z7(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=J7(null,e)),s}function eO(t,e,n,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let I="";for(let H=0;H<2;H++)I=I+Math.random().toString().slice(2);return I}const m=f();d["Content-Type"]="multipart/related; boundary="+m;const g=Z7(e,s,o),x=K7(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",D=yi.getBlob(b,s,w);if(D===null)throw p7();const M={name:g.fullPath},k=ux(c,t.host,t._protocol),z="POST",G=t.maxUploadRetryTime,P=new lE(k,z,Y7(t,n),G);return P.urlParams=M,P.headers=d,P.body=D.uploadData(),P.errorHandler=uE(e),P}class tO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw au("cannot .send() more than once");if(Ui(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nO extends tO{initXhr(){this.xhr_.responseType="text"}}function dE(){return new nO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ro(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aE(this._location.path)}get storage(){return this._service}get parent(){const e=z7(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new Ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x7(e)}}function rO(t,e,n){t._throwIfRoot("uploadBytes");const s=eO(t.storage,t._location,iE(),new yi(e,!0),n);return t.storage.makeRequestWithTokens(s,dE).then(o=>({metadata:o,ref:t}))}function sO(t){t._throwIfRoot("getDownloadURL");const e=X7(t.storage,t._location,iE());return t.storage.makeRequestWithTokens(e,dE).then(n=>{if(n===null)throw g7();return n})}function aO(t,e){const n=F7(t._location.path,e),s=new Cr(t._location.bucket,n);return new Ro(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){return/^[A-Za-z]+:\/\//.test(t)}function oO(t,e){return new Ro(t,e)}function hE(t,e){if(t instanceof dx){const n=t;if(n._bucket==null)throw m7();const s=new Ro(n,n._bucket);return e!=null?hE(s,e):s}else return e!==void 0?aO(t,e):t}function lO(t,e){if(e&&iO(e)){if(t instanceof dx)return oO(t,e);throw Yy("To use ref(service, url), the first argument must be a Storage instance.")}else return hE(t,e)}function t_(t,e){const n=e?.[Jj];return n==null?null:Cr.makeFromBucketSpec(n,t)}function cO(t,e,n,s={}){t.host=`${e}:${n}`;const o=Ui(e);o&&(f0(`https://${t.host}/b`),m0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(t._overrideAuthToken=typeof c=="string"?c:kN(c,t.app.options.projectId))}class dx{constructor(e,n,s,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=Xj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r7,this._maxUploadRetryTime=s7,this._requests=new Set,o!=null?this._bucket=Cr.makeFromBucketSpec(o,this._host):this._bucket=t_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=t_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new v7(Zj());{const d=C7(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const n_="@firebase/storage",r_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="storage";function uO(t,e,n){return t=vn(t),rO(t,e,n)}function dO(t){return t=vn(t),sO(t)}function hO(t,e){return t=vn(t),lO(t,e)}function fO(t=y0(),e){t=vn(t);const s=im(t,fE).getImmediate({identifier:e}),o=ON("storage");return o&&mO(s,...o),s}function mO(t,e,n,s={}){cO(t,e,n,s)}function pO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new dx(n,s,o,e,Po)}function gO(){jo(new Ti(fE,pO,"PUBLIC").setMultipleInstances(!0)),zs(n_,r_,""),zs(n_,r_,"esm2020")}gO();const yO={apiKey:"AIzaSyDRGA6Fqr2OWUGsGkHrQ5F_et48Q-kkei8",authDomain:"charity-donation-platfor-2cb08.firebaseapp.com",projectId:"charity-donation-platfor-2cb08",storageBucket:"charity-donation-platfor-2cb08.firebasestorage.app",messagingSenderId:"195950106674",appId:"1:195950106674:web:31a00189454ca68920442b",measurementId:"G-0GC82GFVD0"},hx=UN(yO),Sl=T8(hx),xi=LI(hx),xO=fO(hx),vO="https://charity-donation-platform-server.vercel.app",Xh=async t=>{const e=await fetch(`${vO}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});!e.ok&&e.status!==409&&console.error("Server responded with an error while syncing user:",e.status)},mE=F.createContext(),Qy="userRole",bO=()=>{const t=localStorage.getItem(Qy);return t?t.toLowerCase():null},ny=t=>{const e=t?t.toLowerCase():null;return e?localStorage.setItem(Qy,e):localStorage.removeItem(Qy),e},wO="https://charity-donation-platform-server.vercel.app",sr=()=>F.useContext(mE),pE=({children:t})=>{const[e,n]=F.useState(null),[s,o]=F.useState(!0),[c,d]=F.useState(null),f=new wa,m=()=>bO(),g=U=>{const C=ny(U);d(C)},x=async U=>{if(!U)return null;try{const C=await fetch(`${wO}/users`);if(!C.ok)return null;const N=(await C.json()||[]).find(S=>(S.email||"").toLowerCase()===U.toLowerCase());return N?.role?N.role.toLowerCase():null}catch(C){return console.error("Failed to fetch role from server:",C),null}},b=U=>c===U,w=()=>c==="admin",D=()=>c==="charity",M=()=>c==="donor",k=async(U,C,A)=>{const N=await c5(Sl,U,C),S=N.user,R=(A?.role||"donor").toLowerCase(),_={uid:S.uid,email:S.email,displayName:S.displayName||A?.displayName||"",photoURL:S.photoURL||A?.photoURL||"",role:R,providerId:S.providerData?.[0]?.providerId||"password"};return await El(Il(xi,"users",S.uid),{..._,createdAt:va(),updatedAt:va()},{merge:!0}),await Xh(_),N},z=async(U,C)=>{const A=await u5(Sl,U,C),N=A.user,S=Il(xi,"users",N.uid),L=await Nu(S);let R=null;if(L.exists()){const B=L.data()||{};R=B.role&&B.role.toLowerCase()||null}const _=R?null:await x(N.email),T=(R||_||m()||"donor").toLowerCase(),Z={uid:N.uid,email:N.email,displayName:N.displayName||"",photoURL:N.photoURL||"",role:T,providerId:N.providerData?.[0]?.providerId||"password"};return L.exists()?await El(S,{updatedAt:va()},{merge:!0}):await El(S,{...Z,createdAt:va(),updatedAt:va()}),await Xh(Z),g(T),{result:A,role:T}},G=async()=>{const U=await k5(Sl,f),C=U.user,A=Il(xi,"users",C.uid),N=await Nu(A);let S=null;if(N.exists()){const T=N.data()||{};S=T.role&&T.role.toLowerCase()||null}const L=S?null:await x(C.email),R=(S||L||m()||"donor").toLowerCase(),_={uid:C.uid,email:C.email,displayName:C.displayName||"",photoURL:C.photoURL||"",role:R,providerId:C.providerData?.[0]?.providerId||"google.com"};return N.exists()?await El(A,{email:C.email,displayName:C.displayName||"",photoURL:C.photoURL||"",providerId:C.providerData?.[0]?.providerId||"google.com",updatedAt:va()},{merge:!0}):await El(A,{..._,createdAt:va(),updatedAt:va()}),await Xh(_),g(R),{result:U,role:R}},P=async()=>{await g5(Sl),g(null)},I=async(U,C=null)=>{const A=Sl.currentUser;if(!A)throw new Error("No user is currently signed in");try{let N=A.photoURL||"";if(C){const B=hO(xO,`profile-photos/${A.uid}/${Date.now()}_${C.name}`);await uO(B,C),N=await dO(B)}const S={};U.displayName&&(S.displayName=U.displayName),N&&(S.photoURL=N),Object.keys(S).length>0&&await h5(A,S);const L=Il(xi,"users",A.uid),R=await Nu(L),_=R.exists()?R.data():{},T={..._,displayName:U.displayName||_.displayName||A.displayName||"",phoneNumber:U.phone||_.phoneNumber||"",location:U.location||_.location||"",bio:U.bio||_.bio||"",photoURL:N||_.photoURL||A.photoURL||"",updatedAt:va()};await El(L,T,{merge:!0});const Z={uid:A.uid,email:A.email,displayName:T.displayName,photoURL:T.photoURL,phoneNumber:T.phoneNumber,location:T.location,bio:T.bio,role:_.role||c||"donor",providerId:_.providerId||A.providerData?.[0]?.providerId||"password"};return await Xh(Z),{success:!0}}catch(N){throw console.error("Error updating user profile:",N),N}};F.useEffect(()=>p5(Sl,async C=>{if(n(C),!C){d(null),localStorage.removeItem("userRole"),o(!1);return}try{const A=Il(xi,"users",C.uid),N=await Nu(A);let S=null;if(N.exists()){const _=N.data()||{};S=_.role&&_.role.toLowerCase()||null}const L=S?null:await x(C.email),R=(S||L||m()||"donor").toLowerCase();d(R),ny(R)}catch(A){console.error("Failed to load user role:",A);const N=(m()||"donor").toLowerCase();d(N),N&&ny(N)}finally{o(!1)}}),[]);const H={currentUser:e,userRole:c,signup:k,login:z,loginWithGoogle:G,logout:P,updateUserProfile:I,setRole:g,hasRole:b,isAdmin:w,isCharity:D,isDonor:M,loading:s};return a.jsx(mE.Provider,{value:H,children:!s&&t})};var gE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s_=It.createContext&&It.createContext(gE),_O=["attr","size","title"];function NO(t,e){if(t==null)return{};var n=jO(t,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function jO(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hf.apply(this,arguments)}function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(s){EO(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function EO(t,e,n){return e=SO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SO(t){var e=TO(t,"string");return typeof e=="symbol"?e:e+""}function TO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yE(t){return t&&t.map((e,n)=>It.createElement(e.tag,qf({key:n},e.attr),yE(e.child)))}function Ie(t){return e=>It.createElement(AO,Hf({attr:qf({},t.attr)},e),yE(t.child))}function AO(t){var e=n=>{var{attr:s,size:o,title:c}=t,d=NO(t,_O),f=o||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),It.createElement("svg",Hf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:m,style:qf(qf({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&It.createElement("title",null,c),t.children)};return s_!==void 0?It.createElement(s_.Consumer,null,n=>e(n)):e(gE)}function RO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function xE(t){return Ie({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function CO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function DO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function IO(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function OO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Jh(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(t)}function PO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function vE(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function MO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Pi(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function Gs(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Co(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function rr(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function kO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function LO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function VO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Ta(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function bE(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function UO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function zO(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function FO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function wE(t){return Ie({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function $f(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function BO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(t)}function Xu(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Wy(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Qs(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function _E(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function HO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(t)}function qO(t){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function hd(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"},child:[]}]})(t)}function Mt(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function $O(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Mi(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64zM192 208c-57.787 0-104-66.518-104-144h208c0 77.945-46.51 144-104 144z"},child:[]}]})(t)}function GO(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function KO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function jm(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(t)}function ju(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function ec(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function fd(t){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function YO(t){return Ie({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Gf(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function QO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Xy(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Em(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Do(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function i_(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(t)}function WO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(t)}function NE(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function fx(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function XO(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function Kf(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Jy(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Pu(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Ei(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function jE(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function Zy(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function JO(t){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ZO(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function eP(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function Yf(t){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function tP(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function Aa(t){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gr(t){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function nP(t){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(t)}const rP=()=>{const t=sr(),e=Vi(),{currentUser:n,userRole:s,logout:o}=t||{},c=async()=>{try{o&&(await o(),e("/"))}catch(m){console.error("Logout failed:",m)}},d=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(je,{to:"/",className:"hover:text-primary-focus text-white transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx(je,{to:"/campaigns",className:"hover:text-primary-focus text-white transition-colors",children:"Campaigns"})}),a.jsx("li",{children:a.jsx(je,{to:"/charities",className:"hover:text-primary-focus text-white transition-colors",children:"Charities"})}),a.jsx("li",{children:a.jsx(je,{to:"/about",className:"hover:text-primary-focus text-white transition-colors",children:"About"})}),a.jsx("li",{children:a.jsx(je,{to:"/contact",className:"hover:text-primary-focus text-white font-semibold transition-colors",children:"Contact"})})]}),f=n?a.jsxs("div",{className:"dropdown dropdown-end",children:[a.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:a.jsx("div",{className:"w-10 rounded-full",children:n?.photoURL?a.jsx("img",{alt:"User",src:n.photoURL,onError:m=>{m.target.style.display="none"}}):a.jsx("div",{className:"avatar placeholder",children:a.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:a.jsx("span",{className:"text-lg",children:(n?.displayName||n?.email||"U").charAt(0).toUpperCase()})})})})}),a.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-gradient-to-br from-primary/95 to-secondary/95 backdrop-blur-md rounded-box w-52 border border-primary/30",children:[a.jsx("li",{className:"menu-title",children:a.jsx("div",{className:"w-full truncate max-w-[180px] px-1 text-white",children:n?.displayName||n?.email||"User"})}),a.jsx("li",{children:a.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-error hover:bg-error/20",children:[a.jsx(Jy,{})," Logout"]})})]})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(je,{to:"/login",className:"btn btn-ghost",children:"Login"}),a.jsx(je,{to:"/signup",className:"btn btn-primary",children:"Sign Up"})]});return a.jsxs("div",{className:"navbar fixed z-50 bg-gradient-to-r from-primary/95 via-secondary/90 to-primary/95 backdrop-blur-md shadow-xl border-b border-primary/20",children:[a.jsxs("div",{className:"navbar-start",children:[a.jsxs("div",{className:"dropdown",children:[a.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),a.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-gradient-to-br from-primary/95 to-secondary/95 backdrop-blur-md rounded-box w-52 border border-primary/30",children:[d,n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider my-1"}),a.jsx("li",{children:a.jsx(je,{to:s==="donor"?"/dashboard/donor":s==="charity"?"/dashboard/charity":s==="admin"?"/dashboard/admin":"/dashboard",className:"text-white hover:bg-white/20",children:"Dashboard"})}),a.jsx("li",{children:a.jsx(je,{to:"/profile",className:"text-white hover:bg-white/20",children:"Profile"})}),s==="charity"&&a.jsx("li",{children:a.jsx(je,{to:"/campaigns/create",className:"text-white hover:bg-white/20",children:"Create Campaign"})}),a.jsx("li",{children:a.jsx("button",{onClick:c,className:"text-error hover:bg-error/20",children:"Logout"})})]})]})]}),a.jsxs(je,{to:"/",className:"btn btn-ghost text-3xl text-white flex items-center gap-2 hover:bg-primary/20 transition-colors",children:[a.jsx(Mt,{className:"text-white"}),a.jsx("span",{className:"text-white font-bold",children:"Charity Platform"})]})]}),a.jsx("div",{className:"navbar-center hidden lg:flex",children:a.jsx("ul",{className:"menu menu-horizontal px-1 text-white",children:d})}),a.jsxs("div",{className:"navbar-end",children:[n&&a.jsxs("div",{className:"dropdown dropdown-end mr-2 hidden md:block",children:[a.jsxs(je,{to:s==="donor"?"/dashboard/donor":s==="charity"?"/dashboard/charity":s==="admin"?"/dashboard/admin":"/dashboard",className:"btn btn-outline btn-primary border-white text-white hover:bg-white hover:text-primary flex items-center gap-2 transition-all",children:[a.jsx(jE,{}),"Dashboard"]}),a.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow-lg bg-gradient-to-br from-primary/95 to-secondary/95 backdrop-blur-md rounded-box w-64 border border-primary/30",children:[s==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"menu-title",children:a.jsx("span",{className:"text-white",children:"Admin"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard/admin",className:"text-white hover:bg-white/20",children:"Overview"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard/admin/users",className:"text-white hover:bg-white/20",children:"Users"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard/admin/charities",className:"text-white hover:bg-white/20",children:"Charities"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard/admin/campaigns",className:"text-white hover:bg-white/20",children:"Campaigns"})}),a.jsx("div",{className:"divider my-1"})]}),s==="charity"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"menu-title",children:a.jsx("span",{className:"text-white",children:"Charity"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard/charity",className:"text-white hover:bg-white/20",children:"Overview"})}),a.jsx("div",{className:"divider my-1"})]}),(!s||s==="donor")&&a.jsxs(a.Fragment,{children:[a.jsx("li",{className:"menu-title",children:a.jsx("span",{className:"text-white",children:"Donor"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard",className:"text-white hover:bg-white/20",children:"Overview"})})]})]})]}),f]})]})},sP=()=>a.jsx("footer",{className:" text-base-content",children:a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Mt,{className:"text-2xl text-primary"}),a.jsx("h3",{className:"text-xl text-white font-bold",children:"Charity Donation Platform"})]}),a.jsx("p",{className:"text-sm text-white mb-4",children:"Connecting generous donors with verified charity organizations to create meaningful impact across Bangladesh."}),a.jsxs("div",{className:"flex text-white gap-3",children:[a.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:a.jsx(RO,{className:"text-lg"})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:a.jsx(OO,{className:"text-lg"})}),a.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:a.jsx(DO,{className:"text-lg"})}),a.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"btn btn-circle btn-sm btn-ghost hover:btn-primary",children:a.jsx(CO,{className:"text-lg"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-white",children:[a.jsx("li",{children:a.jsx(je,{to:"/",className:"link link-hover text-sm",children:"Home"})}),a.jsx("li",{children:a.jsx(je,{to:"/campaigns",className:"link link-hover text-sm",children:"Browse Campaigns"})}),a.jsx("li",{children:a.jsx(je,{to:"/charities",className:"link link-hover text-sm",children:"Charities"})}),a.jsx("li",{children:a.jsx(je,{to:"/about",className:"link link-hover text-sm",children:"About Us"})}),a.jsx("li",{children:a.jsx(je,{to:"/contact",className:"link link-hover text-sm",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"For Users"}),a.jsxs("ul",{className:"space-y-2 text-white",children:[a.jsx("li",{children:a.jsx(je,{to:"/signup",className:"link link-hover text-sm",children:"Create Account"})}),a.jsx("li",{children:a.jsx(je,{to:"/login",className:"link link-hover text-sm",children:"Login"})}),a.jsx("li",{children:a.jsx(je,{to:"/charities/register",className:"link link-hover text-sm",children:"Register Charity"})}),a.jsx("li",{children:a.jsx(je,{to:"/dashboard",className:"link link-hover text-sm",children:"Dashboard"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link link-hover text-sm",children:"Help & Support"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg text-white font-bold mb-4",children:"Contact Us"}),a.jsxs("ul",{className:"space-y-3 text-white",children:[a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(fd,{className:"text-primary mt-1 flex-shrink-0"}),a.jsxs("span",{children:["Gulshan-1, Dhaka 1212",a.jsx("br",{}),"Bangladesh"]})]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Em,{className:"text-primary flex-shrink-0"}),a.jsx("span",{children:"+880 1700-000000"})]}),a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Xu,{className:"text-primary flex-shrink-0"}),a.jsx("span",{children:"support@charitydonation.bd"})]})]})]})]}),a.jsx("div",{className:"divider"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-sm text-white",children:[" ",new Date().getFullYear()," Charity Donation Platform. All rights reserved."]}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsx("a",{href:"#",className:"link link-hover",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"link link-hover",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"link link-hover",children:"Cookie Policy"})]})]})]})}),aP=()=>a.jsxs("div",{className:"min-h-screen bg-base-200",children:[a.jsx(rP,{}),a.jsx(cN,{}),a.jsx(sP,{children:" "})]}),iP=()=>{const{userRole:t,logout:e}=sr(),n=es(),s=async()=>{try{await e()}catch(d){console.error("Logout failed:",d)}},c=(()=>{const d=t==="donor"?"/dashboard/donor":t==="charity"?"/dashboard/charity":t==="admin"?"/dashboard/admin":"/dashboard",f=[{path:d,icon:jE,label:"Overview",exact:!0}];return t==="donor"?f.push({path:`${d}/donations`,icon:Mt,label:"My Donations"},{path:`${d}/saved`,icon:Mt,label:"All Campaigns"},{path:`${d}/reviews`,icon:Ei,label:"My Reviews"},{path:`${d}/profile`,icon:Aa,label:"Profile"}):t==="charity"?f.push({path:`${d}/campaigns`,icon:Mt,label:"My Campaigns"},{path:`${d}/campaigns/create`,icon:Do,label:"Create Campaign"},{path:`${d}/reviews`,icon:Ei,label:"My Reviews"},{path:`${d}/profile`,icon:Aa,label:"Profile"}):t==="admin"&&f.push({path:`${d}/users`,icon:gr,label:"Users"},{path:`${d}/charities`,icon:Pi,label:"Charities"},{path:`${d}/campaigns`,icon:Mt,label:"Campaigns"},{path:`${d}/campaigns/archived`,icon:Mi,label:"Archived"},{path:`${d}/messages`,icon:jm,label:"Messages"},{path:`${d}/settings`,icon:bE,label:"Settings"},{path:`${d}/profile`,icon:Aa,label:"Profile"}),f})();return a.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[a.jsxs("div",{className:"navbar fixed top-0 left-0 right-0 bg-gradient-to-r from-primary/90 via-secondary/80 to-primary/90 backdrop-blur-sm shadow-lg z-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(je,{to:"/",className:"btn btn-ghost normal-case text-xl",children:"Charity Platform"}),a.jsxs("span",{className:"ml-2 badge badge-primary badge-outline",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]})]}),a.jsx("div",{className:"flex-none",children:a.jsx(je,{to:"/",className:"btn btn-ghost",children:"Home"})}),a.jsx("div",{className:"flex-none gap-2 pr-4",children:a.jsxs("button",{onClick:s,className:"btn btn-ghost gap-2",children:[a.jsx(Jy,{}),"Sign Out"]})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-base-100 shadow-lg min-h-screen",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8",children:[t==="donor"&&"Donor Dashboard",t==="charity"&&"Charity Dashboard",t==="admin"&&"Admin Dashboard"]}),a.jsx("nav",{className:"space-y-2",children:c.map(d=>{const f=d.exact?n.pathname===d.path:n.pathname.startsWith(d.path);return a.jsxs(je,{to:d.path,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${f?"bg-primary text-white":"hover:bg-base-200"}`,children:[a.jsx(d.icon,{className:"w-5 h-5"}),a.jsx("span",{children:d.label})]},d.path)})}),a.jsx("div",{className:"mt-8 pt-8 border-t",children:a.jsxs("button",{onClick:s,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-error hover:text-white transition-colors w-full text-left",children:[a.jsx(Jy,{className:"w-5 h-5"}),a.jsx("span",{children:"Logout"})]})})]})}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(cN,{})})]})]})};var ry={},iu={},Zh={},ef={},sy={exports:{}},ay,o_;function oP(){if(o_)return ay;o_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ay=t,ay}var iy,l_;function lP(){if(l_)return iy;l_=1;var t=oP();function e(){}function n(){}return n.resetWarningCache=e,iy=function(){function s(d,f,m,g,x,b){if(b!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},iy}var c_;function cP(){return c_||(c_=1,sy.exports=lP()()),sy.exports}var u_;function uP(){return u_||(u_=1,(function(t){(function(e,n){n(t,ki(),cP())})(ef,function(e,n,s){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=M;var o=d(n),c=d(s);function d(P){return P&&P.__esModule?P:{default:P}}var f=Object.assign||function(P){for(var I=1;I<arguments.length;I++){var H=arguments[I];for(var U in H)Object.prototype.hasOwnProperty.call(H,U)&&(P[U]=H[U])}return P};function m(P,I){var H={};for(var U in P)I.indexOf(U)>=0||Object.prototype.hasOwnProperty.call(P,U)&&(H[U]=P[U]);return H}function g(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}var x=(function(){function P(I,H){for(var U=0;U<H.length;U++){var C=H[U];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,H,U){return H&&P(I.prototype,H),U&&P(I,U),I}})();function b(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function w(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var D=!1;function M(P){D=P}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){M(!0)}}))}catch{}function k(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return D?P:P.capture}function z(P){if("touches"in P){var I=P.touches[0],H=I.pageX,U=I.pageY;return{x:H,y:U}}var C=P.screenX,A=P.screenY;return{x:C,y:A}}var G=(function(P){w(I,P);function I(){var H;g(this,I);for(var U=arguments.length,C=Array(U),A=0;A<U;A++)C[A]=arguments[A];var N=b(this,(H=I.__proto__||Object.getPrototypeOf(I)).call.apply(H,[this].concat(C)));return N._handleSwipeStart=N._handleSwipeStart.bind(N),N._handleSwipeMove=N._handleSwipeMove.bind(N),N._handleSwipeEnd=N._handleSwipeEnd.bind(N),N._onMouseDown=N._onMouseDown.bind(N),N._onMouseMove=N._onMouseMove.bind(N),N._onMouseUp=N._onMouseUp.bind(N),N._setSwiperRef=N._setSwiperRef.bind(N),N}return x(I,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,k({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,k({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(U){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(U))}},{key:"_onMouseMove",value:function(U){this.mouseDown&&this._handleSwipeMove(U)}},{key:"_onMouseUp",value:function(U){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(U)}},{key:"_handleSwipeStart",value:function(U){var C=z(U),A=C.x,N=C.y;this.moveStart={x:A,y:N},this.props.onSwipeStart(U)}},{key:"_handleSwipeMove",value:function(U){if(this.moveStart){var C=z(U),A=C.x,N=C.y,S=A-this.moveStart.x,L=N-this.moveStart.y;this.moving=!0;var R=this.props.onSwipeMove({x:S,y:L},U);R&&U.cancelable&&U.preventDefault(),this.movePosition={deltaX:S,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(U){this.props.onSwipeEnd(U);var C=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-C?this.props.onSwipeLeft(1,U):this.movePosition.deltaX>C&&this.props.onSwipeRight(1,U),this.movePosition.deltaY<-C?this.props.onSwipeUp(1,U):this.movePosition.deltaY>C&&this.props.onSwipeDown(1,U)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(U){this.swiper=U,this.props.innerRef(U)}},{key:"render",value:function(){var U=this.props;U.tagName;var C=U.className,A=U.style,N=U.children;U.allowMouseEvents,U.onSwipeUp,U.onSwipeDown,U.onSwipeLeft,U.onSwipeRight,U.onSwipeStart,U.onSwipeMove,U.onSwipeEnd,U.innerRef,U.tolerance;var S=m(U,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return o.default.createElement(this.props.tagName,f({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:C,style:A},S),N)}}]),I})(n.Component);G.displayName="ReactSwipe",G.propTypes={tagName:c.default.string,className:c.default.string,style:c.default.object,children:c.default.node,allowMouseEvents:c.default.bool,onSwipeUp:c.default.func,onSwipeDown:c.default.func,onSwipeLeft:c.default.func,onSwipeRight:c.default.func,onSwipeStart:c.default.func,onSwipeMove:c.default.func,onSwipeEnd:c.default.func,innerRef:c.default.func,tolerance:c.default.number.isRequired},G.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=G})})(ef)),ef}var d_;function EE(){return d_||(d_=1,(function(t){(function(e,n){n(t,uP())})(Zh,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var s=o(n);function o(c){return c&&c.__esModule?c:{default:c}}e.default=s.default})})(Zh)),Zh}var ou={},oy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var h_;function dP(){return h_||(h_=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var c="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(c=o(c,s(f)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return n.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var f in c)e.call(c,f)&&c[f]&&(d=o(d,f));return d}function o(c,d){return d?c?c+" "+d:c+d:c}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oy)),oy.exports}var f_;function SE(){if(f_)return ou;f_=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=void 0;var t=e(dP());function e(o){return o&&o.__esModule?o:{default:o}}function n(o,c,d){return c in o?Object.defineProperty(o,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[c]=d,o}var s={ROOT:function(c){return(0,t.default)(n({"carousel-root":!0},c||"",!!c))},CAROUSEL:function(c){return(0,t.default)({carousel:!0,"carousel-slider":c})},WRAPPER:function(c,d){return(0,t.default)({"thumbs-wrapper":!c,"slider-wrapper":c,"axis-horizontal":d==="horizontal","axis-vertical":d!=="horizontal"})},SLIDER:function(c,d){return(0,t.default)({thumbs:!c,slider:c,animated:!d})},ITEM:function(c,d,f){return(0,t.default)({thumb:!c,slide:c,selected:d,previous:f})},ARROW_PREV:function(c){return(0,t.default)({"control-arrow control-prev":!0,"control-disabled":c})},ARROW_NEXT:function(c){return(0,t.default)({"control-arrow control-next":!0,"control-disabled":c})},DOT:function(c){return(0,t.default)({dot:!0,selected:c})}};return ou.default=s,ou}var lu={},cu={},m_;function hP(){if(m_)return cu;m_=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.outerWidth=void 0;var t=function(n){var s=n.offsetWidth,o=getComputedStyle(n);return s+=parseInt(o.marginLeft)+parseInt(o.marginRight),s};return cu.outerWidth=t,cu}var uu={},p_;function mx(){if(p_)return uu;p_=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.default=void 0;var t=function(n,s,o){var c=n===0?n:n+s,d=o==="horizontal"?[c,0,0]:[0,c,0],f="translate3d",m="("+d.join(",")+")";return f+m};return uu.default=t,uu}var du={},g_;function TE(){if(g_)return du;g_=1,Object.defineProperty(du,"__esModule",{value:!0}),du.default=void 0;var t=function(){return window};return du.default=t,du}var y_;function AE(){if(y_)return lu;y_=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.default=void 0;var t=m(ki()),e=d(SE()),n=hP(),s=d(mx()),o=d(EE()),c=d(TE());function d(N){return N&&N.__esModule?N:{default:N}}function f(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return f=function(){return N},N}function m(N){if(N&&N.__esModule)return N;if(N===null||g(N)!=="object"&&typeof N!="function")return{default:N};var S=f();if(S&&S.has(N))return S.get(N);var L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in N)if(Object.prototype.hasOwnProperty.call(N,_)){var T=R?Object.getOwnPropertyDescriptor(N,_):null;T&&(T.get||T.set)?Object.defineProperty(L,_,T):L[_]=N[_]}return L.default=N,S&&S.set(N,L),L}function g(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(L){return typeof L}:g=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},g(N)}function x(){return x=Object.assign||function(N){for(var S=1;S<arguments.length;S++){var L=arguments[S];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(N[R]=L[R])}return N},x.apply(this,arguments)}function b(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function w(N,S){for(var L=0;L<S.length;L++){var R=S[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}function D(N,S,L){return S&&w(N.prototype,S),N}function M(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),S&&k(N,S)}function k(N,S){return k=Object.setPrototypeOf||function(R,_){return R.__proto__=_,R},k(N,S)}function z(N){var S=I();return function(){var R=H(N),_;if(S){var T=H(this).constructor;_=Reflect.construct(R,arguments,T)}else _=R.apply(this,arguments);return G(this,_)}}function G(N,S){return S&&(g(S)==="object"||typeof S=="function")?S:P(N)}function P(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(N){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},H(N)}function U(N,S,L){return S in N?Object.defineProperty(N,S,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[S]=L,N}var C=function(S){return S.hasOwnProperty("key")},A=(function(N){M(L,N);var S=z(L);function L(R){var _;return b(this,L),_=S.call(this,R),U(P(_),"itemsWrapperRef",void 0),U(P(_),"itemsListRef",void 0),U(P(_),"thumbsRef",void 0),U(P(_),"setItemsWrapperRef",function(T){_.itemsWrapperRef=T}),U(P(_),"setItemsListRef",function(T){_.itemsListRef=T}),U(P(_),"setThumbsRef",function(T,Z){_.thumbsRef||(_.thumbsRef=[]),_.thumbsRef[Z]=T}),U(P(_),"updateSizes",function(){if(!(!_.props.children||!_.itemsWrapperRef||!_.thumbsRef)){var T=t.Children.count(_.props.children),Z=_.itemsWrapperRef.clientWidth,B=_.props.thumbWidth?_.props.thumbWidth:(0,n.outerWidth)(_.thumbsRef[0]),$=Math.floor(Z/B),X=$<T,ie=X?T-$:0;_.setState(function(be,q){return{itemSize:B,visibleItems:$,firstItem:X?_.getFirstItem(q.selectedItem):0,lastPosition:ie,showArrows:X}})}}),U(P(_),"handleClickItem",function(T,Z,B){if(!C(B)||B.key==="Enter"){var $=_.props.onSelectItem;typeof $=="function"&&$(T,Z)}}),U(P(_),"onSwipeStart",function(){_.setState({swiping:!0})}),U(P(_),"onSwipeEnd",function(){_.setState({swiping:!1})}),U(P(_),"onSwipeMove",function(T){var Z=T.x;if(!_.state.itemSize||!_.itemsWrapperRef||!_.state.visibleItems)return!1;var B=0,$=t.Children.count(_.props.children),X=-(_.state.firstItem*100)/_.state.visibleItems,ie=Math.max($-_.state.visibleItems,0),be=-ie*100/_.state.visibleItems;X===B&&Z>0&&(Z=0),X===be&&Z<0&&(Z=0);var q=_.itemsWrapperRef.clientWidth,ce=X+100/(q/Z);return _.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(xe){_.itemsListRef.style[xe]=(0,s.default)(ce,"%",_.props.axis)}),!0}),U(P(_),"slideRight",function(T){_.moveTo(_.state.firstItem-(typeof T=="number"?T:1))}),U(P(_),"slideLeft",function(T){_.moveTo(_.state.firstItem+(typeof T=="number"?T:1))}),U(P(_),"moveTo",function(T){T=T<0?0:T,T=T>=_.state.lastPosition?_.state.lastPosition:T,_.setState({firstItem:T})}),_.state={selectedItem:R.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},_}return D(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(_){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==_.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(_){var T=_;return _>=this.state.lastPosition&&(T=this.state.lastPosition),_<this.state.firstItem+this.state.visibleItems&&(T=this.state.firstItem),_<this.state.firstItem&&(T=_),T}},{key:"renderItems",value:function(){var _=this;return this.props.children.map(function(T,Z){var B=e.default.ITEM(!1,Z===_.state.selectedItem),$={key:Z,ref:function(ie){return _.setThumbsRef(ie,Z)},className:B,onClick:_.handleClickItem.bind(_,Z,_.props.children[Z]),onKeyDown:_.handleClickItem.bind(_,Z,_.props.children[Z]),"aria-label":"".concat(_.props.labels.item," ").concat(Z+1),style:{width:_.props.thumbWidth}};return t.default.createElement("li",x({},$,{role:"button",tabIndex:0}),T)})}},{key:"render",value:function(){var _=this;if(!this.props.children)return null;var T=t.Children.count(this.props.children)>1,Z=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},X=-this.state.firstItem*(this.state.itemSize||0),ie=(0,s.default)(X,"px",this.props.axis),be=this.props.transitionTime+"ms";return $={WebkitTransform:ie,MozTransform:ie,MsTransform:ie,OTransform:ie,transform:ie,msTransform:ie,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},t.default.createElement("div",{className:e.default.CAROUSEL(!1)},t.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},t.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!Z),onClick:function(){return _.slideRight()},"aria-label":this.props.labels.leftArrow}),T?t.default.createElement(o.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):t.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ce){return _.setItemsListRef(ce)},style:$},this.renderItems()),t.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return _.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L})(t.Component);return lu.default=A,U(A,"displayName","Thumbs"),U(A,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),lu}var hu={},x_;function fP(){if(x_)return hu;x_=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.default=void 0;var t=function(){return document};return hu.default=t,hu}var Ar={},v_;function RE(){if(v_)return Ar;v_=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.setPosition=Ar.getPosition=Ar.isKeyboardEvent=Ar.defaultStatusFormatter=Ar.noop=void 0;var t=ki(),e=n(mx());function n(m){return m&&m.__esModule?m:{default:m}}var s=function(){};Ar.noop=s;var o=function(g,x){return"".concat(g," of ").concat(x)};Ar.defaultStatusFormatter=o;var c=function(g){return g?g.hasOwnProperty("key"):!1};Ar.isKeyboardEvent=c;var d=function(g,x){if(x.infiniteLoop&&++g,g===0)return 0;var b=t.Children.count(x.children);if(x.centerMode&&x.axis==="horizontal"){var w=-g*x.centerSlidePercentage,D=b-1;return g&&(g!==D||x.infiniteLoop)?w+=(100-x.centerSlidePercentage)/2:g===D&&(w+=100-x.centerSlidePercentage),w}return-g*100};Ar.getPosition=d;var f=function(g,x){var b={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(w){b[w]=(0,e.default)(g,"%",x)}),b};return Ar.setPosition=f,Ar}var us={},b_;function mP(){if(b_)return us;b_=1,Object.defineProperty(us,"__esModule",{value:!0}),us.fadeAnimationHandler=us.slideStopSwipingHandler=us.slideSwipeAnimationHandler=us.slideAnimationHandler=void 0;var t=ki(),e=s(mx()),n=RE();function s(b){return b&&b.__esModule?b:{default:b}}function o(b,w){var D=Object.keys(b);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(b);w&&(M=M.filter(function(k){return Object.getOwnPropertyDescriptor(b,k).enumerable})),D.push.apply(D,M)}return D}function c(b){for(var w=1;w<arguments.length;w++){var D=arguments[w]!=null?arguments[w]:{};w%2?o(Object(D),!0).forEach(function(M){d(b,M,D[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(D)):o(Object(D)).forEach(function(M){Object.defineProperty(b,M,Object.getOwnPropertyDescriptor(D,M))})}return b}function d(b,w,D){return w in b?Object.defineProperty(b,w,{value:D,enumerable:!0,configurable:!0,writable:!0}):b[w]=D,b}var f=function(w,D){var M={},k=D.selectedItem,z=k,G=t.Children.count(w.children)-1,P=w.infiniteLoop&&(k<0||k>G);if(P)return z<0?w.centerMode&&w.centerSlidePercentage&&w.axis==="horizontal"?M.itemListStyle=(0,n.setPosition)(-(G+2)*w.centerSlidePercentage-(100-w.centerSlidePercentage)/2,w.axis):M.itemListStyle=(0,n.setPosition)(-(G+2)*100,w.axis):z>G&&(M.itemListStyle=(0,n.setPosition)(0,w.axis)),M;var I=(0,n.getPosition)(k,w),H=(0,e.default)(I,"%",w.axis),U=w.transitionTime+"ms";return M.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},D.swiping||(M.itemListStyle=c(c({},M.itemListStyle),{},{WebkitTransitionDuration:U,MozTransitionDuration:U,OTransitionDuration:U,transitionDuration:U,msTransitionDuration:U})),M};us.slideAnimationHandler=f;var m=function(w,D,M,k){var z={},G=D.axis==="horizontal",P=t.Children.count(D.children),I=0,H=(0,n.getPosition)(M.selectedItem,D),U=D.infiniteLoop?(0,n.getPosition)(P-1,D)-100:(0,n.getPosition)(P-1,D),C=G?w.x:w.y,A=C;H===I&&C>0&&(A=0),H===U&&C<0&&(A=0);var N=H+100/(M.itemSize/A),S=Math.abs(C)>D.swipeScrollTolerance;return D.infiniteLoop&&S&&(M.selectedItem===0&&N>-100?N-=P*100:M.selectedItem===P-1&&N<-P*100&&(N+=P*100)),(!D.preventMovementUntilSwipeScrollTolerance||S||M.swipeMovementStarted)&&(M.swipeMovementStarted||k({swipeMovementStarted:!0}),z.itemListStyle=(0,n.setPosition)(N,D.axis)),S&&!M.cancelClick&&k({cancelClick:!0}),z};us.slideSwipeAnimationHandler=m;var g=function(w,D){var M=(0,n.getPosition)(D.selectedItem,w),k=(0,n.setPosition)(M,w.axis);return{itemListStyle:k}};us.slideStopSwipingHandler=g;var x=function(w,D){var M=w.transitionTime+"ms",k="ease-in-out",z={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:k,msTransitionTimingFunction:k,MozTransitionTimingFunction:k,WebkitTransitionTimingFunction:k,OTransitionTimingFunction:k};return D.swiping||(z=c(c({},z),{},{WebkitTransitionDuration:M,MozTransitionDuration:M,OTransitionDuration:M,transitionDuration:M,msTransitionDuration:M})),{slideStyle:z,selectedStyle:c(c({},z),{},{opacity:1,position:"relative"}),prevStyle:c({},z)}};return us.fadeAnimationHandler=x,us}var w_;function pP(){if(w_)return iu;w_=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=void 0;var t=x(ki()),e=m(EE()),n=m(SE()),s=m(AE()),o=m(fP()),c=m(TE()),d=RE(),f=mP();function m(R){return R&&R.__esModule?R:{default:R}}function g(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return g=function(){return R},R}function x(R){if(R&&R.__esModule)return R;if(R===null||b(R)!=="object"&&typeof R!="function")return{default:R};var _=g();if(_&&_.has(R))return _.get(R);var T={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in R)if(Object.prototype.hasOwnProperty.call(R,B)){var $=Z?Object.getOwnPropertyDescriptor(R,B):null;$&&($.get||$.set)?Object.defineProperty(T,B,$):T[B]=R[B]}return T.default=R,_&&_.set(R,T),T}function b(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(T){return typeof T}:b=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},b(R)}function w(){return w=Object.assign||function(R){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var Z in T)Object.prototype.hasOwnProperty.call(T,Z)&&(R[Z]=T[Z])}return R},w.apply(this,arguments)}function D(R,_){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(R);_&&(Z=Z.filter(function(B){return Object.getOwnPropertyDescriptor(R,B).enumerable})),T.push.apply(T,Z)}return T}function M(R){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?D(Object(T),!0).forEach(function(Z){S(R,Z,T[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):D(Object(T)).forEach(function(Z){Object.defineProperty(R,Z,Object.getOwnPropertyDescriptor(T,Z))})}return R}function k(R,_){if(!(R instanceof _))throw new TypeError("Cannot call a class as a function")}function z(R,_){for(var T=0;T<_.length;T++){var Z=_[T];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(R,Z.key,Z)}}function G(R,_,T){return _&&z(R.prototype,_),R}function P(R,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(_&&_.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),_&&I(R,_)}function I(R,_){return I=Object.setPrototypeOf||function(Z,B){return Z.__proto__=B,Z},I(R,_)}function H(R){var _=A();return function(){var Z=N(R),B;if(_){var $=N(this).constructor;B=Reflect.construct(Z,arguments,$)}else B=Z.apply(this,arguments);return U(this,B)}}function U(R,_){return _&&(b(_)==="object"||typeof _=="function")?_:C(R)}function C(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function N(R){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},N(R)}function S(R,_,T){return _ in R?Object.defineProperty(R,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[_]=T,R}var L=(function(R){P(T,R);var _=H(T);function T(Z){var B;k(this,T),B=_.call(this,Z),S(C(B),"thumbsRef",void 0),S(C(B),"carouselWrapperRef",void 0),S(C(B),"listRef",void 0),S(C(B),"itemsRef",void 0),S(C(B),"timer",void 0),S(C(B),"animationHandler",void 0),S(C(B),"setThumbsRef",function(X){B.thumbsRef=X}),S(C(B),"setCarouselWrapperRef",function(X){B.carouselWrapperRef=X}),S(C(B),"setListRef",function(X){B.listRef=X}),S(C(B),"setItemsRef",function(X,ie){B.itemsRef||(B.itemsRef=[]),B.itemsRef[ie]=X}),S(C(B),"autoPlay",function(){t.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),S(C(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),S(C(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),S(C(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),S(C(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),S(C(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,o.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,o.default)().activeElement)):!1}),S(C(B),"navigateWithKeyboard",function(X){if(B.isFocusWithinTheCarousel()){var ie=B.props.axis,be=ie==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ce=be?q.ArrowRight:q.ArrowDown,xe=be?q.ArrowLeft:q.ArrowUp;ce===X.keyCode?B.increment():xe===X.keyCode&&B.decrement()}}),S(C(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var X=B.props.axis==="horizontal",ie=B.itemsRef[0];if(ie){var be=X?ie.clientWidth:ie.clientHeight;B.setState({itemSize:be}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),S(C(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),S(C(B),"handleClickItem",function(X,ie){if(t.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(X,ie),X!==B.state.selectedItem&&B.setState({selectedItem:X})}}),S(C(B),"handleOnChange",function(X,ie){t.Children.count(B.props.children)<=1||B.props.onChange(X,ie)}),S(C(B),"handleClickThumb",function(X,ie){B.props.onClickThumb(X,ie),B.moveTo(X)}),S(C(B),"onSwipeStart",function(X){B.setState({swiping:!0}),B.props.onSwipeStart(X)}),S(C(B),"onSwipeEnd",function(X){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(X),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),S(C(B),"onSwipeMove",function(X,ie){B.props.onSwipeMove(ie);var be=B.props.swipeAnimationHandler(X,B.props,B.state,B.setState.bind(C(B)));return B.setState(M({},be)),!!Object.keys(be).length}),S(C(B),"decrement",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof X=="number"?X:1))}),S(C(B),"increment",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof X=="number"?X:1))}),S(C(B),"moveTo",function(X){if(typeof X=="number"){var ie=t.Children.count(B.props.children)-1;X<0&&(X=B.props.infiniteLoop?ie:0),X>ie&&(X=B.props.infiniteLoop?0:ie),B.selectItem({selectedItem:X}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),S(C(B),"onClickNext",function(){B.increment(1)}),S(C(B),"onClickPrev",function(){B.decrement(1)}),S(C(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),S(C(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),S(C(B),"changeItem",function(X){return function(ie){(!(0,d.isKeyboardEvent)(ie)||ie.key==="Enter")&&B.moveTo(X)}}),S(C(B),"selectItem",function(X){B.setState(M({previousItem:B.state.selectedItem},X),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(X.selectedItem,t.Children.toArray(B.props.children)[X.selectedItem])}),S(C(B),"getInitialImage",function(){var X=B.props.selectedItem,ie=B.itemsRef&&B.itemsRef[X],be=ie&&ie.getElementsByTagName("img")||[];return be[0]}),S(C(B),"getVariableItemHeight",function(X){var ie=B.itemsRef&&B.itemsRef[X];if(B.state.hasMount&&ie&&ie.children.length){var be=ie.children[0].getElementsByTagName("img")||[];if(be.length>0){var q=be[0];if(!q.complete){var ce=function Ae(){B.forceUpdate(),q.removeEventListener("load",Ae)};q.addEventListener("load",ce)}}var xe=be[0]||ie.children[0],ye=xe.clientHeight;return ye>0?ye:null}return null});var $={initialized:!1,previousItem:Z.selectedItem,selectedItem:Z.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:Z.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof Z.animationHandler=="function"&&Z.animationHandler||Z.animationHandler==="fade"&&f.fadeAnimationHandler||f.slideAnimationHandler,B.state=M(M({},$),B.animationHandler(Z,$)),B}return G(T,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,$){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(M({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&t.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=B.getInitialImage();$&&!$.complete?$.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,o.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,o.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var $=this;return this.props.children?t.Children.map(this.props.children,function(X,ie){var be=ie===$.state.selectedItem,q=ie===$.state.previousItem,ce=be&&$.state.selectedStyle||q&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(ce=M(M({},ce),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(ce=M(M({},ce),{},{pointerEvents:"none"}));var xe={ref:function(Ae){return $.setItemsRef(Ae,ie)},key:"itemKey"+ie+(B?"clone":""),className:n.default.ITEM(!0,ie===$.state.selectedItem,ie===$.state.previousItem),onClick:$.handleClickItem.bind($,ie,X),style:ce};return t.default.createElement("li",xe,$.props.renderItem(X,{isSelected:ie===$.state.selectedItem,isPrevious:ie===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,$=this.props,X=$.showIndicators,ie=$.labels,be=$.renderIndicator,q=$.children;return X?t.default.createElement("ul",{className:"control-dots"},t.Children.map(q,function(ce,xe){return be&&be(B.changeItem(xe),xe===B.state.selectedItem,xe,ie.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?t.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,t.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||t.Children.count(this.props.children)===0?null:t.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||t.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&t.Children.count(this.props.children)>1,X=this.props.axis==="horizontal",ie=this.props.showArrows&&t.Children.count(this.props.children)>1,be=ie&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ie&&(this.state.selectedItem<t.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ce=this.renderItems(!0),xe=ce.shift(),ye=ce.pop(),Ae={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ge={};if(X){if(Ae.onSwipeLeft=this.onSwipeForward,Ae.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Be=this.getVariableItemHeight(this.state.selectedItem);Ge.height=Be||"auto"}}else Ae.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ae.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ae.style=M(M({},Ae.style),{},{height:this.state.itemSize}),Ge.height=this.state.itemSize;return t.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},t.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),t.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:Ge},$?t.default.createElement(e.default,w({tagName:"ul",innerRef:this.setListRef},Ae,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&xe):t.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(gt){return B.setListRef(gt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ye,this.renderItems(),this.props.infiniteLoop&&xe)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),T})(t.default.Component);return iu.default=L,S(L,"displayName","Carousel"),S(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:d.noop,onClickThumb:d.noop,onChange:d.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(_,T,Z){return t.default.createElement("button",{type:"button","aria-label":Z,className:n.default.ARROW_PREV(!T),onClick:_})},renderArrowNext:function(_,T,Z){return t.default.createElement("button",{type:"button","aria-label":Z,className:n.default.ARROW_NEXT(!T),onClick:_})},renderIndicator:function(_,T,Z,B){return t.default.createElement("li",{className:n.default.DOT(T),onClick:_,onKeyDown:_,value:Z,key:Z,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(Z+1)})},renderItem:function(_){return _},renderThumbs:function(_){var T=t.Children.map(_,function(Z){var B=Z;if(Z.type!=="img"&&(B=t.Children.toArray(Z.props.children).find(function($){return $.type==="img"})),!!B)return B});return T.filter(function(Z){return Z}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):T},statusFormatter:d.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:f.slideSwipeAnimationHandler,stopSwipingHandler:f.slideStopSwipingHandler}),iu}var __={},N_;function gP(){return N_||(N_=1),__}var j_;function yP(){return j_||(j_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return s.default}});var e=o(pP()),n=gP(),s=o(AE());function o(c){return c&&c.__esModule?c:{default:c}}})(ry)),ry}yP();const xP=()=>"https://charity-donation-platform-server.vercel.app".replace(/\/$/,""),md=xP(),pd=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},gd=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},vP=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},Dr=async(t={})=>{const e=await fetch(`${md}/campaigns${vP(t)}`);return(await gd(e)).map(pd)},Ju=async t=>Dr({status:t}),bP=async t=>Dr({charityId:t}),wP=async t=>{const e=await fetch(`${md}/campaigns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await gd(e);return pd(n)},_P=async(t,e)=>{const n=await fetch(`${md}/campaigns/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await gd(n);return pd(s)},ly=async(t,e)=>{const n=await fetch(`${md}/campaigns/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})}),s=await gd(n);return pd(s)},NP=async(t,e,n=1)=>{const s=await fetch(`${md}/campaigns/${t}/progress`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,donorIncrement:n})}),o=await gd(s);return pd(o)},Io=t=>{if(!t||t.status!=="approved"||(t.currentAmount||0)>=t.goalAmount)return!1;const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.endDate);return s.setHours(23,59,59,999),!(s<n)},yd="https://charity-donation-platform-server.vercel.app",px=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},xd=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},jP=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},CE=async(t={})=>{const e=await fetch(`${yd}/donations${jP(t)}`);return(await xd(e)).map(px)},EP=async t=>{const e=await fetch(`${yd}/donations/donor/${t}`);return(await xd(e)).map(px)},SP=async t=>{const e=await fetch(`${yd}/donations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await xd(e);return px(n)},TP=async t=>{const e=await fetch(`${yd}/donations/donor/${t}/stats`);return await xd(e)},AP=async t=>{const e=await fetch(`${yd}/donations/campaign/${t}/stats`);return await xd(e)},RP=async t=>(await AP(t)).donorCount||0,gx=async()=>{try{const t=await CE(),e={};t.forEach(s=>{e[s.campaignId]||(e[s.campaignId]=new Set),e[s.campaignId].add(s.donorId)});const n={};return Object.keys(e).forEach(s=>{n[s]=e[s].size}),n}catch(t){return console.error("Error getting all campaign donor counts:",t),{}}},vd="https://charity-donation-platform-server.vercel.app",Sm=t=>t&&{...t,id:t.id||(t._id?t._id.toString():void 0)},bd=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},CP=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},DP=async(t={})=>{const e=await fetch(`${vd}/reviews${CP(t)}`);return(await bd(e)).map(Sm)},IP=async t=>{const e=await fetch(`${vd}/reviews/user/${t}`);return(await bd(e)).map(Sm)},OP=async t=>{const e=await fetch(`${vd}/reviews`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await bd(e);return Sm(n)},PP=async(t,e)=>{const n=await fetch(`${vd}/reviews/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await bd(n);return Sm(s)},MP=async t=>{const e=await fetch(`${vd}/reviews/${t}`,{method:"DELETE"});return await bd(e),!0},kP=["thisMonth","lastMonth","lastThreeMonths","lastYear"],tf=(t,e)=>`${t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}  ${e.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`,E_=(t=[])=>{const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()-1,1),o=new Date(e.getFullYear(),e.getMonth(),0,23,59,59),c=new Date(e.getFullYear(),e.getMonth()-2,1),d=new Date(e);d.setFullYear(d.getFullYear()-1);const f={thisMonth:{label:"This Month",amount:0,count:0,rangeText:tf(n,e)},lastMonth:{label:"Last Month",amount:0,count:0,rangeText:tf(s,o)},lastThreeMonths:{label:"Last 3 Months",amount:0,count:0,rangeText:tf(c,e)},lastYear:{label:"Last 12 Months",amount:0,count:0,rangeText:tf(d,e)}};return t.forEach(m=>{if(!m?.createdAt)return;const g=new Date(m.createdAt);if(Number.isNaN(g.getTime()))return;const x=Number(m.amount)||0;g>=n&&(f.thisMonth.amount+=x,f.thisMonth.count+=1),g>=s&&g<=o&&(f.lastMonth.amount+=x,f.lastMonth.count+=1),g>=c&&(f.lastThreeMonths.amount+=x,f.lastThreeMonths.count+=1),g>=d&&(f.lastYear.amount+=x,f.lastYear.count+=1)}),f},LP=()=>{const[t,e]=F.useState({totalRaised:0,activeCampaigns:0,totalDonors:0,totalCharities:0,successRate:0,completedCampaigns:0,archivedCampaigns:0}),[n,s]=F.useState([]),[o,c]=F.useState({}),[d,f]=F.useState([]),[m,g]=F.useState(!0),[x,b]=F.useState(E_()),[w,D]=F.useState("thisMonth"),M=x[w]||x.thisMonth;return F.useEffect(()=>{(async()=>{try{const[z,G,P]=await Promise.all([Dr(),Ju("approved"),CE()]),I=await gx();c(I);const H=new Date;H.setHours(0,0,0,0);const U=G.filter(B=>{const $=new Date(B.endDate);return $.setHours(23,59,59,999),$>=H}),C=z.reduce((B,$)=>B+($.currentAmount||0),0),A=new Set(z.map(B=>B.charityId));let N=0;try{const B=zj(xi,"users");N=(await Wj(B)).data().count||0}catch(B){console.error("Error fetching user count:",B)}const S=z.filter(B=>B.currentAmount>=B.goalAmount),L=z.filter(B=>new Date(B.endDate)<H),R=z.length>0?Math.round(S.length/z.length*100):0,_=G.sort((B,$)=>($.currentAmount||0)-(B.currentAmount||0)).slice(0,3),Z=(await DP()).sort((B,$)=>new Date($.createdAt||$.date)-new Date(B.createdAt||B.date)).slice(0,6);e({totalRaised:C,activeCampaigns:U.length,totalDonors:N,totalCharities:A.size,successRate:R,completedCampaigns:S.length,archivedCampaigns:L.length}),s(_),f(Z),b(E_(P)),g(!1)}catch(z){console.error("Error fetching home data:",z),g(!1)}})()},[]),a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"Charity Donation Platform - Make a Difference Today"}),a.jsx("meta",{name:"description",content:"Join thousands of donors making a positive impact through verified charity campaigns. Support education, healthcare, emergency relief, and more."})]}),a.jsx("section",{className:"pt-6 pb-10 mt-6 ",children:a.jsx("div",{className:"container mt-10 mx-auto px-4",children:a.jsx("div",{className:"card mt-5 shadow-2xl bg-gradient-to-r from-primary to-secondary text-white",children:a.jsxs("div",{className:"card-body mt-5 flex flex-col lg:flex-row gap-8 items-start lg:items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"uppercase text-sm tracking-widest text-white/70",children:"Fundraising pulse"}),a.jsxs("h2",{className:"text-4xl md:text-5xl font-black mt-2",children:["",(M?.amount||0).toLocaleString()]}),a.jsx("p",{className:"text-sm text-white/80 mt-1",children:M?.rangeText}),a.jsxs("p",{className:"mt-4 text-sm",children:[a.jsx("span",{className:"font-semibold",children:M?.count||0})," donations recorded in this window"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:kP.map(k=>a.jsx("button",{onClick:()=>D(k),className:`btn btn-sm border-0 ${w===k?"btn-secondary text-white":"btn-ghost text-white/80 bg-white/10"}`,children:x[k]?.label},k))}),a.jsx(je,{to:"/dashboard",className:"btn btn-outline btn-sm text-white border-white hover:bg-white hover:text-primary",children:"View Insights"})]})})})}),a.jsx("section",{className:"py-10 ",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[a.jsxs("div",{className:"text-center p-6 bg-red-300 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(Mt,{className:"text-4xl text-primary mx-auto mb-3"}),a.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:["",t.totalRaised.toLocaleString()]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Raised"})]}),a.jsxs("div",{className:"text-center p-6 bg-green-300 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(Co,{className:"text-4xl text-secondary mx-auto mb-3"}),a.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:t.activeCampaigns}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Campaigns"})]}),a.jsxs("div",{className:"text-center p-6 bg-yellow-300 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(gr,{className:"text-4xl text-accent mx-auto mb-3"}),a.jsx("div",{className:"text-3xl font-bold text-accent mb-2",children:t.totalDonors}),a.jsx("div",{className:"text-sm text-gray-600",children:"Donors"})]}),a.jsxs("div",{className:"text-center p-6 bg-blue-300 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(Pi,{className:"text-4xl text-info mx-auto mb-3"}),a.jsx("div",{className:"text-3xl font-bold text-info mb-2",children:t.totalCharities}),a.jsx("div",{className:"text-sm text-gray-600",children:"Charities"})]}),a.jsxs("div",{className:"text-center p-6 bg-green-300 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(Ei,{className:"text-4xl text-warning mx-auto mb-3"}),a.jsxs("div",{className:"text-3xl font-bold text-warning mb-2",children:[t.successRate,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})]})})}),a.jsx("section",{className:"py-12 ",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(je,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"uppercase text-xs tracking-wide text-white/80",children:"Completed targets"}),a.jsx("h3",{className:"text-4xl font-black mt-2",children:t.completedCampaigns}),a.jsx("p",{className:"text-sm text-white/80",children:"Campaigns that hit 100% of their goals"})]}),a.jsx(rr,{className:"text-5xl opacity-70"})]}),a.jsx("p",{className:"mt-4 text-sm",children:"Tap to explore every successful campaign story"})]})}),a.jsx(je,{to:"/campaigns?view=archived",className:"card bg-gradient-to-br from-warning to-warning/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"uppercase text-xs tracking-wide text-white/80",children:"Time-ended campaigns"}),a.jsx("h3",{className:"text-4xl font-black mt-2",children:t.archivedCampaigns}),a.jsx("p",{className:"text-sm text-white/80",children:"Ready for admin review & extensions"})]}),a.jsx(Mi,{className:"text-5xl opacity-70"})]}),a.jsx("p",{className:"mt-4 text-sm",children:"Click to see which campaigns need a time extension"})]})})]})})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Featured Campaigns"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Top campaigns making the biggest impact right now"})]}),m?a.jsx("div",{className:"text-center py-12",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"No Featured Campaigns Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Check back soon for new campaigns!"}),a.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"View All Campaigns"})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(k=>a.jsxs("div",{className:"card border  shadow-xl hover:shadow-2xl transition-shadow",children:[a.jsx("figure",{children:a.jsx("img",{src:k.image,alt:k.title,className:"h-48 w-full object-cover",onError:z=>{z.target.src="https://via.placeholder.com/400x200"}})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"badge badge-primary capitalize",children:k.category}),a.jsx("span",{className:"badge badge-success",children:"Approved"})]}),a.jsx("h3",{className:"card-title text-lg",children:k.title}),a.jsxs("p",{className:"text-sm text-white mb-1",children:["By: ",k.charityName]}),a.jsx("p",{className:"text-white line-clamp-2",children:k.description}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsxs("span",{children:["Raised: ",(k.currentAmount||0).toLocaleString()]}),a.jsxs("span",{children:["Goal: ",k.goalAmount.toLocaleString()]})]}),a.jsx("progress",{className:"progress progress-primary w-full",value:k.currentAmount||0,max:k.goalAmount}),a.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[a.jsxs("span",{children:[Math.round((k.currentAmount||0)/k.goalAmount*100),"% funded"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(gr,{className:"text-xs"}),o[k.id]||0," donors"]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-right",children:["Ends: ",new Date(k.endDate).toLocaleDateString()]})]}),a.jsxs("div",{className:"card-actions justify-between mt-4",children:[a.jsx(je,{to:`/campaigns/${k.id}`,className:"btn btn-primary btn-sm",children:"View Details"}),Io(k)?a.jsx(je,{to:`/campaigns/${k.id}/donate`,className:"btn btn-outline btn-sm",children:"Donate Now"}):a.jsxs("button",{className:"btn btn-disabled btn-sm",disabled:!0,title:k.status!=="approved"?"Campaign Pending Approval":(k.currentAmount||0)>=k.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[a.jsx(ec,{className:"mr-1"})," Donate"]})]})]})]},k.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-lg",children:["View All Campaigns",a.jsx(vE,{className:"ml-2"})]})})]})}),a.jsx("section",{className:"py-20 border ",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Simple steps to make a meaningful impact"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(hd,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"1. Browse Campaigns"}),a.jsx("p",{className:"text-gray-600",children:"Explore verified charity campaigns across different categories and causes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Mt,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"2. Choose & Donate"}),a.jsx("p",{className:"text-gray-600",children:"Select a campaign that resonates with you and make a secure donation"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Co,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"3. Track Impact"}),a.jsx("p",{className:"text-gray-600",children:"Follow the campaign progress and see how your donation makes a difference"})]})]})]})}),a.jsx("section",{className:"py-20 border ",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"What People Say (Reviews)"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Real reviews from our community of donors and charities"})]}),d.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(k=>a.jsx("div",{className:"card bg-red-500 shadow-xl hover:shadow-2xl transition-shadow",children:a.jsxs("div",{className:"card-body",children:[a.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(z=>a.jsx(Ei,{className:`text-xl ${z<=k.rating?"text-warning":"text-gray-300"}`},z))}),a.jsxs("p",{className:"text-white text-center mb-6 italic",children:['"',k.comment,'"']}),a.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t",children:[a.jsx("div",{className:"avatar placeholder",children:a.jsx("div",{className:"bg-primary text-primary-content rounded-full w-12",children:a.jsx(Aa,{className:"text-xl"})})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:k.userName}),a.jsxs("div",{className:"text-xs text-white",children:["ID: ",k.userId.substring(0,8),"..."]}),a.jsx("div",{className:"text-xs text-white",children:new Date(k.createdAt||k.date).toLocaleDateString()})]})]})]})},k.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ei,{className:"text-6xl text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-medium mb-2",children:"No Reviews Yet"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Be the first to share your experience with our platform!"}),a.jsx(je,{to:"/signup",className:"btn btn-primary",children:"Join Now"})]})]})}),a.jsx("section",{className:"py-20 bg-primary text-white",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Make a Difference?"}),a.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of donors who are already making a positive impact in their communities"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"})]})})]})};var wd=t=>t.type==="checkbox",bo=t=>t instanceof Date,tr=t=>t==null;const DE=t=>typeof t=="object";var rn=t=>!tr(t)&&!Array.isArray(t)&&DE(t)&&!bo(t),VP=t=>rn(t)&&t.target?wd(t.target)?t.target.checked:t.target.value:t,UP=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zP=(t,e)=>t.has(UP(e)),FP=t=>{const e=t.constructor&&t.constructor.prototype;return rn(e)&&e.hasOwnProperty("isPrototypeOf")},yx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(yx&&(t instanceof Blob||s))&&(n||rn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!FP(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=An(t[o]));else return t;return e}var Tm=t=>/^\w*$/.test(t),un=t=>t===void 0,xx=t=>Array.isArray(t)?t.filter(Boolean):[],vx=t=>xx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{if(!e||!rn(t))return n;const s=(Tm(e)?[e]:vx(e)).reduce((o,c)=>tr(o)?o:o[c],t);return un(s)||s===t?un(t[e])?n:t[e]:s},ks=t=>typeof t=="boolean",Ht=(t,e,n)=>{let s=-1;const o=Tm(e)?[e]:vx(e),c=o.length,d=c-1;for(;++s<c;){const f=o[s];let m=n;if(s!==d){const g=t[f];m=rn(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=m,t=t[f]}};const S_={BLUR:"blur",FOCUS_OUT:"focusout"},hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ba={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BP=It.createContext(null);BP.displayName="HookFormContext";var HP=(t,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const c in t)Object.defineProperty(o,c,{get:()=>{const d=c;return e._proxyFormState[d]!==hs.all&&(e._proxyFormState[d]=!s||hs.all),t[d]}});return o};const qP=typeof window<"u"?It.useLayoutEffect:It.useEffect;var Vs=t=>typeof t=="string",$P=(t,e,n,s,o)=>Vs(t)?(s&&e.watch.add(t),Ue(n,t,o)):Array.isArray(t)?t.map(c=>(s&&e.watch.add(c),Ue(n,c))):(s&&(e.watchAll=!0),n),e0=t=>tr(t)||!DE(t);function vi(t,e,n=new WeakSet){if(e0(t)||e0(e))return t===e;if(bo(t)&&bo(e))return t.getTime()===e.getTime();const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const c of s){const d=t[c];if(!o.includes(c))return!1;if(c!=="ref"){const f=e[c];if(bo(d)&&bo(f)||rn(d)&&rn(f)||Array.isArray(d)&&Array.isArray(f)?!vi(d,f,n):d!==f)return!1}}return!0}var GP=(t,e,n,s,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:o||!0}}:{},Mu=t=>Array.isArray(t)?t:[t],T_=()=>{let t=[];return{get observers(){return t},next:o=>{for(const c of t)c.next&&c.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(c=>c!==o)}}),unsubscribe:()=>{t=[]}}},hr=t=>rn(t)&&!Object.keys(t).length,bx=t=>t.type==="file",fs=t=>typeof t=="function",Qf=t=>{if(!yx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IE=t=>t.type==="select-multiple",wx=t=>t.type==="radio",KP=t=>wx(t)||wd(t),cy=t=>Qf(t)&&t.isConnected;function YP(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=un(t)?s++:t[e[s++]];return t}function QP(t){for(const e in t)if(t.hasOwnProperty(e)&&!un(t[e]))return!1;return!0}function ln(t,e){const n=Array.isArray(e)?e:Tm(e)?[e]:vx(e),s=n.length===1?t:YP(t,n),o=n.length-1,c=n[o];return s&&delete s[c],o!==0&&(rn(s)&&hr(s)||Array.isArray(s)&&QP(s))&&ln(t,n.slice(0,-1)),t}var OE=t=>{for(const e in t)if(fs(t[e]))return!0;return!1};function Wf(t,e={}){const n=Array.isArray(t);if(rn(t)||n)for(const s in t)Array.isArray(t[s])||rn(t[s])&&!OE(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Wf(t[s],e[s])):tr(t[s])||(e[s]=!0);return e}function PE(t,e,n){const s=Array.isArray(t);if(rn(t)||s)for(const o in t)Array.isArray(t[o])||rn(t[o])&&!OE(t[o])?un(e)||e0(n[o])?n[o]=Array.isArray(t[o])?Wf(t[o],[]):{...Wf(t[o])}:PE(t[o],tr(e)?{}:e[o],n[o]):n[o]=!vi(t[o],e[o]);return n}var fu=(t,e)=>PE(t,e,Wf(e));const A_={value:!1,isValid:!1},R_={value:!0,isValid:!0};var ME=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!un(t[0].attributes.value)?un(t[0].value)||t[0].value===""?R_:{value:t[0].value,isValid:!0}:R_:A_}return A_},kE=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>un(t)?t:e?t===""?NaN:t&&+t:n&&Vs(t)?new Date(t):s?s(t):t;const C_={isValid:!1,value:null};var LE=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,C_):C_;function D_(t){const e=t.ref;return bx(e)?e.files:wx(e)?LE(t.refs).value:IE(e)?[...e.selectedOptions].map(({value:n})=>n):wd(e)?ME(t.refs).value:kE(un(e.value)?t.ref.value:e.value,t)}var WP=(t,e,n,s)=>{const o={};for(const c of t){const d=Ue(e,c);d&&Ht(o,c,d._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:s}},Xf=t=>t instanceof RegExp,mu=t=>un(t)?t:Xf(t)?t.source:rn(t)?Xf(t.value)?t.value.source:t.value:t,I_=t=>({isOnSubmit:!t||t===hs.onSubmit,isOnBlur:t===hs.onBlur,isOnChange:t===hs.onChange,isOnAll:t===hs.all,isOnTouch:t===hs.onTouched});const O_="AsyncFunction";var XP=t=>!!t&&!!t.validate&&!!(fs(t.validate)&&t.validate.constructor.name===O_||rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===O_)),JP=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),P_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const ku=(t,e,n,s)=>{for(const o of n||Object.keys(t)){const c=Ue(t,o);if(c){const{_f:d,...f}=c;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],o)&&!s)return!0;if(d.ref&&e(d.ref,d.name)&&!s)return!0;if(ku(f,e))break}else if(rn(f)&&ku(f,e))break}}};function M_(t,e,n){const s=Ue(t,n);if(s||Tm(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const c=o.join("."),d=Ue(e,c),f=Ue(t,c);if(d&&!Array.isArray(d)&&n!==c)return{name:n};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};o.pop()}return{name:n}}var ZP=(t,e,n,s)=>{n(t);const{name:o,...c}=t;return hr(c)||Object.keys(c).length>=Object.keys(e).length||Object.keys(c).find(d=>e[d]===(!s||hs.all))},eM=(t,e,n)=>!t||!e||t===e||Mu(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),tM=(t,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?s.isOnBlur:o.isOnBlur)?!t:(n?s.isOnChange:o.isOnChange)?t:!0,nM=(t,e)=>!xx(Ue(t,e)).length&&ln(t,e),rM=(t,e,n)=>{const s=Mu(Ue(t,n));return Ht(s,"root",e[n]),Ht(t,n,s),t},vf=t=>Vs(t);function k_(t,e,n="validate"){if(vf(t)||Array.isArray(t)&&t.every(vf)||ks(t)&&!t)return{type:n,message:vf(t)?t:"",ref:e}}var Tl=t=>rn(t)&&!Xf(t)?t:{value:t,message:""},L_=async(t,e,n,s,o,c)=>{const{ref:d,refs:f,required:m,maxLength:g,minLength:x,min:b,max:w,pattern:D,validate:M,name:k,valueAsNumber:z,mount:G}=t._f,P=Ue(n,k);if(!G||e.has(k))return{};const I=f?f[0]:d,H=_=>{o&&I.reportValidity&&(I.setCustomValidity(ks(_)?"":_||""),I.reportValidity())},U={},C=wx(d),A=wd(d),N=C||A,S=(z||bx(d))&&un(d.value)&&un(P)||Qf(d)&&d.value===""||P===""||Array.isArray(P)&&!P.length,L=GP.bind(null,k,s,U),R=(_,T,Z,B=ba.maxLength,$=ba.minLength)=>{const X=_?T:Z;U[k]={type:_?B:$,message:X,ref:d,...L(_?B:$,X)}};if(c?!Array.isArray(P)||!P.length:m&&(!N&&(S||tr(P))||ks(P)&&!P||A&&!ME(f).isValid||C&&!LE(f).isValid)){const{value:_,message:T}=vf(m)?{value:!!m,message:m}:Tl(m);if(_&&(U[k]={type:ba.required,message:T,ref:I,...L(ba.required,T)},!s))return H(T),U}if(!S&&(!tr(b)||!tr(w))){let _,T;const Z=Tl(w),B=Tl(b);if(!tr(P)&&!isNaN(P)){const $=d.valueAsNumber||P&&+P;tr(Z.value)||(_=$>Z.value),tr(B.value)||(T=$<B.value)}else{const $=d.valueAsDate||new Date(P),X=q=>new Date(new Date().toDateString()+" "+q),ie=d.type=="time",be=d.type=="week";Vs(Z.value)&&P&&(_=ie?X(P)>X(Z.value):be?P>Z.value:$>new Date(Z.value)),Vs(B.value)&&P&&(T=ie?X(P)<X(B.value):be?P<B.value:$<new Date(B.value))}if((_||T)&&(R(!!_,Z.message,B.message,ba.max,ba.min),!s))return H(U[k].message),U}if((g||x)&&!S&&(Vs(P)||c&&Array.isArray(P))){const _=Tl(g),T=Tl(x),Z=!tr(_.value)&&P.length>+_.value,B=!tr(T.value)&&P.length<+T.value;if((Z||B)&&(R(Z,_.message,T.message),!s))return H(U[k].message),U}if(D&&!S&&Vs(P)){const{value:_,message:T}=Tl(D);if(Xf(_)&&!P.match(_)&&(U[k]={type:ba.pattern,message:T,ref:d,...L(ba.pattern,T)},!s))return H(T),U}if(M){if(fs(M)){const _=await M(P,n),T=k_(_,I);if(T&&(U[k]={...T,...L(ba.validate,T.message)},!s))return H(T.message),U}else if(rn(M)){let _={};for(const T in M){if(!hr(_)&&!s)break;const Z=k_(await M[T](P,n),I,T);Z&&(_={...Z,...L(T,Z.message)},H(Z.message),s&&(U[k]=_))}if(!hr(_)&&(U[k]={ref:I,..._},!s))return U}}return H(!0),U};const sM={mode:hs.onSubmit,reValidateMode:hs.onChange,shouldFocusError:!0};function aM(t={}){let e={...sM,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:fs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=rn(e.defaultValues)||rn(e.values)?An(e.defaultValues||e.values)||{}:{},c=e.shouldUnregister?{}:An(o),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...x};const w={array:T_(),state:T_()},D=e.criteriaMode===hs.all,M=Q=>re=>{clearTimeout(g),g=setTimeout(Q,re)},k=async Q=>{if(!e.disabled&&(x.isValid||b.isValid||Q)){const re=e.resolver?hr((await A()).errors):await S(s,!0);re!==n.isValid&&w.state.next({isValid:re})}},z=(Q,re)=>{!e.disabled&&(x.isValidating||x.validatingFields||b.isValidating||b.validatingFields)&&((Q||Array.from(f.mount)).forEach(de=>{de&&(re?Ht(n.validatingFields,de,re):ln(n.validatingFields,de))}),w.state.next({validatingFields:n.validatingFields,isValidating:!hr(n.validatingFields)}))},G=(Q,re=[],de,Te,Ee=!0,_e=!0)=>{if(Te&&de&&!e.disabled){if(d.action=!0,_e&&Array.isArray(Ue(s,Q))){const Ne=de(Ue(s,Q),Te.argA,Te.argB);Ee&&Ht(s,Q,Ne)}if(_e&&Array.isArray(Ue(n.errors,Q))){const Ne=de(Ue(n.errors,Q),Te.argA,Te.argB);Ee&&Ht(n.errors,Q,Ne),nM(n.errors,Q)}if((x.touchedFields||b.touchedFields)&&_e&&Array.isArray(Ue(n.touchedFields,Q))){const Ne=de(Ue(n.touchedFields,Q),Te.argA,Te.argB);Ee&&Ht(n.touchedFields,Q,Ne)}(x.dirtyFields||b.dirtyFields)&&(n.dirtyFields=fu(o,c)),w.state.next({name:Q,isDirty:R(Q,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ht(c,Q,re)},P=(Q,re)=>{Ht(n.errors,Q,re),w.state.next({errors:n.errors})},I=Q=>{n.errors=Q,w.state.next({errors:n.errors,isValid:!1})},H=(Q,re,de,Te)=>{const Ee=Ue(s,Q);if(Ee){const _e=Ue(c,Q,un(de)?Ue(o,Q):de);un(_e)||Te&&Te.defaultChecked||re?Ht(c,Q,re?_e:D_(Ee._f)):Z(Q,_e),d.mount&&k()}},U=(Q,re,de,Te,Ee)=>{let _e=!1,Ne=!1;const Re={name:Q};if(!e.disabled){if(!de||Te){(x.isDirty||b.isDirty)&&(Ne=n.isDirty,n.isDirty=Re.isDirty=R(),_e=Ne!==Re.isDirty);const tt=vi(Ue(o,Q),re);Ne=!!Ue(n.dirtyFields,Q),tt?ln(n.dirtyFields,Q):Ht(n.dirtyFields,Q,!0),Re.dirtyFields=n.dirtyFields,_e=_e||(x.dirtyFields||b.dirtyFields)&&Ne!==!tt}if(de){const tt=Ue(n.touchedFields,Q);tt||(Ht(n.touchedFields,Q,de),Re.touchedFields=n.touchedFields,_e=_e||(x.touchedFields||b.touchedFields)&&tt!==de)}_e&&Ee&&w.state.next(Re)}return _e?Re:{}},C=(Q,re,de,Te)=>{const Ee=Ue(n.errors,Q),_e=(x.isValid||b.isValid)&&ks(re)&&n.isValid!==re;if(e.delayError&&de?(m=M(()=>P(Q,de)),m(e.delayError)):(clearTimeout(g),m=null,de?Ht(n.errors,Q,de):ln(n.errors,Q)),(de?!vi(Ee,de):Ee)||!hr(Te)||_e){const Ne={...Te,..._e&&ks(re)?{isValid:re}:{},errors:n.errors,name:Q};n={...n,...Ne},w.state.next(Ne)}},A=async Q=>{z(Q,!0);const re=await e.resolver(c,e.context,WP(Q||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return z(Q),re},N=async Q=>{const{errors:re}=await A(Q);if(Q)for(const de of Q){const Te=Ue(re,de);Te?Ht(n.errors,de,Te):ln(n.errors,de)}else n.errors=re;return re},S=async(Q,re,de={valid:!0})=>{for(const Te in Q){const Ee=Q[Te];if(Ee){const{_f:_e,...Ne}=Ee;if(_e){const Re=f.array.has(_e.name),tt=Ee._f&&XP(Ee._f);tt&&x.validatingFields&&z([Te],!0);const yt=await L_(Ee,f.disabled,c,D,e.shouldUseNativeValidation&&!re,Re);if(tt&&x.validatingFields&&z([Te]),yt[_e.name]&&(de.valid=!1,re))break;!re&&(Ue(yt,_e.name)?Re?rM(n.errors,yt,_e.name):Ht(n.errors,_e.name,yt[_e.name]):ln(n.errors,_e.name))}!hr(Ne)&&await S(Ne,re,de)}}return de.valid},L=()=>{for(const Q of f.unMount){const re=Ue(s,Q);re&&(re._f.refs?re._f.refs.every(de=>!cy(de)):!cy(re._f.ref))&&Vt(Q)}f.unMount=new Set},R=(Q,re)=>!e.disabled&&(Q&&re&&Ht(c,Q,re),!vi(q(),o)),_=(Q,re,de)=>$P(Q,f,{...d.mount?c:un(re)?o:Vs(Q)?{[Q]:re}:re},de,re),T=Q=>xx(Ue(d.mount?c:o,Q,e.shouldUnregister?Ue(o,Q,[]):[])),Z=(Q,re,de={})=>{const Te=Ue(s,Q);let Ee=re;if(Te){const _e=Te._f;_e&&(!_e.disabled&&Ht(c,Q,kE(re,_e)),Ee=Qf(_e.ref)&&tr(re)?"":re,IE(_e.ref)?[..._e.ref.options].forEach(Ne=>Ne.selected=Ee.includes(Ne.value)):_e.refs?wd(_e.ref)?_e.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(Ee)?Ne.checked=!!Ee.find(Re=>Re===Ne.value):Ne.checked=Ee===Ne.value||!!Ee)}):_e.refs.forEach(Ne=>Ne.checked=Ne.value===Ee):bx(_e.ref)?_e.ref.value="":(_e.ref.value=Ee,_e.ref.type||w.state.next({name:Q,values:An(c)})))}(de.shouldDirty||de.shouldTouch)&&U(Q,Ee,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&be(Q)},B=(Q,re,de)=>{for(const Te in re){if(!re.hasOwnProperty(Te))return;const Ee=re[Te],_e=Q+"."+Te,Ne=Ue(s,_e);(f.array.has(Q)||rn(Ee)||Ne&&!Ne._f)&&!bo(Ee)?B(_e,Ee,de):Z(_e,Ee,de)}},$=(Q,re,de={})=>{const Te=Ue(s,Q),Ee=f.array.has(Q),_e=An(re);Ht(c,Q,_e),Ee?(w.array.next({name:Q,values:An(c)}),(x.isDirty||x.dirtyFields||b.isDirty||b.dirtyFields)&&de.shouldDirty&&w.state.next({name:Q,dirtyFields:fu(o,c),isDirty:R(Q,_e)})):Te&&!Te._f&&!tr(_e)?B(Q,_e,de):Z(Q,_e,de),P_(Q,f)&&w.state.next({...n,name:Q}),w.state.next({name:d.mount?Q:void 0,values:An(c)})},X=async Q=>{d.mount=!0;const re=Q.target;let de=re.name,Te=!0;const Ee=Ue(s,de),_e=tt=>{Te=Number.isNaN(tt)||bo(tt)&&isNaN(tt.getTime())||vi(tt,Ue(c,de,tt))},Ne=I_(e.mode),Re=I_(e.reValidateMode);if(Ee){let tt,yt;const ns=re.type?D_(Ee._f):VP(Q),Zt=Q.type===S_.BLUR||Q.type===S_.FOCUS_OUT,Ir=!JP(Ee._f)&&!e.resolver&&!Ue(n.errors,de)&&!Ee._f.deps||tM(Zt,Ue(n.touchedFields,de),n.isSubmitted,Re,Ne),ar=P_(de,f,Zt);Ht(c,de,ns),Zt?(!re||!re.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(Q),m&&m(0)):Ee._f.onChange&&Ee._f.onChange(Q);const ir=U(de,ns,Zt),Gn=!hr(ir)||ar;if(!Zt&&w.state.next({name:de,type:Q.type,values:An(c)}),Ir)return(x.isValid||b.isValid)&&(e.mode==="onBlur"?Zt&&k():Zt||k()),Gn&&w.state.next({name:de,...ar?{}:ir});if(!Zt&&ar&&w.state.next({...n}),e.resolver){const{errors:Or}=await A([de]);if(_e(ns),Te){const or=M_(n.errors,s,de),rs=M_(Or,s,or.name||de);tt=rs.error,de=rs.name,yt=hr(Or)}}else z([de],!0),tt=(await L_(Ee,f.disabled,c,D,e.shouldUseNativeValidation))[de],z([de]),_e(ns),Te&&(tt?yt=!1:(x.isValid||b.isValid)&&(yt=await S(s,!0)));Te&&(Ee._f.deps&&be(Ee._f.deps),C(de,yt,tt,ir))}},ie=(Q,re)=>{if(Ue(n.errors,re)&&Q.focus)return Q.focus(),1},be=async(Q,re={})=>{let de,Te;const Ee=Mu(Q);if(e.resolver){const _e=await N(un(Q)?Q:Ee);de=hr(_e),Te=Q?!Ee.some(Ne=>Ue(_e,Ne)):de}else Q?(Te=(await Promise.all(Ee.map(async _e=>{const Ne=Ue(s,_e);return await S(Ne&&Ne._f?{[_e]:Ne}:Ne)}))).every(Boolean),!(!Te&&!n.isValid)&&k()):Te=de=await S(s);return w.state.next({...!Vs(Q)||(x.isValid||b.isValid)&&de!==n.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:de}:{},errors:n.errors}),re.shouldFocus&&!Te&&ku(s,ie,Q?Ee:f.mount),Te},q=Q=>{const re={...d.mount?c:o};return un(Q)?re:Vs(Q)?Ue(re,Q):Q.map(de=>Ue(re,de))},ce=(Q,re)=>({invalid:!!Ue((re||n).errors,Q),isDirty:!!Ue((re||n).dirtyFields,Q),error:Ue((re||n).errors,Q),isValidating:!!Ue(n.validatingFields,Q),isTouched:!!Ue((re||n).touchedFields,Q)}),xe=Q=>{Q&&Mu(Q).forEach(re=>ln(n.errors,re)),w.state.next({errors:Q?n.errors:{}})},ye=(Q,re,de)=>{const Te=(Ue(s,Q,{_f:{}})._f||{}).ref,Ee=Ue(n.errors,Q)||{},{ref:_e,message:Ne,type:Re,...tt}=Ee;Ht(n.errors,Q,{...tt,...re,ref:Te}),w.state.next({name:Q,errors:n.errors,isValid:!1}),de&&de.shouldFocus&&Te&&Te.focus&&Te.focus()},Ae=(Q,re)=>fs(Q)?w.state.subscribe({next:de=>"values"in de&&Q(_(void 0,re),de)}):_(Q,re,!0),Ge=Q=>w.state.subscribe({next:re=>{eM(Q.name,re.name,Q.exact)&&ZP(re,Q.formState||x,Cn,Q.reRenderRoot)&&Q.callback({values:{...c},...n,...re,defaultValues:o})}}).unsubscribe,Be=Q=>(d.mount=!0,b={...b,...Q.formState},Ge({...Q,formState:b})),Vt=(Q,re={})=>{for(const de of Q?Mu(Q):f.mount)f.mount.delete(de),f.array.delete(de),re.keepValue||(ln(s,de),ln(c,de)),!re.keepError&&ln(n.errors,de),!re.keepDirty&&ln(n.dirtyFields,de),!re.keepTouched&&ln(n.touchedFields,de),!re.keepIsValidating&&ln(n.validatingFields,de),!e.shouldUnregister&&!re.keepDefaultValue&&ln(o,de);w.state.next({values:An(c)}),w.state.next({...n,...re.keepDirty?{isDirty:R()}:{}}),!re.keepIsValid&&k()},gt=({disabled:Q,name:re})=>{(ks(Q)&&d.mount||Q||f.disabled.has(re))&&(Q?f.disabled.add(re):f.disabled.delete(re))},Un=(Q,re={})=>{let de=Ue(s,Q);const Te=ks(re.disabled)||ks(e.disabled);return Ht(s,Q,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:Q}},name:Q,mount:!0,...re}}),f.mount.add(Q),de?gt({disabled:ks(re.disabled)?re.disabled:e.disabled,name:Q}):H(Q,!0,re.value),{...Te?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:mu(re.min),max:mu(re.max),minLength:mu(re.minLength),maxLength:mu(re.maxLength),pattern:mu(re.pattern)}:{},name:Q,onChange:X,onBlur:X,ref:Ee=>{if(Ee){Un(Q,re),de=Ue(s,Q);const _e=un(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Ne=KP(_e),Re=de._f.refs||[];if(Ne?Re.find(tt=>tt===_e):_e===de._f.ref)return;Ht(s,Q,{_f:{...de._f,...Ne?{refs:[...Re.filter(cy),_e,...Array.isArray(Ue(o,Q))?[{}]:[]],ref:{type:_e.type,name:Q}}:{ref:_e}}}),H(Q,!1,void 0,_e)}else de=Ue(s,Q,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(zP(f.array,Q)&&d.action)&&f.unMount.add(Q)}}},Et=()=>e.shouldFocusError&&ku(s,ie,f.mount),bn=Q=>{ks(Q)&&(w.state.next({disabled:Q}),ku(s,(re,de)=>{const Te=Ue(s,de);Te&&(re.disabled=Te._f.disabled||Q,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Ee=>{Ee.disabled=Te._f.disabled||Q}))},0,!1))},yr=(Q,re)=>async de=>{let Te;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let Ee=An(c);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:Ne}=await A();n.errors=_e,Ee=An(Ne)}else await S(s);if(f.disabled.size)for(const _e of f.disabled)ln(Ee,_e);if(ln(n.errors,"root"),hr(n.errors)){w.state.next({errors:{}});try{await Q(Ee,de)}catch(_e){Te=_e}}else re&&await re({...n.errors},de),Et(),setTimeout(Et);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hr(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},ts=(Q,re={})=>{Ue(s,Q)&&(un(re.defaultValue)?$(Q,An(Ue(o,Q))):($(Q,re.defaultValue),Ht(o,Q,An(re.defaultValue))),re.keepTouched||ln(n.touchedFields,Q),re.keepDirty||(ln(n.dirtyFields,Q),n.isDirty=re.defaultValue?R(Q,An(Ue(o,Q))):R()),re.keepError||(ln(n.errors,Q),x.isValid&&k()),w.state.next({...n}))},wn=(Q,re={})=>{const de=Q?An(Q):o,Te=An(de),Ee=hr(Q),_e=Ee?o:Te;if(re.keepDefaultValues||(o=de),!re.keepValues){if(re.keepDirtyValues){const Ne=new Set([...f.mount,...Object.keys(fu(o,c))]);for(const Re of Array.from(Ne))Ue(n.dirtyFields,Re)?Ht(_e,Re,Ue(c,Re)):$(Re,Ue(_e,Re))}else{if(yx&&un(Q))for(const Ne of f.mount){const Re=Ue(s,Ne);if(Re&&Re._f){const tt=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Qf(tt)){const yt=tt.closest("form");if(yt){yt.reset();break}}}}if(re.keepFieldsRef)for(const Ne of f.mount)$(Ne,Ue(_e,Ne));else s={}}c=e.shouldUnregister?re.keepDefaultValues?An(o):{}:An(_e),w.array.next({values:{..._e}}),w.state.next({values:{..._e}})}f={mount:re.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!re.keepIsValid||!!re.keepDirtyValues,d.watch=!!e.shouldUnregister,w.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!vi(Q,o)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:re.keepDirtyValues?re.keepDefaultValues&&c?fu(o,c):n.dirtyFields:re.keepDefaultValues&&Q?fu(o,Q):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},vs=(Q,re)=>wn(fs(Q)?Q(c):Q,re),Pa=(Q,re={})=>{const de=Ue(s,Q),Te=de&&de._f;if(Te){const Ee=Te.refs?Te.refs[0]:Te.ref;Ee.focus&&(Ee.focus(),re.shouldSelect&&fs(Ee.select)&&Ee.select())}},Cn=Q=>{n={...n,...Q}},bs={control:{register:Un,unregister:Vt,getFieldState:ce,handleSubmit:yr,setError:ye,_subscribe:Ge,_runSchema:A,_focusError:Et,_getWatch:_,_getDirty:R,_setValid:k,_setFieldArray:G,_setDisabledField:gt,_setErrors:I,_getFieldArray:T,_reset:wn,_resetDefaultValues:()=>fs(e.defaultValues)&&e.defaultValues().then(Q=>{vs(Q,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:bn,_subjects:w,_proxyFormState:x,get _fields(){return s},get _formValues(){return c},get _state(){return d},set _state(Q){d=Q},get _defaultValues(){return o},get _names(){return f},set _names(Q){f=Q},get _formState(){return n},get _options(){return e},set _options(Q){e={...e,...Q}}},subscribe:Be,trigger:be,register:Un,handleSubmit:yr,watch:Ae,setValue:$,getValues:q,reset:vs,resetField:ts,clearErrors:xe,unregister:Vt,setError:ye,setFocus:Pa,getFieldState:ce};return{...bs,formControl:bs}}function _x(t={}){const e=It.useRef(void 0),n=It.useRef(void 0),[s,o]=It.useState({isDirty:!1,isValidating:!1,isLoading:fs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:fs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!fs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:d,...f}=aM(t);e.current={...f,formState:s}}const c=e.current.control;return c._options=t,qP(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),c._formState.isReady=!0,d},[c]),It.useEffect(()=>c._disableForm(t.disabled),[c,t.disabled]),It.useEffect(()=>{t.mode&&(c._options.mode=t.mode),t.reValidateMode&&(c._options.reValidateMode=t.reValidateMode)},[c,t.mode,t.reValidateMode]),It.useEffect(()=>{t.errors&&(c._setErrors(t.errors),c._focusError())},[c,t.errors]),It.useEffect(()=>{t.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,t.shouldUnregister]),It.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==s.isDirty&&c._subjects.state.next({isDirty:d})}},[c,s.isDirty]),It.useEffect(()=>{t.values&&!vi(t.values,n.current)?(c._reset(t.values,{keepFieldsRef:!0,...c._options.resetOptions}),n.current=t.values,o(d=>({...d}))):c._resetDefaultValues()},[c,t.values]),It.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),e.current.formState=HP(s,c),e.current}const iM="https://charity-donation-platform-server.vercel.app",V_=async()=>{const t=typeof window<"u"?window.Swal:null;t&&await t.fire({icon:"success",title:"Login Successful!",text:"Welcome back!",timer:2e3,showConfirmButton:!1,confirmButtonColor:"#10b981"})},U_=async t=>{if(!t)return console.log("[resolveRoleFromServer] No email provided"),null;try{console.log(`[resolveRoleFromServer] Fetching role for email: ${t}`);const e=await fetch(`${iM}/users`);if(!e.ok)return console.error(`[resolveRoleFromServer] API returned status: ${e.status}`),null;const n=await e.json();console.log(`[resolveRoleFromServer] Received ${n?.length||0} users from API`);const s=(n||[]).find(o=>(o.email||"").toLowerCase()===t.toLowerCase());if(s){const o=(s.role||"").toLowerCase();return console.log(`[resolveRoleFromServer] Found user with role: ${o}`),o||null}else return console.log(`[resolveRoleFromServer] User with email ${t} not found in database`),null}catch(e){return console.error("[resolveRoleFromServer] Failed to resolve role from server:",e),null}},oM=()=>{const{login:t,loginWithGoogle:e}=sr(),n=Vi(),[s,o]=F.useState(!1),[c,d]=F.useState(""),[f,m]=F.useState(!1),{register:g,handleSubmit:x,formState:{errors:b}}=_x(),w=async M=>{try{d(""),m(!0);const{result:k}=await t(M.email,M.password),z=k?.user?.email||M.email;console.log(`[Login] User logged in with email: ${z}`);const G=await U_(z)||"donor";console.log(`[Login] Resolved role: ${G}`),await V_(),G==="admin"?(console.log("[Login] Navigating to admin dashboard"),n("/dashboard/admin",{replace:!0})):G==="charity"?(console.log("[Login] Navigating to charity dashboard"),n("/dashboard/charity",{replace:!0})):(console.log("[Login] Navigating to donor dashboard"),n("/dashboard/donor",{replace:!0}))}catch(k){k?.code==="auth/operation-not-allowed"?d("Email/Password sign-in is disabled in Firebase. Enable it in Authentication > Sign-in method. (auth/operation-not-allowed)"):k?.code==="auth/wrong-password"?d("Incorrect password. (auth/wrong-password)"):k?.code==="auth/user-not-found"?d("User not found. (auth/user-not-found)"):k?.code==="auth/invalid-credential"?d("Invalid email or password. (auth/invalid-credential)"):k?.code==="auth/network-request-failed"?d("Network error. Check your internet connection and try again. (auth/network-request-failed)"):d(`Failed to log in. Please check your credentials.${k?.code?` (${k.code})`:""}`),console.error("Login error:",k)}finally{m(!1)}},D=async()=>{try{d(""),m(!0);const{result:M}=await e(),k=M?.user?.email;console.log(`[Google Login] User logged in with email: ${k}`);const z=await U_(k)||"donor";console.log(`[Google Login] Resolved role: ${z}`),await V_(),z==="admin"?(console.log("[Google Login] Navigating to admin dashboard"),n("/dashboard/admin",{replace:!0})):z==="charity"?(console.log("[Google Login] Navigating to charity dashboard"),n("/dashboard/charity",{replace:!0})):(console.log("[Google Login] Navigating to donor dashboard"),n("/dashboard/donor",{replace:!0}))}catch(M){d("Failed to log in with Google."),console.error("Google login error:",M)}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-primary",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-sm text-base-content/80",children:["Or"," ",a.jsx(je,{to:"/signup",className:"font-medium text-primary hover:text-primary-focus underline",children:"create a new account"})]})]}),a.jsx("div",{className:"card  shadow-2xl border border-base-300",children:a.jsxs("div",{className:"card-body",children:[c&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:c})]}),a.jsxs("form",{onSubmit:x(w),className:"space-y-6 ",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Email address"})}),a.jsx("input",{...g("email",{required:"Email is required"}),type:"email",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your email"}),b.email&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:b.email.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...g("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:s?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>o(!s),children:s?a.jsx(Wy,{className:"h-4 w-4 text-base-content/60"}):a.jsx(Qs,{className:"h-4 w-4 text-base-content/60"})})]}),b.password&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:b.password.message})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"label cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),a.jsx("span",{className:"label-text ml-2",children:"Remember me"})]}),a.jsx(je,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80",children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary w-full text-white font-semibold hover:btn-primary-focus transition-all",children:f?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner loading-sm"}),"Signing in..."]}):"Sign in"})]}),a.jsx("div",{className:"divider",children:"OR"}),a.jsxs("button",{onClick:D,disabled:f,className:"btn btn-outline btn-primary w-full flex items-center justify-center gap-2 hover:btn-primary hover:text-white transition-all",children:[a.jsx(xE,{className:"h-5 w-5"}),"Continue with Google"]})]})})]})})},VE="user_roles",lM=()=>{try{const t=localStorage.getItem(VE);return t?JSON.parse(t):{}}catch(t){return console.error("Error reading user roles:",t),{}}},cM=(t,e)=>{if(!t||!e)return!1;try{const n=lM();return n[t.toLowerCase()]=e,localStorage.setItem(VE,JSON.stringify(n)),!0}catch(n){return console.error("Error setting user role:",n),!1}},uM=()=>{const{signup:t,loginWithGoogle:e,setRole:n}=sr(),s=Vi(),[o,c]=F.useState(!1),[d,f]=F.useState(!1),[m,g]=F.useState(""),[x,b]=F.useState(!1),{register:w,handleSubmit:D,watch:M,formState:{errors:k}}=_x(),z=M("password"),G=async I=>{try{g(""),b(!0),await t(I.email,I.password,{displayName:I.name,role:I.role}),cM(I.email,I.role),await n(I.role),I.role==="admin"?s("/dashboard/admin",{replace:!0}):I.role==="charity"?s("/dashboard/charity",{replace:!0}):s("/dashboard/donor",{replace:!0})}catch(H){g("Failed to create account. Please try again."),console.error("Signup error:",H)}finally{b(!1)}},P=async()=>{try{g(""),b(!0),await e(),n("donor"),s("/dashboard")}catch(I){g("Failed to sign up with Google."),console.error("Google signup error:",I)}finally{b(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-primary",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-sm text-base-content/80",children:["Or"," ",a.jsx(je,{to:"/login",className:"font-medium text-primary hover:text-primary-focus underline",children:"sign in to your existing account"})]})]}),a.jsx("div",{className:"card  shadow-2xl border border-base-300",children:a.jsxs("div",{className:"card-body",children:[m&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:m})]}),a.jsxs("form",{onSubmit:D(G),className:"space-y-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Full Name"})}),a.jsx("input",{...w("name",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your full name"}),k.name&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:k.name.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Email address"})}),a.jsx("input",{...w("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full focus:input-primary focus:outline-none",placeholder:"Enter your email"}),k.email&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt  text-error",children:k.email.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text ",children:"Account Type"})}),a.jsxs("select",{...w("role",{required:"Please select an account type"}),className:"select bg-gray-100 border-spacing-1 border-gray-300 select-bordered w-full focus:select-primary focus:outline-none",children:[a.jsx("option",{value:"",children:"Select account type"}),a.jsx("option",{value:"donor",children:"Donor - I want to donate to causes"}),a.jsx("option",{value:"charity",children:"Charity - I represent an organization"})]}),k.role&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:k.role.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...w("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:o?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Enter your password (min 6 characters)"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>c(!o),children:o?a.jsx(Wy,{className:"h-4 w-4 text-base-content/60"}):a.jsx(Qs,{className:"h-4 w-4 text-base-content/60"})})]}),k.password&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:k.password.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Confirm Password"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{...w("confirmPassword",{required:"Please confirm your password",validate:I=>I===z||"Passwords do not match"}),type:d?"text":"password",className:"input bg-gray-100 border-spacing-1 border-gray-300 input-bordered w-full pr-10 focus:input-primary focus:outline-none",placeholder:"Confirm your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-primary transition-colors",onClick:()=>f(!d),children:d?a.jsx(Wy,{className:"h-4 w-4 text-base-content/60"}):a.jsx(Qs,{className:"h-4 w-4 text-base-content/60"})})]}),k.confirmPassword&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:k.confirmPassword.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsxs("label",{className:"label cursor-pointer",children:[a.jsx("input",{...w("terms",{required:"You must accept the terms and conditions"}),type:"checkbox",className:"checkbox checkbox-primary"}),a.jsxs("span",{className:"label-text ml-2",children:["I agree to the"," ",a.jsx(je,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms and Conditions"})," ","and"," ",a.jsx(je,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})]}),k.terms&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:k.terms.message})})]}),a.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary w-full text-white font-semibold hover:btn-primary-focus transition-all",children:x?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner loading-sm"}),"Creating account..."]}):"Create account"})]}),a.jsx("div",{className:"divider",children:"OR"}),a.jsxs("button",{onClick:P,disabled:x,className:"btn btn-outline btn-primary w-full flex items-center justify-center gap-2 hover:btn-primary hover:text-white transition-all",children:[a.jsx(xE,{className:"h-5 w-5"}),"Continue with Google"]})]})})]})})},dM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState({}),[o,c]=F.useState(""),[d,f]=F.useState(""),[m,g]=F.useState("newest"),[x,b]=F.useState([]),[w,D]=F.useState(!0),[M,k]=_6(),[z,G]=F.useState(M.get("view")||"active"),[P,I]=F.useState(M.get("charity")||""),H=[...new Set(t.map(_=>_.category))];F.useEffect(()=>{(async()=>{try{const T=await Dr();e(T),b(T);const Z=await gx();s(Z)}catch(T){console.error("Failed to load campaigns",T)}finally{D(!1)}})()},[]);const U=_=>{const T=_.target.value.toLowerCase();c(T),S(T,d,m,z,P)},C=_=>{f(_),S(o,_,m,z,P)},A=_=>{g(_),S(o,d,_,z,P)},N=(_,T)=>{const Z=new Date,$=new Date(_.endDate)<Z,X=(_.currentAmount||0)>=_.goalAmount,ie=_.status==="archived"||$,be=_.status!=="pending"&&_.status!=="rejected";switch(T){case"completed":return X&&be;case"archived":return ie&&be;case"all":return be;case"active":default:return Io(_)}},S=F.useCallback((_,T,Z,B=z,$=P)=>{let X=t.filter(ie=>{const be=ie.title.toLowerCase().includes(_)||ie.description.toLowerCase().includes(_)||ie.category.toLowerCase().includes(_),q=!T||ie.category===T,ce=N(ie,B),xe=!$||ie.charityId===$;return be&&q&&ce&&xe});switch(Z){case"newest":X.sort((ie,be)=>new Date(be.createdAt)-new Date(ie.createdAt));break;case"oldest":X.sort((ie,be)=>new Date(ie.createdAt)-new Date(be.createdAt));break;case"most_funded":X.sort((ie,be)=>be.currentAmount/be.goalAmount-ie.currentAmount/ie.goalAmount);break;case"least_funded":X.sort((ie,be)=>ie.currentAmount/ie.goalAmount-be.currentAmount/be.goalAmount);break;case"most_donors":X.sort((ie,be)=>be.donors-ie.donors);break;case"ending_soon":X.sort((ie,be)=>new Date(ie.endDate)-new Date(be.endDate));break}b(X)},[t,z,P]),L=_=>{G(_);const T=new URLSearchParams(M);_==="active"?T.delete("view"):T.set("view",_),P&&T.set("charity",P),k(T),S(o,d,m,_,P)};F.useEffect(()=>{const _=M.get("view")||"active",T=M.get("charity")||"";G(_),I(T),S(o,d,m,_,T)},[M,t,o,d,m,S]);const R=_=>{const B=new Date(_)-new Date;return Math.ceil(B/(1e3*60*60*24))};return w?a.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"Charity Campaigns - Browse All Causes"}),a.jsx("meta",{name:"description",content:"Browse all verified charity campaigns. Support education, healthcare, emergency relief, and more causes across Bangladesh."})]}),a.jsx("div",{className:"min-h-screen  pt-20",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Campaigns"}),a.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto",children:"Discover and support verified charity campaigns making a real difference in communities across Bangladesh"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary/20 via-secondary/15 to-primary/20 rounded-lg shadow-lg p-6 mb-8 border border-primary/30",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1 ",children:a.jsxs("div",{className:"relative",children:[a.jsx(fx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"input bg-black input-bordered w-full pl-10",value:o,onChange:U})]})}),a.jsx("div",{className:"lg:w-64",children:a.jsxs("select",{className:"select bg-black select-bordered w-full",value:d,onChange:_=>C(_.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),H.map(_=>a.jsx("option",{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))]})}),a.jsx("div",{className:"lg:w-48",children:a.jsxs("select",{className:"select bg-black select-bordered w-full",value:m,onChange:_=>A(_.target.value),children:[a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"oldest",children:"Oldest First"}),a.jsx("option",{value:"most_funded",children:"Most Funded"}),a.jsx("option",{value:"least_funded",children:"Least Funded"}),a.jsx("option",{value:"most_donors",children:"Most Donors"}),a.jsx("option",{value:"ending_soon",children:"Ending Soon"})]})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("p",{className:"text-sm font-semibold text-white mb-2 flex items-center gap-2",children:[a.jsx(_E,{}),"View campaigns by status"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"active",label:"Active"},{key:"completed",label:"Completed"},{key:"archived",label:"Ended"},{key:"all",label:"All"}].map(_=>a.jsx("button",{onClick:()=>L(_.key),className:`btn btn-sm ${z===_.key?"btn-primary":"btn-outline"}`,children:_.label},_.key))})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(_=>a.jsxs("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 border-2 border-primary/20 shadow-xl hover:shadow-2xl hover:border-primary/40 hover:scale-[1.02] transition-all duration-300",children:[a.jsxs("figure",{className:"relative",children:[a.jsx("img",{src:_.image,alt:_.title,className:"h-48 w-full object-cover",onError:T=>{T.target.src="https://via.placeholder.com/400x200"}}),a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[a.jsx("span",{className:"badge badge-primary capitalize",children:_.category}),(()=>{const T=R(_.endDate),Z=Math.abs(T)===1?"":"s";return T>0?a.jsxs("span",{className:"badge badge-error gap-1",children:[a.jsx(Ta,{className:"mr-1"})," ",T," day",Z," left"]}):T===0?a.jsxs("span",{className:"badge badge-warning gap-1",children:[a.jsx(Ta,{className:"mr-1"})," Ends today"]}):a.jsxs("span",{className:"badge badge-ghost gap-1 text-xs",children:[a.jsx(Ta,{className:"mr-1"})," ",Math.abs(T)," day",Z," passed"]})})()]}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("span",{className:"badge badge-success gap-1",children:[a.jsx(rr,{})," Approved"]})})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title text-lg line-clamp-2 text-base-content",children:_.title}),a.jsx("p",{className:"text-base-content/70 line-clamp-2",children:_.description}),a.jsx("div",{className:"text-sm text-base-content/80 mb-2",children:a.jsxs("p",{children:["By: ",a.jsx("span",{className:"font-semibold text-primary",children:_.charityName})]})}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-primary/10 via-secondary/5 to-primary/10 rounded-lg border border-primary/20",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsxs("span",{className:"font-bold text-success text-lg",children:["",_.currentAmount.toLocaleString()]}),a.jsxs("span",{className:"text-base-content/70 font-medium",children:["of ",_.goalAmount.toLocaleString()]})]}),a.jsx("progress",{className:"progress progress-success w-full h-2",value:_.currentAmount,max:_.goalAmount}),a.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[a.jsxs("span",{className:"font-bold text-primary",children:[Math.round(_.currentAmount/_.goalAmount*100),"% funded"]}),a.jsxs("span",{className:"text-base-content/70 flex items-center gap-1 font-medium",children:[a.jsx(gr,{className:"text-primary"}),n[_.id]||0," ",(n[_.id]||0)===1?"donor":"donors"]})]})]}),a.jsxs("div",{className:"card-actions justify-between mt-4",children:[a.jsx(je,{to:`/campaigns/${_.id}`,className:"btn btn-primary btn-sm flex-1",children:"View Details"}),Io(_)?a.jsxs(je,{to:`/campaigns/${_.id}/donate`,className:"btn btn-outline btn-sm flex-1",children:[a.jsx(Mt,{className:"mr-1"}),"Donate"]}):a.jsxs("button",{className:"btn btn-disabled btn-sm flex-1",disabled:!0,title:_.status!=="approved"?"Campaign Pending Approval":(_.currentAmount||0)>=_.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[a.jsx(ec,{className:"mr-1"}),"Donate"]})]})]})]},_.id))}),x.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No campaigns found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or filters"}),a.jsx("button",{onClick:()=>{c(""),f(""),g("newest"),b(t)},className:"btn btn-primary",children:"Clear Filters"})]}),x.length>0&&a.jsx("div",{className:"text-center mt-8",children:a.jsxs("p",{className:"text-white",children:["Showing ",x.length," of ",t.filter(_=>_.status!=="pending"&&_.status!=="rejected"&&(!P||_.charityId===P)).length," campaigns"]})})]})})]})},hM=()=>{const{id:t}=a0(),[e,n]=F.useState(null),[s,o]=F.useState(0),[c,d]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const g=(await Dr()).find(x=>x.id===t);if(n(g),g){const x=await RP(t);o(x)}}catch(m){console.error("Failed to load campaign details",m)}finally{d(!1)}})()},[t]),c?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):e?a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsxs("title",{children:[e.title," - Charity Campaign"]}),a.jsx("meta",{name:"description",content:e.description})]}),a.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:a.jsx("figure",{children:a.jsx("img",{src:e.image,alt:e.title,className:"w-full h-96 object-cover",onError:f=>{f.target.src="https://via.placeholder.com/800x400"}})})}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"badge badge-primary capitalize",children:e.category}),e.status==="approved"&&a.jsxs("span",{className:"badge badge-success",children:[a.jsx(rr,{className:"mr-1"})," Approved"]}),e.status==="pending"&&a.jsx("span",{className:"badge badge-warning",children:"Pending Review"})]}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),a.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-base-200 rounded-lg",children:[a.jsx(Pi,{className:"text-2xl text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Organized by"}),a.jsx("p",{className:"font-bold text-gray-400 text-lg",children:e.charityName}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Charity ID: ",e.charityId]})]})]}),a.jsx("div",{className:"divider",children:"Campaign Description"}),a.jsx("p",{className:"text-lg text-orange-200 whitespace-pre-line leading-relaxed mb-6",children:e.description}),a.jsx("div",{className:"divider",children:"Additional Information"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Goal Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",e.goalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount Raised"}),a.jsxs("p",{className:"text-2xl font-bold text-success",children:["",(e.currentAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Start Date"}),a.jsx("p",{className:"font-semibold text-base-content",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{className:"p-4 bg-base-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"End Date"}),a.jsx("p",{className:"font-semibold text-base-content",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-success/20 via-primary/10 to-success/20 shadow-xl border-2 border-success/30 mt-10 mb-20 top-24",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4",children:"Support This Campaign"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"text-center mb-4 p-4 bg-primary/10 rounded-lg",children:[a.jsx("p",{className:"text-sm text-white mb-1",children:"Total Raised"}),a.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",(e.currentAmount||0).toLocaleString()]}),a.jsxs("p",{className:"text-sm text-white mt-1",children:["of ",e.goalAmount.toLocaleString()," goal"]})]}),a.jsx("progress",{className:"progress progress-primary w-full h-3",value:e.currentAmount||0,max:e.goalAmount}),a.jsxs("div",{className:"flex justify-between text-sm mt-3",children:[a.jsxs("span",{className:"font-semibold text-white text-primary",children:[Math.round((e.currentAmount||0)/e.goalAmount*100),"% funded"]}),a.jsxs("span",{className:"text-white",children:["",(e.goalAmount-(e.currentAmount||0)).toLocaleString()," to go"]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 p-2 bg-base-200 rounded-lg",children:[a.jsx(gr,{className:"text-primary"}),a.jsx("span",{className:"font-semibold",children:s}),a.jsx("span",{className:"text-sm text-gray-600",children:s===1?"donor":"donors"})]})]}),(()=>{const f=Io(e);let m="";if(e.status!=="approved")m="Campaign Pending Approval";else if((e.currentAmount||0)>=e.goalAmount)m="Campaign Goal Reached";else{const g=new Date;g.setHours(0,0,0,0);const x=new Date(e.endDate);x.setHours(23,59,59,999),x<g&&(m="Campaign Ended")}return f?a.jsxs(je,{to:`/campaigns/${e.id}/donate`,className:"btn btn-primary w-full mb-4",children:[a.jsx(Mt,{className:"mr-2"}),"Donate Now"]}):a.jsxs("button",{className:"btn btn-disabled w-full mb-4",disabled:!0,children:[a.jsx(ec,{className:"mr-2"}),m||"Donation Not Available"]})})(),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[a.jsx(XO,{className:"mr-1"}),"Share"]}),a.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[a.jsx(HO,{className:"mr-1"}),"Save"]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-info/10 via-primary/5 to-info/10 shadow-xl border border-info/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-4",children:"Campaign Timeline"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gs,{className:"text-primary mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Created"}),a.jsx("p",{className:"text-sm text-white ",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gs,{className:"text-success mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"End Date"}),a.jsx("p",{className:"text-sm text-white ",children:new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),a.jsx("p",{className:"text-xs text-white mt-1",children:new Date(e.endDate)>new Date?`${Math.ceil((new Date(e.endDate)-new Date)/(1e3*60*60*24))} days remaining`:"Campaign ended"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fd,{className:"text-info mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Location"}),a.jsx("p",{className:"text-sm text-white ",children:"Bangladesh"})]})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-secondary/10 via-primary/5 to-secondary/10 shadow-xl border border-secondary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-4",children:"Organized by"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"avatar placeholder",children:a.jsx("div",{className:"bg-primary text-primary-content rounded-full w-16",children:a.jsx("span",{className:"text-2xl",children:e.charityName.charAt(0).toUpperCase()})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-lg",children:e.charityName}),a.jsxs("p",{className:"text-sm text-white flex items-center gap-1",children:[a.jsx(rr,{className:"text-success"}),"Registered Charity"]})]})]}),a.jsx(je,{to:`/campaigns?charity=${e.charityId}`,className:"btn btn-outline btn-sm w-full",children:"View All Campaigns"})]})})]})]})})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The campaign you're looking for doesn't exist."}),a.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"Back to Campaigns"})]})})},pu=(t,e,n)=>{const s=typeof window<"u"?window.Swal:null;return s?s.fire({icon:t,title:e,text:n,timer:t==="success"?3e3:void 0,showConfirmButton:t!=="success",confirmButtonColor:t==="success"?"#10b981":"#ef4444"}):(typeof window<"u"&&window.alert&&window.alert(`${e}${n?`
${n}`:""}`),Promise.resolve())},fM=()=>{const{id:t}=a0(),e=Vi(),{currentUser:n}=sr(),[s,o]=F.useState(null),[c,d]=F.useState(!0),[f,m]=F.useState(""),[g,x]=F.useState("bkash"),[b,w]=F.useState(!1),[D,M]=F.useState(!1);if(F.useEffect(()=>{(async()=>{try{const H=(await Dr()).find(U=>U.id===t);o(H)}catch(I){console.error("Failed to load campaign for donation",I)}finally{d(!1)}})()},[t]),c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})});if(!s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsx("div",{className:"text-center",children:a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Campaign Not Found"})})});const k=Io(s),z=()=>{if(s.status!=="approved")return"This campaign is pending approval and cannot accept donations yet.";if((s.currentAmount||0)>=s.goalAmount)return"This campaign has reached its goal and is no longer accepting donations.";const I=new Date;I.setHours(0,0,0,0);const H=new Date(s.endDate);return H.setHours(23,59,59,999),H<I?"This campaign has ended and is no longer accepting donations.":""},G=async P=>{if(P.preventDefault(),!k){await pu("error","Donation Not Available",z());return}if(!n){await pu("warning","Login Required","Please login to make a donation"),e("/login");return}if(!f||parseInt(f)<100){await pu("warning","Invalid Amount","Minimum donation amount is 100 BDT");return}M(!0);let I=!1,H=!1;try{await new Promise(N=>setTimeout(N,1500));const U=parseInt(f),C=`TXN${Date.now()}${Math.random().toString(36).substr(2,9).toUpperCase()}`,A={donorId:n.uid,donorEmail:n.email,donorName:n.displayName||"Anonymous",campaignId:s.id,campaignTitle:s.title,charityId:s.charityId,charityName:s.charityName,amount:U,currency:"BDT",paymentMethod:g,transactionId:C,anonymous:b,status:"completed"};try{await SP(A),I=!0}catch(N){throw console.error("Error adding donation:",N),new Error("Failed to record donation. Please try again.")}try{const N=await NP(s.id,U);o(N),H=!0}catch(N){if(console.error("Error updating campaign:",N),I)console.warn("Donation was recorded but campaign update failed");else throw new Error("Failed to update campaign. Please try again.")}if(I)await pu("success","Donation Successful!",`Thank you for your donation of ${U.toLocaleString()}!

Your contribution will make a real difference.`),e(`/campaigns/${s.id}`);else throw new Error("Donation processing failed")}catch(U){console.error("Donation error:",U),await pu("error","Donation Failed",U.message||"Failed to process donation. Please try again."),M(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsxs("title",{children:["Donate to ",s.title]})}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 via-accent/5 to-primary/10 pt-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary/5 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-accent/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-3 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Make a Donation"}),a.jsx("p",{className:"text-base-content/70 text-lg",children:"Your generosity makes a real difference"})]}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/5 to-white shadow-2xl border-2 border-primary/20 backdrop-blur-sm",children:a.jsxs("div",{className:"card-body p-6 md:p-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary via-secondary to-primary text-white rounded-xl p-6 mb-8 shadow-lg relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Mt,{className:"text-2xl text-white/90"}),a.jsx("h3",{className:"font-bold text-xl text-white",children:s.title})]}),a.jsxs("p",{className:"text-sm text-white/90 mb-4",children:["By: ",s.charityName]}),a.jsxs("div",{className:"flex justify-between text-sm mb-3 font-semibold text-white",children:[a.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-lg",children:["Raised: ",(s.currentAmount||0).toLocaleString()]}),a.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-lg",children:["Goal: ",s.goalAmount.toLocaleString()]})]}),a.jsx("progress",{className:"progress progress-white w-full h-3 mb-2",value:s.currentAmount||0,max:s.goalAmount}),a.jsxs("div",{className:"text-center text-base font-bold text-white mt-2",children:[Math.round((s.currentAmount||0)/s.goalAmount*100),"% funded"]})]})]}),a.jsxs("form",{onSubmit:G,className:"space-y-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-lg text-base-content",children:"Donation Amount (BDT)"})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[1e3,2500,5e3,1e4].map(P=>a.jsxs("button",{type:"button",onClick:()=>m(P.toString()),className:`btn  transition-all font-semibold ${f===P.toString()?"btn-primary text-white shadow-lg scale-105":"btn-outline btn-primary hover:bg-primary/10"}`,children:["",P.toLocaleString()]},P))}),a.jsx("input",{type:"number",placeholder:"Enter custom amount (min: 100)",className:"input text-blue-500 input-bordered w-full focus:input-primary focus:outline-none border-2 text-lg font-medium",value:f,onChange:P=>m(P.target.value),min:"100",required:!0}),a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-base-content/60",children:"Minimum donation: 100"})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-lg text-base-content",children:"Payment Method"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="bkash"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[a.jsx("input",{type:"radio",name:"payment",value:"bkash",checked:g==="bkash",onChange:P=>x(P.target.value),className:"radio radio-primary"}),a.jsx(YO,{className:`text-3xl ${g==="bkash"?"text-primary":"text-base-content/60"}`}),a.jsx("span",{className:"font-semibold text-base-content",children:"bKash"})]}),a.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="paypal"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[a.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:g==="paypal",onChange:P=>x(P.target.value),className:"radio radio-primary"}),a.jsx(IO,{className:`text-3xl ${g==="paypal"?"text-primary":"text-base-content/60"}`}),a.jsx("span",{className:"font-semibold text-base-content",children:"PayPal"})]}),a.jsxs("label",{className:`flex flex-col items-center gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all hover:scale-105 ${g==="card"?"bg-gradient-to-br from-primary/30 to-primary/10 border-primary shadow-lg":"hover:bg-primary/5 border-base-300"}`,children:[a.jsx("input",{type:"radio",name:"payment",value:"card",checked:g==="card",onChange:P=>x(P.target.value),className:"radio radio-primary"}),a.jsx(zO,{className:`text-3xl ${g==="card"?"text-primary":"text-base-content/60"}`}),a.jsx("span",{className:"font-semibold text-base-content",children:"Card"})]})]})]}),a.jsx("div",{className:"form-control",children:a.jsxs("label",{className:"label cursor-pointer justify-start gap-3 p-4 bg-base-200/50 rounded-lg hover:bg-base-200 transition-colors",children:[a.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary checkbox-lg",checked:b,onChange:P=>w(P.target.checked)}),a.jsx("span",{className:"label-text font-medium text-base-content",children:"Make this donation anonymous"})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-success/30 via-success/20 to-success/30 rounded-xl p-6 border-2 border-success/40 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(rr,{className:"text-success text-xl"}),a.jsx("h3",{className:"font-bold text-xl text-base-content",children:"Donation Summary"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[a.jsx("span",{className:"font-semibold text-base-content",children:"Amount:"}),a.jsx("span",{className:"font-black text-success text-2xl",children:f?`${parseInt(f).toLocaleString()}`:"0"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[a.jsx("span",{className:"font-semibold text-base-content",children:"Payment Method:"}),a.jsx("span",{className:"font-bold capitalize text-primary text-lg",children:g})]}),b&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-lg",children:[a.jsx("span",{className:"font-semibold text-base-content",children:"Visibility:"}),a.jsx("span",{className:"font-bold text-info text-lg",children:"Anonymous"})]})]})]}),k?a.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg text-white font-bold text-lg py-3 hover:btn-primary-focus transition-all shadow-xl hover:shadow-2xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",disabled:!f||parseInt(f)<100||D,children:D?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner loading-lg"}),"Processing Your Donation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"mr-2 text-xl"}),"Donate ",f?`${parseInt(f).toLocaleString()}`:"Now"]})}):a.jsxs("button",{type:"button",className:"btn btn-disabled w-full btn-lg font-bold text-lg py-3 cursor-not-allowed",disabled:!0,children:[a.jsx(ec,{className:"mr-2 text-xl"}),"Donation Not Available"]}),!k&&a.jsx("div",{className:"mt-4 p-4 bg-warning/20 border border-warning/40 rounded-lg",children:a.jsx("p",{className:"text-sm text-base-content font-medium text-center",children:z()})})]}),a.jsx("div",{className:"mt-8 p-4 bg-gradient-to-r from-success/20 to-success/10 rounded-lg border border-success/30",children:a.jsxs("p",{className:"text-sm text-blue-500 text-base-content/80 flex items-center justify-center gap-2 font-medium",children:[a.jsx(rr,{className:"text-success text-blue-500 text-lg"}),"Your donation is secure and will be processed immediately"]})})]})})]})})]})]})},mM=()=>a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Create Campaign - Charity Platform"})}),a.jsx("div",{className:"min-h-screen bg-base-200 pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Create New Campaign"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Start a fundraising campaign to support your cause"})]}),a.jsx("div",{className:"card bg-base-100 shadow-xl",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Do,{className:"text-6xl text-primary mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Creation Form"}),a.jsx("p",{className:"text-gray-600",children:"Fill out the details below to create your campaign"})]}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Campaign Title *"})}),a.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter campaign title",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Category *"})}),a.jsxs("select",{className:"select select-bordered",required:!0,children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"healthcare",children:"Healthcare"}),a.jsx("option",{value:"emergency",children:"Emergency Relief"}),a.jsx("option",{value:"women",children:"Women Empowerment"}),a.jsx("option",{value:"environment",children:"Environment"}),a.jsx("option",{value:"children",children:"Children"}),a.jsx("option",{value:"elderly",children:"Elderly Care"}),a.jsx("option",{value:"animals",children:"Animal Welfare"})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Short Description *"})}),a.jsx("textarea",{className:"textarea textarea-bordered h-24",placeholder:"Brief description of your campaign",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Detailed Story *"})}),a.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Tell your story in detail",required:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Funding Goal (BDT) *"})}),a.jsx("input",{type:"number",className:"input input-bordered",placeholder:"Enter amount",min:"1000",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Campaign Duration (Days) *"})}),a.jsx("input",{type:"number",className:"input input-bordered",placeholder:"30",min:"7",max:"365",required:!0})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Campaign Images *"})}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(Yf,{className:"text-4xl text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Upload campaign images"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload at least 3 images (max 5)"}),a.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs",multiple:!0,accept:"image/*"})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Urgency Level *"})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"urgency",value:"low",className:"radio radio-primary"}),a.jsx("span",{children:"Low Priority"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"urgency",value:"medium",className:"radio radio-primary"}),a.jsx("span",{children:"Moderate"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"urgency",value:"high",className:"radio radio-primary"}),a.jsx("span",{children:"Urgent"})]})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"Tags"})}),a.jsx("input",{type:"text",className:"input input-bordered",placeholder:"Enter tags separated by commas"})]}),a.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[a.jsx(Do,{className:"mr-2"}),"Create Campaign"]})]})]})})]})})})]}),pM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const c=await Dr(),d={};c.forEach(f=>{d[f.charityId]||(d[f.charityId]={id:f.charityId,name:f.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0}),d[f.charityId].campaigns.push(f),d[f.charityId].totalCampaigns++,d[f.charityId].totalRaised+=f.currentAmount||0,f.status==="approved"&&d[f.charityId].approvedCampaigns++}),e(Object.values(d))}catch(c){console.error("Failed to load charities",c)}finally{s(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-base-200 pt-20 flex items-center justify-center",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"Verified Charities - Charity Platform"}),a.jsx("meta",{name:"description",content:"Browse verified charity organizations making a positive impact in Bangladesh. Support trusted causes."})]}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Verified Charities"}),a.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto font-medium",children:"Discover trusted charity organizations making a real difference in communities across Bangladesh"})]}),t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:"No Charities Yet"}),a.jsx("p",{className:"text-gray-700 mb-6 font-medium",children:"Be the first charity to register and start making a difference!"}),a.jsxs(je,{to:"/charities/register",className:"btn btn-primary",children:[a.jsx(Pi,{className:"mr-2"}),"Register Your Charity"]})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 border-2 border-primary/20 shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"avatar placeholder",children:a.jsx("div",{className:"bg-gradient-to-br from-primary to-secondary text-white rounded-full w-16",children:a.jsx("span",{className:"text-2xl font-bold",children:o.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"card-title text-lg text-gray-900",children:o.name}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rr,{className:"text-success text-sm"}),a.jsx("span",{className:"text-xs text-gray-700 font-medium",children:"Registered Charity"})]})]})]}),a.jsx("div",{className:"divider my-2"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center bg-gradient-to-br from-primary/10 to-primary/5 p-3 rounded-lg border border-primary/20",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:o.totalCampaigns}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Total Campaigns"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-success/10 to-success/5 p-3 rounded-lg border border-success/20",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:o.approvedCampaigns}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Approved"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-warning/10 to-warning/5 p-3 rounded-lg border border-warning/20",children:[a.jsx("div",{className:"text-2xl font-bold text-warning",children:o.totalCampaigns-o.approvedCampaigns}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Pending"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-secondary/30 via-accent/20 to-secondary/30 p-4 rounded-lg border-2 border-secondary/30",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-gray-800 mb-1 font-semibold",children:"Total Amount Raised"}),a.jsxs("div",{className:"text-3xl font-bold text-secondary",children:["",o.totalRaised.toLocaleString()]})]})}),a.jsx("div",{className:"card-actions justify-center mt-4",children:a.jsxs(je,{to:`/campaigns?view=all&charity=${o.id}`,className:"btn btn-primary btn-block",children:[a.jsx(Mt,{className:"mr-2"}),"View Campaigns"]})})]})},o.id))}),t.length>0&&a.jsx("div",{className:"text-center mt-12",children:a.jsxs("div",{className:"stats shadow-lg bg-gradient-to-br from-white via-primary/5 to-secondary/5 border-2 border-primary/20 mb-6",children:[a.jsxs("div",{className:"stat bg-gradient-to-br from-primary/10 to-primary/5 border-r-2 border-primary/20",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Charities"}),a.jsx("div",{className:"stat-value text-primary",children:t.length})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-secondary/10 to-secondary/5 border-r-2 border-secondary/20",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Campaigns"}),a.jsx("div",{className:"stat-value text-secondary",children:t.reduce((o,c)=>o+c.totalCampaigns,0)})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-accent/10 to-accent/5",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Raised"}),a.jsxs("div",{className:"stat-value text-accent",children:["",t.reduce((o,c)=>o+c.totalRaised,0).toLocaleString()]})]})]})})]})})]})},gM=[{id:1,name:"Bangladesh Red Crescent Society",description:"Leading humanitarian organization providing emergency relief and disaster response services across Bangladesh.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.8,totalCampaigns:45,totalRaised:25e5,establishedYear:1971,location:"Dhaka, Bangladesh",website:"https://www.bdrcs.org",email:"info@bdrcs.org",phone:"+880-2-9876543",categories:["Emergency Relief","Disaster Response","Healthcare"],teamMembers:[{name:"Dr. Ahmed Hassan",role:"Director",image:"/api/placeholder/80/80"},{name:"Fatima Begum",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Mohammad Ali",role:"Field Coordinator",image:"/api/placeholder/80/80"}]},{id:2,name:"Teach for Bangladesh",description:"Dedicated to providing quality education to underprivileged children and improving educational outcomes.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.6,totalCampaigns:32,totalRaised:18e5,establishedYear:2012,location:"Dhaka, Bangladesh",website:"https://www.teachforbangladesh.org",email:"contact@teachforbangladesh.org",phone:"+880-2-8765432",categories:["Education","Children","Youth Development"],teamMembers:[{name:"Sarah Ahmed",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rashid Khan",role:"Education Specialist",image:"/api/placeholder/80/80"}]},{id:3,name:"WaterAid Bangladesh",description:"Working to ensure everyone has access to clean water, decent toilets, and good hygiene.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.7,totalCampaigns:28,totalRaised:32e5,establishedYear:1986,location:"Dhaka, Bangladesh",website:"https://www.wateraid.org/bd",email:"bangladesh@wateraid.org",phone:"+880-2-7654321",categories:["Water","Sanitation","Health"],teamMembers:[{name:"Dr. Nasreen Begum",role:"Country Director",image:"/api/placeholder/80/80"},{name:"Karim Uddin",role:"Program Manager",image:"/api/placeholder/80/80"},{name:"Ayesha Rahman",role:"Community Coordinator",image:"/api/placeholder/80/80"}]},{id:4,name:"Bangladesh Medical Association",description:"Professional medical organization working to improve healthcare services and medical education.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.5,totalCampaigns:38,totalRaised:45e5,establishedYear:1972,location:"Dhaka, Bangladesh",website:"https://www.bma.org.bd",email:"secretary@bma.org.bd",phone:"+880-2-6543210",categories:["Healthcare","Medical Education","Public Health"],teamMembers:[{name:"Prof. Dr. Md. Iqbal Arslan",role:"President",image:"/api/placeholder/80/80"},{name:"Dr. Farhana Yasmin",role:"Secretary General",image:"/api/placeholder/80/80"}]},{id:5,name:"Women for Women Bangladesh",description:"Empowering women through education, training, and economic opportunities.",logo:"/api/placeholder/100/100",coverImage:"/api/placeholder/800/400",verified:!0,rating:4.4,totalCampaigns:25,totalRaised:12e5,establishedYear:2005,location:"Dhaka, Bangladesh",website:"https://www.womenforwomenbd.org",email:"info@womenforwomenbd.org",phone:"+880-2-5432109",categories:["Women Empowerment","Education","Economic Development"],teamMembers:[{name:"Nazma Akter",role:"Executive Director",image:"/api/placeholder/80/80"},{name:"Rokeya Begum",role:"Program Coordinator",image:"/api/placeholder/80/80"}]}],yM=()=>{const{id:t}=a0(),e=gM.find(n=>n.id===parseInt(t));return e?a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsxs("title",{children:[e.name," - Charity Profile"]}),a.jsx("meta",{name:"description",content:e.description})]}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20 mb-8",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("img",{src:e.logo,alt:e.name,className:"w-24 h-24 rounded-full mx-auto md:mx-0 border-4 border-primary/30 shadow-lg"}),a.jsxs("div",{className:"flex-1 text-center md:text-left",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-900",children:e.name}),a.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[a.jsx(Ei,{className:"text-yellow-400"}),a.jsx("span",{className:"font-semibold text-gray-800",children:e.rating}),a.jsx("span",{className:"badge badge-success",children:"Verified"})]}),a.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:e.categories.map((n,s)=>a.jsx("span",{className:"badge badge-primary",children:n},s))})]})]})})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title mb-4 text-gray-900",children:["About ",e.name]}),a.jsxs("p",{className:"text-gray-700 leading-relaxed font-medium",children:[e.description," Founded in ",e.establishedYear,", we have been working tirelessly to make a positive impact in our communities. Our mission is to create lasting change through verified campaigns and transparent operations."]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4 text-gray-900",children:"Our Team"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.teamMembers.map((n,s)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-br from-primary/10 to-secondary/5 rounded-lg border border-primary/20",children:[a.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full border-2 border-primary/30"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),a.jsx("p",{className:"text-sm text-gray-700 font-medium",children:n.role})]})]},s))})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Statistics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-primary/10 to-primary/5 p-2 rounded-lg border border-primary/20",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Total Campaigns"}),a.jsx("span",{className:"font-bold text-primary",children:e.totalCampaigns})]}),a.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-secondary/10 to-secondary/5 p-2 rounded-lg border border-secondary/20",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Total Raised"}),a.jsxs("span",{className:"font-bold text-secondary",children:[e.totalRaised.toLocaleString()," BDT"]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-accent/10 to-accent/5 p-2 rounded-lg border border-accent/20",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Rating"}),a.jsxs("span",{className:"font-bold text-accent",children:[e.rating,"/5"]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-gradient-to-r from-info/10 to-info/5 p-2 rounded-lg border border-info/20",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Established"}),a.jsx("span",{className:"font-bold text-info",children:e.establishedYear})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Contact Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-primary/10 to-primary/5 p-2 rounded-lg border border-primary/20",children:[a.jsx(fd,{className:"text-primary text-lg"}),a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.location})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-secondary/10 to-secondary/5 p-2 rounded-lg border border-secondary/20",children:[a.jsx(Xu,{className:"text-secondary text-lg"}),a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.email})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-accent/10 to-accent/5 p-2 rounded-lg border border-accent/20",children:[a.jsx(Em,{className:"text-accent text-lg"}),a.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e.phone})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-info/10 to-info/5 p-2 rounded-lg border border-info/20",children:[a.jsx(qO,{className:"text-info text-lg"}),a.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline font-medium",children:"Visit Website"})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-4 text-gray-900",children:"Support This Charity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"btn btn-primary w-full",children:[a.jsx(Mt,{className:"mr-2"}),"View Campaigns"]}),a.jsxs("button",{className:"btn btn-outline btn-primary w-full",children:[a.jsx(gr,{className:"mr-2"}),"Follow Charity"]})]})]})})]})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsx("div",{className:"text-center",children:a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Charity Not Found"})})})},xM=()=>a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"Register Your Charity - Charity Platform"}),a.jsx("meta",{name:"description",content:"Register your charity organization to start fundraising campaigns and connect with donors."})]}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Register Your Charity"}),a.jsx("p",{className:"text-xl text-gray-800 max-w-2xl mx-auto font-medium",children:"Join our platform to start fundraising campaigns and connect with donors who want to make a difference"})]}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Pi,{className:"text-6xl text-primary mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Charity Registration Form"}),a.jsx("p",{className:"text-gray-700 font-medium",children:"Complete the form below to register your charity organization"})]}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Organization Name *"})}),a.jsx("input",{type:"text",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"Enter organization name",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Registration Number *"})}),a.jsx("input",{type:"text",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"Government registration number",required:!0})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Organization Description *"})}),a.jsx("textarea",{className:"textarea textarea-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 h-32",placeholder:"Describe your organization's mission and work",required:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Contact Email *"})}),a.jsx("input",{type:"email",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"contact@organization.org",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Phone Number *"})}),a.jsx("input",{type:"tel",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"+880-XXX-XXXXXXX",required:!0})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Website"})}),a.jsx("input",{type:"url",className:"input input-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900",placeholder:"https://www.organization.org"})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Address *"})}),a.jsx("textarea",{className:"textarea textarea-bordered bg-white border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 h-24",placeholder:"Enter complete address",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Focus Areas *"})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Education","Healthcare","Emergency Relief","Women Empowerment","Environment","Children","Elderly Care","Animal Welfare"].map(t=>a.jsxs("label",{className:"flex items-center gap-2 bg-gradient-to-r from-primary/10 to-secondary/5 p-2 rounded-lg border border-primary/20",children:[a.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary"}),a.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t})]},t))})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Upload Documents *"})}),a.jsxs("div",{className:"border-2 border-dashed border-primary/30 rounded-lg p-6 text-center bg-gradient-to-br from-primary/5 to-secondary/5",children:[a.jsx(Yf,{className:"text-4xl text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-800 mb-2 font-medium",children:"Upload required documents"}),a.jsx("p",{className:"text-sm text-gray-700 mb-4 font-medium",children:"Registration Certificate, Tax Exemption Certificate, Bank Account Details"}),a.jsx("input",{type:"file",className:"file-input file-input-bordered w-full max-w-xs bg-white border-primary/30",multiple:!0})]})]}),a.jsx("div",{className:"form-control",children:a.jsxs("label",{className:"label cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",required:!0}),a.jsx("span",{className:"label-text",children:"I agree to the terms and conditions and confirm that all information provided is accurate *"})]})}),a.jsxs("button",{type:"submit",className:"btn btn-primary w-full btn-lg",children:[a.jsx(kO,{className:"mr-2"}),"Submit Registration"]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-br from-info/20 via-primary/10 to-info/20 rounded-lg border-2 border-info/30",children:[a.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"What happens next?"}),a.jsxs("ul",{className:"text-sm text-gray-800 space-y-1 font-medium",children:[a.jsx("li",{children:" We'll review your application within 2-3 business days"}),a.jsx("li",{children:" You'll receive an email notification about the status"}),a.jsx("li",{children:" Once approved, you can start creating campaigns"}),a.jsx("li",{children:" Our team will provide onboarding support"})]})]})]})})]})})})]}),_d="https://charity-donation-platform-server.vercel.app",Nd=t=>{if(!t)return t;const e={...t,id:t.id||(t._id?t._id.toString():void 0)};return t._id&&!e._id&&(e._id=t._id.toString()),e},Am=async t=>{if(!t.ok){const e=await t.text();throw new Error(e||"Request failed")}return t.json()},vM=(t={})=>{const e=Object.entries(t).filter(([,s])=>s!=null&&s!=="");return e.length?`?${new URLSearchParams(e).toString()}`:""},bM=async t=>{const e=await fetch(`${_d}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await Am(e);return Nd(n)},wM=async(t={})=>{const e=await fetch(`${_d}/messages${vM(t)}`);return(await Am(e)).map(Nd)},Nx=async t=>{if(!t)return[];const e=await fetch(`${_d}/messages/user/${t}`);return(await Am(e)).map(Nd)},UE=async(t,e)=>{if(!t)throw new Error("Message ID is required");let n=`${_d}/messages/${t}/reply`;const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)try{const o=await s.json();return Nd(o)}catch(o){return console.warn("Response parsing warning:",o),{success:!0,messageId:t}}else{let o;try{const c=await s.json();o=c.message||JSON.stringify(c)}catch{o=await s.text()}throw new Error(o||`Server returned status ${s.status}`)}},_M=async(t,e)=>{const n=await fetch(`${_d}/messages/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})}),s=await Am(n);return Nd(s)},NM=()=>{const{currentUser:t}=sr(),[e,n]=F.useState({totalDonations:0,campaignsSupported:0,totalImpact:0,thisMonth:0}),[s,o]=F.useState([]),[c,d]=F.useState(!0),[f,m]=F.useState({completed:0,archived:0}),[g,x]=F.useState([]);return F.useEffect(()=>{(async()=>{try{if(!t){d(!1);return}const w=await TP(t.uid);n({totalDonations:w.totalDonated||0,campaignsSupported:w.campaignsSupported||0,totalImpact:w.impact||0,thisMonth:w.thisMonth||0});const D=await Ju("approved"),M=new Date;M.setHours(0,0,0,0);const k=D.filter(P=>{const I=new Date(P.endDate);return I.setHours(23,59,59,999),I>=M}).slice(0,6),z=D.filter(P=>(P.currentAmount||0)>=P.goalAmount).length,G=D.filter(P=>new Date(P.endDate)<M).length;if(m({completed:z,archived:G}),t?.uid){const P=await Nx(t.uid);x(P)}o(k),d(!1)}catch(w){console.error("Error fetching donor dashboard data:",w),d(!1)}})()},[t]),a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Donor Dashboard - Charity Platform"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",t?.displayName||"Donor","!"]}),a.jsx("p",{className:"text-lg opacity-90",children:"Thank you for making a difference in your community"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),a.jsxs("p",{className:"text-3xl font-bold",children:["",e.totalDonations.toLocaleString()]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All time contributions"})]}),a.jsx(wE,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),a.jsx("p",{className:"text-3xl font-bold",children:e.campaignsSupported}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Active campaigns"})]}),a.jsx(Mt,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Lives Impacted"}),a.jsxs("p",{className:"text-3xl font-bold",children:[e.totalImpact,"+"]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:"People helped"})]}),a.jsx(gr,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-info to-info/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"This Month"}),a.jsxs("p",{className:"text-3xl font-bold",children:["",e.thisMonth.toLocaleString()]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date().toLocaleString("default",{month:"long"})})]}),a.jsx(Co,{className:"text-5xl opacity-30"})]})})})]}),!c&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(je,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success/20 via-success/10 to-success/5 shadow-lg border border-success/30 hover:shadow-2xl transition-all hover:scale-105",children:a.jsxs("div",{className:"card-body flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Completed campaigns"}),a.jsx("p",{className:"text-3xl font-bold text-success",children:f.completed}),a.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Targets reached across the platform"})]}),a.jsx(rr,{className:"text-4xl text-success/70"})]})}),a.jsx(je,{to:"/campaigns?view=archived",className:"card bg-gradient-to-br from-warning/20 via-warning/10 to-warning/5 shadow-lg border border-warning/30 hover:shadow-2xl transition-all hover:scale-105",children:a.jsxs("div",{className:"card-body flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Ended timelines"}),a.jsx("p",{className:"text-3xl font-bold text-warning",children:f.archived}),a.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Campaigns waiting for admin extension"})]}),a.jsx(Mi,{className:"text-4xl text-warning/70"})]})})]}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Active Campaigns"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Support these ongoing campaigns"})]}),a.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-sm",children:["View All ",a.jsx(vE,{className:"ml-2"})]})]}),c?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hd,{className:"text-6xl text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Campaigns"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Check back soon for new campaigns to support!"}),a.jsx(je,{to:"/campaigns",className:"btn btn-primary",children:"Browse All Campaigns"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(b=>a.jsxs("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-lg border-2 border-primary/20 hover:shadow-xl hover:border-primary/40 hover:scale-[1.02] transition-all",children:[a.jsx("figure",{children:a.jsx("img",{src:b.image,alt:b.title,className:"w-full h-48 object-cover",onError:w=>{w.target.src="https://via.placeholder.com/400x300"}})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"badge badge-primary capitalize",children:b.category}),a.jsx("span",{className:"badge badge-success",children:"Active"})]}),a.jsx("h3",{className:"card-title text-base text-base-content",children:b.title}),a.jsxs("p",{className:"text-xs text-base-content/70 mb-1 font-medium",children:["By: ",a.jsx("span",{className:"text-primary font-semibold",children:b.charityName})]}),a.jsx("p",{className:"text-sm text-base-content/70 line-clamp-2",children:b.description}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-primary/10 via-secondary/5 to-primary/10 rounded-lg border border-primary/20",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsxs("span",{className:"font-bold text-primary",children:[Math.round((b.currentAmount||0)/b.goalAmount*100),"% funded"]}),a.jsxs("span",{className:"font-bold text-success text-lg",children:["",(b.currentAmount||0).toLocaleString()]})]}),a.jsx("progress",{className:"progress progress-success w-full h-2",value:b.currentAmount||0,max:b.goalAmount}),a.jsxs("div",{className:"flex justify-between text-xs text-base-content/70 mt-2 font-medium",children:[a.jsxs("span",{children:["Goal: ",b.goalAmount.toLocaleString()]}),a.jsxs("span",{children:["Ends: ",new Date(b.endDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[a.jsxs(je,{to:`/campaigns/${b.id}`,className:"btn btn-ghost btn-sm",children:[a.jsx(Qs,{className:"mr-1"})," Details"]}),Io(b)?a.jsxs(je,{to:`/campaigns/${b.id}/donate`,className:"btn btn-primary btn-sm",children:[a.jsx(Mt,{className:"mr-1"})," Donate"]}):a.jsxs("button",{className:"btn btn-disabled btn-sm",disabled:!0,title:b.status!=="approved"?"Campaign Pending Approval":(b.currentAmount||0)>=b.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[a.jsx(ec,{className:"mr-1"})," Donate"]})]})]})]},b.id))})]})}),t&&a.jsx("div",{className:"card bg-gradient-to-br from-info/10 via-primary/5 to-secondary/5 shadow-lg border border-info/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(jm,{className:"text-primary text-2xl"}),a.jsxs("div",{children:[a.jsx("h2",{className:"card-title mb-0",children:"Messages from Admin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Replies land here after you use the contact form"})]})]}),g.length===0?a.jsxs("div",{className:"text-center py-6 text-gray-500",children:["No replies yet. ",a.jsx(je,{to:"/contact",className:"link link-primary",children:"Send us a message"})," to get help."]}):a.jsxs("div",{className:"space-y-4",children:[g.slice(0,3).map(b=>{const w=b.replies?.[b.replies.length-1];return a.jsxs("div",{className:"border border-base-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[a.jsx("span",{children:b.subject}),a.jsx("span",{children:new Date(b.updatedAt||b.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 text-sm mb-2 line-clamp-2",children:b.message}),w?a.jsxs("div",{className:"bg-base-200 rounded p-3 text-sm text-gray-700",children:[a.jsxs("p",{className:"font-semibold text-primary mb-1",children:[w.actorType==="admin"?"Admin":"You"," "," ",new Date(w.createdAt).toLocaleString()]}),a.jsx("p",{className:"line-clamp-3",children:w.message})]}):a.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting admin response"})]},b.id)}),a.jsx(je,{to:"/contact#inbox",className:"btn btn-sm btn-primary w-fit",children:"Continue conversation"})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(je,{to:"/campaigns",className:"btn btn-primary btn-lg",children:[a.jsx(Mt,{className:"mr-2"}),"Browse Campaigns"]}),a.jsxs(je,{to:"/dashboard/donations",className:"btn btn-outline btn-lg",children:[a.jsx(Gs,{className:"mr-2"}),"View Donation History"]}),a.jsxs(je,{to:"/profile",className:"btn btn-outline btn-lg",children:[a.jsx(gr,{className:"mr-2"}),"Update Profile"]})]})]})})]})]})},jM=()=>{const{currentUser:t}=sr(),[e,n]=F.useState([]),[s,o]=F.useState({}),[c,d]=F.useState(!0),[f,m]=F.useState("all"),[g,x]=F.useState({}),[b,w]=F.useState({totalDonated:0,totalDonations:0,campaignsSupported:0});F.useEffect(()=>{if(!t){d(!1);return}(async()=>{try{const H=await EP(t.uid),U=H.sort((L,R)=>new Date(R.createdAt||R.date)-new Date(L.createdAt||L.date)),C=await Dr(),A={};C.forEach(L=>{A[L.id]=L});const N=H.reduce((L,R)=>L+(R.amount||0),0),S=new Set(H.map(L=>L.campaignId));n(U),o(A),w({totalDonated:N,totalDonations:H.length,campaignsSupported:S.size})}catch(H){console.error("Error fetching donations:",H)}finally{d(!1)}})()},[t]);const D=F.useMemo(()=>({all:{label:"All time",start:null,end:null},thisMonth:{label:"This month",start:(()=>{const I=new Date;return new Date(I.getFullYear(),I.getMonth(),1)})(),end:new Date},lastMonth:{label:"Last month",start:(()=>{const I=new Date;return new Date(I.getFullYear(),I.getMonth()-1,1)})(),end:(()=>{const I=new Date;return new Date(I.getFullYear(),I.getMonth(),0,23,59,59,999)})()},lastYear:{label:"Last 12 months",start:(()=>{const I=new Date;return new Date(I.getFullYear()-1,I.getMonth(),I.getDate())})(),end:new Date}}),[]),M=F.useMemo(()=>{const I=D[f];return!I||!I.start&&!I.end?e:e.filter(H=>{const U=H.createdAt||H.date;if(!U)return!1;const C=new Date(U);return!(Number.isNaN(C.getTime())||I.start&&C<I.start||I.end&&C>I.end)})},[e,f,D]),k=F.useMemo(()=>{const I={};return M.forEach(H=>{const U=H.campaignId;if(!U)return;I[U]||(I[U]={campaignId:U,campaignTitle:H.campaignTitle||"Unknown Campaign",charityName:H.charityName||"Unknown Charity",totalAmount:0,donationCount:0,donations:[],firstDonationDate:null,lastDonationDate:null}),I[U].totalAmount+=H.amount||0,I[U].donationCount+=1,I[U].donations.push(H);const C=new Date(H.createdAt||H.date);isNaN(C.getTime())||((!I[U].firstDonationDate||C<I[U].firstDonationDate)&&(I[U].firstDonationDate=C),(!I[U].lastDonationDate||C>I[U].lastDonationDate)&&(I[U].lastDonationDate=C))}),Object.values(I).forEach(H=>{H.donations.sort((U,C)=>{const A=new Date(U.createdAt||U.date);return new Date(C.createdAt||C.date)-A})}),I},[M]),z=I=>{x(H=>({...H,[I]:!H[I]}))},G=()=>{const I=M;if(!I.length){alert("No donations found for the selected period.");return}const H=["Donation Date","Campaign","Charity","Amount (BDT)","Payment Method","Transaction ID","Status"],U=I.map(L=>[`"${new Date(L.createdAt||L.date).toLocaleString()}"`,`"${L.campaignTitle||"Unknown Campaign"}"`,`"${L.charityName||"Unknown Charity"}"`,L.amount||0,`"${L.paymentMethod||"N/A"}"`,`"${L.transactionId||"N/A"}"`,`"${L.status||"completed"}"`].join(",")),C=[H.join(","),...U].join(`
`),A=new Blob([C],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(A),S=document.createElement("a");S.href=N,S.download=`donations-${f}.csv`,S.click(),URL.revokeObjectURL(N)},P=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return c?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"My Donations - Donor Dashboard"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Donations"}),a.jsx("p",{className:"text-lg opacity-90",children:"Track your contributions and impact"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Total Donated"}),a.jsxs("p",{className:"text-3xl font-bold",children:["",b.totalDonated.toLocaleString()]})]}),a.jsx(Gf,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Total Donations"}),a.jsx("p",{className:"text-3xl font-bold",children:b.totalDonations})]}),a.jsx(Mt,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-accent to-accent/80 text-white shadow-xl",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Campaigns Supported"}),a.jsx("p",{className:"text-3xl font-bold",children:b.campaignsSupported})]}),a.jsx(Co,{className:"text-5xl opacity-30"})]})})})]}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-xl border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"card-title text-2xl mb-1",children:"Donation History"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",Object.keys(k).length," campaign",Object.keys(k).length!==1?"s":""," (",M.length," donation",M.length!==1?"s":"",")"]})]}),a.jsx("div",{className:"w-full md:w-auto",children:a.jsxs("div",{className:"bg-white/70 backdrop-blur border border-primary/20 rounded-lg p-3 flex flex-col sm:flex-row gap-3 items-start sm:items-center shadow-sm",children:[a.jsxs("div",{className:"form-control w-full sm:w-auto",children:[a.jsx("label",{className:"label text-xs uppercase tracking-wide font-semibold text-gray-600 mb-1 px-3",children:"Slip period"}),a.jsx("select",{className:"select select-bordered text-black select-sm w-full sm:w-48",value:f,onChange:I=>m(I.target.value),children:Object.entries(D).map(([I,H])=>a.jsx("option",{value:I,children:H.label},I))})]}),a.jsx("button",{onClick:G,className:"btn btn-secondary btn-sm w-full sm:w-auto shadow-md",children:"Download Slip (CSV)"})]})})]}),a.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-primary/40 via-secondary/40 to-accent/40 rounded-full"})]}),Object.keys(k).length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hd,{className:"text-6xl text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Donations Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start making a difference by supporting a campaign!":"No donations match the selected period."}),e.length===0&&a.jsxs(je,{to:"/campaigns",className:"btn btn-primary",children:[a.jsx(Mt,{className:"mr-2"}),"Browse Campaigns"]})]}):a.jsx("div",{className:"space-y-4",children:Object.values(k).map(I=>{const H=s[I.campaignId],U=g[I.campaignId],C=I.donationCount>1;return a.jsx("div",{className:"card bg-gradient-to-br from-base-100 via-primary/10 to-secondary/5 shadow-lg border border-primary/20 hover:shadow-xl hover:border-primary/30 transition-all",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[H&&a.jsx("figure",{className:"lg:w-48 h-32 rounded-lg overflow-hidden flex-shrink-0 border-2 border-primary/20 shadow-md",children:a.jsx("img",{src:H.image,alt:H.title,className:"w-full h-full object-cover",onError:A=>{A.target.src="https://via.placeholder.com/300x200"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3 p-3 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg border border-primary/20",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-base-content",children:I.campaignTitle}),a.jsxs("p",{className:"text-sm text-black text-base-content/70 font-medium",children:["By: ",I.charityName]}),C&&a.jsxs("p",{className:"text-xs text-base-content/60 mt-1",children:[I.donationCount," donation",I.donationCount>1?"s":""," made"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-black text-primary",children:["",I.totalAmount.toLocaleString()]}),a.jsx("span",{className:"badge badge-sm font-semibold badge-success",children:"Total Donated"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg border border-primary/20",children:[a.jsx(Gs,{className:"text-primary text-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Date Range"}),a.jsx("p",{className:"text-sm font-bold text-base-content",children:P(I.firstDonationDate)}),C&&I.firstDonationDate!==I.lastDonationDate&&a.jsxs("p",{className:"text-xs text-base-content/50",children:["to ",P(I.lastDonationDate)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/10 rounded-lg border border-secondary/20",children:[a.jsx(Gf,{className:"text-secondary text-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Donations"}),a.jsx("p",{className:"text-sm font-bold text-base-content",children:I.donationCount})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-accent/10 rounded-lg border border-accent/20",children:[a.jsx(Mt,{className:"text-accent text-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Total Amount"}),a.jsxs("p",{className:"text-sm font-bold text-base-content",children:["",I.totalAmount.toLocaleString()]})]})]}),H&&a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-info/10 rounded-lg border border-info/20",children:[a.jsx(Co,{className:"text-info text-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-base-content/60 font-medium",children:"Campaign Status"}),a.jsx("p",{className:"text-sm font-bold capitalize text-base-content",children:H.status})]})]})]}),C&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{onClick:()=>z(I.campaignId),className:"btn btn-outline btn-sm w-full justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Gs,{}),"View Individual Donation Dates (",I.donationCount,")"]}),U?a.jsx(VO,{}):a.jsx(LO,{})]}),U&&a.jsxs("div",{className:"mt-3 p-4 bg-base-200 rounded-lg border border-primary/20",children:[a.jsx("h4",{className:"font-bold text-base-content mb-3",children:"Donation History"}),a.jsx("div",{className:"space-y-2",children:I.donations.map((A,N)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-base-100 rounded-lg border border-base-300",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gs,{className:"text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-base-content",children:P(A.createdAt||A.date)}),a.jsx("p",{className:"text-xs text-base-content/60",children:new Date(A.createdAt||A.date).toLocaleTimeString()})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-primary",children:["",(A.amount||0).toLocaleString()]}),a.jsx("p",{className:"text-xs text-base-content/60 capitalize",children:A.paymentMethod})]})]},A.id||N))})]})]}),H&&a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-success/20 via-primary/10 to-success/20 rounded-lg border border-success/30",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-semibold text-base-content",children:"Campaign Progress"}),a.jsxs("span",{className:"font-bold text-success",children:[Math.round((H.currentAmount||0)/H.goalAmount*100),"% funded"]})]}),a.jsx("progress",{className:"progress progress-success w-full h-3",value:H.currentAmount||0,max:H.goalAmount}),a.jsxs("div",{className:"flex  justify-between text-xs font-medium text-base-content/70 mt-2",children:[a.jsxs("span",{className:"text-black",children:["Raised: ",(H.currentAmount||0).toLocaleString()]}),a.jsxs("span",{children:["Goal: ",H.goalAmount.toLocaleString()]})]})]}),a.jsx("div",{className:"card-actions justify-end mt-4",children:H?a.jsxs(je,{to:`/campaigns/${H.id}`,className:"btn btn-primary btn-sm",children:[a.jsx(Qs,{className:"mr-2"}),"View Campaign"]}):I.campaignId?a.jsxs(je,{to:`/campaigns/${I.campaignId}`,className:"btn btn-primary btn-sm",children:[a.jsx(Qs,{className:"mr-2"}),"View Campaign"]}):a.jsx("span",{className:"text-sm text-gray-500 italic",children:"Campaign no longer available"})})]})]})})},I.campaignId)})})]})})]})]})};function EM(){const[t,e]=F.useState([]),[n,s]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const c=await Ju("approved");e(c)}catch(c){console.error("Error fetching campaigns:",c)}finally{s(!1)}})()},[]),n?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"All Campaigns - Donor Dashboard"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-500 to-purple-600 text-white rounded-lg p-6 shadow-xl border-2 border-purple-400/30",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"All Campaigns"}),a.jsxs("p",{className:"text-lg opacity-95",children:["Browse and support ",t.length," approved ",t.length===1?"campaign":"campaigns"]})]}),t.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>a.jsxs("div",{className:"card bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 shadow-lg border-2 border-purple-200 hover:shadow-xl hover:border-purple-400 hover:scale-[1.02] transition-all",children:[a.jsx("figure",{children:a.jsx("img",{src:o.image,alt:o.title,className:"w-full h-48 object-cover",onError:c=>{c.target.src="https://via.placeholder.com/400x300"}})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"badge badge-primary capitalize",children:o.category}),a.jsx("span",{className:"badge badge-success",children:"Approved"})]}),a.jsx("h3",{className:"card-title text-base text-purple-900 font-bold",children:o.title}),a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1 font-medium",children:[a.jsx(gr,{className:"w-4 h-4 text-pink-600"}),a.jsx("span",{className:"text-pink-700 font-bold",children:o.charityName})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2 font-medium",children:[a.jsx(Gs,{className:"w-4 h-4 text-indigo-600"}),a.jsxs("span",{className:"text-indigo-700",children:["Ends ",new Date(o.endDate).toLocaleDateString()]})]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 font-medium",children:o.description}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-200 via-pink-200 to-purple-200 rounded-lg border-2 border-purple-300 shadow-md",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsxs("span",{className:"font-black text-purple-800",children:[Math.round((o.currentAmount||0)/o.goalAmount*100),"% funded"]}),a.jsxs("span",{className:"font-black text-pink-700 text-lg",children:["",(o.currentAmount||0).toLocaleString()]})]}),a.jsx("progress",{className:"progress progress-secondary w-full h-3",value:o.currentAmount||0,max:o.goalAmount}),a.jsxs("div",{className:"flex justify-between text-xs mt-2 font-bold",children:[a.jsxs("span",{className:"text-purple-900",children:["Goal: ",o.goalAmount.toLocaleString()]}),a.jsxs("span",{className:"text-indigo-700",children:[Math.ceil((new Date(o.endDate)-new Date)/(1e3*60*60*24))," days left"]})]})]}),a.jsxs("div",{className:"card-actions justify-between items-center mt-4",children:[a.jsxs(je,{to:`/campaigns/${o.id}`,className:"btn btn-outline btn-sm border-purple-400 text-purple-700 hover:bg-purple-100",children:[a.jsx(Qs,{className:"mr-1"})," Details"]}),Io(o)?a.jsxs(je,{to:`/campaigns/${o.id}/donate`,className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 btn-sm hover:from-pink-600 hover:to-purple-700 shadow-lg",children:[a.jsx(Mt,{className:"mr-1"})," Donate"]}):a.jsxs("button",{className:"btn btn-disabled btn-sm",disabled:!0,title:o.status!=="approved"?"Campaign Pending Approval":(o.currentAmount||0)>=o.goalAmount?"Campaign Goal Reached":"Campaign Ended",children:[a.jsx(ec,{className:"mr-1"})," Donate"]})]})]})]},o.id))}):a.jsx("div",{className:"card bg-gradient-to-br from-purple-100 via-pink-100 to-indigo-100 shadow-lg border-2 border-purple-300",children:a.jsxs("div",{className:"card-body text-center py-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(hd,{className:"text-6xl text-purple-400"})}),a.jsx("h3",{className:"text-xl font-bold mb-2 text-purple-900",children:"No Campaigns Available"}),a.jsx("p",{className:"text-purple-700 mb-6 font-medium",children:"There are no approved campaigns at the moment. Check back soon!"}),a.jsxs(je,{to:"/campaigns",className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 hover:from-pink-600 hover:to-purple-700 shadow-lg",children:[a.jsx(Mt,{className:"mr-2"}),"View All Campaigns"]})]})})]})]})}const z_=()=>{const{currentUser:t}=sr(),[e,n]=F.useState([]),[s,o]=F.useState(!1),[c,d]=F.useState(null),[f,m]=F.useState({rating:5,comment:""}),[g,x]=F.useState(0),[b,w]=F.useState(!0),D=F.useCallback(async()=>{try{w(!0);const C=await IP(t.uid);n(C)}catch(C){console.error("Error loading reviews:",C),alert("Failed to load reviews. Please try again.")}finally{w(!1)}},[t]);F.useEffect(()=>{t?D():w(!1)},[t,D]);const M=C=>{m({...f,rating:C})},k=C=>{const A=C.target.value,N=A.trim().split(/\s+/).filter(S=>S.length>0);N.length<=50&&(m({...f,comment:A}),x(N.length))},z=async C=>{if(C.preventDefault(),!f.comment.trim()){alert("Please write a review comment");return}try{c?(await PP(c.id,{rating:f.rating,comment:f.comment}),alert("Review updated successfully!")):(await OP({userId:t.uid,userName:t.displayName||t.email||"Anonymous User",userEmail:t.email,rating:f.rating,comment:f.comment}),alert("Review submitted successfully!")),await D(),H()}catch(A){console.error("Error saving review:",A);const N=A.message||"Failed to save review. Please try again.";N.includes("already has a review")?alert("You already have a review. Please update your existing review instead."):alert(N)}},G=C=>{d(C),m({rating:C.rating,comment:C.comment});const A=C.comment.trim().split(/\s+/).filter(N=>N.length>0);x(A.length),o(!0)},P=async C=>{if(window.confirm("Are you sure you want to delete this review?"))try{await MP(C),alert("Review deleted successfully!"),await D()}catch(A){console.error("Error deleting review:",A),alert("Failed to delete review. Please try again.")}},I=()=>{d(null),m({rating:5,comment:""}),x(0),o(!0)},H=()=>{o(!1),d(null),m({rating:5,comment:""}),x(0)},U=(C,A=!1)=>a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(N=>a.jsx("button",{type:"button",onClick:()=>A&&M(N),className:`text-2xl ${A?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"}`,disabled:!A,children:N<=C?a.jsx(Ei,{className:"text-warning"}):a.jsx(nP,{className:"text-gray-300"})},N))});return b?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"My Reviews - Dashboard"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Reviews"}),a.jsx("p",{className:"text-lg opacity-95 mt-1",children:"Manage your reviews and ratings"})]}),a.jsxs("button",{onClick:I,className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 hover:from-pink-600 hover:to-purple-700 shadow-lg",children:[a.jsx(Do,{className:"mr-2"}),"Add Review"]})]}),e.length>0?a.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.map(C=>a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300 hover:shadow-xl hover:border-teal-400 transition-all",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-3",children:U(C.rating)}),a.jsx("p",{className:"text-teal-900 mb-4 font-medium",children:C.comment}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-teal-800 font-medium",children:[a.jsx(Aa,{className:"text-teal-700"}),a.jsx("span",{className:"font-bold",children:C.userName}),a.jsx("span",{children:""}),a.jsxs("span",{children:["ID: ",C.userId.substring(0,8),"..."]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(C.createdAt||C.date).toLocaleDateString()}),C.updatedAt&&C.updatedAt!==C.createdAt&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"text-blue-700 font-bold",children:"Edited"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>G(C),className:"btn btn-ghost btn-sm btn-circle",title:"Edit",children:a.jsx($f,{className:"text-info"})}),a.jsx("button",{onClick:()=>P(C.id),className:"btn btn-ghost btn-sm btn-circle",title:"Delete",children:a.jsx(ZO,{className:"text-error"})})]})]})})},C.id))}):a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body text-center py-12",children:[a.jsx(Ei,{className:"text-6xl text-teal-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2 text-teal-900",children:"No Reviews Yet"}),a.jsx("p",{className:"text-teal-700 mb-6 font-medium",children:"Share your experience by writing your first review"}),a.jsxs("button",{onClick:I,className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[a.jsx(Do,{className:"mr-2"}),"Write a Review"]})]})})]}),s&&a.jsxs("div",{className:"modal modal-open",children:[a.jsxs("div",{className:"modal-box max-w-2xl bg-gradient-to-br from-teal-50 via-cyan-50 to-teal-50 border-2 border-teal-300 shadow-2xl",children:[a.jsx("h3",{className:"font-bold text-2xl mb-4 text-teal-900",children:c?"Edit Review":"Write a Review"}),a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-4 rounded-lg border-2 border-teal-200",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-teal-900",children:"Rating"})}),a.jsx("div",{className:"mt-2",children:U(f.rating,!0)})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-5 rounded-lg border-2 border-teal-200 shadow-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"label p-0",children:a.jsx("span",{className:"text-lg font-bold text-teal-900",children:"Your Review"})}),a.jsxs("div",{className:`px-3 py-1 rounded-full font-bold text-sm ${g>=50?"bg-red-100 text-red-700 border-2 border-red-400":g>=40?"bg-amber-100 text-amber-700 border-2 border-amber-400":"bg-teal-100 text-teal-700 border-2 border-teal-400"}`,children:[g,"/50 words"]})]}),a.jsx("textarea",{className:"textarea w-full h-32  textarea-bordered border-2 border-teal-300 focus:border-teal-500 focus:ring-2 focus:ring-teal-500 text-gray-900 text-base",placeholder:"Share your experience... (Maximum 50 words)",value:f.comment,onChange:k,required:!0}),a.jsx("p",{className:"text-xs text-teal-600 mt-2 font-medium",children:" Write a detailed review about your experience with the platform"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 via-pink-100 to-purple-100 p-4 rounded-lg border-2 border-purple-300",children:[a.jsx("p",{className:"text-sm text-purple-900 font-bold mb-2",children:"Review will be posted as:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"text-purple-700"}),a.jsx("span",{className:"font-bold text-purple-900",children:t.displayName||t.email||"Anonymous User"}),a.jsx("span",{className:"text-purple-700",children:""}),a.jsxs("span",{className:"text-sm text-purple-800 font-medium",children:["ID: ",t.uid.substring(0,8),"..."]})]})]}),a.jsxs("div",{className:"modal-action",children:[a.jsx("button",{type:"button",onClick:H,className:"btn btn-outline border-teal-400 text-teal-700 hover:bg-teal-100",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:c?"Update Review":"Submit Review"})]})]})]}),a.jsx("div",{className:"modal-backdrop",onClick:H})]})]})};function nf(){const{currentUser:t,updateUserProfile:e,userRole:n}=sr(),[s,o]=F.useState(!1),[c,d]=F.useState(!1),[f,m]=F.useState(!0),[g,x]=F.useState(null),[b,w]=F.useState(null),[D,M]=F.useState({displayName:"",email:"",phone:"",location:"",bio:""});F.useEffect(()=>{(async()=>{if(t){m(!0);try{const I=Il(xi,"users",t.uid),H=await Nu(I),U=H.exists()?H.data():{};M({displayName:t.displayName||U.displayName||"",email:t.email||"",phone:U.phoneNumber||"",location:U.location||"",bio:U.bio||""}),w(null),x(null)}catch(I){console.error("Error loading user profile:",I),M({displayName:t.displayName||"",email:t.email||"",phone:"",location:"",bio:""})}finally{m(!1)}}})()},[t]);const k=P=>{const{name:I,value:H}=P.target;M(U=>({...U,[I]:H}))},z=P=>{const I=P.target.files[0];if(I){if(!I.type.startsWith("image/")){const U=typeof window<"u"?window.Swal:null;U?U.fire({icon:"error",title:"Invalid File",text:"Please select an image file (jpg, png, etc.)"}):alert("Please select an image file");return}if(I.size>5*1024*1024){const U=typeof window<"u"?window.Swal:null;U?U.fire({icon:"error",title:"File Too Large",text:"Please select an image smaller than 5MB"}):alert("Please select an image smaller than 5MB");return}x(I);const H=new FileReader;H.onloadend=()=>{w(H.result)},H.readAsDataURL(I)}},G=async P=>{P.preventDefault(),d(!0);try{await e(D,g),o(!1),x(null),w(null);const I=typeof window<"u"?window.Swal:null;I?I.fire({icon:"success",title:"Profile Updated!",text:"Your profile has been updated successfully.",timer:3e3,showConfirmButton:!1}):alert("Profile updated successfully!")}catch(I){console.error("Failed to update profile:",I);const H=typeof window<"u"?window.Swal:null;H?H.fire({icon:"error",title:"Update Failed",text:I.message||"Failed to update profile. Please try again."}):alert("Failed to update profile. Please try again.")}finally{d(!1)}};return!t||f?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(Pu,{className:"animate-spin text-4xl text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),s?a.jsxs("div",{className:"space-x-2",children:[a.jsxs("button",{onClick:()=>o(!1),className:"btn btn-ghost btn-sm",children:[a.jsx(JO,{className:"mr-1"})," Cancel"]}),a.jsx("button",{type:"submit",form:"profileForm",className:"btn btn-primary btn-sm",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Pu,{className:"mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(NE,{className:"mr-1"})," Save Changes"]})})]}):a.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary btn-sm",children:[a.jsx($f,{className:"mr-1"})," Edit Profile"]})]}),a.jsx("div",{className:"card bg-gradient-to-r from-primary/10 to-secondary/10 shadow-lg border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title text-xl mb-4 flex items-center gap-2 ",children:[a.jsx(Kf,{className:"text-primary "}),"Account Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-primary/20 via-primary/10 to-primary/5 p-4 rounded-lg shadow border border-primary/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(tP,{className:"text-white text-lg"}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Account Type"})]}),a.jsx("p",{className:"text-lg font-black capitalize text-white",children:n||"User"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-secondary/20 via-secondary/10 to-secondary/5 p-4 rounded-lg shadow border border-secondary/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(GO,{className:"text-white text-lg"}),a.jsx("span",{className:"text-sm font-bold text-white",children:"User ID"})]}),a.jsx("p",{className:"text-sm font-mono break-all text-white font-semibold",children:t.uid})]}),a.jsxs("div",{className:"bg-gradient-to-br from-success/20 via-success/10 to-success/5 p-4 rounded-lg shadow border border-success/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Gs,{className:"text-white text-lg"}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Joined"})]}),a.jsx("p",{className:"text-sm font-bold text-white",children:new Date(t.metadata?.creationTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-info/20 via-info/10 to-info/5 p-4 rounded-lg shadow border border-info/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ta,{className:"text-white text-lg"}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Last Login"})]}),a.jsx("p",{className:"text-sm font-bold text-white",children:new Date(t.metadata?.lastSignInTime||new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-accent/20 via-accent/10 to-accent/5 rounded-lg border border-accent/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Xu,{className:"text-white text-lg"}),a.jsx("span",{className:"text-sm font-bold text-white",children:"Email Address"})]}),a.jsx("p",{className:"text-base font-black text-white",children:t.email}),a.jsx("div",{className:"mt-2",children:t.emailVerified?a.jsxs("span",{className:"badge badge-success gap-1",children:[a.jsx(Kf,{})," Verified"]}):a.jsxs("span",{className:"badge badge-warning gap-1",children:[a.jsx(Ta,{})," Not Verified"]})})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title text-xl mb-4 text-white font-bold",children:"Profile Details"}),a.jsx("form",{id:"profileForm",onSubmit:G,children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("div",{className:"avatar",children:a.jsx("div",{className:"w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:a.jsx("img",{src:b||t.photoURL||"/api/placeholder/150/150",alt:"Profile",onError:P=>{P.target.src="https://via.placeholder.com/150"}})})}),s&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("label",{className:"btn btn-sm btn-primary btn-outline w-full hover:btn-primary cursor-pointer",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(Pu,{className:"mr-2 animate-spin"}),"Uploading..."]}):"Change Photo",a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:z,disabled:c})]}),g&&a.jsx("p",{className:"text-xs text-white/80 mt-2 text-center",children:g.name})]})]}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-white",children:"Full Name"})}),s?a.jsx("input",{type:"text",name:"displayName",value:D.displayName,onChange:k,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",required:!0}):a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[a.jsx(Aa,{className:"text-white text-lg"}),a.jsx("span",{className:"text-white font-bold",children:D.displayName||"Not specified"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-white",children:"Email"})}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[a.jsx(Xu,{className:"text-white text-lg"}),a.jsx("span",{className:"text-white font-bold",children:t.email})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-white",children:"Phone"})}),s?a.jsx("input",{type:"tel",name:"phone",value:D.phone,onChange:k,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Enter your phone number"}):a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[a.jsx(Em,{className:"text-white text-lg"}),a.jsx("span",{className:"text-white font-bold",children:D.phone||"Not specified"})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-white",children:"Location"})}),s?a.jsx("input",{type:"text",name:"location",value:D.location,onChange:k,className:"input input-bordered w-full focus:input-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Enter your location"}):a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[a.jsx(fd,{className:"text-white text-lg"}),a.jsx("span",{className:"text-white font-bold",children:D.location||"Not specified"})]})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-white",children:"Bio"})}),s?a.jsx("textarea",{name:"bio",value:D.bio,onChange:k,className:"textarea textarea-bordered h-24 focus:textarea-primary focus:outline-none border-2 bg-white text-gray-900 font-medium",placeholder:"Tell us about yourself..."}):a.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:a.jsx("p",{className:"text-white whitespace-pre-line font-bold",children:D.bio||"No bio added yet."})})]})]})]})})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title text-lg mb-4 text-base-content",children:"Account Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 rounded-lg border border-primary/20 hover:border-primary/30 transition-all",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:"Change Password"}),a.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Update your account password"})]}),a.jsx("button",{className:"btn btn-primary btn-sm text-white",children:"Change"})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-secondary/10 via-secondary/5 to-secondary/10 rounded-lg border border-secondary/20 hover:border-secondary/30 transition-all",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:"Notification Settings"}),a.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Manage your notification preferences"})]}),a.jsx("button",{className:"btn btn-secondary btn-sm text-white",children:"Manage"})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-error/10 via-error/5 to-error/10 rounded-lg border border-error/20 hover:border-error/30 transition-all",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-white/90 font-medium",children:"Permanently delete your account"})]}),a.jsx("button",{className:"btn btn-error btn-sm text-white",children:"Delete"})]})]})]})})]})}const SM=()=>{const t=es(),{currentUser:e}=sr(),[n,s]=F.useState(""),[o,c]=F.useState({activeCampaigns:0,totalRaised:0,totalDonors:0,successRate:0,totalCampaigns:0,pendingCampaigns:0,approvedCampaigns:0}),[d,f]=F.useState(!0),[m,g]=F.useState({completed:0,archived:0}),[x,b]=F.useState([]);return F.useEffect(()=>{t.state?.message&&(s(t.state.message),setTimeout(()=>s(""),5e3),window.history.replaceState({},document.title))},[t]),F.useEffect(()=>{(async()=>{try{if(!e){f(!1);return}const M=(await Dr()).filter(L=>L.charityId===e.uid||L.charityEmail===e.email),k=M.reduce((L,R)=>L+(R.currentAmount||0),0),z=new Date;z.setHours(0,0,0,0);const G=M.filter(L=>{const R=new Date(L.endDate);return R.setHours(23,59,59,999),L.status==="approved"&&R>=z}).length,P=M.filter(L=>{const R=new Date(L.endDate);return R.setHours(23,59,59,999),L.status==="approved"&&R>=z}).length,I=M.filter(L=>L.status==="pending").length,H=await gx(),U=M.reduce((L,R)=>L+(H[R.id]||0),0),C=M.reduce((L,R)=>{const _=(R.currentAmount||0)/R.goalAmount*100;return L+Math.min(_,100)},0),A=M.length>0?Math.round(C/M.length):0,N=M.filter(L=>(L.currentAmount||0)>=L.goalAmount).length,S=M.filter(L=>{const R=new Date(L.endDate);return R.setHours(23,59,59,999),R<z}).length;if(c({activeCampaigns:G,totalRaised:k,totalDonors:U,successRate:A,totalCampaigns:M.length,pendingCampaigns:I,approvedCampaigns:P}),g({completed:N,archived:S}),e?.uid){const L=await Nx(e.uid);b(L)}f(!1)}catch(D){console.error("Error fetching charity stats:",D),f(!1)}})()},[e]),a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Charity Dashboard - Charity Platform"})}),a.jsxs("div",{className:"space-y-8",children:[n&&a.jsxs("div",{className:"alert alert-success shadow-lg",children:[a.jsx(rr,{className:"text-2xl"}),a.jsx("span",{className:"text-lg",children:n})]}),a.jsx("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Charity Dashboard"}),a.jsx("p",{className:"text-lg opacity-95",children:"Manage your campaigns and track donations"})]}),a.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 hover:from-pink-600 hover:to-purple-700 shadow-lg mt-4 md:mt-0",children:[a.jsx(Do,{className:"mr-2"})," Create Campaign"]})]})}),d?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-teal-500 via-cyan-500 to-teal-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-teal-400",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold",children:"Active Campaigns"}),a.jsx("p",{className:"text-3xl font-black",children:o.activeCampaigns}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Approved & ongoing"})]}),a.jsx(Mt,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-emerald-400",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold",children:"Total Raised"}),a.jsxs("p",{className:"text-3xl font-black",children:["",o.totalRaised.toLocaleString()]}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"All campaigns"})]}),a.jsx(wE,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-purple-400",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold",children:"Total Donors"}),a.jsx("p",{className:"text-3xl font-black",children:o.totalDonors}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Unique contributors"})]}),a.jsx(gr,{className:"text-5xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-gradient-to-br from-blue-500 via-indigo-500 to-blue-600 text-white shadow-xl hover:shadow-2xl hover:scale-105 transition-all border-2 border-blue-400",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold",children:"Success Rate"}),a.jsxs("p",{className:"text-3xl font-black",children:[o.successRate,"%"]}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Goals reached"})]}),a.jsx(Co,{className:"text-5xl opacity-30"})]})})})]}),!d&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(je,{to:"/dashboard/charity/campaigns",className:"card bg-gradient-to-br from-emerald-200 via-green-200 to-emerald-200 shadow-lg border-2 border-emerald-400 hover:shadow-xl transition-all hover:scale-105",children:a.jsxs("div",{className:"card-body flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-emerald-900 font-bold",children:"Completed targets"}),a.jsx("p",{className:"text-3xl font-black text-emerald-800",children:m.completed}),a.jsx("p",{className:"text-xs text-emerald-700 mt-1 font-medium",children:"Great storytelling material"})]}),a.jsx(rr,{className:"text-4xl text-emerald-600"})]})}),a.jsx(je,{to:"/dashboard/charity/campaigns",className:"card bg-gradient-to-br from-amber-200 via-orange-200 to-amber-200 shadow-lg border-2 border-amber-400 hover:shadow-xl transition-all hover:scale-105",children:a.jsxs("div",{className:"card-body flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-amber-900 font-bold",children:"Ended timelines"}),a.jsx("p",{className:"text-3xl font-black text-amber-800",children:m.archived}),a.jsx("p",{className:"text-xs text-amber-700 mt-1 font-medium",children:"Request an extension from admin"})]}),a.jsx(Mi,{className:"text-4xl text-amber-600"})]})})]}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4 text-teal-900 font-bold",children:"Campaign Overview"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"stat bg-gradient-to-br from-teal-200 to-cyan-200 rounded-lg p-4 border-2 border-teal-300 shadow-md",children:[a.jsx("div",{className:"stat-title text-sm text-teal-900 font-bold",children:"Total Campaigns"}),a.jsx("div",{className:"stat-value text-2xl text-teal-800 font-black",children:o.totalCampaigns}),a.jsx("div",{className:"stat-desc text-teal-700 font-medium",children:"All time"})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-emerald-200 to-green-200 rounded-lg p-4 border-2 border-emerald-300 shadow-md",children:[a.jsx("div",{className:"stat-title text-sm text-emerald-900 font-bold",children:"Approved"}),a.jsx("div",{className:"stat-value text-2xl text-emerald-800 font-black",children:o.approvedCampaigns}),a.jsx("div",{className:"stat-desc text-emerald-700 font-medium",children:"Live campaigns"})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-amber-200 to-orange-200 rounded-lg p-4 border-2 border-amber-300 shadow-md",children:[a.jsx("div",{className:"stat-title text-sm text-amber-900 font-bold",children:"Pending"}),a.jsx("div",{className:"stat-value text-2xl text-amber-800 font-black",children:o.pendingCampaigns}),a.jsx("div",{className:"stat-desc text-amber-700 font-medium",children:"Awaiting approval"})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-blue-200 to-indigo-200 rounded-lg p-4 border-2 border-blue-300 shadow-md",children:[a.jsx("div",{className:"stat-title text-sm text-blue-900 font-bold",children:"Active"}),a.jsx("div",{className:"stat-value text-2xl text-blue-800 font-black",children:o.activeCampaigns}),a.jsx("div",{className:"stat-desc text-blue-700 font-medium",children:"Currently running"})]})]})]})}),e&&a.jsx("div",{className:"card bg-gradient-to-br from-blue-100 via-indigo-100 to-blue-100 shadow-lg border-2 border-blue-300",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(jm,{className:"text-blue-600 text-2xl"}),a.jsxs("div",{children:[a.jsx("h2",{className:"card-title mb-0 text-blue-900 font-bold",children:"Admin Messages"}),a.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Platform updates and replies to your support requests"})]})]}),x.length===0?a.jsxs("div",{className:"text-center py-6 text-blue-700 font-medium",children:["Nothing pending. ",a.jsx(je,{to:"/contact",className:"link text-blue-600 font-bold hover:text-blue-800",children:"Reach out"})," if you need anything."]}):a.jsxs("div",{className:"space-y-4",children:[x.slice(0,3).map(w=>{const D=w.replies?.[w.replies.length-1];return a.jsxs("div",{className:"border-2 border-blue-300 rounded-lg p-4 bg-white/50 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between text-sm text-blue-800 font-bold mb-2",children:[a.jsx("span",{children:w.subject}),a.jsx("span",{children:new Date(w.updatedAt||w.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-blue-900 text-sm mb-2 line-clamp-2 font-medium",children:w.message}),D?a.jsxs("div",{className:"bg-blue-100 rounded p-3 text-sm text-blue-900 border border-blue-300",children:[a.jsxs("p",{className:"font-bold text-blue-800 mb-1",children:[D.actorType==="admin"?"Admin":"You"," "," ",new Date(D.createdAt).toLocaleString()]}),a.jsx("p",{className:"line-clamp-3 font-medium",children:D.message})]}):a.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Awaiting admin response"})]},w.id)}),a.jsx(je,{to:"/contact#inbox",className:"btn btn-sm bg-gradient-to-r from-blue-500 to-indigo-600 text-white border-0 hover:from-blue-600 hover:to-indigo-700 shadow-lg w-fit",children:"View all messages"})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4 text-teal-900 font-bold",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 btn-lg hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[a.jsx(Do,{className:"mr-2"}),"Create Campaign"]}),a.jsxs(je,{to:"/dashboard/charity/campaigns",className:"btn btn-outline btn-lg border-teal-400 text-teal-700 hover:bg-teal-100",children:[a.jsx(Mt,{className:"mr-2"}),"View My Campaigns"]}),a.jsxs(je,{to:"/dashboard/charity/profile",className:"btn btn-outline btn-lg border-purple-400 text-purple-700 hover:bg-purple-100",children:[a.jsx(gr,{className:"mr-2"}),"Edit Profile"]})]})]})})]})]})},TM=()=>{const[t,e]=F.useState(0),[n,s]=F.useState(0),[o,c]=F.useState(0),[d,f]=F.useState(0),[m,g]=F.useState(0),[x,b]=F.useState(!0),[w,D]=F.useState(0),[M,k]=F.useState(0);F.useEffect(()=>{z()},[]);const z=async()=>{try{const[G,P,I]=await Promise.all([Dr(),Ju("pending"),Ju("approved")]),H=new Date;H.setHours(0,0,0,0);const U=I.filter(_=>{const T=new Date(_.endDate);return T.setHours(23,59,59,999),T>=H}),C=new Set(G.map(_=>_.charityId)),A=G.reduce((_,T)=>_+(T.currentAmount||0),0),N=zj(xi,"users"),S=await Wj(N),L=G.filter(_=>(_.currentAmount||0)>=_.goalAmount),R=G.filter(_=>new Date(_.endDate)<H);e(S.data().count||0),s(C.size),c(U.length),f(P.length),g(A),D(L.length),k(R.length),b(!1)}catch(G){console.error("Error fetching dashboard data:",G),b(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Admin Dashboard - Charity Platform"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-lg opacity-90",children:"Manage platform operations and oversee all activities"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-success to-success/80 text-white shadow-xl hover:shadow-2xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90",children:"Total Raised"}),x?a.jsx("span",{className:"loading loading-spinner loading-sm"}):a.jsxs("p",{className:"text-2xl font-bold",children:["",m.toLocaleString()]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All donations"})]}),a.jsx(Gf,{className:"text-4xl opacity-30"})]})})}),a.jsx("div",{className:"card bg-red-100 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),x?a.jsx("span",{className:"loading loading-spinner loading-sm"}):a.jsx("p",{className:"text-2xl font-bold text-primary",children:t}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered accounts"})]}),a.jsx(gr,{className:"text-3xl text-primary opacity-60"})]})})}),a.jsx("div",{className:"card bg-green-200 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Charities"}),x?a.jsx("span",{className:"loading loading-spinner loading-sm"}):a.jsx("p",{className:"text-2xl font-bold text-secondary",children:n}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registered charities"})]}),a.jsx(Pi,{className:"text-3xl text-secondary opacity-60"})]})})}),a.jsx("div",{className:"card bg-red-200 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx("div",{className:"card-body bg-gradient-to-br",children:a.jsxs("div",{className:"flex bg-gradient-to-br items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Active Campaigns"}),x?a.jsx("span",{className:"loading loading-spinner loading-sm"}):a.jsx("p",{className:"text-2xl font-bold text-info",children:o}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Approved & ongoing"})]}),a.jsx(Mt,{className:"text-3xl text-info opacity-60"})]})})}),a.jsx("div",{className:"card bg-green-200 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Reviews"}),a.jsx("p",{className:"text-2xl font-bold text-warning",children:d}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting approval"})]}),a.jsx(Ta,{className:"text-3xl text-warning opacity-60"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(je,{to:"/campaigns?view=completed",className:"card bg-gradient-to-br from-success/20 via-success/10 to-success/5 shadow-lg border border-success/30 hover:shadow-2xl transition-all hover:scale-105",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Completed Campaigns"}),a.jsx("p",{className:"text-3xl font-bold text-success",children:w}),a.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Targets achieved across the platform"})]}),a.jsx(rr,{className:"text-4xl text-success/70"})]})})}),a.jsx(je,{to:"/dashboard/admin/campaigns/archived",className:"card bg-gradient-to-br from-warning/20 via-warning/10 to-warning/5 shadow-lg border border-warning/30 hover:shadow-2xl transition-all hover:scale-105",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-base-content/70 font-medium",children:"Ended Campaigns"}),a.jsx("p",{className:"text-3xl font-bold text-warning",children:M}),a.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Awaiting extension & follow-up"})]}),a.jsx(Mi,{className:"text-4xl text-warning/70"})]})})})]}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(je,{to:"/dashboard/admin/campaigns",className:"btn btn-warning btn-lg justify-start",children:[a.jsx(Ta,{className:"mr-2"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{children:"Review Campaigns"}),a.jsxs("div",{className:"text-xs opacity-70",children:[d," pending approval"]})]})]}),a.jsxs(je,{to:"/dashboard/admin/campaigns/archived",className:"btn btn-info btn-lg justify-start",children:[a.jsx(Mi,{className:"mr-2"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{children:"Manage Extensions"}),a.jsxs("div",{className:"text-xs opacity-70",children:[M," waiting to reopen"]})]})]}),a.jsxs(je,{to:"/dashboard/admin/messages",className:"btn btn-success btn-lg justify-start",children:[a.jsx(Co,{className:"mr-2"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{children:"Review Messages"}),a.jsx("div",{className:"text-xs opacity-70",children:"Stay on top of contact requests"})]})]})]})]})})]})]})},AM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[o,c]=F.useState(null),[d,f]=F.useState(!1),[m,g]=F.useState("all"),[x,b]=F.useState({all:0,pending:0,approved:0,rejected:0,archived:0}),w=F.useCallback(async()=>{try{s(!0);const P=await Dr(),I=P.filter(N=>N.status==="pending").length,H=P.filter(N=>N.status==="approved").length,U=P.filter(N=>N.status==="rejected").length,C=P.filter(N=>N.status==="archived").length;b({all:P.length,pending:I,approved:H,rejected:U,archived:C});const A=m==="all"?P:P.filter(N=>N.status===m);e(A)}catch(P){console.error("Error fetching campaigns:",P)}finally{s(!1)}},[m]);F.useEffect(()=>{w()},[w]);const D=async P=>{try{e(I=>I.filter(H=>H.id!==P)),b(I=>({...I,pending:Math.max(0,I.pending-1),approved:I.approved+1})),d&&o?.id===P&&c(I=>I?{...I,status:"approved"}:null),await ly(P,"approved"),await w(),d&&o?.id===P&&G()}catch(I){console.error("Error approving campaign:",I),await w()}},M=async P=>{try{e(I=>I.filter(H=>H.id!==P)),b(I=>({...I,pending:Math.max(0,I.pending-1),rejected:I.rejected+1})),d&&o?.id===P&&c(I=>I?{...I,status:"rejected"}:null),await ly(P,"rejected"),await w(),d&&o?.id===P&&G()}catch(I){console.error("Error rejecting campaign:",I),await w()}},k=async P=>{if(window.confirm("Are you sure you want to archive this campaign? It will be moved to archived campaigns."))try{const I=t.find(H=>H.id===P);e(H=>H.filter(U=>U.id!==P)),I&&b(H=>({...H,[I.status]:Math.max(0,H[I.status]-1),archived:H.archived+1})),await ly(P,"archived"),await w(),d&&o?.id===P&&G()}catch(I){console.error("Error archiving campaign:",I),alert("Failed to archive campaign. Please try again."),await w()}},z=P=>{c(P),f(!0)},G=()=>{f(!1),c(null)};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Pu,{className:"animate-spin text-4xl text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Campaign Approvals"}),a.jsx("p",{className:"text-lg opacity-90",children:"Review and manage campaign submissions from charities"})]}),m==="pending"&&t.length>0&&a.jsxs("div",{className:"alert alert-warning shadow-lg",children:[a.jsx(Aa,{className:"text-2xl"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold",children:"Pending Review"}),a.jsxs("div",{className:"text-sm",children:[t.length," campaign",t.length>1?"s":""," waiting for approval from ",new Set(t.map(P=>P.charityName)).size," ",new Set(t.map(P=>P.charityName)).size>1?"charities":"charity"]})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Filter by Status"}),a.jsxs("div",{className:"tabs tabs-boxed bg-gradient-to-r from-primary/10 to-secondary/10 shadow-md border border-primary/20",children:[a.jsxs("button",{className:`tab transition-all duration-200 !text-white
        ${m==="all"?"tab-active bg-primary !text-white":"bg-base-300/50 hover:bg-base-300/70 !text-white"}`,onClick:()=>g("all"),children:["All (",x.all,")"]}),a.jsxs("button",{className:`tab transition-all duration-200 !text-white
        ${m==="pending"?"tab-active bg-warning !text-white":"bg-base-300/50 hover:bg-base-300/70 !text-white"}`,onClick:()=>g("pending"),children:["Pending (",x.pending,")"]}),a.jsxs("button",{className:`tab transition-all duration-200 !text-white
        ${m==="approved"?"tab-active bg-success !text-white":"bg-base-300/50 hover:bg-base-300/70 !text-white"}`,onClick:()=>g("approved"),children:["Approved (",x.approved,")"]}),a.jsxs("button",{className:`tab transition-all duration-200 !text-white
        ${m==="rejected"?"tab-active bg-error !text-white":"bg-base-300/50 hover:bg-base-300/70 !text-white"}`,onClick:()=>g("rejected"),children:["Rejected (",x.rejected,")"]}),a.jsxs("button",{className:`tab transition-all duration-200 !text-white
        ${m==="archived"?"tab-active bg-base-content !text-white":"bg-base-300/50 hover:bg-base-300/70 !text-white"}`,onClick:()=>g("archived"),children:["Archived (",x.archived,")"]})]})]}),t.length===0?a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsxs("div",{className:"card-body text-center py-12",children:[a.jsxs("h3",{className:"text-xl font-medium",children:["No ",m," campaigns"]}),a.jsx("p",{className:"text-gray-500",children:m==="pending"?"There are no campaigns waiting for approval.":`There are no ${m} campaigns.`})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(P=>a.jsxs("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20 hover:border-primary/40 transition-all hover:shadow-2xl hover:scale-[1.02]",children:[a.jsx("figure",{children:a.jsx("img",{src:P.image,alt:P.title,className:"w-full h-48 object-cover",onError:I=>{I.target.src="https://via.placeholder.com/400x200"}})}),a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title text-lg",children:P.title}),a.jsxs("div",{className:"bg-primary/10 p-3 rounded-lg mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Aa,{className:"text-primary"}),a.jsx("span",{className:"font-semibold text-primary",children:"Charity Information"})]}),a.jsx("p",{className:"text-sm font-medium",children:P.charityName}),a.jsxs("p",{className:"text-xs text-gray-600",children:["ID: ",P.charityId]})]}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Goal:"})," ",P.goalAmount.toLocaleString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Category:"})," ",a.jsx("span",{className:"capitalize",children:P.category})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(P.endDate).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(P.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"card-actions flex-col gap-2 mt-4",children:[a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsxs("button",{onClick:()=>z(P),className:"btn btn-ghost btn-sm",children:[a.jsx(Qs,{className:"mr-1"})," View Details"]}),m==="all"&&P.status!=="pending"&&a.jsx("span",{className:`badge ${P.status==="approved"?"badge-success":"badge-error"}`,children:P.status})]}),(m==="pending"||m==="all"&&P.status==="pending")&&a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsxs("button",{onClick:()=>D(P.id),className:"btn btn-success btn-sm flex-1",children:[a.jsx(rr,{className:"mr-1"})," Approve"]}),a.jsxs("button",{onClick:()=>M(P.id),className:"btn btn-error btn-sm flex-1",children:[a.jsx(Zy,{className:"mr-1"})," Reject"]})]}),(P.currentAmount||0)>=P.goalAmount?a.jsxs("button",{className:"btn btn-disabled btn-sm w-full",disabled:!0,title:"Cannot archive completed campaigns",children:[a.jsx(Jh,{className:"mr-1"})," Archive Campaign"]}):a.jsxs("button",{onClick:()=>k(P.id),className:"btn btn-outline btn-warning btn-sm w-full",children:[a.jsx(Jh,{className:"mr-1"})," Archive Campaign"]})]})]})]},P.id))}),d&&o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-base-100 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:o.title}),a.jsx("button",{onClick:G,className:"btn btn-ghost btn-sm",children:""})]}),a.jsx("img",{src:o.image,alt:o.title,className:"w-full h-64 object-cover rounded-lg mb-4",onError:P=>{P.target.src="https://via.placeholder.com/800x400"}}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Charity"}),a.jsx("p",{children:o.charityName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),a.jsx("p",{className:"capitalize",children:o.category})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Goal Amount"}),a.jsxs("p",{children:["",o.goalAmount.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount Raised"}),a.jsxs("p",{children:["",(o.currentAmount||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),a.jsx("p",{children:new Date(o.endDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Funding Status"}),a.jsx("p",{className:"capitalize",children:(o.currentAmount||0)>=o.goalAmount?"Completed":"In Progress"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Description"}),a.jsx("p",{className:"whitespace-pre-line",children:o.description})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[(m==="pending"||m==="all"&&o.status==="pending")&&a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs("button",{onClick:()=>M(o.id),className:"btn btn-error",children:[a.jsx(Zy,{className:"mr-1"})," Reject"]}),a.jsxs("button",{onClick:()=>D(o.id),className:"btn btn-success",children:[a.jsx(rr,{className:"mr-1"})," Approve"]})]}),m==="all"&&o.status!=="pending"&&a.jsx("div",{children:a.jsxs("span",{className:`badge badge-lg ${o.status==="approved"?"badge-success":"badge-error"}`,children:["Status: ",o.status]})}),a.jsx("div",{className:"border-t pt-3",children:(o.currentAmount||0)>=o.goalAmount?a.jsxs("button",{className:"btn btn-disabled w-full",disabled:!0,title:"Cannot archive completed campaigns",children:[a.jsx(Jh,{className:"mr-2"})," Archive Campaign"]}):a.jsxs("button",{onClick:()=>k(o.id),className:"btn btn-outline btn-warning w-full",children:[a.jsx(Jh,{className:"mr-2"})," Archive Campaign"]})})]})]})})})]})},RM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[o,c]=F.useState(null),[d,f]=F.useState(""),[m,g]=F.useState({type:"",text:""}),[x,b]=F.useState(!1);F.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const z=await Dr(),G=new Date,P=z.filter(I=>new Date(I.endDate)<G).sort((I,H)=>new Date(I.endDate)-new Date(H.endDate));e(P),g({type:"",text:""})}catch(z){console.error("Failed to fetch archived campaigns",z),g({type:"error",text:"Unable to load archived campaigns."})}finally{s(!1)}},D=z=>{c(z),f(new Date(z.endDate).toISOString().split("T")[0])},M=()=>{c(null),f(""),b(!1)},k=async z=>{if(z.preventDefault(),!(!o||!d))try{b(!0),await _P(o.id,{endDate:d}),g({type:"success",text:`Extended ${o.title} to ${d}`}),M(),w()}catch(G){console.error("Failed to extend campaign",G),g({type:"error",text:"Failed to extend campaign. Please try again."}),b(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Archived Campaigns - Admin"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-warning to-secondary text-white rounded-lg p-6 shadow-xl flex flex-col gap-2",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(Mi,{}),"Ended Campaigns"]}),a.jsx("p",{className:"text-white/80",children:"Campaigns that passed their end time appear here automatically. Extend a deadline to bring them back to the live campaign list instantly."})]}),m.text&&a.jsx("div",{className:`alert ${m.type==="success"?"alert-success":"alert-error"}`,children:m.text}),n?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-warning"})}):t.length===0?a.jsx("div",{className:"card bg-gradient-to-br from-white via-warning/10 to-warning/5 shadow-xl border-2 border-warning/20",children:a.jsxs("div",{className:"card-body text-center py-16",children:[a.jsx(Mi,{className:"text-5xl text-warning mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2 text-gray-900",children:"No ended campaigns "}),a.jsx("p",{className:"text-gray-700 font-medium",children:"All approved campaigns are currently within their timeline."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(z=>a.jsx("div",{className:"card bg-gradient-to-br from-white via-warning/10 to-warning/5 shadow-xl border-2 border-warning/30 hover:border-warning/50 hover:shadow-2xl hover:scale-[1.02] transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"badge badge-warning badge-outline",children:"Ended"}),a.jsxs("span",{className:"text-xs text-black",children:["Created ",new Date(z.createdAt).toLocaleDateString()]})]}),a.jsx("h3",{className:"card-title text-black text-lg mt-2",children:z.title}),a.jsxs("p",{className:"text-sm text-black mb-4",children:["By ",z.charityName]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Goal"}),a.jsxs("span",{className:"font-semibold",children:["",z.goalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Raised"}),a.jsxs("span",{className:"font-semibold text-success",children:["",(z.currentAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Gs,{})," Ended On"]}),a.jsx("span",{children:new Date(z.endDate).toLocaleDateString()})]})]}),a.jsx("div",{className:"card-actions mt-4",children:a.jsxs("button",{className:"btn btn-outline btn-warning w-full",onClick:()=>D(z),children:[a.jsx(i_,{}),"Extend timeline"]})})]})},z.id))}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gradient-to-br from-white via-warning/10 to-warning/5 rounded-lg w-full max-w-md shadow-2xl border-2 border-warning/30",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Extend Campaign"}),a.jsx("button",{className:"btn btn-sm btn-ghost",onClick:M,children:""})]}),a.jsx("p",{className:"text-sm text-gray-500",children:o.title}),a.jsxs("form",{className:"space-y-4",onSubmit:k,children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold",children:"New end date"})}),a.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],className:"input input-bordered",value:d,onChange:z=>f(z.target.value),required:!0})]}),a.jsx("button",{className:"btn btn-warning w-full",disabled:x,children:x?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(i_,{}),"Extend & Restore"]})})]})]})})})]})]})},CM=[{key:"all",label:"All"},{key:"open",label:"Open"},{key:"responded",label:"Responded"},{key:"closed",label:"Closed"}],DM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[o,c]=F.useState("open"),[d,f]=F.useState(null),[m,g]=F.useState(""),[x,b]=F.useState({type:"",text:""}),[w,D]=F.useState(!1),M=F.useCallback((H,U,C)=>{const A=typeof window<"u"?window.Swal:null;A?A.fire({icon:H,title:U,text:C,timer:H==="success"?1800:void 0,showConfirmButton:H!=="success"}):typeof window<"u"&&window.alert&&window.alert(`${U}${C?`
${C}`:""}`)},[]),k=F.useCallback(async()=>{try{s(!0);const U=await wM(o==="all"?{}:{status:o});e(U),b({type:"",text:""})}catch(H){console.error("Failed to load messages",H),b({type:"error",text:"Unable to load messages. Please try again."})}finally{s(!1)}},[o]);F.useEffect(()=>{k()},[k]);const z=H=>{f(H),g("")},G=()=>{f(null),g(""),D(!1)},P=async H=>{if(H.preventDefault(),!(!d||!m.trim()))try{D(!0),b({type:"",text:""});const U=d._id||d.id;if(!U)throw new Error("Message ID is missing. Please refresh and try again.");console.log("Sending reply to message ID:",U);const C=await UE(U,{reply:m.trim(),adminName:"Platform Admin",adminId:"admin",actorType:"admin"});b({type:"success",text:"Reply sent successfully!"}),await M("success","Reply Sent!","Your reply has been sent successfully. The user will see it instantly."),G(),await k()}catch(U){console.error("Failed to send reply",U);let C="Failed to send reply. Please try again.";try{U?.message?C=JSON.parse(U.message).message||U.message:C=U.message||C}catch{C=U?.message||C}b({type:"error",text:C}),await M("error","Reply Failed",C),D(!1)}},I=async(H,U)=>{try{await _M(H,U),M("success","Status updated",`Conversation marked as ${U}.`),k()}catch(C){console.error("Failed to update message status",C),b({type:"error",text:"Could not update message status."}),M("error","Update failed","Unable to change status right now.")}};return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Message Center - Admin"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl flex flex-col gap-2",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(BO,{}),"Message Center"]}),a.jsx("p",{className:"text-white/80",children:"All contact form submissions are logged here. Reply to donors and charities directlyresponses appear inside their dashboards instantly."})]}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(_E,{className:"text-primary text-xl"}),a.jsx("h2",{className:"card-title mb-0 text-gray-900",children:"Filter by status"})]}),a.jsx("div",{className:"tabs tabs-boxed w-fit",children:CM.map(H=>a.jsx("button",{className:`tab ${o===H.key?"tab-active":""}`,onClick:()=>c(H.key),children:H.label},H.key))})]})}),x.text&&a.jsx("div",{className:`alert ${x.type==="success"?"alert-success":"alert-error"}`,children:x.text}),n?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):t.length===0?a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body text-center py-16",children:[a.jsx(jm,{className:"text-5xl text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"No messages in this view"}),a.jsx("p",{className:"text-gray-700 font-medium",children:"Try switching the filter to see other conversations."})]})}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(H=>a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20 hover:border-primary/40 hover:shadow-2xl hover:scale-[1.02] transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500",children:[H.subject,"  ",new Date(H.createdAt).toLocaleString()]}),a.jsx("h3",{className:"text-lg font-semibold",children:H.senderName}),a.jsx("p",{className:"text-xs text-gray-500",children:H.senderEmail})]}),a.jsx("span",{className:`badge ${H.status==="closed"?"badge-ghost":H.status==="responded"?"badge-success":"badge-warning"}`,children:H.status})]}),a.jsx("p",{className:"mt-4 text-gray-800 text-base leading-relaxed",children:H.message}),H.replies?.length>0&&a.jsx("div",{className:"mt-4 p-3 rounded-xl bg-base-200/80 space-y-2 max-h-48 overflow-y-auto border border-base-300",children:H.replies.map((U,C)=>a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold text-primary",children:[U.actorType==="admin"?"Admin":"User","  ",new Date(U.createdAt).toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:U.message})]},C))}),a.jsxs("div",{className:"card-actions mt-4 flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"btn btn-primary btn-sm flex-1",onClick:()=>z(H),disabled:!H.canReply,children:[a.jsx(WO,{}),"Reply"]}),H.status!=="closed"&&a.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>I(H.id,"closed"),children:"Close"})]}),!H.canReply&&a.jsx("p",{className:"text-xs text-warning text-center",children:"Guest message  replies not available."})]})]})},H.id))}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gradient-to-br from-white via-primary/10 to-secondary/10 rounded-lg w-full max-w-xl shadow-2xl border-2 border-primary/30",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl text-black font-bold",children:["Reply to ",d.senderName]}),a.jsx("button",{className:"btn btn-sm btn-ghost",onClick:G,children:""})]}),a.jsx("p",{className:"text-sm text-black",children:d.subject}),a.jsx("p",{className:"p-3 bg-base-200 text-black rounded text-sm",children:d.message}),a.jsxs("form",{className:"space-y-4",onSubmit:P,children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text text-black font-semibold",children:"Your reply"})}),a.jsx("textarea",{className:"textarea textarea-bordered text-black h-32",value:m,onChange:H=>g(H.target.value),required:!0})]}),a.jsx("button",{className:"btn btn-primary w-full",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xy,{}),"Send Reply"]})})]})]})})})]})]})},IM=()=>{const{userRole:t,loading:e}=sr();return e||!t?a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Loading..."}),a.jsx("div",{className:"loading loading-spinner loading-lg"})]}):t==="admin"?a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Dashboard"}),a.jsx("p",{children:"Welcome, Admin!"}),a.jsx(Eu,{to:"/dashboard/admin",replace:!0})]}):t==="charity"?a.jsx(Eu,{to:"/dashboard/charity",replace:!0}):a.jsx(Eu,{to:"/dashboard/donor",replace:!0})},OM=()=>{const{currentUser:t}=sr(),[e,n]=F.useState([]),[s,o]=F.useState(!0),[c,d]=F.useState("all");F.useEffect(()=>{f()},[t]);const f=async()=>{try{if(o(!0),t?.uid){const b=await bP(t.uid);n(b)}else n([])}catch(b){console.error("Error fetching campaigns:",b)}finally{o(!1)}},m=()=>c==="all"?e:e.filter(b=>b.status===c),g=b=>{switch(b){case"pending":return a.jsxs("div",{className:"badge badge-warning gap-2",children:[a.jsx(Ta,{})," Pending"]});case"approved":return a.jsxs("div",{className:"badge badge-success gap-2",children:[a.jsx(rr,{})," Approved"]});case"rejected":return a.jsxs("div",{className:"badge badge-error gap-2",children:[a.jsx(Zy,{})," Rejected"]});default:return a.jsx("div",{className:"badge",children:b})}},x=m();return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-6 shadow-xl border-2 border-teal-400/30",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Campaigns"}),a.jsx("p",{className:"text-lg opacity-95 mt-1",children:"Manage and track your fundraising campaigns"})]}),a.jsxs(je,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[a.jsx($f,{className:"mr-2"})," Create New Campaign"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"card bg-gradient-to-br from-teal-500 via-cyan-500 to-teal-600 shadow-lg border-2 border-teal-400 hover:scale-105 transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-sm text-white font-bold",children:"Total Campaigns"}),a.jsx("p",{className:"text-3xl font-black text-white",children:e.length})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-amber-500 via-orange-500 to-amber-600 shadow-lg border-2 border-amber-400 hover:scale-105 transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-sm text-white font-bold",children:"Pending"}),a.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(b=>b.status==="pending").length})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 shadow-lg border-2 border-emerald-400 hover:scale-105 transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-sm text-white font-bold",children:"Approved"}),a.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(b=>b.status==="approved").length})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-rose-500 via-red-500 to-rose-600 shadow-lg border-2 border-rose-400 hover:scale-105 transition-all",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-sm text-white font-bold",children:"Rejected"}),a.jsx("p",{className:"text-3xl font-black text-white",children:e.filter(b=>b.status==="rejected").length})]})})]}),a.jsxs("div",{className:"tabs tabs-boxed bg-gradient-to-r from-teal-200 via-cyan-200 to-teal-200 shadow-lg border-2 border-teal-300 w-fit",children:[a.jsxs("button",{className:`tab ${c==="all"?"tab-active":""}`,onClick:()=>d("all"),children:["All (",e.length,")"]}),a.jsxs("button",{className:`tab ${c==="pending"?"tab-active":""}`,onClick:()=>d("pending"),children:["Pending (",e.filter(b=>b.status==="pending").length,")"]}),a.jsxs("button",{className:`tab ${c==="approved"?"tab-active":""}`,onClick:()=>d("approved"),children:["Approved (",e.filter(b=>b.status==="approved").length,")"]}),a.jsxs("button",{className:`tab ${c==="rejected"?"tab-active":""}`,onClick:()=>d("rejected"),children:["Rejected (",e.filter(b=>b.status==="rejected").length,")"]})]}),x.length===0?a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body text-center py-12",children:[a.jsx("h3",{className:"text-xl font-bold text-teal-900",children:"No campaigns found"}),a.jsx("p",{className:"text-teal-700 mt-2 font-medium",children:c==="all"?"You haven't created any campaigns yet. Click 'Create New Campaign' to get started!":`You don't have any ${c} campaigns.`}),c==="all"&&a.jsx(je,{to:"/dashboard/charity/campaigns/create",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 hover:from-teal-600 hover:to-cyan-700 shadow-lg mt-4 w-fit mx-auto",children:"Create Your First Campaign"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(b=>a.jsxs("div",{className:"card bg-gradient-to-br from-teal-50 via-cyan-50 to-teal-50 shadow-xl border-2 border-teal-200 hover:shadow-2xl hover:border-teal-400 hover:scale-[1.02] transition-all duration-300",children:[a.jsxs("figure",{className:"relative",children:[a.jsx("img",{src:b.image,alt:b.title,className:"w-full h-48 object-cover",onError:w=>{w.target.src="https://via.placeholder.com/400x200"}}),a.jsx("div",{className:"absolute top-2 right-2",children:g(b.status)})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title text-lg text-teal-900 font-bold",children:b.title}),a.jsxs("div",{className:"space-y-2 text-sm p-3 bg-gradient-to-r from-teal-200 via-cyan-200 to-teal-200 rounded-lg border-2 border-teal-300 shadow-md",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-teal-900 font-bold",children:"Goal:"}),a.jsxs("span",{className:"font-black text-teal-800",children:["",b.goalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-teal-900 font-bold",children:"Raised:"}),a.jsxs("span",{className:"font-black text-emerald-700",children:["",b.currentAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-teal-900 font-bold",children:"Category:"}),a.jsx("span",{className:"capitalize font-black text-cyan-800",children:b.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-teal-900 font-bold",children:"End Date:"}),a.jsx("span",{className:"font-black text-teal-800",children:new Date(b.endDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-teal-900 font-bold",children:"Created:"}),a.jsx("span",{className:"font-black text-teal-800",children:new Date(b.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1 font-bold",children:[a.jsx("span",{className:"text-teal-900",children:"Progress"}),a.jsxs("span",{className:"text-cyan-700",children:[Math.round(b.currentAmount/b.goalAmount*100),"%"]})]}),a.jsx("progress",{className:"progress progress-secondary w-full h-3",value:b.currentAmount,max:b.goalAmount})]}),a.jsxs("div",{className:"card-actions justify-end mt-4",children:[a.jsxs("button",{className:"btn btn-outline btn-sm border-teal-400 text-teal-700 hover:bg-teal-100",children:[a.jsx(Qs,{className:"mr-1"})," View Details"]}),b.status==="approved"&&a.jsxs("button",{className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 btn-sm hover:from-teal-600 hover:to-cyan-700 shadow-lg",children:[a.jsx($f,{className:"mr-1"})," Edit"]})]})]})]},b.id))})]})},PM=()=>{const{currentUser:t}=sr(),e=Vi(),[n,s]=F.useState(!1),[o,c]=F.useState(""),[d,f]=F.useState(null),[m,g]=F.useState(null),{register:x,handleSubmit:b,formState:{errors:w}}=_x({defaultValues:{title:"",description:"",goalAmount:"",category:"education",endDate:"",bankAccount:""}}),D=k=>{const z=k.target.files[0];if(z){g(z);const G=new FileReader;G.onloadend=()=>{f(G.result)},G.readAsDataURL(z)}},M=async k=>{try{s(!0),c("");const z=d||"https://via.placeholder.com/800x400",G={...k,charityId:t.uid,charityName:t.displayName||t.email||"Unknown Charity",charityEmail:t.email||"",status:"pending",currentAmount:0,donors:0,image:z,goalAmount:parseFloat(k.goalAmount),endDate:new Date(k.endDate).toISOString()};if(!t?.uid){c("You must be signed in as a charity to create a campaign.");return}const P=await wP(G);console.log("Campaign submitted successfully:",P),await new Promise(I=>setTimeout(I,1e3)),e("/dashboard/charity",{state:{message:"Campaign submitted for approval! Admin will review it soon.",type:"success"}})}catch(z){console.error("Error creating campaign:",z);const G=z?.message||"Failed to create campaign. Please try again.";c(G.includes("Missing required campaign fields")?"Please fill in all required fields and try again.":G)}finally{s(!1)}};return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-500 to-teal-600 text-white rounded-lg p-8 mb-8 shadow-xl border-2 border-teal-400/30",children:[a.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Create New Campaign"}),a.jsx("p",{className:"text-lg opacity-95",children:"Fill in the details below to launch your fundraising campaign"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-teal-50 via-cyan-50 to-teal-50 rounded-lg shadow-xl p-8 border-2 border-teal-300",children:[o&&a.jsxs("div",{className:"alert alert-error mb-6 shadow-lg",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:b(M),className:"space-y-8",children:[a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(KO,{className:"text-2xl text-teal-700"}),a.jsx("h3",{className:"text-xl font-bold text-teal-900",children:"Campaign Image"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:"avatar",children:a.jsx("div",{className:"w-48 h-48 rounded-xl bg-teal-100 border-4 border-teal-300 shadow-lg",children:d?a.jsx("img",{src:d,alt:"Campaign preview",className:"w-full h-full object-cover rounded-lg"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[a.jsx(Yf,{className:"text-5xl mb-2"}),a.jsx("span",{className:"text-sm",children:"Upload Image"})]})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"file-input file-input-bordered file-input-primary w-full",required:!0}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[a.jsx("p",{children:" Recommended size: 800x400px"}),a.jsx("p",{children:" Supported formats: JPG, PNG, WebP"}),a.jsx("p",{children:" Maximum file size: 5MB"})]})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-teal-100 via-cyan-100 to-teal-100 shadow-lg border-2 border-teal-300",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-teal-900",children:"Campaign Details"}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-base text-teal-900",children:"Campaign Title *"})}),a.jsx("input",{type:"text",...x("title",{required:"Title is required"}),className:"input input-bordered input-lg w-full  border-teal-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",placeholder:"E.g., Help Build a School in Rural Area"}),w.title&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error font-medium",children:w.title.message})})]}),a.jsxs("div",{className:"form-control mt-4",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-base text-teal-900",children:"Campaign Description *"})}),a.jsx("textarea",{...x("description",{required:"Description is required"}),className:"textarea textarea-bordered textarea-lg h-40  border-teal-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",placeholder:"Tell the story of your campaign... Why is this cause important? How will the funds be used?"}),w.description&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error font-medium",children:w.description.message})})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-cyan-100 via-teal-100 to-cyan-100 shadow-lg border-2 border-cyan-300",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-cyan-900",children:"Financial & Timeline Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[a.jsx(Gf,{className:"text-emerald-600"}),"Goal Amount (BDT) *"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2  -translate-y-1/2 text-lg font-bold text-emerald-600",children:""}),a.jsx("input",{type:"number",...x("goalAmount",{required:"Goal amount is required",min:{value:1e3,message:"Minimum amount is 1000 BDT"}}),className:"input input-bordered input-lg w-full pl-10  border-cyan-300 focus:border-emerald-500 focus:ring-emerald-500 text-gray-900",placeholder:"50000",min:"1000",step:"100"})]}),w.goalAmount&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error font-medium",children:w.goalAmount.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-bold text-base text-cyan-900",children:"Category *"})}),a.jsxs("select",{...x("category",{required:"Category is required"}),className:"select select-bordered select-lg w-full  border-cyan-300 focus:border-teal-500 focus:ring-teal-500 text-gray-900",children:[a.jsx("option",{value:"education",children:" Education"}),a.jsx("option",{value:"health",children:" Health"}),a.jsx("option",{value:"environment",children:" Environment"}),a.jsx("option",{value:"animals",children:" Animals"}),a.jsx("option",{value:"community",children:" Community"}),a.jsx("option",{value:"other",children:" Other"})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[a.jsx(Gs,{className:"text-blue-600"}),"Campaign End Date *"]})}),a.jsx("input",{type:"date",...x("endDate",{required:"End date is required",validate:k=>{const z=new Date(k),G=new Date;return G.setHours(0,0,0,0),z>G||"End date must be in the future"}}),className:"input input-bordered input-lg w-full  border-cyan-300 focus:border-blue-500 focus:ring-blue-500 text-gray-900",min:new Date().toISOString().split("T")[0]}),w.endDate&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error font-medium",children:w.endDate.message})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text font-bold text-base text-cyan-900 flex items-center gap-2",children:[a.jsx(eP,{className:"text-amber-600"}),"Bank Account Number or Other Payment Number*"]})}),a.jsx("input",{type:"text",...x("bankAccount",{required:"Bank account is required",pattern:{value:/^[0-9\-\s]+$/,message:"Please enter a valid bank account number"}}),className:"input input-bordered input-lg w-full  border-cyan-300 focus:border-amber-500 focus:ring-amber-500 text-gray-900",placeholder:"e.g., 1234-5678-9012-3456"}),w.bankAccount&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error font-medium",children:w.bankAccount.message})})]})]})]})}),a.jsx("div",{className:"card bg-teal-100 border-2 border-teal-300 shadow-lg",children:a.jsx("div",{className:"card-body",children:a.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[a.jsx("input",{type:"checkbox",className:"checkbox checkbox-lg border-teal-500 checked:bg-teal-600",required:!0}),a.jsxs("span",{className:"label-text text-base text-teal-900 font-medium",children:["I confirm that all information provided is accurate and I agree to the platform's ",a.jsx("span",{className:"text-teal-700 font-bold",children:"terms and conditions"}),"."]})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6",children:[a.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn btn-outline btn-lg border-teal-400 text-teal-700 hover:bg-teal-100",disabled:n,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn bg-gradient-to-r from-teal-500 to-cyan-600 text-white border-0 btn-lg shadow-lg hover:shadow-xl hover:from-teal-600 hover:to-cyan-700 transition-all",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Pu,{className:"animate-spin mr-2"}),"Submitting Campaign..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yf,{className:"mr-2"}),"Submit for Approval"]})})]})]})]})]})},MM=()=>a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"About Us - Charity Donation Platform"}),a.jsx("meta",{name:"description",content:"Learn about our mission to connect donors with verified charity organizations and make a positive impact in communities across Bangladesh."})]}),a.jsxs("div",{className:"min-h-screen bg-base-200 pt-20",children:[a.jsx("section",{className:"bg-gradient-to-r from-primary to-secondary text-white py-20",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About Our Platform"}),a.jsx("p",{className:"text-xl max-w-3xl mx-auto",children:"Our Charity Donation Platform is a web-based system designed to bridge the gap between donors and verified charitable organizations. We focus on transparency, security, and accountability so people can donate with confidence and create real social impact."})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Mission"}),a.jsx("p",{className:"text-lg text-white/80 mb-6",children:"Our mission is to simplify the donation process while ensuring transparency and trust. We empower donors with clear insights into how funds are collected, managed, and utilized, and support charitable organizations with efficient digital tools for campaign management."}),a.jsx("p",{className:"text-lg text-white/80",children:"We believe technology can be a powerful force for good, helping build stronger and more compassionate communities through reliable, accountable digital giving."})]}),a.jsx("div",{className:"bg-primary/10 rounded-lg p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Mt,{className:"text-6xl text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Making Impact"}),a.jsx("p",{className:"text-white/80",children:"Every donation, no matter how small, creates ripples of positive change. We make it easy to discover causes, track progress, and contribute meaningfully."})]})})]})})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Our Vision"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our vision is to build a trustworthy digital ecosystem that encourages social responsibility and maximizes the positive impact of charitable contributions. We aspire to become a leading platform where technology and compassion work together to drive sustainable social change."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-secondary/10 to-accent/10 shadow-xl border-2 border-secondary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Objectives of the Platform"}),a.jsxs("ul",{className:"space-y-3 text-gray-800 font-medium",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-primary"}),a.jsx("span",{children:"Provide a secure and user-friendly donation system"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-success"}),a.jsx("span",{children:"Ensure transparency through real-time fund tracking"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-secondary"}),a.jsx("span",{children:"Verify charities and campaigns before public listing"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-accent"}),a.jsx("span",{children:"Facilitate fast and flexible donation methods"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-info"}),a.jsx("span",{children:"Support long-term engagement between donors and charities"})]})]})]})})]})})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"How the Platform Works"}),a.jsx("p",{className:"text-lg text-white/80 max-w-3xl mx-auto",children:"A simple flow that keeps both donors and charities informed, while admins maintain platform trust."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-base-100 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"1. Secure Authentication"}),a.jsx("p",{className:"text-gray-700",children:"Donors register or log in securely using email/password or Google authentication."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-secondary/10 to-base-100 shadow-xl border-2 border-secondary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"2. Verified Campaigns"}),a.jsx("p",{className:"text-gray-700",children:"Charitable organizations create campaigns after verification and admin approval."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-accent/10 to-base-100 shadow-xl border-2 border-accent/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"3. Donate & Track"}),a.jsx("p",{className:"text-gray-700",children:"Donors browse campaigns, view progress, and make secure donations with real-time updates."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-info/10 to-base-100 shadow-xl border-2 border-info/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"4. Notifications & Updates"}),a.jsx("p",{className:"text-gray-700",children:"Real-time updates and notifications keep users informed about campaign progress and replies."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-success/10 to-base-100 shadow-xl border-2 border-success/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"5. Admin Moderation"}),a.jsx("p",{className:"text-gray-700",children:"Admins monitor platform activity to ensure compliance, trust, and transparency."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-warning/10 to-base-100 shadow-xl border-2 border-warning/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"6. Long-Term Engagement"}),a.jsx("p",{className:"text-gray-700",children:"Donors and charities stay connected through dashboards, progress history, and future updates."})]})})]})]})}),a.jsx("section",{className:"py-20 border",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Our Values"}),a.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),a.jsxs("div",{className:"   grid  md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Kf,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Trust & Transparency"}),a.jsx("p",{className:"text-white/80",children:"We verify all charities and provide complete transparency in how donations are used."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-secondary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(gr,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Community First"}),a.jsx("p",{className:"text-white/80",children:"Our platform is built for and by the community, prioritizing local needs and impact."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(hd,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Compassion"}),a.jsx("p",{className:"text-white/80",children:"We approach every interaction with empathy and understanding for those in need."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-info rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Mt,{className:"text-3xl text-white"})}),a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Impact"}),a.jsx("p",{className:"text-white/80",children:"Every feature and decision is made with the goal of maximizing positive impact."})]})]})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Key Features"}),a.jsxs("ul",{className:"space-y-3 text-gray-800 font-medium",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-primary"}),a.jsx("span",{children:"Role-based dashboards for donors, charities, and administrators"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-secondary"}),a.jsx("span",{children:"Secure authentication and access control"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-success"}),a.jsx("span",{children:"Real-time donation progress visualization"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-info"}),a.jsx("span",{children:"Campaign updates, notifications, and impact reporting"})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-accent"}),a.jsx("span",{children:"Review and rating system to promote accountability"})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-success/10 to-secondary/10 shadow-xl border-2 border-success/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Security & Transparency"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"The platform follows industry-standard security practices, including encrypted authentication, role-based access control, and secure transaction handling. Charity verification workflows and admin moderation further ensure transparency and fraud prevention."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-accent/10 to-info/10 shadow-xl border-2 border-accent/20 lg:col-span-2",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Technology-Driven Impact"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Built using modern web technologies such as React, Node.js, MongoDB, and Firebase, the platform delivers a responsive user experience, scalable performance, and secure data handling. These technologies enable real-time interactions and reliable system performance."})]})})]})})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-base-100 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Our Commitment"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We are committed to continuous improvement, ethical data handling, and user trust. Feedback from donors and charities plays a vital role in refining the platform and expanding its capabilities."})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-warning/10 to-secondary/10 shadow-xl border-2 border-warning/20",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Future Direction"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Next, we aim to introduce advanced analytics, AI-based fraud detection, mobile application support, and international payment expansions to further enhance user experience and social impact."})]})})]})})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl  font-bold mb-4",children:"Our Team"}),a.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto",children:"Passionate individuals working together to make a difference"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsx("div",{className:"card bg-blue-300 shadow-xl",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx("div",{className:"avatar mb-4",children:a.jsx("div",{className:"w-24 rounded-full mx-auto",children:a.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),a.jsx("h3",{className:"card-title text-black justify-center",children:"Md. Ratan Chowdhury"}),a.jsx("p",{className:"text-primary font-semibold",children:"Founder & CEO"}),a.jsx("p",{className:"text-gray-600",children:"Passionate about using technology to solve social problems and create positive change."})]})}),a.jsx("div",{className:"card bg-blue-300 shadow-xl",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx("div",{className:"avatar mb-4",children:a.jsx("div",{className:"w-24 rounded-full mx-auto",children:a.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),a.jsx("h3",{className:"card-title text-black justify-center",children:"Nayeem Khan"}),a.jsx("p",{className:"text-primary font-semibold",children:"CTO"}),a.jsx("p",{className:"text-gray-600",children:"Technology enthusiast focused on building secure and scalable solutions for social impact."})]})}),a.jsx("div",{className:"card bg-blue-300 shadow-xl",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx("div",{className:"avatar mb-4",children:a.jsx("div",{className:"w-24 rounded-full mx-auto",children:a.jsx("img",{src:"/api/placeholder/96/96",alt:"Team Member"})})}),a.jsx("h3",{className:"card-title text-black justify-center",children:"Golam Rabbi"}),a.jsx("p",{className:"text-primary font-semibold",children:"Head of Operations"}),a.jsx("p",{className:"text-gray-600",children:"Dedicated to ensuring smooth operations and maintaining the highest standards of service."})]})})]})]})}),a.jsx("section",{className:"py-20 bg-primary text-white",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Join Our Mission"}),a.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Whether you're a donor looking to make an impact or a charity seeking support, we're here to help you make a difference."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"})]})})]})]}),F_=["General Inquiry","Donation Support","Charity Registration","Technical Issue","Partnership Opportunity"],kM=()=>{const{currentUser:t,userRole:e}=sr(),[n,s]=F.useState({name:"",email:"",subject:F_[0],message:"",wantsReply:!1}),[o,c]=F.useState(!1),[d,f]=F.useState({type:"",text:""}),[m,g]=F.useState([]),[x,b]=F.useState(!1),[w,D]=F.useState({}),[M,k]=F.useState({}),z=F.useCallback((A,N,S)=>{const L=typeof window<"u"?window.Swal:null;L?L.fire({icon:A,title:N,text:S,timer:A==="success"?2e3:void 0,showConfirmButton:A!=="success"}):typeof window<"u"&&window.alert&&window.alert(`${N}${S?`
${S}`:""}`)},[]);F.useEffect(()=>{t&&s(A=>({...A,name:t.displayName||A.name,email:t.email||A.email,wantsReply:!0}))},[t]);const G=A=>{const{name:N,value:S,type:L,checked:R}=A.target;f({type:"",text:""}),s(_=>({..._,[N]:L==="checkbox"?R:S}))},P=F.useCallback(async()=>{if(!t){g([]);return}try{b(!0);const A=await Nx(t.uid);g(A)}catch(A){console.error("Failed to load user messages",A)}finally{b(!1)}},[t]);F.useEffect(()=>{P()},[P]);const I=async A=>{if(A.preventDefault(),!n.name.trim()||!n.email.trim()||!n.message.trim()){f({type:"error",text:"Please complete every required field."}),z("warning","Missing information","Please fill out your name, email, and message.");return}c(!0);try{await bM({senderName:n.name.trim(),senderEmail:n.email.trim(),subject:n.subject,message:n.message.trim(),userId:t?.uid||null,userRole:e||"guest",wantsReply:!!(n.wantsReply&&t)}),f({type:"success",text:"Your message has been delivered to the admin team."}),z("success","Message sent!","Our admin team will reply as soon as possible."),s(N=>({...N,message:"",wantsReply:!!t})),P()}catch(N){console.error("Failed to send message",N),f({type:"error",text:"We could not send your message. Please try again."}),z("error","Message failed","We could not send your message. Please try again in a moment.")}finally{c(!1)}},H=(A,N)=>{D(S=>({...S,[A]:N}))},U=async A=>{const N=w[A];if(!t||!N||!N.trim()){f({type:"error",text:"Please enter a reply before sending."}),z("warning","Empty reply","Please write a message before sending.");return}k(S=>({...S,[A]:!0})),f({type:"",text:""});try{await UE(A,{reply:N.trim(),actorType:"user",userId:t.uid,userName:t.displayName||t.email||"You"}),D(S=>({...S,[A]:""})),P(),f({type:"success",text:"Reply sent successfully."}),z("success","Reply sent!","We will keep you updated here.")}catch(S){console.error("Failed to send thread reply",S),f({type:"error",text:"Failed to send reply. Please try again."}),z("error","Reply failed","Please try again.")}finally{k(S=>({...S,[A]:!1}))}},C=A=>[{message:A.message,actorType:A.userId?"user":"guest",actorName:A.senderName,createdAt:A.createdAt},...A.replies||[]].map((S,L)=>{const R=S.actorType==="admin"?S.actorName||"Admin":S.actorType==="user"?"You":S.actorName||"Guest",_=S.actorType==="admin";return a.jsxs("div",{className:`rounded-2xl p-4 text-sm leading-relaxed shadow-sm border-2 ${_?"bg-gradient-to-r from-primary/90 to-secondary/90 text-white border-transparent":"bg-gradient-to-br from-white via-primary/5 to-base-100 text-gray-900 border-primary/20"}`,children:[a.jsxs("p",{className:`font-semibold text-xs mb-2 ${_?"text-white/90":"text-gray-700"}`,children:[R,"  ",new Date(S.createdAt).toLocaleString()]}),a.jsx("p",{className:`whitespace-pre-line text-base ${_?"text-white":"text-gray-900"}`,children:S.message})]},`${A.id}-reply-${L}`)});return a.jsxs(a.Fragment,{children:[a.jsxs(Xt,{children:[a.jsx("title",{children:"Contact Us - Charity Donation Platform"}),a.jsx("meta",{name:"description",content:"Get in touch with our team. We're here to help with any questions about donations, charity registration, or platform features."})]}),a.jsx("div",{className:"min-h-screen  pt-24 pb-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("p",{className:"badge badge-primary badge-lg mb-4",children:"We usually reply in under 24 hours"}),a.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-3 bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:"Let's build impact together"}),a.jsx("p",{className:"text-lg  max-w-3xl mx-auto font-medium",children:"Whether you're a donor, charity partner, or supporter, our team is here to help you keep campaigns healthy and communities supported."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[a.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center text-white",children:a.jsx(UO,{className:"text-xl"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"card-title text-white mb-0",children:"Send us a message"}),a.jsx("p",{className:"text-sm text-white/90 font-semibold",children:"We'll respond as quickly as possible"})]})]}),!t&&a.jsxs("div",{className:"alert alert-warning mb-4",children:[a.jsx(ju,{className:"text-xl"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Want a reply from admin?"}),a.jsx("p",{className:"text-sm",children:"Please log in first. Guests can still contact us, but replies are only sent to registered users."})]})]}),d.text&&a.jsx("div",{className:`alert ${d.type==="success"?"alert-success":"alert-error"} mb-4`,children:d.text}),a.jsxs("form",{className:"space-y-4",onSubmit:I,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text text-white font-bold text-base",children:"Name"})}),a.jsx("input",{type:"text",name:"name",value:n.name,onChange:G,placeholder:"Your full name",className:"input bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text text-white font-bold text-base",children:"Email"})}),a.jsx("input",{type:"email",name:"email",value:n.email,onChange:G,placeholder:"you@email.com",className:"input bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium",required:!0})]})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label ",children:a.jsx("span",{className:"label-text text-white font-bold text-base",children:"Subject"})}),a.jsx("select",{name:"subject",value:n.subject,onChange:G,className:"select bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white font-medium",children:F_.map(A=>a.jsx("option",{value:A,className:"bg-gray-800 text-white",children:A},A))})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label gap-4",children:a.jsx("span",{className:"label-text text-white font-bold text-base",children:"Message"})}),a.jsx("textarea",{name:"message",value:n.message,onChange:G,className:"textarea bg-white/10 border-2 border-white/30 focus:border-white focus:ring-2 focus:ring-white text-white placeholder:text-white/60 font-medium h-32",placeholder:"Share how we can support you...",required:!0})]}),a.jsxs("div",{className:"form-control",children:[a.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[a.jsx("input",{type:"checkbox",name:"wantsReply",className:"checkbox checkbox-primary",checked:!!(n.wantsReply&&t),disabled:!t,onChange:G}),a.jsx("span",{className:"label-text text-white font-semibold text-sm",children:"I'd like the admin team to follow up with me via my dashboard inbox"})]}),!t&&a.jsx("p",{className:"text-xs text-white/80 font-semibold mt-1",children:"Login required to receive replies."})]}),a.jsx("button",{className:"btn btn-primary w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xy,{}),"Send Message"]})})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{className:"card bg-gradient-to-br from-primary to-primary/80 text-white shadow-xl",children:a.jsxs("div",{className:"card-body",children:[a.jsx(Em,{className:"text-3xl opacity-80"}),a.jsx("p",{className:"uppercase text-xs tracking-wide mt-4 opacity-80",children:"Hotline"}),a.jsx("h3",{className:"text-2xl font-bold",children:"+880 1855745064"}),a.jsx("p",{className:"text-sm opacity-80",children:"24/7 emergency support"})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-secondary to-secondary/80 text-white shadow-xl",children:a.jsxs("div",{className:"card-body",children:[a.jsx(Xu,{className:"text-3xl opacity-80"}),a.jsx("p",{className:"uppercase text-xs tracking-wide mt-4 opacity-80",children:"Email"}),a.jsx("h3",{className:"text-xl font-semibold break-all",children:"support@charitydonation.bd"}),a.jsx("p",{className:"text-sm opacity-80",children:"We reply within one business day"})]})})]}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:a.jsxs("div",{className:"card-body space-y-5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx(fd,{className:"text-white text-xl"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-white",children:"Visit our hub"}),a.jsxs("p",{className:"text-white/90 leading-relaxed font-medium",children:["Charity Donation Platform",a.jsx("br",{}),"Gulshan-1, Dhaka 1212",a.jsx("br",{}),"Bangladesh"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx(Ta,{className:"text-white text-xl"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-white",children:"Support hours"}),a.jsxs("p",{className:"text-white/90 leading-relaxed font-medium",children:["Sunday - Thursday: 9:00 AM - 8:00 PM",a.jsx("br",{}),"Friday - Saturday: 10:00 AM - 6:00 PM",a.jsx("br",{}),a.jsx("span",{className:"text-white text-sm font-bold",children:"Emergency response available 24/7"})]})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/90 via-secondary/80 to-primary/90 shadow-xl border-2 border-primary/30",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h3",{className:"card-title mb-2 text-white",children:"Support policy"}),a.jsx("p",{className:"text-sm text-white/90 mb-4 font-medium",children:"All contact messages instantly reach the admin dashboard. Replies appear inside your donor or charity dashboard inbox as soon as an admin responds."}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ju,{className:"mt-1 text-white text-lg"}),a.jsx("span",{className:"text-white/90 font-medium",children:"Log in before sending a message if you expect a reply."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ju,{className:"mt-1 text-white text-lg"}),a.jsx("span",{className:"text-white/90 font-medium",children:"Urgent donation or compliance issues automatically get priority handling."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ju,{className:"mt-1 text-white text-lg"}),a.jsx("span",{className:"text-white/90 font-medium",children:"We keep a full history of all conversations for transparency."})]})]})]})})]})]}),t&&a.jsx("div",{id:"inbox",className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-2xl border-2 border-primary/20 mt-12",children:a.jsxs("div",{className:"card-body",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"card-title mb-1 text-primary",children:"Your Support Inbox"}),a.jsx("p",{className:"text-sm  font-medium",children:"Continue the conversation with our admin team. Every reply stays in this thread."})]})}),x?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("span",{className:"loading loading-spinner text-primary"})}):m.length===0?a.jsx("div",{className:"text-center py-10 text-gray-700 font-medium",children:"No previous messages yet. Use the form above to start a new conversation."}):a.jsx("div",{className:"space-y-6",children:m.map(A=>a.jsxs("div",{className:"border-2 border-primary/20 rounded-2xl p-5 bg-gradient-to-br from-white via-primary/5 to-secondary/5 shadow-lg hover:shadow-xl transition-all",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-primary font-semibold",children:A.status}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.subject})]}),a.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:["Updated ",new Date(A.updatedAt||A.createdAt).toLocaleString()]})]}),a.jsx("div",{className:"space-y-3",children:C(A)}),A.canReply?a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text text-sm font-semibold text-gray-900",children:"Reply to this thread"})}),a.jsx("textarea",{className:"textarea  border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 w-full h-24",placeholder:"Write your reply...",value:w[A.id]||"",onChange:N=>H(A.id,N.target.value)}),a.jsx("button",{className:"btn btn-primary btn-sm mt-2",type:"button",disabled:M[A.id],onClick:()=>U(A.id),children:M[A.id]?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xy,{}),"Send Reply"]})})]}):a.jsx("p",{className:"text-xs text-amber-600 font-semibold mt-3",children:"This conversation started without an account. Please use the contact form above to open a new, reply-enabled thread."})]},A.id))})]})})]})})]})},Yt=({children:t,requiredRole:e=null})=>{const{currentUser:n,userRole:s,loading:o}=sr(),c=es();return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"loading loading-spinner loading-lg"})}):n?e&&s!==e?a.jsx(Eu,{to:"/unauthorized",replace:!0}):t:a.jsx(Eu,{to:"/login",state:{from:c},replace:!0})},LM=()=>a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Page Not Found - Charity Platform"})}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200 pt-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-9xl font-bold text-primary mb-4",children:"404"}),a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(je,{to:"/",className:"btn btn-primary btn-lg",children:[a.jsx($O,{className:"mr-2"}),"Go Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline btn-lg",children:[a.jsx(PO,{className:"mr-2"}),"Go Back"]})]})]})})]}),VM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[o,c]=F.useState(""),d="https://charity-donation-platform-server.vercel.app";F.useEffect(()=>{(async()=>{try{const g=await fetch(`${d}/users`);if(!g.ok)throw new Error(`Failed to load users: ${g.status}`);const b=(await g.json()).map((w,D)=>({id:w._id||w.id||`user-${D}`,uid:w.uid||"",email:w.email||"",displayName:w.displayName||w.name||"",photoURL:w.photoURL||"",role:w.role||"donor",providerId:w.providerId||"password",createdAt:w.createdAt||null}));e(b)}catch(g){console.error("Failed to load users:",g)}finally{s(!1)}})()},[d]);const f=t.filter(m=>{const g=o.toLowerCase();return m.displayName.toLowerCase().includes(g)||m.email.toLowerCase().includes(g)||m.role.toLowerCase().includes(g)});return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Admin Users - Charity Platform"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gr,{className:"text-2xl text-primary"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Users"})]}),a.jsxs("div",{className:"join",children:[a.jsx("input",{type:"text",placeholder:"Search name, email, role",value:o,onChange:m=>c(m.target.value),className:"input input-bordered join-item w-72"}),a.jsx("button",{className:"btn btn-primary join-item",children:a.jsx(fx,{})})]})]}),a.jsx("div",{className:"card bg-gradient-to-br from-primary/10 via-secondary/5 to-accent/5 shadow-lg border border-primary/20",children:a.jsx("div",{className:"card-body p-0",children:n?a.jsx("div",{className:"p-6",children:a.jsx("span",{className:"loading loading-spinner"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Role"}),a.jsx("th",{children:"Provider"}),a.jsx("th",{children:"Created"})]})}),a.jsx("tbody",{children:f.length>0?f.map((m,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"avatar",children:a.jsx("div",{className:"mask mask-squircle w-10 h-10",children:a.jsx("img",{src:m.photoURL||"https://i.ibb.co/fH0ZCz1/user-placeholder.png",alt:m.displayName||"User"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:m.displayName||""}),a.jsx("div",{className:"text-sm opacity-50",children:m.uid?m.uid.slice(0,8):""})]})]})}),a.jsx("td",{children:m.email||""}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-outline",children:m.role})}),a.jsx("td",{children:m.providerId}),a.jsx("td",{children:m.createdAt?new Date(m.createdAt).toLocaleString():""})]},m.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-10 text-sm text-base-content/70",children:"No users found"})})})]})})})})]})]})},UM=()=>{const[t,e]=F.useState([]),[n,s]=F.useState(!0),[o,c]=F.useState("");F.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await Dr(),g={};m.forEach(b=>{g[b.charityId]||(g[b.charityId]={id:b.charityId,name:b.charityName,campaigns:[],totalRaised:0,totalCampaigns:0,approvedCampaigns:0,pendingCampaigns:0,rejectedCampaigns:0}),g[b.charityId].campaigns.push(b),g[b.charityId].totalCampaigns++,g[b.charityId].totalRaised+=b.currentAmount||0,b.status==="approved"?g[b.charityId].approvedCampaigns++:b.status==="pending"?g[b.charityId].pendingCampaigns++:b.status==="rejected"&&g[b.charityId].rejectedCampaigns++});const x=Object.values(g).sort((b,w)=>w.totalRaised-b.totalRaised);e(x),s(!1)}catch(m){console.error("Error fetching charities:",m),s(!1)}},f=t.filter(m=>{const g=o.toLowerCase();return!g||m.name.toLowerCase().includes(g)});return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Admin Charities - Charity Platform"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pi,{className:"text-2xl text-primary"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Charities"})]}),a.jsxs("div",{className:"join",children:[a.jsx("input",{type:"text",placeholder:"Search charities...",value:o,onChange:m=>c(m.target.value),className:"input input-bordered join-item w-72"}),a.jsx("button",{className:"btn btn-primary join-item",children:a.jsx(fx,{})})]})]}),a.jsxs("div",{className:"stats shadow-lg bg-gradient-to-br from-white via-primary/5 to-secondary/5 border-2 border-primary/20 w-full",children:[a.jsxs("div",{className:"stat bg-gradient-to-br from-primary/10 to-primary/5 border-r-2 border-primary/20",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Charities"}),a.jsx("div",{className:"stat-value text-primary",children:t.length}),a.jsx("div",{className:"stat-desc text-gray-600",children:"Registered organizations"})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-secondary/10 to-secondary/5 border-r-2 border-secondary/20",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Campaigns"}),a.jsx("div",{className:"stat-value text-secondary",children:t.reduce((m,g)=>m+g.totalCampaigns,0)}),a.jsx("div",{className:"stat-desc text-gray-600",children:"All campaigns combined"})]}),a.jsxs("div",{className:"stat bg-gradient-to-br from-accent/10 to-accent/5",children:[a.jsx("div",{className:"stat-title text-gray-700 font-semibold",children:"Total Raised"}),a.jsxs("div",{className:"stat-value text-accent",children:["",t.reduce((m,g)=>m+g.totalRaised,0).toLocaleString()]}),a.jsx("div",{className:"stat-desc text-gray-600",children:"Across all charities"})]})]}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsx("div",{className:"card-body p-0",children:n?a.jsx("div",{className:"p-6 text-center",children:a.jsx("span",{className:"loading loading-spinner loading-lg"})}):f.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Pi,{className:"text-6xl text-base-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Charities Found"}),a.jsx("p",{className:"text-base-content/70",children:o?"Try a different search term":"No charities have registered yet"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"}),a.jsx("th",{children:"Charity Name"}),a.jsx("th",{children:"Total Campaigns"}),a.jsx("th",{children:"Approved"}),a.jsx("th",{children:"Pending"}),a.jsx("th",{children:"Total Raised"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:f.map((m,g)=>a.jsxs("tr",{className:"hover",children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"avatar placeholder",children:a.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:a.jsx("span",{className:"text-lg",children:m.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:m.name}),a.jsxs("div",{className:"text-xs flex items-center gap-1 text-success",children:[a.jsx(rr,{}),a.jsx("span",{children:"Registered"})]})]})]})}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-lg",children:m.totalCampaigns})}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-success badge-lg",children:m.approvedCampaigns})}),a.jsx("td",{children:a.jsx("span",{className:"badge badge-warning badge-lg",children:m.pendingCampaigns})}),a.jsx("td",{children:a.jsxs("span",{className:"font-bold text-secondary",children:["",m.totalRaised.toLocaleString()]})}),a.jsx("td",{children:a.jsx(je,{to:`/campaigns?charity=${m.id}`,className:"btn btn-sm btn-ghost",title:"View campaigns",children:a.jsx(Qs,{})})})]},m.id))})]})})})})]})]})},zM=()=>{const[t,e]=F.useState({notifications:{emailNotifications:!0,campaignApprovals:!0,newMessages:!0,weeklyReports:!1},platform:{maintenanceMode:!1,allowNewRegistrations:!0,requireEmailVerification:!1,autoApproveCharities:!1},appearance:{theme:"night",primaryColor:"blue",showBanner:!0},security:{sessionTimeout:30,requireStrongPasswords:!0,twoFactorAuth:!1}}),[n,s]=F.useState(!1),[o,c]=F.useState({type:"",text:""}),d=(m,g,x)=>{e(b=>({...b,[m]:{...b[m],[g]:x}}))},f=async()=>{s(!0),c({type:"",text:""}),setTimeout(()=>{c({type:"success",text:"Settings saved successfully!"}),s(!1),setTimeout(()=>c({type:"",text:""}),3e3)},1e3)};return a.jsxs(a.Fragment,{children:[a.jsx(Xt,{children:a.jsx("title",{children:"Admin Settings - Charity Platform"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-white rounded-lg p-6 shadow-xl flex flex-col gap-2",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(bE,{}),"Admin Settings"]}),a.jsx("p",{className:"text-white/80",children:"Configure platform settings, notifications, security, and appearance preferences"})]}),o.text&&a.jsx("div",{className:`alert ${o.type==="success"?"alert-success":"alert-error"} shadow-lg`,children:o.text}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(MO,{className:"text-2xl text-primary"}),a.jsx("h2",{className:"card-title text-gray-900",children:"Notification Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20 hover:bg-primary/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email alerts for important events"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:t.notifications.emailNotifications,onChange:m=>d("notifications","emailNotifications",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-secondary/10 to-secondary/5 rounded-lg border border-secondary/20 hover:bg-secondary/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Campaign Approvals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new campaigns need approval"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-secondary",checked:t.notifications.campaignApprovals,onChange:m=>d("notifications","campaignApprovals",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-accent/10 to-accent/5 rounded-lg border border-accent/20 hover:bg-accent/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"New Messages"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Alert when users send support messages"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:t.notifications.newMessages,onChange:m=>d("notifications","newMessages",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-info/10 to-info/5 rounded-lg border border-info/20 hover:bg-info/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Weekly Reports"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly summary reports"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-info",checked:t.notifications.weeklyReports,onChange:m=>d("notifications","weeklyReports",m.target.checked)})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(FO,{className:"text-2xl text-primary"}),a.jsx("h2",{className:"card-title text-gray-900",children:"Platform Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-warning/10 to-warning/5 rounded-lg border border-warning/20 hover:bg-warning/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable public access"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-warning",checked:t.platform.maintenanceMode,onChange:m=>d("platform","maintenanceMode",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-success/10 to-success/5 rounded-lg border border-success/20 hover:bg-success/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Allow New Registrations"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable new user and charity registrations"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-success",checked:t.platform.allowNewRegistrations,onChange:m=>d("platform","allowNewRegistrations",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20 hover:bg-primary/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Require Email Verification"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Users must verify email before access"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:t.platform.requireEmailVerification,onChange:m=>d("platform","requireEmailVerification",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-info/10 to-info/5 rounded-lg border border-info/20 hover:bg-info/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Auto-Approve Charities"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically approve new charity registrations"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-info",checked:t.platform.autoApproveCharities,onChange:m=>d("platform","autoApproveCharities",m.target.checked)})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Kf,{className:"text-2xl text-primary"}),a.jsx("h2",{className:"card-title text-gray-900",children:"Security Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Session Timeout (minutes)"})}),a.jsx("input",{type:"number",min:"5",max:"120",className:"input input-bordered  border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 w-full max-w-xs",value:t.security.sessionTimeout,onChange:m=>d("security","sessionTimeout",parseInt(m.target.value))})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-secondary/10 to-secondary/5 rounded-lg border border-secondary/20 hover:bg-secondary/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Require Strong Passwords"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enforce password complexity requirements"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-secondary",checked:t.security.requireStrongPasswords,onChange:m=>d("security","requireStrongPasswords",m.target.checked)})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-accent/10 to-accent/5 rounded-lg border border-accent/20 hover:bg-accent/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Require 2FA for admin accounts"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:t.security.twoFactorAuth,onChange:m=>d("security","twoFactorAuth",m.target.checked)})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-white via-primary/10 to-secondary/10 shadow-xl border-2 border-primary/20",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(QO,{className:"text-2xl text-primary"}),a.jsx("h2",{className:"card-title text-gray-900",children:"Appearance Settings"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text font-semibold text-gray-900",children:"Theme"})}),a.jsxs("select",{className:"select select-bordered  border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary text-gray-900 w-full max-w-xs",value:t.appearance.theme,onChange:m=>d("appearance","theme",m.target.value),children:[a.jsx("option",{value:"night",children:"Night"}),a.jsx("option",{value:"light",children:"Light"}),a.jsx("option",{value:"dark",children:"Dark"})]})]}),a.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-4 bg-gradient-to-r from-secondary/10 to-secondary/5 rounded-lg border border-secondary/20 hover:bg-secondary/15 transition-all",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Show Banner"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Display announcement banner on homepage"})]}),a.jsx("input",{type:"checkbox",className:"toggle toggle-secondary",checked:t.appearance.showBanner,onChange:m=>d("appearance","showBanner",m.target.checked)})]})]})]})}),a.jsx("div",{className:"card bg-gradient-to-br from-info/20 via-primary/10 to-info/20 shadow-xl border-2 border-info/30",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ju,{className:"text-2xl text-info mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white mb-2",children:"About Settings"}),a.jsx("p",{className:"text-sm  leading-relaxed",children:"These settings control the behavior and appearance of the platform. Changes take effect immediately after saving. Some settings may require a page refresh to see the changes."})]})]})})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{className:"btn btn-primary btn-lg shadow-lg hover:shadow-xl",onClick:f,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading loading-spinner"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(NE,{}),"Save All Settings"]})})})]})]})},FM=p6([{path:"/",element:a.jsx(aP,{}),children:[{path:"/",element:a.jsx(LP,{})},{path:"/login",element:a.jsx(oM,{})},{path:"/signup",element:a.jsx(uM,{})},{path:"/campaigns",element:a.jsx(dM,{})},{path:"/campaigns/:id",element:a.jsx(hM,{})},{path:"/campaigns/:id/donate",element:a.jsx(Yt,{children:a.jsx(fM,{})})},{path:"/campaigns/create",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(mM,{})})},{path:"/charities",element:a.jsx(pM,{})},{path:"/charities/:id",element:a.jsx(yM,{})},{path:"/charities/register",element:a.jsx(xM,{})},{path:"/about",element:a.jsx(MM,{})},{path:"/contact",element:a.jsx(kM,{})},{path:"/profile",element:a.jsx(Yt,{children:a.jsx(nf,{})})},{path:"/dashboard",element:a.jsx(Yt,{children:a.jsx(iP,{})}),children:[{index:!0,element:a.jsx(IM,{})},{path:"/dashboard/charity",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(SM,{})})},{path:"/dashboard/charity/campaigns",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(OM,{})})},{path:"/dashboard/charity/campaigns/create",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(PM,{})})},{path:"/dashboard/charity/reviews",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(z_,{})})},{path:"/dashboard/charity/profile",element:a.jsx(Yt,{requiredRole:"charity",children:a.jsx(nf,{})})},{path:"/dashboard/admin",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(TM,{})})},{path:"/dashboard/admin/users",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(VM,{})})},{path:"/dashboard/admin/charities",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(UM,{})})},{path:"/dashboard/admin/campaigns",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(AM,{})})},{path:"/dashboard/admin/campaigns/archived",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(RM,{})})},{path:"/dashboard/admin/messages",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(DM,{})})},{path:"/dashboard/admin/settings",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(zM,{})})},{path:"/dashboard/admin/profile",element:a.jsx(Yt,{requiredRole:"admin",children:a.jsx(nf,{})})},{path:"/dashboard/donor",element:a.jsx(Yt,{requiredRole:"donor",children:a.jsx(NM,{})})},{path:"/dashboard/donor/donations",element:a.jsx(Yt,{requiredRole:"donor",children:a.jsx(jM,{})})},{path:"/dashboard/donor/saved",element:a.jsx(Yt,{requiredRole:"donor",children:a.jsx(EM,{})})},{path:"/dashboard/donor/reviews",element:a.jsx(Yt,{requiredRole:"donor",children:a.jsx(z_,{})})},{path:"/dashboard/donor/profile",element:a.jsx(Yt,{requiredRole:"donor",children:a.jsx(nf,{})})}]},{path:"*",element:a.jsx(LM,{})}]}],{basename:"/"}),BM=new tA({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function HM(){return a.jsx(TN,{children:a.jsx(rA,{client:BM,children:a.jsx(pE,{children:a.jsx(R6,{router:FM})})})})}xS.createRoot(document.getElementById("root")).render(a.jsx(F.StrictMode,{children:a.jsx(pE,{children:a.jsx(HM,{})})}));
